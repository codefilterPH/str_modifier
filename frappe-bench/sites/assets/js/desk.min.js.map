{"version":3,"file":"desk.min.js","sources":["../../../apps/frappe/frappe/public/js/frappe/provide.js","../../../apps/frappe/frappe/public/js/frappe/translate.js","../../../apps/frappe/frappe/public/js/frappe/class.js","../../../apps/frappe/frappe/public/js/frappe/format.js","../../../apps/frappe/frappe/public/js/frappe/polyfill.js","../../../apps/frappe/frappe/public/js/frappe/assets.js","../../../apps/frappe/frappe/public/js/frappe/form/formatters.js","../../../apps/frappe/frappe/public/js/frappe/dom.js","../../../apps/frappe/frappe/public/js/frappe/form/layout.js","../../../apps/frappe/frappe/public/js/frappe/ui/field_group.js","../../../apps/frappe/frappe/public/js/frappe/ui/dialog.js","../../../apps/frappe/frappe/public/js/frappe/ui/messages.js","../../../apps/frappe/frappe/public/js/frappe/ui/alt_keyboard_shortcuts.js","../../../apps/frappe/frappe/public/js/frappe/ui/keyboard.js","../../../apps/frappe/frappe/public/js/frappe/ui/colors.js","../../../apps/frappe/frappe/public/js/frappe/ui/sidebar.js","../../../apps/frappe/frappe/public/js/frappe/ui/link_preview.js","../../../apps/frappe/frappe/public/js/frappe/request.js","../../../apps/frappe/frappe/public/js/frappe/socketio_client.js","../../../apps/frappe/node_modules/fast-deep-equal/index.js","../../../apps/frappe/node_modules/lodash/_listCacheClear.js","../../../apps/frappe/node_modules/lodash/eq.js","../../../apps/frappe/node_modules/lodash/_assocIndexOf.js","../../../apps/frappe/node_modules/lodash/_listCacheDelete.js","../../../apps/frappe/node_modules/lodash/_listCacheGet.js","../../../apps/frappe/node_modules/lodash/_listCacheHas.js","../../../apps/frappe/node_modules/lodash/_listCacheSet.js","../../../apps/frappe/node_modules/lodash/_ListCache.js","../../../apps/frappe/node_modules/lodash/_stackClear.js","../../../apps/frappe/node_modules/lodash/_stackDelete.js","../../../apps/frappe/node_modules/lodash/_stackGet.js","../../../apps/frappe/node_modules/lodash/_stackHas.js","../../../apps/frappe/node_modules/lodash/_freeGlobal.js","../../../apps/frappe/node_modules/lodash/_root.js","../../../apps/frappe/node_modules/lodash/_Symbol.js","../../../apps/frappe/node_modules/lodash/_getRawTag.js","../../../apps/frappe/node_modules/lodash/_objectToString.js","../../../apps/frappe/node_modules/lodash/_baseGetTag.js","../../../apps/frappe/node_modules/lodash/isObject.js","../../../apps/frappe/node_modules/lodash/isFunction.js","../../../apps/frappe/node_modules/lodash/_coreJsData.js","../../../apps/frappe/node_modules/lodash/_isMasked.js","../../../apps/frappe/node_modules/lodash/_toSource.js","../../../apps/frappe/node_modules/lodash/_baseIsNative.js","../../../apps/frappe/node_modules/lodash/_getValue.js","../../../apps/frappe/node_modules/lodash/_getNative.js","../../../apps/frappe/node_modules/lodash/_Map.js","../../../apps/frappe/node_modules/lodash/_nativeCreate.js","../../../apps/frappe/node_modules/lodash/_hashClear.js","../../../apps/frappe/node_modules/lodash/_hashDelete.js","../../../apps/frappe/node_modules/lodash/_hashGet.js","../../../apps/frappe/node_modules/lodash/_hashHas.js","../../../apps/frappe/node_modules/lodash/_hashSet.js","../../../apps/frappe/node_modules/lodash/_Hash.js","../../../apps/frappe/node_modules/lodash/_mapCacheClear.js","../../../apps/frappe/node_modules/lodash/_isKeyable.js","../../../apps/frappe/node_modules/lodash/_getMapData.js","../../../apps/frappe/node_modules/lodash/_mapCacheDelete.js","../../../apps/frappe/node_modules/lodash/_mapCacheGet.js","../../../apps/frappe/node_modules/lodash/_mapCacheHas.js","../../../apps/frappe/node_modules/lodash/_mapCacheSet.js","../../../apps/frappe/node_modules/lodash/_MapCache.js","../../../apps/frappe/node_modules/lodash/_stackSet.js","../../../apps/frappe/node_modules/lodash/_Stack.js","../../../apps/frappe/node_modules/lodash/_arrayEach.js","../../../apps/frappe/node_modules/lodash/_defineProperty.js","../../../apps/frappe/node_modules/lodash/_baseAssignValue.js","../../../apps/frappe/node_modules/lodash/_assignValue.js","../../../apps/frappe/node_modules/lodash/_copyObject.js","../../../apps/frappe/node_modules/lodash/_baseTimes.js","../../../apps/frappe/node_modules/lodash/isObjectLike.js","../../../apps/frappe/node_modules/lodash/_baseIsArguments.js","../../../apps/frappe/node_modules/lodash/isArguments.js","../../../apps/frappe/node_modules/lodash/isArray.js","../../../apps/frappe/node_modules/lodash/stubFalse.js","../../../apps/frappe/node_modules/lodash/isBuffer.js","../../../apps/frappe/node_modules/lodash/_isIndex.js","../../../apps/frappe/node_modules/lodash/isLength.js","../../../apps/frappe/node_modules/lodash/_baseIsTypedArray.js","../../../apps/frappe/node_modules/lodash/_baseUnary.js","../../../apps/frappe/node_modules/lodash/_nodeUtil.js","../../../apps/frappe/node_modules/lodash/isTypedArray.js","../../../apps/frappe/node_modules/lodash/_arrayLikeKeys.js","../../../apps/frappe/node_modules/lodash/_isPrototype.js","../../../apps/frappe/node_modules/lodash/_overArg.js","../../../apps/frappe/node_modules/lodash/_nativeKeys.js","../../../apps/frappe/node_modules/lodash/_baseKeys.js","../../../apps/frappe/node_modules/lodash/isArrayLike.js","../../../apps/frappe/node_modules/lodash/keys.js","../../../apps/frappe/node_modules/lodash/_baseAssign.js","../../../apps/frappe/node_modules/lodash/_nativeKeysIn.js","../../../apps/frappe/node_modules/lodash/_baseKeysIn.js","../../../apps/frappe/node_modules/lodash/keysIn.js","../../../apps/frappe/node_modules/lodash/_baseAssignIn.js","../../../apps/frappe/node_modules/lodash/_cloneBuffer.js","../../../apps/frappe/node_modules/lodash/_copyArray.js","../../../apps/frappe/node_modules/lodash/_arrayFilter.js","../../../apps/frappe/node_modules/lodash/stubArray.js","../../../apps/frappe/node_modules/lodash/_getSymbols.js","../../../apps/frappe/node_modules/lodash/_copySymbols.js","../../../apps/frappe/node_modules/lodash/_arrayPush.js","../../../apps/frappe/node_modules/lodash/_getPrototype.js","../../../apps/frappe/node_modules/lodash/_getSymbolsIn.js","../../../apps/frappe/node_modules/lodash/_copySymbolsIn.js","../../../apps/frappe/node_modules/lodash/_baseGetAllKeys.js","../../../apps/frappe/node_modules/lodash/_getAllKeys.js","../../../apps/frappe/node_modules/lodash/_getAllKeysIn.js","../../../apps/frappe/node_modules/lodash/_DataView.js","../../../apps/frappe/node_modules/lodash/_Promise.js","../../../apps/frappe/node_modules/lodash/_Set.js","../../../apps/frappe/node_modules/lodash/_WeakMap.js","../../../apps/frappe/node_modules/lodash/_getTag.js","../../../apps/frappe/node_modules/lodash/_initCloneArray.js","../../../apps/frappe/node_modules/lodash/_Uint8Array.js","../../../apps/frappe/node_modules/lodash/_cloneArrayBuffer.js","../../../apps/frappe/node_modules/lodash/_cloneDataView.js","../../../apps/frappe/node_modules/lodash/_cloneRegExp.js","../../../apps/frappe/node_modules/lodash/_cloneSymbol.js","../../../apps/frappe/node_modules/lodash/_cloneTypedArray.js","../../../apps/frappe/node_modules/lodash/_initCloneByTag.js","../../../apps/frappe/node_modules/lodash/_baseCreate.js","../../../apps/frappe/node_modules/lodash/_initCloneObject.js","../../../apps/frappe/node_modules/lodash/_baseIsMap.js","../../../apps/frappe/node_modules/lodash/isMap.js","../../../apps/frappe/node_modules/lodash/_baseIsSet.js","../../../apps/frappe/node_modules/lodash/isSet.js","../../../apps/frappe/node_modules/lodash/_baseClone.js","../../../apps/frappe/node_modules/lodash/cloneDeepWith.js","../../../apps/frappe/frappe/public/js/frappe/utils/utils.js","../../../apps/frappe/frappe/public/js/frappe/event_emitter.js","../../../apps/frappe/frappe/public/js/frappe/router.js","../../../apps/frappe/frappe/public/js/frappe/router_history.js","../../../apps/frappe/frappe/public/js/frappe/ui/capture.js","../../../apps/frappe/frappe/public/js/frappe/utils/pretty_date.js","../../../apps/frappe/frappe/public/js/frappe/defaults.js","../../../apps/frappe/frappe/public/js/frappe/roles_editor.js","../../../apps/frappe/frappe/public/js/frappe/module_editor.js","../../../apps/frappe/frappe/public/js/frappe/microtemplate.js","../../../apps/frappe/frappe/public/js/frappe/ui/page.js","../../../apps/frappe/frappe/public/js/frappe/ui/slides.js","../../../apps/frappe/frappe/public/js/frappe/ui/find.js","../../../apps/frappe/frappe/public/js/frappe/ui/iconbar.js","../../../apps/frappe/frappe/public/js/frappe/form/link_selector.js","../../../apps/frappe/frappe/public/js/frappe/form/multi_select_dialog.js","../../../apps/frappe/frappe/public/js/frappe/ui/app_icon.js","../../../apps/frappe/frappe/public/js/frappe/ui/theme_switcher.js","../../../apps/frappe/frappe/public/js/frappe/model/model.js","../../../apps/frappe/frappe/public/js/frappe/db.js","../../../apps/frappe/frappe/public/js/frappe/model/meta.js","../../../apps/frappe/frappe/public/js/frappe/model/sync.js","../../../apps/frappe/frappe/public/js/frappe/model/create_new.js","../../../apps/frappe/frappe/public/js/frappe/model/perm.js","../../../apps/frappe/frappe/public/js/frappe/model/workflow.js","../../../apps/frappe/frappe/public/js/frappe/model/user_settings.js","../../../apps/frappe/frappe/public/js/lib/md5.min.js","../../../apps/frappe/frappe/public/js/frappe/utils/user.js","../../../apps/frappe/frappe/public/js/frappe/utils/common.js","../../../apps/frappe/frappe/public/js/frappe/utils/urllib.js","../../../apps/frappe/node_modules/showdown/dist/showdown.js","../../../apps/frappe/frappe/public/js/frappe/utils/number_format.js","../../../apps/frappe/frappe/public/js/frappe/utils/tools.js","../../../apps/frappe/frappe/public/js/frappe/utils/datetime.js","../../../apps/frappe/frappe/public/js/frappe/utils/datatype.js","../../../apps/frappe/frappe/public/js/frappe/utils/help.js","../../../apps/frappe/frappe/public/js/frappe/utils/help_links.js","../../../apps/frappe/frappe/public/js/frappe/utils/address_and_contact.js","../../../apps/frappe/frappe/public/js/frappe/utils/preview_email.js","../../../apps/frappe/frappe/public/js/frappe/utils/file_manager.js","../../../apps/frappe/frappe/public/js/frappe/file_uploader/ProgressRing.vue?rollup-plugin-vue=script.js","../../../apps/frappe/frappe/public/js/frappe/file_uploader/FilePreview.vue?rollup-plugin-vue=script.js","../../../apps/frappe/frappe/public/js/frappe/file_uploader/TreeNode.vue?rollup-plugin-vue=script.js","../../../apps/frappe/frappe/public/js/frappe/file_uploader/FileBrowser.vue?rollup-plugin-vue=script.js","../../../apps/frappe/frappe/public/js/frappe/file_uploader/WebLink.vue?rollup-plugin-vue=script.js","../../../apps/frappe/frappe/public/js/integrations/google_drive_picker.js","../../../apps/frappe/frappe/public/js/frappe/file_uploader/FileUploader.vue?rollup-plugin-vue=script.js","../../../apps/frappe/frappe/public/js/frappe/file_uploader/index.js","../../../apps/frappe/frappe/public/js/frappe/upload.js","../../../apps/frappe/frappe/public/js/frappe/ui/tree.js","../../../apps/frappe/frappe/public/js/frappe/views/container.js","../../../apps/frappe/frappe/public/js/frappe/views/breadcrumbs.js","../../../apps/frappe/frappe/public/js/frappe/views/factory.js","../../../apps/frappe/frappe/public/js/frappe/views/pageview.js","../../../apps/frappe/frappe/public/js/frappe/ui/toolbar/awesome_bar.js","../../../apps/frappe/frappe/public/js/frappe/ui/notifications/notifications.js","../../../apps/frappe/frappe/public/js/frappe/ui/toolbar/search.js","../../../apps/frappe/frappe/public/js/frappe/ui/toolbar/tag_utils.js","../../../apps/frappe/frappe/public/js/frappe/ui/toolbar/search_utils.js","../../../apps/frappe/frappe/public/js/frappe/ui/toolbar/about.js","../../../apps/frappe/frappe/public/js/frappe/ui/toolbar/toolbar.js","../../../apps/frappe/frappe/public/js/frappe/views/communication.js","../../../apps/frappe/frappe/public/js/frappe/views/translation_manager.js","../../../apps/frappe/frappe/public/js/frappe/views/workspace/workspace.js","../../../apps/frappe/frappe/public/js/frappe/widgets/widget_dialog.js","../../../apps/frappe/frappe/public/js/frappe/widgets/base_widget.js","../../../apps/frappe/frappe/public/js/frappe/widgets/chart_widget.js","../../../apps/frappe/frappe/public/js/frappe/widgets/shortcut_widget.js","../../../apps/frappe/frappe/public/js/frappe/widgets/links_widget.js","../../../apps/frappe/frappe/public/js/frappe/widgets/onboarding_widget.js","../../../apps/frappe/frappe/public/js/frappe/widgets/new_widget.js","../../../apps/frappe/frappe/public/js/frappe/widgets/number_card_widget.js","../../../apps/frappe/frappe/public/js/frappe/widgets/widget_group.js","../../../apps/frappe/frappe/public/js/frappe/query_string.js","../../../apps/frappe/node_modules/frappe-charts/dist/frappe-charts.esm.js","../../../apps/frappe/frappe/public/js/frappe/ui/sort_selector.js","../../../apps/frappe/frappe/public/js/frappe/desk.js","../../../apps/frappe/frappe/public/js/frappe/utils/energy_point_utils.js","../../../apps/frappe/frappe/public/js/frappe/utils/dashboard_utils.js","../../../apps/frappe/frappe/public/js/frappe/ui/chart.js","../../../apps/frappe/node_modules/sortablejs/Sortable.js","../../../apps/frappe/node_modules/frappe-datatable/dist/frappe-datatable.cjs.js","../../../apps/frappe/frappe/public/js/frappe/ui/datatable.js","../../../apps/frappe/frappe/public/js/frappe/utils/datatable.js","../../../apps/frappe/node_modules/driver.js/dist/driver.min.js","../../../apps/frappe/frappe/public/js/frappe/ui/driver.js","../../../apps/frappe/node_modules/plyr/dist/plyr.polyfilled.mjs","../../../apps/frappe/frappe/public/js/frappe/ui/plyr.js","../../../apps/frappe/frappe/public/js/frappe/barcode_scanner/index.js","../../../apps/frappe/frappe/public/js/frappe/scanner/index.js"],"sourcesContent":["// Copyright (c) 2015, Frappe Technologies Pvt. Ltd. and Contributors\n// MIT License. See license.txt\n\n// provide a namespace\nif(!window.frappe)\n\twindow.frappe = {};\n\nfrappe.provide = function(namespace) {\n\t// docs: create a namespace //\n\tvar nsl = namespace.split('.');\n\tvar parent = window;\n\tfor(var i=0; i<nsl.length; i++) {\n\t\tvar n = nsl[i];\n\t\tif(!parent[n]) {\n\t\t\tparent[n] = {}\n\t\t}\n\t\tparent = parent[n];\n\t}\n\treturn parent;\n}\n\nfrappe.provide(\"locals\");\nfrappe.provide(\"frappe.flags\");\nfrappe.provide(\"frappe.settings\");\nfrappe.provide(\"frappe.utils\");\nfrappe.provide(\"frappe.ui.form\");\nfrappe.provide(\"frappe.modules\");\nfrappe.provide(\"frappe.templates\");\nfrappe.provide(\"frappe.test_data\");\nfrappe.provide('frappe.utils');\nfrappe.provide('frappe.model');\nfrappe.provide('frappe.user');\nfrappe.provide('frappe.session');\nfrappe.provide(\"frappe._messages\");\nfrappe.provide('locals.DocType');\n\n// for listviews\nfrappe.provide(\"frappe.listview_settings\");\nfrappe.provide(\"frappe.tour\");\nfrappe.provide(\"frappe.listview_parent_route\");\n\n// constants\nwindow.NEWLINE = '\\n';\nwindow.TAB = 9;\nwindow.UP_ARROW = 38;\nwindow.DOWN_ARROW = 40;\n\n// proxy for user globals defined in desk.js\n\n// API globals\nwindow.cur_frm=null;\n","// Copyright (c) 2015, Frappe Technologies Pvt. Ltd. and Contributors\n// MIT License. See license.txt\n\n// for translation\nfrappe._ = function(txt, replace, context = null) {\n\tif (!txt) return txt;\n\tif (typeof txt != \"string\") return txt;\n\n\tlet translated_text = '';\n\n\tlet key = txt;    // txt.replace(/\\n/g, \"\");\n\tif (context) {\n\t\ttranslated_text = frappe._messages[`${key}:${context}`];\n\t}\n\n\tif (!translated_text) {\n\t\ttranslated_text = frappe._messages[key] || txt;\n\t}\n\n\tif (replace && typeof replace === \"object\") {\n\t\ttranslated_text = $.format(translated_text, replace);\n\t}\n\treturn translated_text;\n};\n\nwindow.__ = frappe._;\n\nfrappe.get_languages = function() {\n\tif (!frappe.languages) {\n\t\tfrappe.languages = [];\n\t\t$.each(frappe.boot.lang_dict, function(lang, value) {\n\t\t\tfrappe.languages.push({ label: lang, value: value });\n\t\t});\n\t\tfrappe.languages = frappe.languages.sort(function(a, b) {\n\t\t\treturn a.value < b.value ? -1 : 1;\n\t\t});\n\t}\n\treturn frappe.languages;\n};\n","// Copyright (c) 2015, Frappe Technologies Pvt. Ltd. and Contributors\n// MIT License. See license.txt\n\n/*\n\nInheritence \"Class\"\n-------------------\nsee: http://ejohn.org/blog/simple-javascript-inheritance/\nTo subclass, use:\n\n\tvar MyClass = Class.extend({\n\t\tinit: function\n\t})\n\n*/\n// https://stackoverflow.com/a/15052240/5353542\n\n/* Simple JavaScript Inheritance for ES 5.1\n * based on http://ejohn.org/blog/simple-javascript-inheritance/\n *  (inspired by base2 and Prototype)\n * MIT Licensed.\n */\n(function(global) {\n\t\"use strict\";\n\tvar fnTest = /xyz/.test(function(){xyz;}) ? /\\b_super\\b/ : /.*/;\n\n\t// The base Class implementation (does nothing)\n\tfunction Class(){}\n\n\t// Create a new Class that inherits from this class\n\tClass.extend = function(props) {\n\t  var _super = this.prototype;\n\n\t  // Set up the prototype to inherit from the base class\n\t  // (but without running the init constructor)\n\t  var proto = Object.create(_super);\n\n\t  // Copy the properties over onto the new prototype\n\t  for (var name in props) {\n\t\t// Check if we're overwriting an existing function\n\t\tproto[name] = typeof props[name] === \"function\" &&\n\t\t  typeof _super[name] == \"function\" && fnTest.test(props[name])\n\t\t  ? (function(name, fn){\n\t\t\t  return function() {\n\t\t\t\tvar tmp = this._super;\n\n\t\t\t\t// Add a new ._super() method that is the same method\n\t\t\t\t// but on the super-class\n\t\t\t\tthis._super = _super[name];\n\n\t\t\t\t// The method only need to be bound temporarily, so we\n\t\t\t\t// remove it when we're done executing\n\t\t\t\tvar ret = fn.apply(this, arguments);\n\t\t\t\tthis._super = tmp;\n\n\t\t\t\treturn ret;\n\t\t\t  };\n\t\t\t})(name, props[name])\n\t\t  : props[name];\n\t  }\n\n\t  // The new constructor\n\t  var newClass = typeof proto.init === \"function\"\n\t\t? proto.hasOwnProperty(\"init\")\n\t\t  ? proto.init // All construction is actually done in the init method\n\t\t  : function SubClass(){ _super.init.apply(this, arguments); }\n\t\t: function EmptyClass(){};\n\n\t  // Populate our constructed prototype object\n\t  newClass.prototype = proto;\n\n\t  // Enforce the constructor to be what we expect\n\t  proto.constructor = newClass;\n\n\t  // And make this class extendable\n\t  newClass.extend = Class.extend;\n\n\t  return newClass;\n\t};\n\n\t// export\n\tglobal.Class = Class;\n  })(this);","function format (str, args) {\n\tif(str==undefined) return str;\n\n\tthis.unkeyed_index = 0;\n\treturn str.replace(/\\{(\\w*)\\}/g, function(match, key) {\n\n\t\tif (key === '') {\n\t\t\tkey = this.unkeyed_index;\n\t\t\tthis.unkeyed_index++\n\t\t}\n\t\tif (key == +key) {\n\t\t\treturn args[key] !== undefined\n\t\t\t\t? args[key]\n\t\t\t\t: match;\n\t\t}\n\t}.bind(this));\n}\n\nif (jQuery) {\n\tjQuery.format = format\n}\n","// String.prototype.includes polyfill\n// https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/String/includes\nif (!String.prototype.includes) {\n\tString.prototype.includes = function(search, start) {\n\t\t'use strict';\n\t\tif (typeof start !== 'number') {\n\t\t\tstart = 0;\n\t\t}\n\t\tif (start + search.length > this.length) {\n\t\t\treturn false;\n\t\t} else {\n\t\t\treturn this.indexOf(search, start) !== -1;\n\t\t}\n\t};\n}\n// Array.prototype.includes polyfill\n// https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Array/includes\nif (!Array.prototype.includes) {\n\tObject.defineProperty(Array.prototype, 'includes', {\n\t\tvalue: function(searchElement, fromIndex) {\n\t\t\tif (this == null) {\n\t\t\t\tthrow new TypeError('\"this\" is null or not defined');\n\t\t\t}\n\t\t\tvar o = Object(this);\n\t\t\tvar len = o.length >>> 0;\n\t\t\tif (len === 0) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tvar n = fromIndex | 0;\n\t\t\tvar k = Math.max(n >= 0 ? n : len - Math.abs(n), 0);\n\t\t\twhile (k < len) {\n\t\t\t\tif (o[k] === searchElement) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t\tk++;\n\t\t\t}\n\t\t\treturn false;\n\t\t}\n\t});\n}\n\n\nif (typeof String.prototype.trimLeft !== \"function\") {\n\tString.prototype.trimLeft = function() {\n\t\treturn this.replace(/^\\s+/, \"\");\n\t};\n}\nif (typeof String.prototype.trimRight !== \"function\") {\n\tString.prototype.trimRight = function() {\n\t\treturn this.replace(/\\s+$/, \"\");\n\t};\n}\n\n// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/assign\nif (typeof Object.assign != 'function') {\n\t// Must be writable: true, enumerable: false, configurable: true\n\tObject.defineProperty(Object, \"assign\", {\n\t\tvalue: function assign(target) { // .length of function is 2\n\t\t\t'use strict';\n\t\t\tif (target == null) { // TypeError if undefined or null\n\t\t\t\tthrow new TypeError('Cannot convert undefined or null to object');\n\t\t\t}\n\n\t\t\tvar to = Object(target);\n\n\t\t\tfor (var index = 1; index < arguments.length; index++) {\n\t\t\t\tvar nextSource = arguments[index];\n\n\t\t\t\tif (nextSource != null) { // Skip over if undefined or null\n\t\t\t\t\tfor (var nextKey in nextSource) {\n\t\t\t\t\t\t// Avoid bugs when hasOwnProperty is shadowed\n\t\t\t\t\t\tif (Object.prototype.hasOwnProperty.call(nextSource, nextKey)) {\n\t\t\t\t\t\t\tto[nextKey] = nextSource[nextKey];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn to;\n\t\t},\n\t\twritable: true,\n\t\tconfigurable: true\n\t});\n}\n","// Copyright (c) 2015, Frappe Technologies Pvt. Ltd. and Contributors\n// MIT License. See license.txt\n\n// library to mange assets (js, css, models, html) etc in the app.\n// will try and get from localStorage if latest are available\n// depends on frappe.versions to manage versioning\n\nfrappe.require = function(items, callback) {\n\tif(typeof items === \"string\") {\n\t\titems = [items];\n\t}\n\treturn new Promise(resolve => {\n\t\tfrappe.assets.execute(items, () => {\n\t\t\tresolve();\n\t\t\tcallback && callback();\n\t\t});\n\t});\n};\n\nfrappe.assets = {\n\tcheck: function() {\n\t\t// if version is different then clear localstorage\n\t\tif(window._version_number != localStorage.getItem(\"_version_number\")) {\n\t\t\tfrappe.assets.clear_local_storage();\n\t\t\tconsole.log(\"Cleared App Cache.\");\n\t\t}\n\n\t\tif(localStorage._last_load) {\n\t\t\tvar not_updated_since = new Date() - new Date(localStorage._last_load);\n\t\t\tif(not_updated_since < 10000 || not_updated_since > 86400000) {\n\t\t\t\tfrappe.assets.clear_local_storage();\n\t\t\t}\n\t\t} else {\n\t\t\tfrappe.assets.clear_local_storage();\n\t\t}\n\n\t\tfrappe.assets.init_local_storage();\n\t},\n\n\tinit_local_storage: function() {\n\t\tlocalStorage._last_load = new Date();\n\t\tlocalStorage._version_number = window._version_number;\n\t\tif(frappe.boot) localStorage.metadata_version = frappe.boot.metadata_version;\n\t},\n\n\tclear_local_storage: function() {\n\t\t$.each([\"_last_load\", \"_version_number\", \"metadata_version\", \"page_info\",\n\t\t\t\"last_visited\"], function(i, key) {\n\t\t\tlocalStorage.removeItem(key);\n\t\t});\n\n\t\t// clear assets\n\t\tfor(var key in localStorage) {\n\t\t\tif(key.indexOf(\"desk_assets:\")===0 || key.indexOf(\"_page:\")===0\n\t\t\t\t|| key.indexOf(\"_doctype:\")===0 || key.indexOf(\"preferred_breadcrumbs:\")===0) {\n\t\t\t\tlocalStorage.removeItem(key);\n\t\t\t}\n\t\t}\n\t\tconsole.log(\"localStorage cleared\");\n\t},\n\n\n\t// keep track of executed assets\n\texecuted_ : [],\n\n\t// pass on to the handler to set\n\texecute: function(items, callback) {\n\t\tvar to_fetch = []\n\t\tfor(var i=0, l=items.length; i<l; i++) {\n\t\t\tif(!frappe.assets.exists(items[i])) {\n\t\t\t\tto_fetch.push(items[i]);\n\t\t\t}\n\t\t}\n\t\tif(to_fetch.length) {\n\t\t\tfrappe.assets.fetch(to_fetch, function() {\n\t\t\t\tfrappe.assets.eval_assets(items, callback);\n\t\t\t});\n\t\t} else {\n\t\t\tfrappe.assets.eval_assets(items, callback);\n\t\t}\n\t},\n\n\teval_assets: function(items, callback) {\n\t\tfor(var i=0, l=items.length; i<l; i++) {\n\t\t\t// execute js/css if not already.\n\t\t\tvar path = items[i];\n\t\t\tif(frappe.assets.executed_.indexOf(path)===-1) {\n\t\t\t\t// execute\n\t\t\t\tfrappe.assets.handler[frappe.assets.extn(path)](frappe.assets.get(path), path);\n\t\t\t\tfrappe.assets.executed_.push(path)\n\t\t\t}\n\t\t}\n\t\tcallback && callback();\n\t},\n\n\t// check if the asset exists in\n\t// localstorage\n\texists: function(src) {\n\t\tif(frappe.assets.executed_.indexOf(src)!== -1) {\n\t\t\treturn true;\n\t\t}\n\t\tif(frappe.boot.developer_mode) {\n\t\t\treturn false;\n\t\t}\n\t\tif(frappe.assets.get(src)) {\n\t\t\treturn true;\n\t\t} else {\n\t\t\treturn false;\n\t\t}\n\t},\n\n\t// load an asset via\n\tfetch: function(items, callback) {\n\t\t// this is virtual page load, only get the the source\n\t\t// *without* the template\n\n\t\tfrappe.call({\n\t\t\ttype: \"GET\",\n\t\t\tmethod:\"frappe.client.get_js\",\n\t\t\targs: {\n\t\t\t\t\"items\": items\n\t\t\t},\n\t\t\tcallback: function(r) {\n\t\t\t\t$.each(items, function(i, src) {\n\t\t\t\t\tfrappe.assets.add(src, r.message[i]);\n\t\t\t\t});\n\t\t\t\tcallback();\n\t\t\t},\n\t\t\tfreeze: true,\n\t\t});\n\t},\n\n\tadd: function(src, txt) {\n\t\tif('localStorage' in window) {\n\t\t\ttry {\n\t\t\t\tfrappe.assets.set(src, txt);\n\t\t\t} catch(e) {\n\t\t\t\t// if quota is exceeded, clear local storage and set item\n\t\t\t\tfrappe.assets.clear_local_storage();\n\t\t\t\tfrappe.assets.set(src, txt);\n\t\t\t}\n\t\t}\n\t},\n\n\tget: function(src) {\n\t\treturn localStorage.getItem(\"desk_assets:\" + src);\n\t},\n\n\tset: function(src, txt) {\n\t\tlocalStorage.setItem(\"desk_assets:\" + src, txt);\n\t},\n\n\textn: function(src) {\n\t\tif(src.indexOf('?')!=-1) {\n\t\t\tsrc = src.split('?').slice(-1)[0];\n\t\t}\n\t\treturn src.split('.').slice(-1)[0];\n\t},\n\n\thandler: {\n\t\tjs: function(txt, src) {\n\t\t\tfrappe.dom.eval(txt);\n\t\t},\n\t\tcss: function(txt, src) {\n\t\t\tfrappe.dom.set_style(txt);\n\t\t}\n\t},\n\n\tinclude_style(file, base_url, is_rtl=null) {\n\t\tlet path = `${base_url}/assets/css/${file}`;\n\t\tif (is_rtl) {\n\t\t\tpath = `${base_url}/assets/css-rtl/${file}`;\n\t\t}\n\t\treturn `<link href=\"${path}\" rel=\"stylesheet\">`;\n\t}\n};\n","// Copyright (c) 2015, Frappe Technologies Pvt. Ltd. and Contributors\n// MIT License. See license.txt\n\n// for license information please see license.txt\n\nfrappe.provide(\"frappe.form.formatters\");\n\nfrappe.form.link_formatters = {};\n\nfrappe.form.formatters = {\n\t_right: function(value, options) {\n\t\tif(options && (options.inline || options.only_value)) {\n\t\t\treturn value;\n\t\t} else {\n\t\t\treturn \"<div style='text-align: right'>\" + value + \"</div>\";\n\t\t}\n\t},\n\tData: function(value, df) {\n\t\tif (df && df.options == \"URL\") {\n\t\t\treturn `<a href=\"${value}\" title=\"Open Link\" target=\"_blank\">${value}</a>`;\n\t\t}\n\t\treturn value==null ? \"\" : value;\n\t},\n\tSelect: function(value) {\n\t\treturn __(frappe.form.formatters[\"Data\"](value));\n\t},\n\tFloat: function(value, docfield, options, doc) {\n\t\t// don't allow 0 precision for Floats, hence or'ing with null\n\t\tvar precision = docfield.precision\n\t\t\t|| cint(frappe.boot.sysdefaults && frappe.boot.sysdefaults.float_precision)\n\t\t\t|| null;\n\t\tif (docfield.options && docfield.options.trim()) {\n\t\t\t// options points to a currency field, but expects precision of float!\n\t\t\tdocfield.precision = precision;\n\t\t\treturn frappe.form.formatters.Currency(value, docfield, options, doc);\n\n\t\t} else {\n\t\t\t// show 1.000000 as 1\n\t\t\tif (!(options || {}).always_show_decimals && !is_null(value)) {\n\t\t\t\tvar temp = cstr(value).split(\".\");\n\t\t\t\tif (temp[1]==undefined || cint(temp[1])===0) {\n\t\t\t\t\tprecision = 0;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn frappe.form.formatters._right(\n\t\t\t\t((value==null || value===\"\")\n\t\t\t\t\t? \"\"\n\t\t\t\t\t: format_number(value, null, precision)), options);\n\t\t}\n\t},\n\tInt: function(value, docfield, options) {\n\t\treturn frappe.form.formatters._right(value==null ? \"\" : cint(value), options)\n\t},\n\tPercent: function(value, docfield, options) {\n\t\tconst precision = (\n\t\t\tdocfield.precision\n\t\t\t|| cint(\n\t\t\t\tfrappe.boot.sysdefaults\n\t\t\t\t&& frappe.boot.sysdefaults.float_precision\n\t\t\t)\n\t\t\t|| 2\n\t\t);\n\t\treturn frappe.form.formatters._right(flt(value, precision) + \"%\", options);\n\t},\n\tRating: function(value) {\n\t\tconst rating_html =\t`${[1, 2, 3, 4, 5].map(i =>\n\t\t\t`<svg class=\"icon icon-md ${i <= (value || 0) ? \"star-click\": \"\" }\" data-idx=\"${i}\">\n\t\t\t\t<use href=\"#icon-star\"></use>\n\t\t\t</svg>`\n\t\t).join('')}`;\n\t\treturn `<div class=\"rating\">\n\t\t\t${rating_html}\n\t\t</div>`;\n\t},\n\tCurrency: function (value, docfield, options, doc) {\n\t\tvar currency  = frappe.meta.get_field_currency(docfield, doc);\n\t\tvar precision = docfield.precision || cint(frappe.boot.sysdefaults.currency_precision) || 2;\n\n\t\t// If you change anything below, it's going to hurt a company in UAE, a bit.\n\t\tif (precision > 2) {\n\t\t\tvar parts\t = cstr(value).split(\".\"); // should be minimum 2, comes from the DB\n\t\t\tvar decimals = parts.length > 1 ? parts[1] : \"\"; // parts.length == 2 ???\n\n\t\t\tif ( decimals.length < 3 || decimals.length < precision ) {\n\t\t\t\tconst fraction = frappe.model.get_value(\":Currency\", currency, \"fraction_units\") || 100; // if not set, minimum 2.\n\n\t\t\t\tif (decimals.length < cstr(fraction).length) {\n\t\t\t\t\tprecision = cstr(fraction).length - 1;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tvalue = (value == null || value === \"\") ? \"\" : format_currency(value, currency, precision);\n\n\t\tif ( options && options.only_value ) {\n\t\t\treturn value;\n\t\t} else {\n\t\t\treturn frappe.form.formatters._right(value, options);\n\t\t}\n\t},\n\tCheck: function(value) {\n\t\treturn `<input type=\"checkbox\" disabled\n\t\t\tclass=\"disabled-${value ? \"selected\" : \"deselected\"}\">`;\n\t},\n\tLink: function(value, docfield, options, doc) {\n\t\tvar doctype = docfield._options || docfield.options;\n\t\tvar original_value = value;\n\t\tif(value && value.match && value.match(/^['\"].*['\"]$/)) {\n\t\t\tvalue.replace(/^.(.*).$/, \"$1\");\n\t\t}\n\n\t\tif(options && (options.for_print || options.only_value)) {\n\t\t\treturn value;\n\t\t}\n\n\t\tif(frappe.form.link_formatters[doctype]) {\n\t\t\t// don't apply formatters in case of composite (parent field of same type)\n\t\t\tif (doc && doctype !== doc.doctype) {\n\t\t\t\tvalue = frappe.form.link_formatters[doctype](value, doc, docfield);\n\t\t\t}\n\t\t}\n\n\t\tif(!value) {\n\t\t\treturn \"\";\n\t\t}\n\t\tif(value[0] == \"'\" && value[value.length -1] == \"'\") {\n\t\t\treturn value.substring(1, value.length - 1);\n\t\t}\n\t\tif(docfield && docfield.link_onclick) {\n\t\t\treturn repl('<a onclick=\"%(onclick)s\">%(value)s</a>',\n\t\t\t\t{onclick: docfield.link_onclick.replace(/\"/g, '&quot;'), value:value});\n\t\t} else if(docfield && doctype) {\n\t\t\tif (frappe.model.can_read(doctype)) {\n\t\t\t\treturn `<a\n\t\t\t\t\thref=\"/app/${encodeURIComponent(frappe.router.slug(doctype))}/${encodeURIComponent(original_value)}\"\n\t\t\t\t\tdata-doctype=\"${doctype}\"\n\t\t\t\t\tdata-name=\"${original_value}\">\n\t\t\t\t\t${__(options && options.label || value)}</a>`;\n\t\t\t} else {\n\t\t\t\treturn value;\n\t\t\t}\n\t\t} else {\n\t\t\treturn value;\n\t\t}\n\t},\n\tDate: function(value) {\n\t\tif (!frappe.datetime.str_to_user) {\n\t\t\treturn value;\n\t\t}\n\t\tif (value) {\n\t\t\tvalue = frappe.datetime.str_to_user(value);\n\t\t\t// handle invalid date\n\t\t\tif (value===\"Invalid date\") {\n\t\t\t\tvalue = null;\n\t\t\t}\n\t\t}\n\n\t\treturn value || \"\";\n\t},\n\tDateRange: function(value) {\n\t\tif (Array.isArray(value)) {\n\t\t\treturn __(\"{0} to {1}\", [frappe.datetime.str_to_user(value[0]), frappe.datetime.str_to_user(value[1])]);\n\t\t} else {\n\t\t\treturn value || \"\";\n\t\t}\n\t},\n\tDatetime: function(value) {\n\t\tif(value) {\n\t\t\tvar m = moment(frappe.datetime.convert_to_user_tz(value));\n\t\t\tif(frappe.boot.sysdefaults.time_zone) {\n\t\t\t\tm = m.tz(frappe.boot.sysdefaults.time_zone);\n\t\t\t}\n\t\t\treturn m.format(frappe.boot.sysdefaults.date_format.toUpperCase()\n\t\t\t\t+  ' ' + (frappe.boot.sysdefaults.time_format || 'HH:mm:ss'));\n\t\t} else {\n\t\t\treturn \"\";\n\t\t}\n\t},\n\tText: function(value) {\n\t\tif(value) {\n\t\t\tvar tags = [\"<p\", \"<div\", \"<br\", \"<table\"];\n\t\t\tvar match = false;\n\n\t\t\tfor(var i=0; i<tags.length; i++) {\n\t\t\t\tif(value.match(tags[i])) {\n\t\t\t\t\tmatch = true;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif(!match) {\n\t\t\t\tvalue = frappe.utils.replace_newlines(value);\n\t\t\t}\n\t\t}\n\n\t\treturn frappe.form.formatters.Data(value);\n\t},\n\tTime: function(value) {\n\t\tif (value) {\n\t\t\tvalue = frappe.datetime.str_to_user(value, true);\n\t\t}\n\n\t\treturn value || \"\";\n\t},\n\tDuration: function(value, docfield) {\n\t\tif (value) {\n\t\t\tlet duration_options = frappe.utils.get_duration_options(docfield);\n\t\t\tvalue = frappe.utils.get_formatted_duration(value, duration_options);\n\t\t}\n\n\t\treturn value || \"\";\n\t},\n\tLikedBy: function(value) {\n\t\tvar html = \"\";\n\t\t$.each(JSON.parse(value || \"[]\"), function(i, v) {\n\t\t\tif(v) html+= frappe.avatar(v);\n\t\t});\n\t\treturn html;\n\t},\n\tTag: function(value) {\n\t\tvar html = \"\";\n\t\t$.each((value || \"\").split(\",\"), function(i, v) {\n\t\t\tif (v) html += `\n\t\t\t\t<span\n\t\t\t\t\tclass=\"data-pill btn-xs align-center ellipsis\"\n\t\t\t\t\tstyle=\"background-color: var(--control-bg); box-shadow: none; margin-right: 4px;\"\n\t\t\t\t\tdata-field=\"_user_tags\" data-label=\"${v}'\">\n\t\t\t\t\t${v}\n\t\t\t\t</span>`;\n\t\t});\n\t\treturn html;\n\t},\n\tComment: function(value) {\n\t\treturn value;\n\t},\n\tAssign: function(value) {\n\t\tvar html = \"\";\n\t\t$.each(JSON.parse(value || \"[]\"), function(i, v) {\n\t\t\tif(v) html+= '<span class=\"label label-warning\" \\\n\t\t\t\tstyle=\"margin-right: 7px;\"\\\n\t\t\t\tdata-field=\"_assign\">'+v+'</span>';\n\t\t});\n\t\treturn html;\n\t},\n\tSmallText: function(value) {\n\t\treturn frappe.form.formatters.Text(value);\n\t},\n\tTextEditor: function(value) {\n\t\tlet formatted_value = frappe.form.formatters.Text(value);\n\t\t// to use ql-editor styles\n\t\ttry {\n\t\t\tif (!$(formatted_value).find('.ql-editor').length) {\n\t\t\t\tformatted_value = `<div class=\"ql-editor read-mode\">${formatted_value}</div>`;\n\t\t\t}\n\t\t} catch(e) {\n\t\t\tformatted_value = `<div class=\"ql-editor read-mode\">${formatted_value}</div>`;\n\t\t}\n\n\t\treturn formatted_value;\n\t},\n\tCode: function(value) {\n\t\treturn \"<pre>\" + (value==null ? \"\" : $(\"<div>\").text(value).html()) + \"</pre>\"\n\t},\n\tWorkflowState: function(value) {\n\t\tvar workflow_state = frappe.get_doc(\"Workflow State\", value);\n\t\tif(workflow_state) {\n\t\t\treturn repl(\"<span class='label label-%(style)s' \\\n\t\t\t\tdata-workflow-state='%(value)s'\\\n\t\t\t\tstyle='padding-bottom: 4px; cursor: pointer;'>\\\n\t\t\t\t<i class='fa fa-small fa-white fa-%(icon)s'></i> %(value)s</span>\", {\n\t\t\t\t\tvalue: value,\n\t\t\t\t\tstyle: workflow_state.style.toLowerCase(),\n\t\t\t\t\ticon: workflow_state.icon\n\t\t\t\t});\n\t\t} else {\n\t\t\treturn \"<span class='label'>\" + value + \"</span>\";\n\t\t}\n\t},\n\tEmail: function(value) {\n\t\treturn $(\"<div></div>\").text(value).html();\n\t},\n\tFileSize: function(value) {\n\t\tif(value > 1048576) {\n\t\t\tvalue = flt(flt(value) / 1048576, 1) + \"M\";\n\t\t} else if (value > 1024) {\n\t\t\tvalue = flt(flt(value) / 1024, 1) + \"K\";\n\t\t}\n\t\treturn value;\n\t},\n\tTableMultiSelect: function(rows, df, options) {\n\t\trows = rows || [];\n\t\tconst meta = frappe.get_meta(df.options);\n\t\tconst link_field = meta.fields.find(df => df.fieldtype === 'Link');\n\t\tconst formatted_values = rows.map(row => {\n\t\t\tconst value = row[link_field.fieldname];\n\t\t\treturn frappe.format(value, link_field, options, row);\n\t\t});\n\t\treturn formatted_values.join(', ');\n\t},\n\tColor: (value) => {\n\t\treturn value ? `<div>\n\t\t\t<div class=\"selected-color\" style=\"background-color: ${value}\"></div>\n\t\t\t<span class=\"color-value\">${value}</span>\n\t\t</div>` : '';\n\t},\n\tIcon: (value) => {\n\t\treturn value ? `<div>\n\t\t\t<div class=\"selected-icon\">${frappe.utils.icon(value, \"md\")}</div>\n\t\t\t<span class=\"icon-value\">${value}</span>\n\t\t</div>` : '';\n\t}\n};\n\nfrappe.form.get_formatter = function(fieldtype) {\n\tif(!fieldtype)\n\t\tfieldtype = \"Data\";\n\treturn frappe.form.formatters[fieldtype.replace(/ /g, \"\")] || frappe.form.formatters.Data;\n}\n\nfrappe.format = function(value, df, options, doc) {\n\tif(!df) df = {\"fieldtype\":\"Data\"};\n\tif (df.fieldname == '_user_tags') df.fieldtype = 'Tag';\n\tvar fieldtype = df.fieldtype || \"Data\";\n\n\t// format Dynamic Link as a Link\n\tif(fieldtype===\"Dynamic Link\") {\n\t\tfieldtype = \"Link\";\n\t\tdf._options = doc ? doc[df.options] : null;\n\t}\n\n\tvar formatter = df.formatter || frappe.form.get_formatter(fieldtype);\n\n\tvar formatted = formatter(value, df, options, doc);\n\n\tif (typeof formatted == \"string\")\n\t\tformatted = frappe.dom.remove_script_and_style(formatted);\n\n\treturn formatted;\n};\n\nfrappe.get_format_helper = function(doc) {\n\tvar helper = {\n\t\tget_formatted: function(fieldname) {\n\t\t\tvar df = frappe.meta.get_docfield(doc.doctype, fieldname);\n\t\t\tif(!df) { console.log(\"fieldname not found: \" + fieldname); }\n\t\t\treturn frappe.format(doc[fieldname], df, {inline:1}, doc);\n\t\t}\n\t};\n\t$.extend(helper, doc);\n\treturn helper;\n};\n\nfrappe.form.link_formatters['User'] = function(value, doc, docfield) {\n\tlet full_name = doc && (doc.full_name || (docfield && doc[`${docfield.fieldname}_full_name`]));\n\treturn full_name || value;\n};\n","// Copyright (c) 2015, Frappe Technologies Pvt. Ltd. and Contributors\n// MIT License. See license.txt\n\n// add a new dom element\nfrappe.provide('frappe.dom');\n\nfrappe.dom = {\n\tid_count: 0,\n\tfreeze_count: 0,\n\tby_id: function(id) {\n\t\treturn document.getElementById(id);\n\t},\n\tget_unique_id: function() {\n\t\tconst id = 'unique-' + frappe.dom.id_count;\n\t\tfrappe.dom.id_count++;\n\t\treturn id;\n\t},\n\tset_unique_id: function(ele) {\n\t\tvar $ele = $(ele);\n\t\tif($ele.attr('id')) {\n\t\t\treturn $ele.attr('id');\n\t\t}\n\t\tvar id = 'unique-' + frappe.dom.id_count;\n\t\t$ele.attr('id', id);\n\t\tfrappe.dom.id_count++;\n\t\treturn id;\n\t},\n\teval: function(txt) {\n\t\tif(!txt) return;\n\t\tvar el = document.createElement('script');\n\t\tel.appendChild(document.createTextNode(txt));\n\t\t// execute the script globally\n\t\tdocument.getElementsByTagName('head')[0].appendChild(el);\n\t},\n\tremove_script_and_style: function(txt) {\n\t\tconst evil_tags = [\"script\", \"style\", \"noscript\", \"title\", \"meta\", \"base\", \"head\"];\n\t\tconst regex = new RegExp(evil_tags.map(tag => `<${tag}>.*<\\\\/${tag}>`).join('|'), 's');\n\t\tif (!regex.test(txt)) {\n\t\t\t// no evil tags found, skip the DOM method entirely!\n\t\t\treturn txt;\n\t\t}\n\n\t\tvar div = document.createElement('div');\n\t\tdiv.innerHTML = txt;\n\t\tvar found = false;\n\t\tevil_tags.forEach(function(e) {\n\t\t\tvar elements = div.getElementsByTagName(e);\n\t\t\ti = elements.length;\n\t\t\twhile (i--) {\n\t\t\t\tfound = true;\n\t\t\t\telements[i].parentNode.removeChild(elements[i]);\n\t\t\t}\n\t\t});\n\n\t\t// remove links with rel=\"stylesheet\"\n\t\tvar elements = div.getElementsByTagName('link');\n\t\tvar i = elements.length;\n\t\twhile (i--) {\n\t\t\tif (elements[i].getAttribute(\"rel\")==\"stylesheet\"){\n\t\t\t\tfound = true;\n\t\t\t\telements[i].parentNode.removeChild(elements[i]);\n\t\t\t}\n\t\t}\n\t\tif(found) {\n\t\t\treturn div.innerHTML;\n\t\t} else {\n\t\t\t// don't disturb\n\t\t\treturn txt;\n\t\t}\n\t},\n\tis_element_in_viewport: function (el, tolerance=0) {\n\n\t\t//special bonus for those using jQuery\n\t\tif (typeof jQuery === \"function\" && el instanceof jQuery) {\n\t\t\tel = el[0];\n\t\t}\n\n\t\tvar rect = el.getBoundingClientRect();\n\n\t\treturn (\n\t\t\trect.top + tolerance >= 0\n\t\t\t&& rect.left + tolerance >= 0\n\t\t\t&& rect.bottom - tolerance <= $(window).height()\n\t\t\t&& rect.right - tolerance <= $(window).width()\n\t\t);\n\t},\n\n\tis_element_in_modal(element) {\n\t\treturn Boolean($(element).parents('.modal').length);\n\t},\n\n\tset_style: function(txt, id) {\n\t\tif(!txt) return;\n\n\t\tvar se = document.createElement('style');\n\t\tse.type = \"text/css\";\n\n\t\tif (id) {\n\t\t\tvar element = document.getElementById(id);\n\t\t\tif (element) {\n\t\t\t\telement.parentNode.removeChild(element);\n\t\t\t}\n\t\t\tse.id = id;\n\t\t}\n\n\t\tif (se.styleSheet) {\n\t\t\tse.styleSheet.cssText = txt;\n\t\t} else {\n\t\t\tse.appendChild(document.createTextNode(txt));\n\t\t}\n\t\tdocument.getElementsByTagName('head')[0].appendChild(se);\n\t\treturn se;\n\t},\n\tadd: function(parent, newtag, className, cs, innerHTML, onclick) {\n\t\tif(parent && parent.substr)parent = frappe.dom.by_id(parent);\n\t\tvar c = document.createElement(newtag);\n\t\tif(parent)\n\t\t\tparent.appendChild(c);\n\n\t\t// if image, 3rd parameter is source\n\t\tif(className) {\n\t\t\tif(newtag.toLowerCase()=='img')\n\t\t\t\tc.src = className\n\t\t\telse\n\t\t\t\tc.className = className;\n\t\t}\n\t\tif(cs) frappe.dom.css(c,cs);\n\t\tif(innerHTML) c.innerHTML = innerHTML;\n\t\tif(onclick) c.onclick = onclick;\n\t\treturn c;\n\t},\n\tcss: function(ele, s) {\n\t\tif(ele && s) {\n\t\t\t$.extend(ele.style, s);\n\t\t}\n\t\treturn ele;\n\t},\n\tactivate: function($parent, $child, common_class, active_class='active') {\n\t\t$parent.find(`.${common_class}.${active_class}`)\n\t\t\t.removeClass(active_class);\n\t\t$child.addClass(active_class);\n\t},\n\tfreeze: function(msg, css_class) {\n\t\t// blur\n\t\tif (!$('#freeze').length) {\n\t\t\tvar freeze = $('<div id=\"freeze\" class=\"modal-backdrop fade\"></div>')\n\t\t\t\t.on(\"click\", function() {\n\t\t\t\t\tif (cur_frm && cur_frm.cur_grid) {\n\t\t\t\t\t\tcur_frm.cur_grid.toggle_view();\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.appendTo(\"#body\");\n\n\t\t\tfreeze.html(repl('<div class=\"freeze-message-container\"><div class=\"freeze-message\"><p class=\"lead\">%(msg)s</p></div></div>',\n\t\t\t\t{msg: msg || \"\"}));\n\n\t\t\tsetTimeout(function() { freeze.addClass(\"in\") }, 1);\n\n\t\t} else {\n\t\t\t$(\"#freeze\").addClass(\"in\");\n\t\t}\n\n\t\tif (css_class) {\n\t\t\t$(\"#freeze\").addClass(css_class);\n\t\t}\n\n\t\tfrappe.dom.freeze_count++;\n\t},\n\tunfreeze: function() {\n\t\tif(!frappe.dom.freeze_count) return; // anything open?\n\t\tfrappe.dom.freeze_count--;\n\t\tif(!frappe.dom.freeze_count) {\n\t\t\tvar freeze = $('#freeze').removeClass(\"in\").remove();\n\t\t}\n\t},\n\tsave_selection: function() {\n\t\t// via http://stackoverflow.com/questions/5605401/insert-link-in-contenteditable-element\n\t\tif (window.getSelection) {\n\t\t\tvar sel = window.getSelection();\n\t\t\tif (sel.getRangeAt && sel.rangeCount) {\n\t\t\t\tvar ranges = [];\n\t\t\t\tfor (var i = 0, len = sel.rangeCount; i < len; ++i) {\n\t\t\t\t\tranges.push(sel.getRangeAt(i));\n\t\t\t\t}\n\t\t\t\treturn ranges;\n\t\t\t}\n\t\t} else if (document.selection && document.selection.createRange) {\n\t\t\treturn document.selection.createRange();\n\t\t}\n\t\treturn null;\n\t},\n\trestore_selection: function(savedSel) {\n\t\tif (savedSel) {\n\t\t\tif (window.getSelection) {\n\t\t\t\tvar sel = window.getSelection();\n\t\t\t\tsel.removeAllRanges();\n\t\t\t\tfor (var i = 0, len = savedSel.length; i < len; ++i) {\n\t\t\t\t\tsel.addRange(savedSel[i]);\n\t\t\t\t}\n\t\t\t} else if (document.selection && savedSel.select) {\n\t\t\t\tsavedSel.select();\n\t\t\t}\n\t\t}\n\t},\n\tis_touchscreen: function() {\n\t\treturn ('ontouchstart' in window)\n\t},\n\thandle_broken_images(container) {\n\t\t$(container).find('img').on('error', (e) => {\n\t\t\tconst $img = $(e.currentTarget);\n\t\t\t$img.addClass('no-image');\n\t\t});\n\t},\n\tscroll_to_bottom(container) {\n\t\tconst $container = $(container);\n\t\t$container.scrollTop($container[0].scrollHeight);\n\t},\n\tfile_to_base64(file_obj) {\n\t\treturn new Promise(resolve => {\n\t\t\tconst reader = new FileReader();\n\t\t\treader.onload = function() {\n\t\t\t\tresolve(reader.result);\n\t\t\t};\n\t\t\treader.readAsDataURL(file_obj);\n\t\t});\n\t},\n\tscroll_to_section(section_name) {\n\t\tsetTimeout(() => {\n\t\t\tconst section = $(`a:contains(\"${section_name}\")`);\n\t\t\tif (section.length) {\n\t\t\t\tif(section.parent().hasClass('collapsed')) {\n\t\t\t\t\t// opens the section\n\t\t\t\t\tsection.click();\n\t\t\t\t}\n\t\t\t\tfrappe.ui.scroll(section.parent().parent());\n\t\t\t}\n\t\t}, 200);\n\t},\n\tpixel_to_inches(pixels) {\n\t\tconst div = $('<div id=\"dpi\" style=\"height: 1in; width: 1in; left: 100%; position: fixed; top: 100%;\"></div>');\n\t\tdiv.appendTo(document.body);\n\n\t\tconst dpi_x = document.getElementById('dpi').offsetWidth;\n\t\tconst inches = pixels / dpi_x;\n\t\tdiv.remove();\n\n\t\treturn inches;\n\t}\n};\n\nfrappe.ellipsis = function(text, max) {\n\tif(!max) max = 20;\n\ttext = cstr(text);\n\tif(text.length > max) {\n\t\ttext = text.substr(0, max) + '...';\n\t}\n\treturn text;\n};\n\nfrappe.run_serially = function(tasks) {\n\tvar result = Promise.resolve();\n\ttasks.forEach(task => {\n\t\tif(task) {\n\t\t\tresult = result.then ? result.then(task) : Promise.resolve();\n\t\t}\n\t});\n\treturn result;\n};\n\nfrappe.load_image = (src, onload, onerror, preprocess = () => {}) => {\n\tvar tester = new Image();\n\ttester.onload = function() {\n\t\tonload(this);\n\t};\n\ttester.onerror = onerror;\n\n\tpreprocess(tester);\n\ttester.src = src;\n}\n\nfrappe.timeout = seconds => {\n\treturn new Promise((resolve) => {\n\t\tsetTimeout(() => resolve(), seconds * 1000);\n\t});\n};\n\nfrappe.scrub = function(text, spacer='_') {\n\treturn text.replace(/ /g, spacer).toLowerCase();\n};\n\nfrappe.unscrub = function(txt) {\n\treturn frappe.model.unscrub(txt);\n};\n\nfrappe.get_data_pill = (label, target_id=null, remove_action=null, image=null) => {\n\tlet data_pill_wrapper = $(`\n\t\t<button class=\"data-pill btn\">\n\t\t\t<div class=\"flex align-center ellipsis\">\n\t\t\t\t${image ? image : ''}\n\t\t\t\t<span class=\"pill-label ${image ? \"ml-2\" : \"\"}\">${label}</span>\n\t\t\t</div>\n\t\t</button>\n\t`);\n\n\tif (remove_action) {\n\t\tlet remove_btn = $(`\n\t\t\t<span class=\"remove-btn cursor-pointer\">\n\t\t\t\t${frappe.utils.icon('close', 'sm')}\n\t\t\t</span>\n\t\t`).click(() => {\n\t\t\tremove_action(target_id || label, data_pill_wrapper);\n\t\t});\n\t\tdata_pill_wrapper.append(remove_btn);\n\t}\n\n\treturn data_pill_wrapper;\n};\n\nfrappe.get_modal = function(title, content) {\n\treturn $(`<div class=\"modal fade\" style=\"overflow: auto;\" tabindex=\"-1\">\n\t\t<div class=\"modal-dialog\">\n\t\t\t<div class=\"modal-content\">\n\t\t\t\t<div class=\"modal-header\">\n\t\t\t\t\t<div class=\"fill-width flex title-section\">\n\t\t\t\t\t\t<span class=\"indicator hidden\"></span>\n\t\t\t\t\t\t<h4 class=\"modal-title\">${title}</h4>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"modal-actions\">\n\t\t\t\t\t\t<button class=\"btn btn-modal-minimize btn-link hide\">\n\t\t\t\t\t\t\t${frappe.utils.icon('collapse')}\n\t\t\t\t\t\t</button>\n\t\t\t\t\t\t<button class=\"btn btn-modal-close btn-link\" data-dismiss=\"modal\">\n\t\t\t\t\t\t\t${frappe.utils.icon('close-alt', 'sm', 'close-alt')}\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"modal-body ui-front\">${content}</div>\n\t\t\t\t<div class=\"modal-footer hide\">\n\t\t\t\t\t<div class=\"custom-actions\"></div>\n\t\t\t\t\t<div class=\"standard-actions\">\n\t\t\t\t\t\t<button type=\"button\" class=\"btn btn-secondary btn-sm hide btn-modal-secondary\">\n\t\t\t\t\t\t</button>\n\t\t\t\t\t\t<button type=\"button\" class=\"btn btn-primary btn-sm hide btn-modal-primary\">\n\t\t\t\t\t\t\t${__(\"Confirm\")}\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>`);\n};\n\nfrappe.is_online = function() {\n\tif (frappe.boot.developer_mode == 1) {\n\t\t// always online in developer_mode\n\t\treturn true;\n\t}\n\tif ('onLine' in navigator) {\n\t\treturn navigator.onLine;\n\t}\n\treturn true;\n};\n\n// bind online/offline events\n$(window).on('online', function() {\n\tfrappe.show_alert({\n\t\tindicator: 'green',\n\t\tmessage: __('You are connected to internet.')\n\t});\n});\n\n$(window).on('offline', function() {\n\tfrappe.show_alert({\n\t\tindicator: 'orange',\n\t\tmessage: __('Connection lost. Some features might not work.')\n\t});\n});\n","import '../class';\n\nfrappe.ui.form.Layout = Class.extend({\n\tinit: function (opts) {\n\t\tthis.views = {};\n\t\tthis.pages = [];\n\t\tthis.sections = [];\n\t\tthis.fields_list = [];\n\t\tthis.fields_dict = {};\n\n\t\t$.extend(this, opts);\n\t},\n\tmake: function() {\n\t\tif (!this.parent && this.body) {\n\t\t\tthis.parent = this.body;\n\t\t}\n\t\tthis.wrapper = $('<div class=\"form-layout\">').appendTo(this.parent);\n\t\tthis.message = $('<div class=\"form-message hidden\"></div>').appendTo(this.wrapper);\n\t\tif (!this.fields) {\n\t\t\tthis.fields = this.get_doctype_fields();\n\t\t}\n\t\tthis.setup_tabbing();\n\t\tthis.render();\n\t},\n\tshow_empty_form_message: function() {\n\t\tif (!(this.wrapper.find(\".frappe-control:visible\").length || this.wrapper.find(\".section-head.collapsed\").length)) {\n\t\t\tthis.show_message(__(\"This form does not have any input\"));\n\t\t}\n\t},\n\n\tget_doctype_fields: function() {\n\t\tlet fields = [\n\t\t\tthis.get_new_name_field()\n\t\t];\n\t\tif (this.doctype_layout) {\n\t\t\tfields = fields.concat(this.get_fields_from_layout());\n\t\t} else {\n\t\t\tfields = fields.concat(frappe.meta.sort_docfields(frappe.meta.docfield_map[this.doctype]));\n\t\t}\n\n\t\treturn fields;\n\t},\n\n\tget_new_name_field() {\n\t\treturn {\n\t\t\tparent: this.frm.doctype,\n\t\t\tfieldtype: 'Data',\n\t\t\tfieldname: '__newname',\n\t\t\treqd: 1,\n\t\t\thidden: 1,\n\t\t\tlabel: __('Name'),\n\t\t\tget_status: function(field) {\n\t\t\t\tif (field.frm && field.frm.is_new()\n\t\t\t\t\t&& field.frm.meta.autoname\n\t\t\t\t\t&& ['prompt', 'name'].includes(field.frm.meta.autoname.toLowerCase())) {\n\t\t\t\t\treturn 'Write';\n\t\t\t\t}\n\t\t\t\treturn 'None';\n\t\t\t}\n\t\t};\n\t},\n\n\tget_fields_from_layout() {\n\t\tconst fields = [];\n\t\tfor (let f of this.doctype_layout.fields) {\n\t\t\tconst docfield = copy_dict(frappe.meta.docfield_map[this.doctype][f.fieldname]);\n\t\t\tdocfield.label = f.label;\n\t\t\tfields.push(docfield);\n\t\t}\n\t\treturn fields;\n\t},\n\n\tshow_message: function(html, color) {\n\t\tif (this.message_color) {\n\t\t\t// remove previous color\n\t\t\tthis.message.removeClass(this.message_color);\n\t\t}\n\t\tthis.message_color = (color && ['yellow', 'blue', 'red', 'green', 'orange'].includes(color)) ? color : 'blue';\n\t\tif (html) {\n\t\t\tif (html.substr(0, 1)!=='<') {\n\t\t\t\t// wrap in a block\n\t\t\t\thtml = '<div>' + html + '</div>';\n\t\t\t}\n\t\t\tthis.message.removeClass('hidden').addClass(this.message_color);\n\t\t\t$(html).appendTo(this.message);\n\t\t} else {\n\t\t\tthis.message.empty().addClass('hidden');\n\t\t}\n\t},\n\trender: function (new_fields) {\n\t\tvar me = this;\n\t\tvar fields = new_fields || this.fields;\n\n\t\tthis.section = null;\n\t\tthis.column = null;\n\n\t\tif (this.with_dashboard) {\n\t\t\tthis.setup_dashboard_section();\n\t\t}\n\n\t\tif (this.no_opening_section()) {\n\t\t\tthis.make_section();\n\t\t}\n\t\t$.each(fields, function (i, df) {\n\t\t\tswitch (df.fieldtype) {\n\t\t\t\tcase \"Fold\":\n\t\t\t\t\tme.make_page(df);\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"Section Break\":\n\t\t\t\t\tme.make_section(df);\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"Column Break\":\n\t\t\t\t\tme.make_column(df);\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tme.make_field(df);\n\t\t\t}\n\t\t});\n\n\t},\n\n\tno_opening_section: function () {\n\t\treturn (this.fields[0] && this.fields[0].fieldtype != \"Section Break\") || !this.fields.length;\n\t},\n\n\tsetup_dashboard_section: function () {\n\t\tif (this.no_opening_section()) {\n\t\t\tthis.fields.unshift({fieldtype: 'Section Break'});\n\t\t}\n\t},\n\n\treplace_field: function (fieldname, df, render) {\n\t\tdf.fieldname = fieldname; // change of fieldname is avoided\n\t\tif (this.fields_dict[fieldname] && this.fields_dict[fieldname].df) {\n\t\t\tconst fieldobj = this.init_field(df, render);\n\t\t\tthis.fields_dict[fieldname].$wrapper.remove();\n\t\t\tthis.fields_list.splice(this.fields_dict[fieldname], 1, fieldobj);\n\t\t\tthis.fields_dict[fieldname] = fieldobj;\n\t\t\tif (this.frm) {\n\t\t\t\tfieldobj.perm = this.frm.perm;\n\t\t\t}\n\t\t\tthis.section.fields_list.splice(this.section.fields_dict[fieldname], 1, fieldobj);\n\t\t\tthis.section.fields_dict[fieldname] = fieldobj;\n\t\t\tthis.refresh_fields([df]);\n\t\t}\n\t},\n\n\tmake_field: function (df, colspan, render) {\n\t\t!this.section && this.make_section();\n\t\t!this.column && this.make_column();\n\n\t\tconst fieldobj = this.init_field(df, render);\n\t\tthis.fields_list.push(fieldobj);\n\t\tthis.fields_dict[df.fieldname] = fieldobj;\n\t\tif (this.frm) {\n\t\t\tfieldobj.perm = this.frm.perm;\n\t\t}\n\n\t\tthis.section.fields_list.push(fieldobj);\n\t\tthis.section.fields_dict[df.fieldname] = fieldobj;\n\t\tfieldobj.section = this.section;\n\t},\n\n\tinit_field: function (df, render = false) {\n\t\tconst fieldobj = frappe.ui.form.make_control({\n\t\t\tdf: df,\n\t\t\tdoctype: this.doctype,\n\t\t\tparent: this.column.wrapper.get(0),\n\t\t\tfrm: this.frm,\n\t\t\trender_input: render,\n\t\t\tdoc: this.doc,\n\t\t\tlayout: this\n\t\t});\n\n\t\tfieldobj.layout = this;\n\t\treturn fieldobj;\n\t},\n\n\tmake_page: function (df) { // eslint-disable-line no-unused-vars\n\t\tvar me = this,\n\t\t\thead = $('<div class=\"form-clickable-section text-center\">\\\n\t\t\t\t<a class=\"btn-fold h6 text-muted\">' + __(\"Show more details\") + '</a>\\\n\t\t\t</div>').appendTo(this.wrapper);\n\n\t\tthis.page = $('<div class=\"form-page second-page hide\"></div>').appendTo(this.wrapper);\n\n\t\tthis.fold_btn = head.find(\".btn-fold\").on(\"click\", function () {\n\t\t\tvar page = $(this).parent().next();\n\t\t\tif (page.hasClass(\"hide\")) {\n\t\t\t\t$(this).removeClass(\"btn-fold\").html(__(\"Hide details\"));\n\t\t\t\tpage.removeClass(\"hide\");\n\t\t\t\tfrappe.utils.scroll_to($(this), true, 30);\n\t\t\t\tme.folded = false;\n\t\t\t} else {\n\t\t\t\t$(this).addClass(\"btn-fold\").html(__(\"Show more details\"));\n\t\t\t\tpage.addClass(\"hide\");\n\t\t\t\tme.folded = true;\n\t\t\t}\n\t\t});\n\n\t\tthis.section = null;\n\t\tthis.folded = true;\n\t},\n\n\tunfold: function () {\n\t\tthis.fold_btn.trigger('click');\n\t},\n\n\tmake_section: function (df) {\n\t\tthis.section = new frappe.ui.form.Section(this, df);\n\n\t\t// append to layout fields\n\t\tif (df) {\n\t\t\tthis.fields_dict[df.fieldname] = this.section;\n\t\t\tthis.fields_list.push(this.section);\n\t\t}\n\n\t\tthis.column = null;\n\t},\n\n\tmake_column: function (df) {\n\t\tthis.column = new frappe.ui.form.Column(this.section, df);\n\t\tif (df && df.fieldname) {\n\t\t\tthis.fields_list.push(this.column);\n\t\t}\n\t},\n\n\trefresh: function (doc) {\n\t\tvar me = this;\n\t\tif (doc) this.doc = doc;\n\n\t\tif (this.frm) {\n\t\t\tthis.wrapper.find(\".empty-form-alert\").remove();\n\t\t}\n\n\t\t// NOTE this might seem redundant at first, but it needs to be executed when frm.refresh_fields is called\n\t\tme.attach_doc_and_docfields(true);\n\n\t\tif (this.frm && this.frm.wrapper) {\n\t\t\t$(this.frm.wrapper).trigger(\"refresh-fields\");\n\t\t}\n\n\t\t// dependent fields\n\t\tthis.refresh_dependency();\n\n\t\t// refresh sections\n\t\tthis.refresh_sections();\n\n\t\tif (this.frm) {\n\t\t\t// collapse sections\n\t\t\tthis.refresh_section_collapse();\n\t\t}\n\n\t\tif (document.activeElement) {\n\t\t\tif (document.activeElement.tagName == 'INPUT' && this.is_numeric_field_active()) {\n\t\t\t\tdocument.activeElement.select();\n\t\t\t}\n\t\t}\n\t},\n\n\tis_numeric_field_active() {\n\t\tconst control = $(document.activeElement).closest(\".frappe-control\");\n\t\tconst fieldtype = (control.data() || {}).fieldtype;\n\t\treturn frappe.model.numeric_fieldtypes.includes(fieldtype);\n\t},\n\n\trefresh_sections: function() {\n\t\t// hide invisible sections\n\t\tthis.wrapper.find(\".form-section:not(.hide-control)\").each(function() {\n\t\t\tconst section = $(this).removeClass(\"empty-section visible-section\");\n\t\t\tif (section.find(\".frappe-control:not(.hide-control)\").length) {\n\t\t\t\tsection.addClass(\"visible-section\");\n\t\t\t} else {\n\t\t\t\t// nothing visible, hide the section\n\t\t\t\tsection.addClass(\"empty-section\");\n\t\t\t}\n\t\t});\n\t},\n\n\trefresh_fields: function (fields) {\n\t\tlet fieldnames = fields.map((field) => {\n\t\t\tif (field.fieldname) return field.fieldname;\n\t\t});\n\n\t\tthis.fields_list.map(fieldobj => {\n\t\t\tif (fieldnames.includes(fieldobj.df.fieldname)) {\n\t\t\t\tfieldobj.refresh();\n\t\t\t\tif (fieldobj.df[\"default\"]) {\n\t\t\t\t\tfieldobj.set_input(fieldobj.df[\"default\"]);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t},\n\n\tadd_fields: function (fields) {\n\t\tthis.render(fields);\n\t\tthis.refresh_fields(fields);\n\t},\n\n\trefresh_section_collapse: function () {\n\t\tif (!(this.sections && this.sections.length)) return;\n\n\t\tfor (var i = 0; i < this.sections.length; i++) {\n\t\t\tvar section = this.sections[i];\n\t\t\tvar df = section.df;\n\t\t\tif (df && df.collapsible) {\n\t\t\t\tvar collapse = true;\n\n\t\t\t\tif (df.collapsible_depends_on) {\n\t\t\t\t\tcollapse = !this.evaluate_depends_on_value(df.collapsible_depends_on);\n\t\t\t\t}\n\n\t\t\t\tif (collapse && section.has_missing_mandatory()) {\n\t\t\t\t\tcollapse = false;\n\t\t\t\t}\n\n\t\t\t\tsection.collapse(collapse);\n\t\t\t}\n\t\t}\n\t},\n\n\tattach_doc_and_docfields: function (refresh) {\n\t\tvar me = this;\n\t\tfor (var i = 0, l = this.fields_list.length; i < l; i++) {\n\t\t\tvar fieldobj = this.fields_list[i];\n\t\t\tif (me.doc) {\n\t\t\t\tfieldobj.doc = me.doc;\n\t\t\t\tfieldobj.doctype = me.doc.doctype;\n\t\t\t\tfieldobj.docname = me.doc.name;\n\t\t\t\tfieldobj.df = frappe.meta.get_docfield(me.doc.doctype,\n\t\t\t\t\tfieldobj.df.fieldname, me.doc.name) || fieldobj.df;\n\n\t\t\t\t// on form change, permissions can change\n\t\t\t\tif (me.frm) {\n\t\t\t\t\tfieldobj.perm = me.frm.perm;\n\t\t\t\t}\n\t\t\t}\n\t\t\trefresh && fieldobj.df && fieldobj.refresh && fieldobj.refresh();\n\t\t}\n\t},\n\n\trefresh_section_count: function () {\n\t\tthis.wrapper.find(\".section-count-label:visible\").each(function (i) {\n\t\t\t$(this).html(i + 1);\n\t\t});\n\t},\n\tsetup_tabbing: function () {\n\t\tvar me = this;\n\t\tthis.wrapper.on(\"keydown\", function (ev) {\n\t\t\tif (ev.which == 9) {\n\t\t\t\tvar current = $(ev.target),\n\t\t\t\t\tdoctype = current.attr(\"data-doctype\"),\n\t\t\t\t\tfieldname = current.attr(\"data-fieldname\");\n\t\t\t\tif (doctype)\n\t\t\t\t\treturn me.handle_tab(doctype, fieldname, ev.shiftKey);\n\t\t\t}\n\t\t});\n\t},\n\thandle_tab: function (doctype, fieldname, shift) {\n\t\tvar me = this,\n\t\t\tgrid_row = null,\n\t\t\tprev = null,\n\t\t\tfields = me.fields_list,\n\t\t\tin_grid = false,\n\t\t\tfocused = false;\n\n\t\t// in grid\n\t\tif (doctype != me.doctype) {\n\t\t\tgrid_row = me.get_open_grid_row();\n\t\t\tif (!grid_row || !grid_row.layout) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tfields = grid_row.layout.fields_list;\n\t\t}\n\n\t\tfor (var i = 0, len = fields.length; i < len; i++) {\n\t\t\tif (fields[i].df.fieldname == fieldname) {\n\t\t\t\tif (shift) {\n\t\t\t\t\tif (prev) {\n\t\t\t\t\t\tthis.set_focus(prev);\n\t\t\t\t\t} else {\n\t\t\t\t\t\t$(this.primary_button).focus();\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tif (i < len - 1) {\n\t\t\t\t\tfocused = me.focus_on_next_field(i, fields);\n\t\t\t\t}\n\n\t\t\t\tif (focused) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (this.is_visible(fields[i]))\n\t\t\t\tprev = fields[i];\n\t\t}\n\n\t\tif (!focused) {\n\t\t\t// last field in this group\n\t\t\tif (grid_row) {\n\t\t\t\t// in grid\n\t\t\t\tif (grid_row.doc.idx == grid_row.grid.grid_rows.length) {\n\t\t\t\t\t// last row, close it and find next field\n\t\t\t\t\tgrid_row.toggle_view(false, function () {\n\t\t\t\t\t\tgrid_row.grid.frm.layout.handle_tab(grid_row.grid.df.parent, grid_row.grid.df.fieldname);\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\t// next row\n\t\t\t\t\tgrid_row.grid.grid_rows[grid_row.doc.idx].toggle_view(true);\n\t\t\t\t}\n\t\t\t} else if (!shift) {\n\t\t\t\t// End of tab navigation\n\t\t\t\t$(this.primary_button).focus();\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t},\n\tfocus_on_next_field: function (start_idx, fields) {\n\t\t// loop to find next eligible fields\n\t\tfor (var i = start_idx + 1, len = fields.length; i < len; i++) {\n\t\t\tvar field = fields[i];\n\t\t\tif (this.is_visible(field)) {\n\t\t\t\tif (field.df.fieldtype === \"Table\") {\n\t\t\t\t\t// open table grid\n\t\t\t\t\tif (!(field.grid.grid_rows && field.grid.grid_rows.length)) {\n\t\t\t\t\t\t// empty grid, add a new row\n\t\t\t\t\t\tfield.grid.add_new_row();\n\t\t\t\t\t}\n\t\t\t\t\t// show grid row (if exists)\n\t\t\t\t\tfield.grid.grid_rows[0].show_form();\n\t\t\t\t\treturn true;\n\n\t\t\t\t} else if (!in_list(frappe.model.no_value_type, field.df.fieldtype)) {\n\t\t\t\t\tthis.set_focus(field);\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\tis_visible: function (field) {\n\t\treturn field.disp_status === \"Write\" && (field.$wrapper && field.$wrapper.is(\":visible\"));\n\t},\n\tset_focus: function (field) {\n\t\t// next is table, show the table\n\t\tif (field.df.fieldtype==\"Table\") {\n\t\t\tif (!field.grid.grid_rows.length) {\n\t\t\t\tfield.grid.add_new_row(1);\n\t\t\t} else {\n\t\t\t\tfield.grid.grid_rows[0].toggle_view(true);\n\t\t\t}\n\t\t} else if (field.editor) {\n\t\t\tfield.editor.set_focus();\n\t\t} else if (field.$input) {\n\t\t\tfield.$input.focus();\n\t\t}\n\t},\n\tget_open_grid_row: function () {\n\t\treturn $(\".grid-row-open\").data(\"grid_row\");\n\t},\n\trefresh_dependency: function () {\n\t\t// Resolve \"depends_on\" and show / hide accordingly\n\t\tvar me = this;\n\n\t\t// build dependants' dictionary\n\t\tvar has_dep = false;\n\n\t\tfor (var fkey in this.fields_list) {\n\t\t\tvar f = this.fields_list[fkey];\n\t\t\tf.dependencies_clear = true;\n\t\t\tif (f.df.depends_on || f.df.mandatory_depends_on || f.df.read_only_depends_on) {\n\t\t\t\thas_dep = true;\n\t\t\t}\n\t\t}\n\n\t\tif (!has_dep) return;\n\n\t\t// show / hide based on values\n\t\tfor (var i = me.fields_list.length - 1; i >= 0; i--) {\n\t\t\tvar f = me.fields_list[i];\n\t\t\tf.guardian_has_value = true;\n\t\t\tif (f.df.depends_on) {\n\t\t\t\t// evaluate guardian\n\n\t\t\t\tf.guardian_has_value = this.evaluate_depends_on_value(f.df.depends_on);\n\n\t\t\t\t// show / hide\n\t\t\t\tif (f.guardian_has_value) {\n\t\t\t\t\tif (f.df.hidden_due_to_dependency) {\n\t\t\t\t\t\tf.df.hidden_due_to_dependency = false;\n\t\t\t\t\t\tf.refresh();\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif (!f.df.hidden_due_to_dependency) {\n\t\t\t\t\t\tf.df.hidden_due_to_dependency = true;\n\t\t\t\t\t\tf.refresh();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (f.df.mandatory_depends_on) {\n\t\t\t\tthis.set_dependant_property(f.df.mandatory_depends_on, f.df.fieldname, 'reqd');\n\t\t\t}\n\n\t\t\tif (f.df.read_only_depends_on) {\n\t\t\t\tthis.set_dependant_property(f.df.read_only_depends_on, f.df.fieldname, 'read_only');\n\t\t\t}\n\t\t}\n\n\t\tthis.refresh_section_count();\n\t},\n\tset_dependant_property: function (condition, fieldname, property) {\n\t\tlet set_property = this.evaluate_depends_on_value(condition);\n\t\tlet value = set_property ? 1 : 0;\n\t\tlet form_obj;\n\n\t\tif (this.frm) {\n\t\t\tform_obj = this.frm;\n\t\t} else if (this.is_dialog || this.doctype === 'Web Form') {\n\t\t\tform_obj = this;\n\t\t}\n\t\tif (form_obj) {\n\t\t\tif (this.doc && this.doc.parent && this.doc.parentfield) {\n\t\t\t\tform_obj.setting_dependency = true;\n\t\t\t\tform_obj.set_df_property(this.doc.parentfield, property, value, this.doc.parent, fieldname, this.doc.name);\n\t\t\t\tform_obj.setting_dependency = false;\n\t\t\t\t// refresh child fields\n\t\t\t\tthis.fields_dict[fieldname] && this.fields_dict[fieldname].refresh();\n\t\t\t} else {\n\t\t\t\tform_obj.set_df_property(fieldname, property, value);\n\t\t\t}\n\t\t}\n\t},\n\tevaluate_depends_on_value: function (expression) {\n\t\tvar out = null;\n\t\tvar doc = this.doc;\n\n\t\tif (!doc && this.get_values) {\n\t\t\tvar doc = this.get_values(true);\n\t\t}\n\n\t\tif (!doc) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar parent = this.frm ? this.frm.doc : this.doc || null;\n\n\t\tif (typeof (expression) === 'boolean') {\n\t\t\tout = expression;\n\n\t\t} else if (typeof (expression) === 'function') {\n\t\t\tout = expression(doc);\n\n\t\t} else if (expression.substr(0, 5)=='eval:') {\n\t\t\ttry {\n\t\t\t\tout = frappe.utils.eval(expression.substr(5), { doc, parent });\n\t\t\t\tif (parent && parent.istable && expression.includes('is_submittable')) {\n\t\t\t\t\tout = true;\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\tfrappe.throw(__('Invalid \"depends_on\" expression'));\n\t\t\t}\n\n\t\t} else if (expression.substr(0, 3)=='fn:' && this.frm) {\n\t\t\tout = this.frm.script_manager.trigger(expression.substr(3), this.doctype, this.docname);\n\t\t} else {\n\t\t\tvar value = doc[expression];\n\t\t\tif ($.isArray(value)) {\n\t\t\t\tout = !!value.length;\n\t\t\t} else {\n\t\t\t\tout = !!value;\n\t\t\t}\n\t\t}\n\n\t\treturn out;\n\t}\n});\n\nfrappe.ui.form.Section = Class.extend({\n\tinit: function(layout, df) {\n\t\tthis.layout = layout;\n\t\tthis.df = df || {};\n\t\tthis.fields_list = [];\n\t\tthis.fields_dict = {};\n\n\t\tthis.make();\n\t\t// if (this.frm)\n\t\t// \tthis.section.body.css({\"padding\":\"0px 3%\"})\n\t\tthis.row = {\n\t\t\twrapper: this.wrapper\n\t\t};\n\n\t\tthis.refresh();\n\t},\n\tmake: function() {\n\t\tif (!this.layout.page) {\n\t\t\tthis.layout.page = $('<div class=\"form-page\"></div>').appendTo(this.layout.wrapper);\n\t\t}\n\t\tlet make_card = this.layout.card_layout;\n\t\tthis.wrapper = $(`<div class=\"row form-section ${ make_card ? \"card-section\" : \"\" }\">`)\n\t\t\t.appendTo(this.layout.page);\n\t\tthis.layout.sections.push(this);\n\n\t\tif (this.df) {\n\t\t\tif (this.df.label) {\n\t\t\t\tthis.make_head();\n\t\t\t}\n\t\t\tif (this.df.description) {\n\t\t\t\t$('<div class=\"col-sm-12 small text-muted form-section-description\">' + __(this.df.description) + '</div>')\n\t\t\t\t\t.appendTo(this.wrapper);\n\t\t\t}\n\t\t\tif (this.df.cssClass) {\n\t\t\t\tthis.wrapper.addClass(this.df.cssClass);\n\t\t\t}\n\t\t\tif (this.df.hide_border) {\n\t\t\t\tthis.wrapper.toggleClass(\"hide-border\", true);\n\t\t\t}\n\t\t}\n\n\t\t// for bc\n\t\tthis.body = $('<div class=\"section-body\">').appendTo(this.wrapper);\n\t},\n\n\tmake_head: function () {\n\t\tthis.head = $(`<div class=\"section-head\">\n\t\t\t${__(this.df.label)}\n\t\t\t<span class=\"ml-2 collapse-indicator mb-1\">\n\t\t\t</span>\n\t\t</div>`);\n\t\tthis.head.appendTo(this.wrapper);\n\t\tthis.indicator = this.head.find('.collapse-indicator');\n\t\tthis.indicator.hide();\n\t\tif (this.df.collapsible) {\n\t\t\t// show / hide based on status\n\t\t\tthis.collapse_link = this.head.on(\"click\", () => {\n\t\t\t\tthis.collapse();\n\t\t\t});\n\n\t\t\tthis.indicator.show();\n\t\t}\n\t},\n\trefresh: function() {\n\t\tif (!this.df)\n\t\t\treturn;\n\n\t\t// hide if explictly hidden\n\t\tvar hide = this.df.hidden || this.df.hidden_due_to_dependency;\n\n\t\t// hide if no perm\n\t\tif (!hide && this.layout && this.layout.frm && !this.layout.frm.get_perm(this.df.permlevel || 0, \"read\")) {\n\t\t\thide = true;\n\t\t}\n\n\t\tthis.wrapper.toggleClass(\"hide-control\", !!hide);\n\t},\n\tcollapse: function (hide) {\n\t\t// unknown edge case\n\t\tif (!(this.head && this.body)) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (hide===undefined) {\n\t\t\thide = !this.body.hasClass(\"hide\");\n\t\t}\n\n\t\tthis.body.toggleClass(\"hide\", hide);\n\t\tthis.head.toggleClass(\"collapsed\", hide);\n\n\t\tlet indicator_icon = hide ? 'down' : 'up-line';\n\n\t\tthis.indicator & this.indicator.html(frappe.utils.icon(indicator_icon, 'sm', 'mb-1'));\n\n\t\t// refresh signature fields\n\t\tthis.fields_list.forEach((f) => {\n\t\t\tif (f.df.fieldtype == 'Signature') {\n\t\t\t\tf.refresh();\n\t\t\t}\n\t\t});\n\t},\n\n\tis_collapsed() {\n\t\treturn this.body.hasClass('hide');\n\t},\n\n\thas_missing_mandatory: function () {\n\t\tvar missing_mandatory = false;\n\t\tfor (var j = 0, l = this.fields_list.length; j < l; j++) {\n\t\t\tvar section_df = this.fields_list[j].df;\n\t\t\tif (section_df.reqd && this.layout.doc[section_df.fieldname] == null) {\n\t\t\t\tmissing_mandatory = true;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\treturn missing_mandatory;\n\t}\n});\n\nfrappe.ui.form.Column = Class.extend({\n\tinit: function(section, df) {\n\t\tif (!df) df = {};\n\n\t\tthis.df = df;\n\t\tthis.section = section;\n\t\tthis.make();\n\t\tthis.resize_all_columns();\n\t},\n\tmake: function () {\n\t\tthis.wrapper = $('<div class=\"form-column\">\\\n\t\t\t<form>\\\n\t\t\t</form>\\\n\t\t</div>').appendTo(this.section.body)\n\t\t\t.find(\"form\")\n\t\t\t.on(\"submit\", function () {\n\t\t\t\treturn false;\n\t\t\t});\n\n\t\tif (this.df.label) {\n\t\t\t$('<label class=\"control-label\">' + __(this.df.label)\n\t\t\t\t+ '</label>').appendTo(this.wrapper);\n\t\t}\n\t},\n\tresize_all_columns: function () {\n\t\t// distribute all columns equally\n\t\tvar colspan = cint(12 / this.section.wrapper.find(\".form-column\").length);\n\n\t\tthis.section.wrapper.find(\".form-column\").removeClass()\n\t\t\t.addClass(\"form-column\")\n\t\t\t.addClass(\"col-sm-\" + colspan);\n\n\t},\n\trefresh: function () {\n\t\tthis.section.refresh();\n\t}\n});\n","import '../form/layout';\n\nfrappe.provide('frappe.ui');\n\nfrappe.ui.FieldGroup = frappe.ui.form.Layout.extend({\n\tinit: function(opts) {\n\t\t$.extend(this, opts);\n\t\tthis.dirty = false;\n\t\tthis._super();\n\t\t$.each(this.fields || [], function(i, f) {\n\t\t\tif(!f.fieldname && f.label) {\n\t\t\t\tf.fieldname = f.label.replace(/ /g, \"_\").toLowerCase();\n\t\t\t}\n\t\t})\n\t\tif(this.values) {\n\t\t\tthis.set_values(this.values);\n\t\t}\n\t},\n\tmake: function() {\n\t\tvar me = this;\n\t\tif(this.fields) {\n\t\t\tthis._super();\n\t\t\tthis.refresh();\n\t\t\t// set default\n\t\t\t$.each(this.fields_list, function(i, field) {\n\t\t\t\tif (field.df[\"default\"]) {\n\t\t\t\t\tlet def_value = field.df[\"default\"];\n\n\t\t\t\t\tif (def_value == 'Today' && field.df[\"fieldtype\"] == 'Date') {\n\t\t\t\t\t\tdef_value = frappe.datetime.get_today();\n\t\t\t\t\t}\n\n\t\t\t\t\tfield.set_input(def_value);\n\t\t\t\t\t// if default and has depends_on, render its fields.\n\t\t\t\t\tme.refresh_dependency();\n\t\t\t\t}\n\t\t\t})\n\n\t\t\tif(!this.no_submit_on_enter) {\n\t\t\t\tthis.catch_enter_as_submit();\n\t\t\t}\n\n\t\t\t$(this.wrapper).find('input, select').on(\n\t\t\t\t'change awesomplete-selectcomplete',\n\t\t\t\t() => {\n\t\t\t\t\tthis.dirty = true;\n\t\t\t\t\tfrappe.run_serially([\n\t\t\t\t\t\t() => frappe.timeout(0.1),\n\t\t\t\t\t\t() => me.refresh_dependency()\n\t\t\t\t\t]);\n\t\t\t\t}\n\t\t\t);\n\n\t\t}\n\t},\n\tfirst_button: false,\n\tfocus_on_first_input: function() {\n\t\tif(this.no_focus) return;\n\t\t$.each(this.fields_list, function(i, f) {\n\t\t\tif(!in_list(['Date', 'Datetime', 'Time', 'Check'], f.df.fieldtype) && f.set_focus) {\n\t\t\t\tf.set_focus();\n\t\t\t\treturn false;\n\t\t\t}\n\t\t});\n\t},\n\tcatch_enter_as_submit: function() {\n\t\tvar me = this;\n\t\t$(this.body).find('input[type=\"text\"], input[type=\"password\"], select').keypress(function(e) {\n\t\t\tif(e.which==13) {\n\t\t\t\tif(me.has_primary_action) {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\tme.get_primary_btn().trigger(\"click\");\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t},\n\tget_input: function(fieldname) {\n\t\tvar field = this.fields_dict[fieldname];\n\t\treturn $(field.txt ? field.txt : field.input);\n\t},\n\tget_field: function(fieldname) {\n\t\treturn this.fields_dict[fieldname];\n\t},\n\tget_values: function(ignore_errors) {\n\t\tvar ret = {};\n\t\tvar errors = [];\n\t\tfor (var key in this.fields_dict) {\n\t\t\tvar f = this.fields_dict[key];\n\t\t\tif (f.get_value) {\n\t\t\t\tvar v = f.get_value();\n\t\t\t\tif (\n\t\t\t\t\tf.df.reqd &&\n\t\t\t\t\tis_null(typeof v === 'string' ? strip_html(v) : v)\n\t\t\t\t)\n\t\t\t\t\terrors.push(__(f.df.label));\n\n\t\t\t\tif (f.df.reqd\n\t\t\t\t\t&& f.df.fieldtype === 'Text Editor'\n\t\t\t\t\t&& is_null(strip_html(cstr(v))))\n\t\t\t\t\terrors.push(__(f.df.label));\n\n\t\t\t\tif (!is_null(v)) ret[f.df.fieldname] = v;\n\t\t\t}\n\t\t}\n\t\tif (errors.length && !ignore_errors) {\n\t\t\tfrappe.msgprint({\n\t\t\t\ttitle: __('Missing Values Required'),\n\t\t\t\tmessage: __('Following fields have missing values:') +\n\t\t\t\t\t'<br><br><ul><li>' + errors.join('<li>') + '</ul>',\n\t\t\t\tindicator: 'orange'\n\t\t\t});\n\t\t\treturn null;\n\t\t}\n\t\treturn ret;\n\t},\n\tget_value: function(key) {\n\t\tvar f = this.fields_dict[key];\n\t\treturn f && (f.get_value ? f.get_value() : null);\n\t},\n\tset_value: function(key, val){\n\t\treturn new Promise(resolve => {\n\t\t\tvar f = this.fields_dict[key];\n\t\t\tif(f) {\n\t\t\t\tf.set_value(val).then(() => {\n\t\t\t\t\tf.set_input(val);\n\t\t\t\t\tthis.refresh_dependency();\n\t\t\t\t\tresolve();\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tresolve();\n\t\t\t}\n\t\t});\n\t},\n\thas_field: function(fieldname) {\n\t\treturn !!this.fields_dict[fieldname];\n\t},\n\tset_input: function(key, val) {\n\t\treturn this.set_value(key, val);\n\t},\n\tset_values: function(dict) {\n\t\tlet promises = [];\n\t\tfor(var key in dict) {\n\t\t\tif(this.fields_dict[key]) {\n\t\t\t\tpromises.push(this.set_value(key, dict[key]));\n\t\t\t}\n\t\t}\n\n\t\treturn Promise.all(promises);\n\t},\n\tclear: function() {\n\t\tfor(var key in this.fields_dict) {\n\t\t\tvar f = this.fields_dict[key];\n\t\t\tif(f && f.set_input) {\n\t\t\t\tf.set_input(f.df['default'] || '');\n\t\t\t}\n\t\t}\n\t},\n\tset_df_property: function (fieldname, prop, value) {\n\t\tif (!fieldname) {\n\t\t\treturn;\n\t\t}\n\t\tconst field    = this.get_field(fieldname);\n\t\tfield.df[prop] = value;\n\t\tfield.refresh();\n\t}\n});\n","\nimport './field_group';\nimport '../dom';\n\nfrappe.provide('frappe.ui');\n\nwindow.cur_dialog = null;\n\nfrappe.ui.open_dialogs = [];\n\nfrappe.ui.Dialog = class Dialog extends frappe.ui.FieldGroup {\n\tconstructor(opts) {\n\t\tsuper();\n\t\tthis.display = false;\n\t\tthis.is_dialog = true;\n\n\t\t$.extend(this, { animate: true, size: null }, opts);\n\t\tthis.make();\n\t}\n\n\tmake() {\n\t\tthis.$wrapper = frappe.get_modal(\"\", \"\");\n\n\t\tif(this.static) {\n\t\t\tthis.$wrapper.modal({\n\t\t\t\tbackdrop: 'static',\n\t\t\t\tkeyboard: false\n\t\t\t});\n\t\t\tthis.get_close_btn().hide();\n\t\t}\n\n\t\tthis.wrapper = this.$wrapper.find('.modal-dialog')\n\t\t\t.get(0);\n\t\tif (this.size == \"small\" )\n\t\t\t$(this.wrapper).addClass(\"modal-sm\");\n\t\telse if (this.size == \"large\" )\n\t\t\t$(this.wrapper).addClass(\"modal-lg\");\n\t\telse if (this.size == \"extra-large\" )\n\t\t\t$(this.wrapper).addClass(\"modal-xl\");\n\n\t\tthis.make_head();\n\t\tthis.modal_body = this.$wrapper.find(\".modal-body\");\n\t\tthis.$body = $('<div></div>').appendTo(this.modal_body);\n\t\tthis.body = this.$body.get(0);\n\t\tthis.$message = $('<div class=\"hide modal-message\"></div>').appendTo(this.modal_body);\n\t\tthis.header = this.$wrapper.find(\".modal-header\");\n\t\tthis.footer = this.$wrapper.find(\".modal-footer\");\n\t\tthis.standard_actions = this.footer.find('.standard-actions');\n\t\tthis.custom_actions = this.footer.find('.custom-actions');\n\t\tthis.set_indicator();\n\n\t\t// make fields (if any)\n\t\tsuper.make();\n\n\t\tthis.refresh_section_collapse();\n\n\t\t// show footer\n\t\tthis.action = this.action || { primary: { }, secondary: { } };\n\t\tif (this.primary_action || (this.action.primary && this.action.primary.onsubmit)) {\n\t\t\tthis.set_primary_action(\n\t\t\t\tthis.primary_action_label || this.action.primary.label || __(\"Submit\", null, \"Primary action in dialog\"),\n\t\t\t\tthis.primary_action || this.action.primary.onsubmit\n\t\t\t);\n\t\t}\n\n\t\tif (this.secondary_action) {\n\t\t\tthis.set_secondary_action(this.secondary_action);\n\t\t}\n\n\t\tif (this.secondary_action_label || (this.action.secondary && this.action.secondary.label)) {\n\t\t\tthis.set_secondary_action_label(this.secondary_action_label || this.action.secondary.label);\n\t\t}\n\n\t\tif (this.minimizable) {\n\t\t\tthis.header.find('.title-section').click(() => this.is_minimized && this.toggle_minimize());\n\t\t\tthis.get_minimize_btn().removeClass('hide').on('click', () => this.toggle_minimize());\n\t\t}\n\n\t\tvar me = this;\n\t\tthis.$wrapper\n\t\t\t.on(\"hide.bs.modal\", function() {\n\t\t\t\tme.display = false;\n\t\t\t\tme.is_minimized = false;\n\t\t\t\tme.hide_scrollbar(false);\n\n\t\t\t\tif(frappe.ui.open_dialogs[frappe.ui.open_dialogs.length-1]===me) {\n\t\t\t\t\tfrappe.ui.open_dialogs.pop();\n\t\t\t\t\tif(frappe.ui.open_dialogs.length) {\n\t\t\t\t\t\twindow.cur_dialog = frappe.ui.open_dialogs[frappe.ui.open_dialogs.length-1];\n\t\t\t\t\t} else {\n\t\t\t\t\t\twindow.cur_dialog = null;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tme.onhide && me.onhide();\n\t\t\t\tme.on_hide && me.on_hide();\n\t\t\t})\n\t\t\t.on(\"shown.bs.modal\", function() {\n\t\t\t\t// focus on first input\n\t\t\t\tme.display = true;\n\t\t\t\twindow.cur_dialog = me;\n\t\t\t\tfrappe.ui.open_dialogs.push(me);\n\t\t\t\tme.focus_on_first_input();\n\t\t\t\tme.hide_scrollbar(true);\n\t\t\t\tme.on_page_show && me.on_page_show();\n\t\t\t\t$(document).trigger('frappe.ui.Dialog:shown');\n\t\t\t\t$(document).off('focusin.modal');\n\t\t\t})\n\t\t\t.on('scroll', function() {\n\t\t\t\tvar $input = $('input:focus');\n\t\t\t\tif ($input.length && ['Date', 'Datetime', 'Time'].includes($input.attr('data-fieldtype'))) {\n\t\t\t\t\t$input.blur();\n\t\t\t\t}\n\t\t\t});\n\n\t}\n\n\tget_primary_btn() {\n\t\treturn this.standard_actions.find(\".btn-primary\");\n\t}\n\n\tget_minimize_btn() {\n\t\treturn this.$wrapper.find(\".modal-header .btn-modal-minimize\");\n\t}\n\n\tset_message(text) {\n\t\tthis.$message.removeClass('hide');\n\t\tthis.$body.addClass('hide');\n\t\tthis.$message.text(text);\n\t}\n\n\tclear_message() {\n\t\tthis.$message.addClass('hide');\n\t\tthis.$body.removeClass('hide');\n\t}\n\n\tclear() {\n\t\tsuper.clear();\n\t\tthis.clear_message();\n\t}\n\n\tset_primary_action(label, click) {\n\t\tthis.footer.removeClass('hide');\n\t\tthis.has_primary_action = true;\n\t\tvar me = this;\n\t\treturn this.get_primary_btn()\n\t\t\t.removeClass(\"hide\")\n\t\t\t.html(label)\n\t\t\t.click(function() {\n\t\t\t\tme.primary_action_fulfilled = true;\n\t\t\t\t// get values and send it\n\t\t\t\t// as first parameter to click callback\n\t\t\t\t// if no values then return\n\t\t\t\tvar values = me.get_values();\n\t\t\t\tif(!values) return;\n\t\t\t\tclick && click.apply(me, [values]);\n\t\t\t});\n\t}\n\n\tset_secondary_action(click) {\n\t\tthis.footer.removeClass('hide');\n\t\tthis.get_secondary_btn().removeClass('hide').off('click').on('click', click);\n\t}\n\n\tset_secondary_action_label(label) {\n\t\tthis.get_secondary_btn()\n\t\t\t.removeClass(\"hide\")\n\t\t\t.html(label);\n\t}\n\n\tdisable_primary_action() {\n\t\tthis.get_primary_btn().addClass('disabled');\n\t}\n\n\tenable_primary_action() {\n\t\tthis.get_primary_btn().removeClass('disabled');\n\t}\n\n\tmake_head() {\n\t\tthis.set_title(this.title);\n\t}\n\n\tset_title(t) {\n\t\tthis.$wrapper.find(\".modal-title\").html(t);\n\t}\n\n\tset_indicator() {\n\t\tif (this.indicator) {\n\t\t\tthis.header.find('.indicator').removeClass().addClass('indicator ' + this.indicator);\n\t\t}\n\t}\n\n\tshow() {\n\t\t// show it\n\t\tif (this.animate) {\n\t\t\tthis.$wrapper.addClass('fade');\n\t\t} else {\n\t\t\tthis.$wrapper.removeClass('fade');\n\t\t}\n\t\tthis.$wrapper.modal(\"show\");\n\n\t\tthis.$wrapper.removeClass('modal-minimize');\n\n\t\tif (this.minimizable && this.is_minimized) {\n\t\t\t$(\".modal-backdrop\").toggle();\n\t\t\tthis.is_minimized = false;\n\t\t}\n\n\t\t// clear any message\n\t\tthis.clear_message();\n\n\t\tthis.primary_action_fulfilled = false;\n\t\tthis.is_visible = true;\n\t\treturn this;\n\t}\n\n\thide() {\n\t\tthis.$wrapper.modal(\"hide\");\n\t\tthis.is_visible = false;\n\t}\n\n\tget_close_btn() {\n\t\treturn this.$wrapper.find(\".btn-modal-close\");\n\t}\n\n\tget_secondary_btn() {\n\t\treturn this.standard_actions.find(\".btn-modal-secondary\");\n\t}\n\n\tno_cancel() {\n\t\tthis.get_close_btn().toggle(false);\n\t}\n\n\tcancel() {\n\t\tthis.get_close_btn().trigger(\"click\");\n\t}\n\n\ttoggle_minimize() {\n\t\t$('.modal-backdrop').toggle();\n\t\tlet modal = this.$wrapper.closest('.modal').toggleClass('modal-minimize');\n\t\tmodal.attr('tabindex') ? modal.removeAttr('tabindex') : modal.attr('tabindex', -1);\n\t\tthis.is_minimized = !this.is_minimized;\n\t\tconst icon = this.is_minimized ? 'expand' : 'collapse';\n\t\tthis.get_minimize_btn().html(frappe.utils.icon(icon));\n\t\tthis.on_minimize_toggle && this.on_minimize_toggle(this.is_minimized);\n\t\tthis.header.find('.modal-title').toggleClass('cursor-pointer');\n\t\tthis.hide_scrollbar(!this.is_minimized);\n\t}\n\n\thide_scrollbar(bool) {\n\t\t$(\"body\").css(\"overflow\", bool ?  \"hidden\" : \"auto\");\n\t}\n\n\tadd_custom_action(label, action, css_class=null) {\n\t\tthis.footer.removeClass('hide');\n\t\tlet action_button = $(`\n\t\t\t<button class=\"btn btn-secondary btn-sm ${css_class || ''}\">\n\t\t\t\t${label}\n\t\t\t</button>\n\t\t`);\n\t\tthis.custom_actions.append(action_button);\n\n\t\taction && action_button.click(action);\n\t}\n};\n\nfrappe.ui.hide_open_dialog = () => {\n\t// hide open dialog\n\tif (window.cur_dialog) {\n\t\tif (!cur_dialog.minimizable) {\n\t\t\tcur_dialog.hide();\n\t\t} else if (!cur_dialog.is_minimized) {\n\t\t\tcur_dialog.toggle_minimize();\n\t\t}\n\t}\n};\n","// Copyright (c) 2015, Frappe Technologies Pvt. Ltd. and Contributors\n// MIT License. See license.txt\n\nfrappe.provide(\"frappe.messages\");\n\nimport './dialog';\n\nfrappe.messages.waiting = function(parent, msg) {\n\treturn $(frappe.messages.get_waiting_message(msg))\n\t\t.appendTo(parent);\n};\n\nfrappe.messages.get_waiting_message = function(msg) {\n\treturn repl('<div class=\"msg-box\" style=\"width: 63%; margin: 30px auto;\">\\\n\t\t<p class=\"text-center\">%(msg)s</p></div>', { msg: msg });\n}\n\nfrappe.throw = function(msg) {\n\tif(typeof msg==='string') {\n\t\tmsg = {message: msg, title: __('Error')};\n\t}\n\tif(!msg.indicator) msg.indicator = 'red';\n\tfrappe.msgprint(msg);\n\tthrow new Error(msg.message);\n}\n\nfrappe.confirm = function(message, confirm_action, reject_action) {\n\tvar d = new frappe.ui.Dialog({\n\t\ttitle: __(\"Confirm\"),\n\t\tprimary_action_label: __(\"Yes\"),\n\t\tprimary_action: () => {\n\t\t\tconfirm_action && confirm_action();\n\t\t\td.hide();\n\t\t},\n\t\tsecondary_action_label: __(\"No\"),\n\t\tsecondary_action: () => d.hide(),\n\t});\n\n\td.$body.append(`<p class=\"frappe-confirm-message\">${message}</p>`);\n\td.show();\n\n\t// flag, used to bind \"okay\" on enter\n\td.confirm_dialog = true;\n\n\t// no if closed without primary action\n\tif (reject_action) {\n\t\td.onhide = () => {\n\t\t\tif (!d.primary_action_fulfilled) {\n\t\t\t\treject_action();\n\t\t\t}\n\t\t};\n\t}\n\n\treturn d;\n};\n\nfrappe.warn = function(title, message_html, proceed_action, primary_label, is_minimizable) {\n\tconst d = new frappe.ui.Dialog({\n\t\ttitle: title,\n\t\tindicator: 'red',\n\t\tprimary_action_label: primary_label,\n\t\tprimary_action: () => {\n\t\t\tif (proceed_action) proceed_action();\n\t\t\td.hide();\n\t\t},\n\t\tsecondary_action_label: __(\"Cancel\", null, \"Secondary button in warning dialog\"),\n\t\tsecondary_action: () => d.hide(),\n\t\tminimizable: is_minimizable\n\t});\n\n\td.$body.append(`<div class=\"frappe-confirm-message\">${message_html}</div>`);\n\td.standard_actions.find('.btn-primary').removeClass('btn-primary').addClass('btn-danger');\n\td.standard_actions.find('.btn-primary').removeClass('btn-primary').addClass('btn-danger');\n\n\td.show();\n\treturn d;\n};\n\nfrappe.prompt = function(fields, callback, title, primary_label) {\n\tif (typeof fields === \"string\") {\n\t\tfields = [{\n\t\t\tlabel: fields,\n\t\t\tfieldname: \"value\",\n\t\t\tfieldtype: \"Data\",\n\t\t\treqd: 1\n\t\t}];\n\t}\n\tif(!$.isArray(fields)) fields = [fields];\n\tvar d = new frappe.ui.Dialog({\n\t\tfields: fields,\n\t\ttitle: title || __(\"Enter Value\"),\n\t});\n\td.set_primary_action(primary_label || __(\"Submit\"), function() {\n\t\tvar values = d.get_values();\n\t\tif(!values) {\n\t\t\treturn;\n\t\t}\n\t\td.hide();\n\t\tcallback(values);\n\t});\n\td.show();\n\treturn d;\n}\n\nfrappe.msgprint = function(msg, title, is_minimizable) {\n\tif(!msg) return;\n\n\tif($.isPlainObject(msg)) {\n\t\tvar data = msg;\n\t} else {\n\t\t// passed as JSON\n\t\tif(typeof msg==='string' && msg.substr(0,1)==='{') {\n\t\t\tvar data = JSON.parse(msg);\n\t\t} else {\n\t\t\tvar data = {'message': msg, 'title': title};\n\t\t}\n\t}\n\n\tif(!data.indicator) {\n\t\tdata.indicator = 'blue';\n\t}\n\n\tif (data.as_list) {\n\t\tconst list_rows = data.message.map(m => `<li>${m}</li>`).join('');\n\t\tdata.message = `<ul style=\"padding-left: 20px\">${list_rows}</ul>`;\n\t}\n\n\tif (data.as_table) {\n\t\tconst rows = data.message.map(row => {\n\t\t\tconst cols = row.map(col => `<td>${col}</td>`).join('');\n\t\t\treturn `<tr>${cols}</tr>`;\n\t\t}).join('');\n\t\tdata.message = `<table class=\"table table-bordered\" style=\"margin: 0;\">${rows}</table>`;\n\t}\n\n\tif(data.message instanceof Array) {\n\t\tdata.message.forEach(function(m) {\n\t\t\tfrappe.msgprint(m);\n\t\t});\n\t\treturn;\n\t}\n\n\tif(data.alert) {\n\t\tfrappe.show_alert(data);\n\t\treturn;\n\t}\n\n\tif(!frappe.msg_dialog) {\n\t\tfrappe.msg_dialog = new frappe.ui.Dialog({\n\t\t\ttitle: __(\"Message\"),\n\t\t\tonhide: function() {\n\t\t\t\tif(frappe.msg_dialog.custom_onhide) {\n\t\t\t\t\tfrappe.msg_dialog.custom_onhide();\n\t\t\t\t}\n\t\t\t\tfrappe.msg_dialog.msg_area.empty();\n\t\t\t},\n\t\t\tminimizable: data.is_minimizable || is_minimizable\n\t\t});\n\n\t\t// class \"msgprint\" is used in tests\n\t\tfrappe.msg_dialog.msg_area = $('<div class=\"msgprint\">')\n\t\t\t.appendTo(frappe.msg_dialog.body);\n\n\t\tfrappe.msg_dialog.clear = function() {\n\t\t\tfrappe.msg_dialog.msg_area.empty();\n\t\t}\n\n\t\tfrappe.msg_dialog.indicator = frappe.msg_dialog.header.find('.indicator');\n\t}\n\n\t// setup and bind an action to the primary button\n\tif (data.primary_action) {\n\t\tif (data.primary_action.server_action && typeof data.primary_action.server_action === 'string') {\n\t\t\tdata.primary_action.action = () => {\n\t\t\t\tfrappe.call({\n\t\t\t\t\tmethod: data.primary_action.server_action,\n\t\t\t\t\targs: {\n\t\t\t\t\t\targs: data.primary_action.args\n\t\t\t\t\t},\n\t\t\t\t\tcallback() {\n\t\t\t\t\t\tif (data.primary_action.hide_on_success) {\n\t\t\t\t\t\t\tfrappe.hide_msgprint();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\tif (data.primary_action.client_action && typeof data.primary_action.client_action === 'string') {\n\t\t\tlet parts = data.primary_action.client_action.split('.');\n\t\t\tlet obj = window;\n\t\t\tfor (let part of parts) {\n\t\t\t\tobj = obj[part];\n\t\t\t}\n\t\t\tdata.primary_action.action = () => {\n\t\t\t\tif (typeof obj === 'function') {\n\t\t\t\t\tobj(data.primary_action.args);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tfrappe.msg_dialog.set_primary_action(\n\t\t\t__(data.primary_action.label || data.primary_action_label || \"Done\"),\n\t\t\tdata.primary_action.action\n\t\t);\n\t} else {\n\t\tif (frappe.msg_dialog.has_primary_action) {\n\t\t\tfrappe.msg_dialog.get_primary_btn().addClass('hide');\n\t\t\tfrappe.msg_dialog.has_primary_action = false;\n\t\t}\n\t}\n\n\tif (data.secondary_action) {\n\t\tfrappe.msg_dialog.set_secondary_action(data.secondary_action.action);\n\t\tfrappe.msg_dialog.set_secondary_action_label(__(data.secondary_action.label || \"Close\"));\n\t}\n\n\tif(data.message==null) {\n\t\tdata.message = '';\n\t}\n\n\tif(data.message.search(/<br>|<p>|<li>/)==-1) {\n\t\tmsg = frappe.utils.replace_newlines(data.message);\n\t}\n\n\tvar msg_exists = false;\n\tif(data.clear) {\n\t\tfrappe.msg_dialog.msg_area.empty();\n\t} else {\n\t\tmsg_exists = frappe.msg_dialog.msg_area.html();\n\t}\n\n\tif(data.title || !msg_exists) {\n\t\t// set title only if it is explicitly given\n\t\t// and no existing title exists\n\t\tfrappe.msg_dialog.set_title(data.title || __('Message', null, 'Default title of the message dialog'));\n\t}\n\n\t// show / hide indicator\n\tif(data.indicator) {\n\t\tfrappe.msg_dialog.indicator.removeClass().addClass('indicator ' + data.indicator);\n\t} else {\n\t\tfrappe.msg_dialog.indicator.removeClass().addClass('hidden');\n\t}\n\n\t// width\n\tif (data.wide) {\n\t\t// msgprint should be narrower than the usual dialog\n\t\tif (frappe.msg_dialog.wrapper.classList.contains('msgprint-dialog')) {\n\t\t\tfrappe.msg_dialog.wrapper.classList.remove('msgprint-dialog');\n\t\t}\n\t} else {\n\t\t// msgprint should be narrower than the usual dialog\n\t\tfrappe.msg_dialog.wrapper.classList.add('msgprint-dialog');\n\t}\n\n\tif(msg_exists) {\n\t\tfrappe.msg_dialog.msg_area.append(\"<hr>\");\n\t// append a <hr> if another msg already exists\n\t}\n\n\tfrappe.msg_dialog.msg_area.append(data.message);\n\n\t// make msgprint always appear on top\n\tfrappe.msg_dialog.$wrapper.css(\"z-index\", 2000);\n\tfrappe.msg_dialog.show();\n\n\treturn frappe.msg_dialog;\n}\n\nwindow.msgprint = frappe.msgprint;\n\nfrappe.hide_msgprint = function(instant) {\n\t// clear msgprint\n\tif(frappe.msg_dialog && frappe.msg_dialog.msg_area) {\n\t\tfrappe.msg_dialog.msg_area.empty();\n\t}\n\tif(frappe.msg_dialog && frappe.msg_dialog.$wrapper.is(\":visible\")) {\n\t\tif(instant) {\n\t\t\tfrappe.msg_dialog.$wrapper.removeClass(\"fade\");\n\t\t}\n\t\tfrappe.msg_dialog.hide();\n\t\tif(instant) {\n\t\t\tfrappe.msg_dialog.$wrapper.addClass(\"fade\");\n\t\t}\n\t}\n}\n\n// update html in existing msgprint\nfrappe.update_msgprint = function(html) {\n\tif(!frappe.msg_dialog || (frappe.msg_dialog && !frappe.msg_dialog.$wrapper.is(\":visible\"))) {\n\t\tfrappe.msgprint(html);\n\t} else {\n\t\tfrappe.msg_dialog.msg_area.html(html);\n\t}\n}\n\nfrappe.verify_password = function(callback) {\n\tfrappe.prompt({\n\t\tfieldname: \"password\",\n\t\tlabel: __(\"Enter your password\"),\n\t\tfieldtype: \"Password\",\n\t\treqd: 1\n\t}, function(data) {\n\t\tfrappe.call({\n\t\t\tmethod: \"frappe.core.doctype.user.user.verify_password\",\n\t\t\targs: {\n\t\t\t\tpassword: data.password\n\t\t\t},\n\t\t\tcallback: function(r) {\n\t\t\t\tif(!r.exc) {\n\t\t\t\t\tcallback();\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}, __(\"Verify Password\"), __(\"Verify\"))\n}\n\nfrappe.show_progress = (title, count, total = 100, description, hide_on_completion = false) => {\n\tlet dialog;\n\tif (\n\t\tfrappe.cur_progress &&\n\t\tfrappe.cur_progress.title === title &&\n\t\tfrappe.cur_progress.is_visible\n\t) {\n\t\tdialog = frappe.cur_progress;\n\t} else {\n\t\tdialog = new frappe.ui.Dialog({\n\t\t\ttitle: title\n\t\t});\n\t\tdialog.progress = $(`<div>\n\t\t\t<div class=\"progress\">\n\t\t\t\t<div class=\"progress-bar\"></div>\n\t\t\t</div>\n\t\t\t<p class=\"description text-muted small\"></p>\n\t\t</div`).appendTo(dialog.body);\n\t\tdialog.progress_bar = dialog.progress\n\t\t\t.css({ 'margin-top': '10px' })\n\t\t\t.find('.progress-bar');\n\t\tdialog.$wrapper.removeClass('fade');\n\t\tdialog.show();\n\t\tfrappe.cur_progress = dialog;\n\t}\n\tif (description) {\n\t\tdialog.progress.find('.description').text(description);\n\t}\n\tdialog.percent = cint((flt(count) * 100) / total);\n\tdialog.progress_bar.css({ width: dialog.percent + '%' });\n\tif (hide_on_completion && dialog.percent === 100) {\n\t\t// timeout to avoid abrupt hide\n\t\tsetTimeout(frappe.hide_progress, 500);\n\t}\n\treturn dialog;\n};\n\nfrappe.hide_progress = function() {\n\tif(frappe.cur_progress) {\n\t\tfrappe.cur_progress.hide();\n\t\tfrappe.cur_progress = null;\n\t}\n}\n\n// Floating Message\nfrappe.show_alert = function(message, seconds=7, actions={}) {\n\tlet indicator_icon_map = {\n\t\t'orange': \"solid-warning\",\n\t\t'yellow': \"solid-warning\",\n\t\t'blue': \"solid-info\",\n\t\t'green': \"solid-success\",\n\t\t'red': \"solid-error\"\n\t};\n\n\tif (typeof message==='string') {\n\t\tmessage = {\n\t\t\tmessage: message\n\t\t};\n\t}\n\n\tif (!$('#dialog-container').length) {\n\t\t$('<div id=\"dialog-container\"><div id=\"alert-container\"></div></div>').appendTo('body');\n\t}\n\n\tlet icon;\n\tif (message.indicator) {\n\t\ticon = indicator_icon_map[message.indicator.toLowerCase()] || 'solid-' + message.indicator;\n\t} else {\n\t\ticon = 'solid-info';\n\t}\n\n\tconst indicator = message.indicator || 'blue';\n\n\tconst div = $(`\n\t\t<div class=\"alert desk-alert ${indicator}\" role=\"alert\">\n\t\t\t<div class=\"alert-message-container\">\n\t\t\t\t<div class=\"alert-title-container\">\n\t\t\t\t\t<div>${frappe.utils.icon(icon, 'lg')}</div>\n\t\t\t\t\t<div class=\"alert-message\">${message.message}</div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"alert-subtitle\">${message.subtitle || '' }</div>\n\t\t\t</div>\n\t\t\t<div class=\"alert-body\" style=\"display: none\"></div>\n\t\t\t<a class=\"close\">${frappe.utils.icon('close-alt')}</a>\n\t\t</div>\n\t`);\n\n\tdiv.hide().appendTo(\"#alert-container\").show();\n\n\tif (message.body) {\n\t\tdiv.find('.alert-body').show().html(message.body);\n\t}\n\n\tdiv.find('.close, button').click(function() {\n\t\tdiv.addClass('out');\n\t\tsetTimeout(() => div.remove(), 800);\n\t\treturn false;\n\t});\n\n\tObject.keys(actions).map(key => {\n\t\tdiv.find(`[data-action=${key}]`).on('click', actions[key]);\n\t});\n\n\tif (seconds > 2) {\n\t\t// Delay for animation\n\t\tseconds = seconds - 0.8;\n\t}\n\n\tsetTimeout(() => {\n\t\tdiv.addClass('out');\n\t\tsetTimeout(() => div.remove(), 800);\n\t\treturn false;\n\t}, seconds * 1000);\n\n\treturn div;\n}\n\n// Proxy for frappe.show_alert\nObject.defineProperty(window, 'show_alert', {\n\tget: function() {\n\t\tconsole.warn('Please use `frappe.show_alert` instead of `show_alert`. It will be deprecated soon.');\n\t\treturn frappe.show_alert;\n\t}\n});\n","frappe.provide('frappe.ui.keys');\n\nlet shortcut_groups = new WeakMap();\nlet shortcut_group_list = [];\nfrappe.ui.keys.shortcut_groups = shortcut_groups;\n\nfrappe.ui.keys.get_shortcut_group = (parent) => {\n\t// parent must be an object\n\tif (!shortcut_groups.has(parent)) {\n\t\tshortcut_groups.set(parent, new frappe.ui.keys.AltShortcutGroup());\n\t}\n\treturn shortcut_groups.get(parent);\n};\n\nlet listener_added = false;\nlet $current_dropdown = null;\nlet $body = $(document.body);\n\nfrappe.ui.keys.bind_shortcut_group_event = () => {\n\tif (listener_added) return;\n\tlistener_added = true;\n\n\tfunction highlight_alt_shortcuts() {\n\t\tif ($current_dropdown) {\n\t\t\t$current_dropdown.addClass('alt-pressed');\n\t\t\t$body.removeClass('alt-pressed');\n\t\t} else {\n\t\t\t$body.addClass('alt-pressed');\n\t\t\t$current_dropdown && $current_dropdown.removeClass('alt-pressed');\n\t\t}\n\t}\n\n\tfunction unhighlight_alt_shortcuts() {\n\t\t$current_dropdown && $current_dropdown.removeClass('alt-pressed');\n\t\t$body.removeClass('alt-pressed');\n\t}\n\n\t$(document).on('keydown', (e) => {\n\t\tlet key = (frappe.ui.keys.key_map[e.which] || '').toLowerCase();\n\n\t\tif (key === 'alt') {\n\t\t\thighlight_alt_shortcuts();\n\t\t}\n\n\t\tif (e.shiftKey || e.ctrlKey || e.metaKey) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (key && e.altKey) {\n\t\t\tlet shortcut = get_shortcut_for_key(key);\n\t\t\tif (shortcut) {\n\t\t\t\te.preventDefault();\n\t\t\t\tshortcut.$target[0].click();\n\t\t\t}\n\t\t\thighlight_alt_shortcuts();\n\t\t}\n\t});\n\t$(document).on('keyup', (e) => {\n\t\tif (e.key === 'Alt') {\n\t\t\tunhighlight_alt_shortcuts();\n\t\t}\n\t});\n\t$(document).on('mousemove', () => {\n\t\tunhighlight_alt_shortcuts();\n\t});\n};\n\nfunction get_shortcut_for_key(key) {\n\t// Get the shortcut for combination of alt+key\n\t// Priority 1: Open dropdown\n\t// Priority 2: Current Page\n\n\tlet shortcuts = shortcut_group_list\n\t\t.filter(shortcut_group => key in shortcut_group.shortcuts_dict)\n\t\t.map(shortcut_group => shortcut_group.shortcuts_dict[key])\n\t\t.filter(shortcut => shortcut.$target.is(':visible'));\n\n\tlet shortcut = null;\n\n\tif ($current_dropdown && $current_dropdown.is('.open')) {\n\t\tshortcut = shortcuts.find(\n\t\t\tshortcut => $.contains($current_dropdown[0], shortcut.$target[0])\n\t\t);\n\t}\n\n\tif (shortcut) return shortcut;\n\n\tshortcut = shortcuts.find(\n\t\tshortcut => $.contains(window.cur_page.page.page.wrapper[0], shortcut.$target[0])\n\t);\n\n\treturn shortcut;\n}\n\nfrappe.ui.keys.AltShortcutGroup = class AltShortcutGroup {\n\tconstructor() {\n\t\tthis.shortcuts_dict = {};\n\t\t$current_dropdown = null;\n\t\tthis.bind_events();\n\t\tfrappe.ui.keys.bind_shortcut_group_event();\n\t\tshortcut_group_list.push(this);\n\t}\n\n\tbind_events() {\n\t\t$(document).on('show.bs.dropdown', (e) => {\n\t\t\t$current_dropdown && $current_dropdown.removeClass('alt-pressed');\n\t\t\tlet $target = $(e.target);\n\t\t\tif ($target.is('.dropdown, .btn-group')) {\n\t\t\t\t$current_dropdown = $target;\n\t\t\t}\n\t\t});\n\t\t$(document).on('hide.bs.dropdown', () => {\n\t\t\t$current_dropdown && $current_dropdown.removeClass('alt-pressed');\n\t\t\t$current_dropdown = null;\n\t\t});\n\t}\n\n\tadd($target, $text_el) {\n\t\tif (!$text_el) {\n\t\t\t$text_el = $target;\n\t\t}\n\t\tlet text_content = $text_el.text().trim();\n\t\tlet letters = text_content.split('');\n\t\t// first unused letter\n\t\tlet shortcut_letter = letters.find(letter => {\n\t\t\tletter = letter.toLowerCase();\n\t\t\tlet is_valid_char = letter >= 'a' && letter <= 'z';\n\t\t\treturn !this.is_taken(letter) && is_valid_char;\n\t\t});\n\t\tif (!shortcut_letter) {\n\t\t\t$text_el.attr('data-label', encodeURIComponent(text_content));\n\t\t\treturn;\n\t\t}\n\t\tfor (let key in this.shortcuts_dict) {\n\t\t\tlet shortcut = this.shortcuts_dict[key];\n\t\t\tif (shortcut.text === text_content) {\n\t\t\t\tshortcut.$target = $target;\n\t\t\t\tshortcut.$text_el = $text_el;\n\t\t\t\tthis.underline_text(shortcut);\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\n\t\tlet shortcut = {\n\t\t\t$target,\n\t\t\t$text_el,\n\t\t\tletter: shortcut_letter,\n\t\t\ttext: text_content\n\t\t};\n\t\tthis.shortcuts_dict[shortcut_letter.toLowerCase()] = shortcut;\n\t\tthis.underline_text(shortcut);\n\t}\n\n\tunderline_text(shortcut) {\n\t\tshortcut.$text_el.attr('data-label', encodeURIComponent(shortcut.text));\n\t\tlet underline_el_found = false;\n\t\tlet text_html = shortcut.text.split('').map(letter => {\n\t\t\tif (letter === shortcut.letter && !underline_el_found) {\n\t\t\t\tletter = `<span class=\"alt-underline\">${letter}</span>`;\n\t\t\t\tunderline_el_found = true;\n\t\t\t}\n\t\t\treturn letter;\n\t\t}).join('');\n\t\tlet original_text_html = shortcut.$text_el.html();\n\t\ttext_html = original_text_html.replace(shortcut.text.trim(), text_html.trim());\n\t\tshortcut.$text_el.html(text_html);\n\t}\n\n\tis_taken(letter) {\n\t\tlet is_in_global_shortcut = frappe.ui.keys.standard_shortcuts\n\t\t\t.filter(s => !s.page)\n\t\t\t.some(s => s.shortcut === `alt+${letter}`);\n\t\treturn letter in this.shortcuts_dict || is_in_global_shortcut;\n\t}\n};\n","import './alt_keyboard_shortcuts';\n\nfrappe.provide('frappe.ui.keys.handlers');\n\nfrappe.ui.keys.setup = function() {\n\t$(window).on('keydown', function(e) {\n\t\tvar key = frappe.ui.keys.get_key(e);\n\t\tif(frappe.ui.keys.handlers[key]) {\n\t\t\tvar out = null;\n\t\t\tfor(var i=0, l = frappe.ui.keys.handlers[key].length; i<l; i++) {\n\t\t\t\tvar handler = frappe.ui.keys.handlers[key][i];\n\t\t\t\tvar _out = handler.apply(this, [e]);\n\t\t\t\tif(_out===false) {\n\t\t\t\t\tout = _out;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn out;\n\t\t}\n\t});\n}\n\nlet standard_shortcuts = [];\nfrappe.ui.keys.standard_shortcuts = standard_shortcuts;\nfrappe.ui.keys.add_shortcut = ({shortcut, action, description, page, target, condition, ignore_inputs = false} = {}) => {\n\tif (target instanceof jQuery) {\n\t\tlet $target = target;\n\t\taction = () => {\n\t\t\t$target[0].click();\n\t\t}\n\t}\n\tif (!condition) {\n\t\tcondition = () => true;\n\t}\n\tlet handler = (e) => {\n\t\tlet $focused_element = $(document.activeElement);\n\t\tlet is_input_focused = $focused_element.is('input, select, textarea, [contenteditable=true]');\n\t\tif (is_input_focused && !ignore_inputs) return;\n\t\tif (!condition()) return;\n\n\t\tif (action && (!page || page.wrapper.is(':visible'))) {\n\t\t\tlet prevent_default = action(e);\n\t\t\t// prevent default if true is explicitly returned\n\t\t\t// or nothing returned (undefined)\n\t\t\tif (prevent_default || prevent_default === undefined) {\n\t\t\t\te.preventDefault();\n\t\t\t}\n\t\t}\n\t};\n\t// monkey patch page to handler\n\thandler.page = page;\n\t// remove handler with the same page attached to it\n\tfrappe.ui.keys.off(shortcut, page);\n\t// attach new handler\n\tfrappe.ui.keys.on(shortcut, handler);\n\n\t// update standard shortcut list\n\tlet existing_shortcut_index = standard_shortcuts.findIndex(\n\t\ts => s.shortcut === shortcut\n\t);\n\tlet new_shortcut = { shortcut, action, description, page, condition };\n\tif (existing_shortcut_index === -1) {\n\t\tstandard_shortcuts.push(new_shortcut);\n\t} else {\n\t\tstandard_shortcuts[existing_shortcut_index] = new_shortcut;\n\t}\n}\n\nfrappe.ui.keys.show_keyboard_shortcut_dialog = () => {\n\tif (frappe.ui.keys.is_dialog_shown) return;\n\n\tlet global_shortcuts = standard_shortcuts.filter(shortcut => !shortcut.page);\n\tlet current_page_shortcuts = standard_shortcuts.filter(\n\t\tshortcut => shortcut.page && shortcut.page === window.cur_page.page.page);\n\n\tlet grid_shortcuts = standard_shortcuts.filter(\n\t\tshortcut => shortcut.page && shortcut.page === window.cur_page.page.frm);\n\n\tfunction generate_shortcuts_html(shortcuts, heading) {\n\t\tif (!shortcuts.length) {\n\t\t\treturn '';\n\t\t}\n\t\tlet html = shortcuts\n\t\t\t.filter(s => s.condition ? s.condition() : true)\n\t\t\t.map(shortcut => {\n\t\t\t\tlet shortcut_label = shortcut.shortcut\n\t\t\t\t\t.split('+')\n\t\t\t\t\t.map(frappe.utils.to_title_case)\n\t\t\t\t\t.join('+');\n\t\t\t\tif (frappe.utils.is_mac()) {\n\t\t\t\t\tshortcut_label = shortcut_label.replace('Ctrl', '⌘');\n\t\t\t\t}\n\t\t\t\treturn `<tr>\n\t\t\t\t\t<td width=\"40%\"><kbd>${shortcut_label}</kbd></td>\n\t\t\t\t\t<td width=\"60%\">${shortcut.description || ''}</td>\n\t\t\t\t</tr>`;\n\t\t\t}).join('');\n\t\thtml = `<h5 style=\"margin: 0;\">${heading}</h5>\n\t\t\t<table style=\"margin-top: 10px;\" class=\"table table-bordered\">\n\t\t\t\t${html}\n\t\t\t</table>`;\n\t\treturn html;\n\t}\n\n\tlet global_shortcuts_html = generate_shortcuts_html(global_shortcuts, __('Global Shortcuts'));\n\tlet current_page_shortcuts_html = generate_shortcuts_html(current_page_shortcuts, __('Page Shortcuts'));\n\tlet grid_shortcuts_html = generate_shortcuts_html(grid_shortcuts, __('Grid Shortcuts'));\n\n\tlet dialog = new frappe.ui.Dialog({\n\t\ttitle: __('Keyboard Shortcuts'),\n\t\ton_hide() {\n\t\t\tfrappe.ui.keys.is_dialog_shown = false;\n\t\t}\n\t});\n\n\tdialog.$body.append(global_shortcuts_html);\n\tdialog.$body.append(current_page_shortcuts_html);\n\tdialog.$body.append(grid_shortcuts_html);\n\tdialog.$body.append(`\n\t\t<div class=\"text-muted\">\n\t\t\t${__('Press Alt Key to trigger additional shortcuts in Menu and Sidebar')}\n\t\t</div>\n\t`);\n\n\tdialog.show();\n\tfrappe.ui.keys.is_dialog_shown = true;\n}\n\nfrappe.ui.keys.get_key = function(e) {\n\tvar keycode = e.keyCode || e.which;\n\tvar key = frappe.ui.keys.key_map[keycode] || String.fromCharCode(keycode);\n\n\tif(e.ctrlKey || e.metaKey) {\n\t\t// add ctrl+ the key\n\t\tkey = 'ctrl+' + key;\n\t}\n\tif(e.shiftKey) {\n\t\t// add ctrl+ the key\n\t\tkey = 'shift+' + key;\n\t}\n\tif (e.altKey) {\n\t\t// add alt+ the key\n\t\tkey = 'alt+' + key;\n\t}\n\tif (e.altKey && e.ctrlKey) {\n\t\t// add alt+ctrl+ the key or single key e.g f1,f2,etc..\n\t\treturn key.toLowerCase();\n\t}\n\treturn key.toLowerCase();\n}\n\nfrappe.ui.keys.on = function(key, handler) {\n\tif(!frappe.ui.keys.handlers[key]) {\n\t\tfrappe.ui.keys.handlers[key] = [];\n\t}\n\tfrappe.ui.keys.handlers[key].push(handler);\n}\n\nfrappe.ui.keys.off = function(key, page) {\n\tlet handlers = frappe.ui.keys.handlers[key];\n\tif (!handlers || handlers.length === 0) return;\n\tfrappe.ui.keys.handlers[key] = handlers.filter(h => {\n\t\tif (!page) return false;\n\t\treturn h.page !== page;\n\t});\n}\n\nfrappe.ui.keys.add_shortcut({\n\tshortcut: 'ctrl+s',\n\taction: function(e) {\n\t\tfrappe.app.trigger_primary_action();\n\t\te.preventDefault();\n\t\treturn false;\n\t},\n\tdescription: __('Trigger Primary Action'),\n\tignore_inputs: true\n});\n\nfrappe.ui.keys.add_shortcut({\n\tshortcut: 'ctrl+g',\n\taction: function(e) {\n\t\t$(\"#navbar-search\").focus();\n\t\te.preventDefault();\n\t\treturn false;\n\t},\n\tdescription: __('Open Awesomebar')\n});\n\nfrappe.ui.keys.add_shortcut({\n\tshortcut: 'ctrl+h',\n\taction: function(e) {\n\t\te.preventDefault();\n\t\t$('.navbar-home img').click();\n\t},\n\tdescription: __('Navigate Home')\n});\n\nfrappe.ui.keys.add_shortcut({\n\tshortcut: 'alt+s',\n\taction: function(e) {\n\t\te.preventDefault();\n\t\t$('.dropdown-navbar-user a').eq(0).click();\n\t},\n\tdescription: __('Open Settings')\n});\n\nfrappe.ui.keys.add_shortcut({\n\tshortcut: 'shift+/',\n\taction: function() {\n\t\tfrappe.ui.keys.show_keyboard_shortcut_dialog();\n\t},\n\tdescription: __('Show Keyboard Shortcuts')\n});\n\nfrappe.ui.keys.add_shortcut({\n\tshortcut: 'alt+h',\n\taction: function(e) {\n\t\te.preventDefault();\n\t\t$('.dropdown-help a').eq(0).click();\n\t},\n\tdescription: __('Open Help')\n});\n\nfrappe.ui.keys.on('escape', function(e) {\n\tclose_grid_and_dialog();\n});\n\nfrappe.ui.keys.on('esc', function(e) {\n\tclose_grid_and_dialog();\n});\n\nfrappe.ui.keys.on('enter', function(e) {\n\tif(window.cur_dialog && cur_dialog.confirm_dialog) {\n\t\tcur_dialog.get_primary_btn().trigger('click');\n\t}\n});\n\nfrappe.ui.keys.on('ctrl+down', function(e) {\n\tvar grid_row = frappe.ui.form.get_open_grid_form();\n\tgrid_row && grid_row.toggle_view(false, function() { grid_row.open_next() });\n});\n\nfrappe.ui.keys.on('ctrl+up', function(e) {\n\tvar grid_row = frappe.ui.form.get_open_grid_form();\n\tgrid_row && grid_row.toggle_view(false, function() { grid_row.open_prev() });\n});\n\nfrappe.ui.keys.add_shortcut({\n\tshortcut: 'shift+ctrl+r',\n\taction: function() {\n\t\tfrappe.ui.toolbar.clear_cache();\n\t},\n\tdescription: __('Clear Cache and Reload')\n});\n\nfrappe.ui.keys.key_map = {\n\t8: 'backspace',\n\t9: 'tab',\n\t13: 'enter',\n\t16: 'shift',\n\t17: 'ctrl',\n\t91: 'meta',\n\t18: 'alt',\n\t27: 'escape',\n\t37: 'left',\n\t39: 'right',\n\t38: 'up',\n\t40: 'down',\n\t32: 'space',\n\t112: 'f1',\n\t113: 'f2',\n\t114: 'f3',\n\t115: 'f4',\n\t116: 'f5',\n\t191: '/',\n\t188: '<',\n\t190: '>'\n}\n\n'abcdefghijklmnopqrstuvwxyz'.split('').forEach((letter, i) => {\n\tfrappe.ui.keys.key_map[65 + i] = letter;\n});\n\n// keyCode map\nfrappe.ui.keyCode = {\n\tESCAPE: 27,\n\tLEFT: 37,\n\tRIGHT: 39,\n\tUP: 38,\n\tDOWN: 40,\n\tENTER: 13,\n\tTAB: 9,\n\tSPACE: 32,\n\tBACKSPACE: 8\n}\n\nfunction close_grid_and_dialog() {\n\t// close open grid row\n\tvar open_row = $(\".grid-row-open\");\n\tif (open_row.length) {\n\t\tvar grid_row = open_row.data(\"grid_row\");\n\t\tgrid_row.toggle_view(false);\n\t\treturn false;\n\t}\n\n\t// close open dialog\n\tif (cur_dialog && !cur_dialog.no_cancel_flag) {\n\t\tcur_dialog.cancel();\n\t\treturn false;\n\t}\n}\n\n// blur when escape is pressed on dropdowns\n$(document).on('keydown', '.dropdown-toggle', (e) => {\n\tif (e.which === frappe.ui.keyCode.ESCAPE) {\n\t\t$(e.currentTarget).blur();\n\t}\n});\n","// Copyright (c) 2017, Frappe Technologies Pvt. Ltd. and Contributors\n// MIT License. See license.txt\n\nfrappe.provide(\"frappe.ui\");\n\nfrappe.ui.color = {\n\tget: function(color_name, shade) {\n\t\tif(color_name && shade) return this.get_color_shade(color_name, shade);\n\t\tif(color_name) return this.get_color_shade(color_name, 'default');\n\t\treturn frappe.ui.color_map;\n\t},\n\tget_color: function(color_name) {\n\t\tconst color_names = Object.keys(frappe.ui.color_map);\n\t\tif(color_names.includes(color_name)) {\n\t\t\treturn frappe.ui.color_map[color_name];\n\t\t} else {\n\t\t\t// eslint-disable-next-line\n\t\t\tconsole.warn(`'color_name' can be one of ${color_names} and not ${color_name}`);\n\t\t}\n\t},\n\tget_color_map() {\n\t\tconst colors = ['red', 'green', 'blue', 'dark-green', 'yellow', 'gray', 'purple', 'pink', 'orange'];\n\t\tconst shades = ['100', '300', '500', '700'];\n\t\tconst style = getComputedStyle(document.body);\n\t\tlet color_map = {};\n\t\tcolors.forEach(color => {\n\t\t\tcolor_map[color] = shades.map(shade =>\n\t\t\t\tstyle.getPropertyValue(`--${color}-${shade}`).trim()\n\t\t\t);\n\t\t});\n\t\treturn color_map;\n\t},\n\tget_color_shade: function(color_name, shade) {\n\t\tconst shades = {\n\t\t\t'default': 2,\n\t\t\t'light': 1,\n\t\t\t'extra-light': 0,\n\t\t\t'dark': 3\n\t\t};\n\n\t\tif(Object.keys(shades).includes(shade)) {\n\t\t\tconst color = this.get_color(color_name);\n\t\t\treturn color ? color[shades[shade]] : color_name;\n\t\t} else {\n\t\t\t// eslint-disable-next-line\n\t\t\tconsole.warn(`'shade' can be one of ${Object.keys(shades)} and not ${shade}`);\n\t\t}\n\t},\n\tall: function() {\n\t\treturn Object.values(frappe.ui.color_map)\n\t\t\t.reduce((acc, curr) => acc.concat(curr) , []);\n\t},\n\tnames: function() {\n\t\treturn Object.keys(frappe.ui.color_map);\n\t},\n\tis_standard: function(color_name) {\n\t\tif(!color_name) return false;\n\t\tif(color_name.startsWith('#')) {\n\t\t\treturn this.all().includes(color_name);\n\t\t}\n\t\treturn this.names().includes(color_name);\n\t},\n\tget_color_name: function(hex) {\n\t\tfor (const key in frappe.ui.color_map) {\n\t\t\tconst colors = frappe.ui.color_map[key];\n\t\t\tif (colors.includes(hex)) return key;\n\t\t}\n\t},\n\tget_contrast_color: function(hex) {\n\t\tif(!this.validate_hex(hex)) {\n\t\t\treturn;\n\t\t}\n\t\tif(!this.is_standard(hex)) {\n\t\t\tconst brightness = this.brightness(hex);\n\t\t\tif(brightness < 128) {\n\t\t\t\treturn this.lighten(hex, 0.5);\n\t\t\t}\n\t\t\treturn this.lighten(hex, -0.5);\n\t\t}\n\n\t\tconst color_name = this.get_color_name(hex);\n\t\tconst colors = this.get_color(color_name);\n\t\tconst shade_value = colors.indexOf(hex);\n\t\tif(shade_value <= 1) {\n\t\t\treturn this.get(color_name, 'dark');\n\t\t}\n\t\treturn this.get(color_name, 'extra-light');\n\t},\n\n\tvalidate_hex: function(hex) {\n\t\t// https://stackoverflow.com/a/8027444/5353542\n\t\treturn /(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(hex);\n\t},\n\n\tlighten(color, percent) {\n\t\t// https://stackoverflow.com/a/13542669/5353542\n\t\tvar f = parseInt(color.slice(1), 16),\n\t\t\tt = percent < 0 ? 0 : 255,\n\t\t\tp = percent < 0 ? percent * -1 : percent,\n\t\t\tR = f >> 16,\n\t\t\tG = f >> 8 & 0x00FF,\n\t\t\tB = f & 0x0000FF;\n\t\treturn \"#\" +\n\t\t\t(0x1000000 +\n\t\t\t\t(Math.round((t - R) * p) + R) *\n\t\t\t\t0x10000 +\n\t\t\t\t(Math.round((t - G) * p) + G) *\n\t\t\t\t0x100 + (Math.round((t - B) * p) + B)\n\t\t\t).toString(16).slice(1);\n\t},\n\n\thex_to_rgb(hex) {\n\t\tif(hex.startsWith('#')) {\n\t\t\thex = hex.substring(1);\n\t\t}\n\t\tconst r = parseInt(hex.substring(0, 2), 16);\n\t\tconst g = parseInt(hex.substring(2, 4), 16);\n\t\tconst b = parseInt(hex.substring(4, 6), 16);\n\t\treturn {r, g, b};\n\t},\n\n\tbrightness(hex) {\n\t\tconst rgb = this.hex_to_rgb(hex);\n\t\t// https://www.w3.org/TR/AERT#color-contrast\n\t\t// 255 - brightest (#fff)\n\t\t// 0 - darkest (#000)\n\t\treturn (rgb.r * 299 + rgb.g * 587 + rgb.b * 114) / 1000;\n\t}\n};\n\nfrappe.ui.color_map = frappe.ui.color.get_color_map();\n","frappe.provide('frappe.ui');\n\nfrappe.ui.Sidebar = class Sidebar {\n\tconstructor({ wrapper, css_class }) {\n\t\tthis.wrapper = wrapper;\n\t\tthis.css_class = css_class;\n\t\tthis.items = {};\n\t\tthis.make_dom();\n\t}\n\n\tmake_dom() {\n\t\tthis.wrapper.html(`\n\t\t\t<div class=\"${this.css_class} overlay-sidebar hidden-xs hidden-sm\">\n\t\t\t</div>\n\t\t`);\n\n\t\tthis.$sidebar = this.wrapper.find('.' + this.css_class);\n\t}\n\n\tadd_item(item, section, h6=false) {\n\t\tlet $section, $li_item;\n\t\tif(!section && this.wrapper.find('.sidebar-menu').length === 0) {\n\t\t\t// if no section, add section with no heading\n\t\t\t$section = this.get_section();\n\t\t} else {\n\t\t\t$section = this.get_section(section);\n\t\t}\n\n\t\tif(item instanceof jQuery) {\n\t\t\t$li_item = $(`<li>`);\n\t\t\titem.appendTo($li_item);\n\t\t} else {\n\t\t\tconst className = h6 ? 'h6' : '';\n\t\t\tconst html = `<li class=${className}>\n\t\t\t\t<a ${item.href ? `href=\"${item.href}\"` : ''}>${item.label}</a>\n\t\t\t</li>`;\n\t\t\t$li_item = $(html).click(\n\t\t\t\t() => item.on_click && item.on_click()\n\t\t\t);\n\t\t}\n\n\t\t$section.append($li_item);\n\n\t\tif(item.name) {\n\t\t\tthis.items[item.name] = $li_item;\n\t\t}\n\t}\n\n\tremove_item(name) {\n\t\tif(this.items[name]) {\n\t\t\tthis.items[name].remove();\n\t\t}\n\t}\n\n\tget_section(section_heading=\"\") {\n\t\tlet $section = $(this.wrapper.find(\n\t\t\t`[data-section-heading=\"${section_heading}\"]`));\n\t\tif($section.length) {\n\t\t\treturn $section;\n\t\t}\n\n\t\tconst $section_heading = section_heading ?\n\t\t\t`<li class=\"h6\">${section_heading}</li>` : '';\n\n\t\t$section = $(`\n\t\t\t<ul class=\"list-unstyled sidebar-menu\" data-section-heading=\"${section_heading || 'default'}\">\n\t\t\t\t${$section_heading}\n\t\t\t</ul>\n\t\t`);\n\n\t\tthis.$sidebar.append($section);\n\t\treturn $section;\n\t}\n};\n","frappe.ui.LinkPreview = class {\n\n\tconstructor() {\n\t\tthis.popovers_list = [];\n\t\tthis.LINK_CLASSES = 'a[data-doctype], input[data-fieldtype=\"Link\"], .popover';\n\t\tthis.popover_timeout = null;\n\t\tthis.setup_events();\n\t}\n\n\tsetup_events() {\n\t\t$(document.body).on('mouseover', this.LINK_CLASSES, (e) => {\n\t\t\tthis.link_hovered = true;\n\t\t\tthis.element = $(e.currentTarget);\n\t\t\tthis.is_link = this.element.get(0).tagName.toLowerCase() === 'a';\n\n\t\t\tif (!this.element.parents().find('.popover').length) {\n\t\t\t\tthis.identify_doc();\n\t\t\t\tthis.popover = this.element.data(\"bs.popover\");\n\t\t\t\tif (this.name && this.doctype) {\n\t\t\t\t\tthis.setup_popover_control(e);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\tthis.handle_popover_hide();\n\t}\n\n\tidentify_doc() {\n\t\tif (this.is_link) {\n\t\t\tthis.doctype = this.element.attr('data-doctype');\n\t\t\tthis.name = this.element.attr('data-name');\n\t\t\tthis.href = this.element.attr('href');\n\t\t} else {\n\t\t\tthis.href = this.element.parents('.control-input-wrapper').find('.control-value a').attr('href');\n\t\t\t// input\n\t\t\tthis.doctype = this.element.attr('data-target');\n\t\t\tthis.name = this.element.val();\n\t\t}\n\t}\n\n\tsetup_popover_control(e) {\n\t\tif (!(frappe.boot.link_preview_doctypes || []).includes(this.doctype)) {\n\t\t\treturn;\n\t\t}\n\t\t//If control field value is changed, new popover has to be created\n\t\tthis.element.on('change', () => {\n\t\t\tthis.new_popover = true;\n\t\t});\n\t\tif (!this.popover || this.new_popover) {\n\t\t\tthis.data_timeout = setTimeout(() => {\n\t\t\t\tthis.create_popover(e);\n\t\t\t}, 100);\n\n\t\t} else {\n\t\t\tthis.popover_timeout = setTimeout(() => {\n\t\t\t\tif (this.element.is(':focus')) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tthis.show_popover(e);\n\t\t\t}, 1000);\n\t\t}\n\t}\n\n\tcreate_popover(e) {\n\t\tthis.new_popover = false;\n\t\tif (this.element.is(':focus')) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.get_preview_data().then(preview_data => {\n\t\t\tif (preview_data) {\n\t\t\t\tif (this.popover_timeout) {\n\t\t\t\t\tclearTimeout(this.popover_timeout);\n\t\t\t\t}\n\n\t\t\t\tthis.popover_timeout = setTimeout(() => {\n\t\t\t\t\tif (this.popover && this.popover.options) {\n\t\t\t\t\t\tlet new_content = this.get_popover_html(preview_data);\n\t\t\t\t\t\tthis.popover.options.content = new_content;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.init_preview_popover(preview_data);\n\t\t\t\t\t}\n\t\t\t\t\tthis.show_popover(e);\n\n\t\t\t\t}, 1000);\n\t\t\t}\n\t\t});\n\t}\n\n\tshow_popover(e) {\n\t\tthis.default_timeout = setTimeout(() => {\n\t\t\tthis.clear_all_popovers();\n\t\t}, 10000);\n\n\t\tif (!this.is_link) {\n\t\t\tvar left = e.pageX;\n\t\t\tthis.element.popover('show');\n\t\t\tvar width = $('.popover').width();\n\t\t\t$('.control-field-popover').css('left', (left - (width / 2)) + 'px');\n\t\t} else {\n\t\t\tthis.element.popover('show');\n\t\t}\n\t}\n\n\thandle_popover_hide() {\n\t\t$(document).on('mouseout', this.LINK_CLASSES, () => {\n\t\t\t// To allow popover to be hovered on\n\t\t\tif (!$('.popover:hover').length) {\n\t\t\t\tthis.link_hovered = false;\n\t\t\t}\n\t\t\tif (!this.link_hovered) {\n\t\t\t\tif (this.data_timeout) {\n\t\t\t\t\tclearTimeout(this.data_timeout);\n\t\t\t\t}\n\t\t\t\tif (this.popover_timeout) {\n\t\t\t\t\tclearTimeout(this.popover_timeout);\n\t\t\t\t}\n\t\t\t\tif (this.default_timeout) {\n\t\t\t\t\tclearTimeout(this.default_timeout);\n\t\t\t\t}\n\t\t\t\tthis.clear_all_popovers();\n\t\t\t}\n\t\t});\n\n\t\tfrappe.router.on('change', () => {\n\t\t\tthis.clear_all_popovers();\n\t\t});\n\t}\n\n\tclear_all_popovers() {\n\t\tthis.popovers_list.forEach($el => $el.hide());\n\t}\n\n\tget_preview_data() {\n\t\treturn frappe.xcall('frappe.desk.link_preview.get_preview_data', {\n\t\t\t'doctype': this.doctype,\n\t\t\t'docname': this.name,\n\t\t});\n\t}\n\n\tinit_preview_popover(preview_data) {\n\t\tlet popover_content = this.get_popover_html(preview_data);\n\t\tthis.element.popover({\n\t\t\tcontainer: 'body',\n\t\t\ttemplate: `\n\t\t\t\t<div class=\"link-preview-popover popover\">\n\t\t\t\t\t<div class=\"arrow\"></div>\n\t\t\t\t\t<div class=\"popover-body popover-content\">\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t`,\n\t\t\thtml: true,\n\t\t\tsanitizeFn: (content) => content,\n\t\t\tcontent: popover_content,\n\t\t\ttrigger: 'manual',\n\t\t\tplacement: 'top',\n\t\t});\n\n\t\tconst $popover = $(this.element.data('bs.popover').tip);\n\t\t$popover.toggleClass('control-field-popover', this.is_link);\n\t\tthis.popovers_list.push(this.element.data('bs.popover'));\n\n\t}\n\n\tget_popover_html(preview_data) {\n\t\tif (!this.href) {\n\t\t\tthis.href = window.location.href;\n\t\t}\n\n\t\tif (this.href && this.href.includes(' ')) {\n\t\t\tthis.href = this.href.replace(new RegExp(' ', 'g'), '%20');\n\t\t}\n\n\t\tlet popover_content =`\n\t\t\t<div class=\"preview-popover-header\">\n\t\t\t\t<div class=\"preview-header\">\n\t\t\t\t\t${this.get_image_html(preview_data)}\n\t\t\t\t\t<div class=\"preview-name\">\n\t\t\t\t\t\t<a href=${this.href}>${__(preview_data.preview_title)}</a>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"text-muted preview-title\">${this.get_id_html(preview_data)}</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<hr>\n\t\t\t<div class=\"popover-body\">\n\t\t\t\t${this.get_content_html(preview_data)}\n\t\t\t</div>\n\t\t`;\n\n\t\treturn popover_content;\n\t}\n\n\tget_id_html(preview_data) {\n\t\tlet id_html = '';\n\t\tif (preview_data.preview_title !== preview_data.name) {\n\t\t\tid_html = `<a class=\"text-muted\" href=${this.href}>${preview_data.name}</a>`;\n\t\t}\n\n\t\treturn id_html;\n\t}\n\n\tget_image_html(preview_data) {\n\t\tlet avatar_html = frappe.get_avatar(\n\t\t\t\"avatar-medium\",\n\t\t\tpreview_data.preview_title,\n\t\t\tpreview_data.preview_image\n\t\t);\n\n\t\treturn `<div class=\"preview-image\">\n\t\t\t${avatar_html}\n\t\t</div>`;\n\t}\n\n\tget_content_html(preview_data) {\n\t\tlet content_html = '';\n\n\t\tObject.keys(preview_data).forEach(key => {\n\t\t\tif (!['preview_image', 'preview_title', 'name'].includes(key)) {\n\t\t\t\tlet value = frappe.ellipsis(preview_data[key], 280);\n\t\t\t\tlet label = key;\n\t\t\t\tcontent_html += `\n\t\t\t\t\t<div class=\"preview-field\">\n\t\t\t\t\t\t<div class=\"preview-label text-muted\">${__(label)}</div>\n\t\t\t\t\t\t<div class=\"preview-value\">${value}</div>\n\t\t\t\t\t</div>\n\t\t\t\t`;\n\t\t\t}\n\t\t});\n\n\t\treturn `<div class=\"preview-table\">${content_html}</div>`;\n\t}\n\n};\n","// Copyright (c) 2015, Frappe Technologies Pvt. Ltd. and Contributors\n// MIT License. See license.txt\n\n// My HTTP Request\n\nfrappe.provide('frappe.request');\nfrappe.provide('frappe.request.error_handlers');\nfrappe.request.url = '/';\nfrappe.request.ajax_count = 0;\nfrappe.request.waiting_for_ajax = [];\nfrappe.request.logs = {};\n\nfrappe.xcall = function(method, params) {\n\treturn new Promise((resolve, reject) => {\n\t\tfrappe.call({\n\t\t\tmethod: method,\n\t\t\targs: params,\n\t\t\tcallback: (r) => {\n\t\t\t\tresolve(r.message);\n\t\t\t},\n\t\t\terror: (r) => {\n\t\t\t\treject(r.message);\n\t\t\t}\n\t\t});\n\t});\n};\n\n// generic server call (call page, object)\nfrappe.call = function(opts) {\n\tif (!frappe.is_online()) {\n\t\tfrappe.show_alert({\n\t\t\tindicator: 'orange',\n\t\t\tmessage: __('Connection Lost'),\n\t\t\tsubtitle: __('You are not connected to Internet. Retry after sometime.')\n\t\t}, 3);\n\t\topts.always && opts.always();\n\t\treturn $.ajax();\n\t}\n\tif (typeof arguments[0]==='string') {\n\t\topts = {\n\t\t\tmethod: arguments[0],\n\t\t\targs: arguments[1],\n\t\t\tcallback: arguments[2],\n\t\t\theaders: arguments[3]\n\t\t}\n\t}\n\n\tif(opts.quiet) {\n\t\topts.no_spinner = true;\n\t}\n\tvar args = $.extend({}, opts.args);\n\n\tif (args.freeze) {\n\t\topts.freeze = opts.freeze || args.freeze;\n\t\topts.freeze_message = opts.freeze_message || args.freeze_message;\n\t}\n\n\t// cmd\n\tif(opts.module && opts.page) {\n\t\targs.cmd = opts.module+'.page.'+opts.page+'.'+opts.page+'.'+opts.method;\n\t} else if(opts.doc) {\n\t\t$.extend(args, {\n\t\t\tcmd: \"run_doc_method\",\n\t\t\tdocs: frappe.get_doc(opts.doc.doctype, opts.doc.name),\n\t\t\tmethod: opts.method,\n\t\t\targs: opts.args,\n\t\t});\n\t} else if(opts.method) {\n\t\targs.cmd = opts.method;\n\t}\n\n\tvar callback = function(data, response_text) {\n\t\tif(data.task_id) {\n\t\t\t// async call, subscribe\n\t\t\tfrappe.socketio.subscribe(data.task_id, opts);\n\n\t\t\tif(opts.queued) {\n\t\t\t\topts.queued(data);\n\t\t\t}\n\t\t}\n\t\telse if (opts.callback) {\n\t\t\t// ajax\n\t\t\treturn opts.callback(data, response_text);\n\t\t}\n\t}\n\n\tlet url = opts.url;\n\tif (!url) {\n\t\turl = '/api/method/' + args.cmd;\n\t\tif (window.cordova) {\n\t\t\tlet host = frappe.request.url;\n\t\t\thost = host.slice(0, host.length - 1);\n\t\t\turl = host + url;\n\t\t}\n\t\tdelete args.cmd;\n\t}\n\n\t// debouce if required\n\tif (opts.debounce && frappe.request.is_fresh(args, opts.debounce)) {\n\t\treturn Promise.resolve();\n\t}\n\n\treturn frappe.request.call({\n\t\ttype: opts.type || \"POST\",\n\t\targs: args,\n\t\tsuccess: callback,\n\t\terror: opts.error,\n\t\talways: opts.always,\n\t\tbtn: opts.btn,\n\t\tfreeze: opts.freeze,\n\t\tfreeze_message: opts.freeze_message,\n\t\theaders: opts.headers || {},\n\t\terror_handlers: opts.error_handlers || {},\n\t\t// show_spinner: !opts.no_spinner,\n\t\tasync: opts.async,\n\t\tsilent: opts.silent,\n\t\turl,\n\t});\n}\n\n\nfrappe.request.call = function(opts) {\n\tfrappe.request.prepare(opts);\n\n\tvar statusCode = {\n\t\t200: function(data, xhr) {\n\t\t\topts.success_callback && opts.success_callback(data, xhr.responseText);\n\t\t},\n\t\t401: function(xhr) {\n\t\t\tif(frappe.app.session_expired_dialog && frappe.app.session_expired_dialog.display) {\n\t\t\t\tfrappe.app.redirect_to_login();\n\t\t\t} else {\n\t\t\t\tfrappe.app.handle_session_expired();\n\t\t\t}\n\t\t},\n\t\t404: function(xhr) {\n\t\t\tif (frappe.flags.setting_original_route) {\n\t\t\t\t// original route is wrong, redirect to login\n\t\t\t\tfrappe.app.redirect_to_login();\n\t\t\t} else {\n\t\t\t\tfrappe.msgprint({title: __(\"Not found\"), indicator: 'red',\n\t\t\t\t\tmessage: __('The resource you are looking for is not available')});\n\t\t\t}\n\t\t},\n\t\t403: function(xhr) {\n\t\t\tif (frappe.session.user === \"Guest\" && frappe.session.logged_in_user !== \"Guest\") {\n\t\t\t\t// session expired\n\t\t\t\tfrappe.app.handle_session_expired();\n\t\t\t} else if (xhr.responseJSON && xhr.responseJSON._error_message) {\n\t\t\t\tfrappe.msgprint({\n\t\t\t\t\ttitle: __(\"Not permitted\"), indicator: 'red',\n\t\t\t\t\tmessage: xhr.responseJSON._error_message\n\t\t\t\t});\n\n\t\t\t\txhr.responseJSON._server_messages = null;\n\t\t\t} else if (xhr.responseJSON && xhr.responseJSON._server_messages) {\n\t\t\t\tvar _server_messages = JSON.parse(xhr.responseJSON._server_messages);\n\n\t\t\t\t// avoid double messages\n\t\t\t\tif (_server_messages.indexOf(__(\"Not permitted\")) !== -1) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tfrappe.msgprint({\n\t\t\t\t\ttitle: __(\"Not permitted\"), indicator: 'red',\n\t\t\t\t\tmessage: __('You do not have enough permissions to access this resource. Please contact your manager to get access.')});\n\t\t\t}\n\n\n\t\t},\n\t\t508: function(xhr) {\n\t\t\tfrappe.utils.play_sound(\"error\");\n\t\t\tfrappe.msgprint({title:__('Please try again'), indicator:'red',\n\t\t\t\tmessage:__(\"Another transaction is blocking this one. Please try again in a few seconds.\")});\n\t\t},\n\t\t413: function(data, xhr) {\n\t\t\tfrappe.msgprint({indicator:'red', title:__('File too big'), message:__(\"File size exceeded the maximum allowed size of {0} MB\",\n\t\t\t\t[(frappe.boot.max_file_size || 5242880) / 1048576])});\n\t\t},\n\t\t417: function(xhr) {\n\t\t\tvar r = xhr.responseJSON;\n\t\t\tif (!r) {\n\t\t\t\ttry {\n\t\t\t\t\tr = JSON.parse(xhr.responseText);\n\t\t\t\t} catch (e) {\n\t\t\t\t\tr = xhr.responseText;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\topts.error_callback && opts.error_callback(r);\n\t\t},\n\t\t501: function(data, xhr) {\n\t\t\tif(typeof data === \"string\") data = JSON.parse(data);\n\t\t\topts.error_callback && opts.error_callback(data, xhr.responseText);\n\t\t},\n\t\t500: function(xhr) {\n\t\t\tfrappe.utils.play_sound(\"error\");\n\t\t\ttry {\n\t\t\t\topts.error_callback && opts.error_callback();\n\t\t\t\tfrappe.request.report_error(xhr, opts);\n\t\t\t} catch (e) {\n\t\t\t\tfrappe.request.report_error(xhr, opts);\n\t\t\t}\n\t\t},\n\t\t504: function(xhr) {\n\t\t\tfrappe.msgprint(__(\"Request Timed Out\"))\n\t\t\topts.error_callback && opts.error_callback();\n\t\t},\n\t\t502: function(xhr) {\n\t\t\tfrappe.msgprint(__(\"Internal Server Error\"));\n\t\t}\n\t};\n\n\tvar exception_handlers = {\n\t\t'QueryTimeoutError': function() {\n\t\t\tfrappe.utils.play_sound(\"error\");\n\t\t\tfrappe.msgprint({\n\t\t\t\ttitle: __('Request Timeout'),\n\t\t\t\tindicator: 'red',\n\t\t\t\tmessage: __(\"Server was too busy to process this request. Please try again.\")\n\t\t\t});\n\t\t},\n\t\t'QueryDeadlockError': function() {\n\t\t\tfrappe.utils.play_sound(\"error\");\n\t\t\tfrappe.msgprint({\n\t\t\t\ttitle: __('Deadlock Occurred'),\n\t\t\t\tindicator: 'red',\n\t\t\t\tmessage: __(\"Server was too busy to process this request. Please try again.\")\n\t\t\t});\n\t\t}\n\t};\n\n\tvar ajax_args = {\n\t\turl: opts.url || frappe.request.url,\n\t\tdata: opts.args,\n\t\ttype: opts.type,\n\t\tdataType: opts.dataType || 'json',\n\t\tasync: opts.async,\n\t\theaders: Object.assign({\n\t\t\t\"X-Frappe-CSRF-Token\": frappe.csrf_token,\n\t\t\t\"Accept\": \"application/json\",\n \t\t\t\"X-Frappe-CMD\": (opts.args && opts.args.cmd  || '') || ''\n\t\t}, opts.headers),\n\t\tcache: false\n\t};\n\n\tif (opts.args && opts.args.doctype) {\n\t\tajax_args.headers[\"X-Frappe-Doctype\"] = encodeURIComponent(opts.args.doctype);\n\t}\n\n\tfrappe.last_request = ajax_args.data;\n\n\treturn $.ajax(ajax_args)\n\t\t.done(function(data, textStatus, xhr) {\n\t\t\ttry {\n\t\t\t\tif(typeof data === \"string\") data = JSON.parse(data);\n\n\t\t\t\t// sync attached docs\n\t\t\t\tif(data.docs || data.docinfo) {\n\t\t\t\t\tfrappe.model.sync(data);\n\t\t\t\t}\n\n\t\t\t\t// sync translated messages\n\t\t\t\tif(data.__messages) {\n\t\t\t\t\t$.extend(frappe._messages, data.__messages);\n\t\t\t\t}\n\n\t\t\t\t// callbacks\n\t\t\t\tvar status_code_handler = statusCode[xhr.statusCode().status];\n\t\t\t\tif (status_code_handler) {\n\t\t\t\t\tstatus_code_handler(data, xhr);\n\t\t\t\t}\n\t\t\t} catch(e) {\n\t\t\t\tconsole.log(\"Unable to handle success response\", data); // eslint-disable-line\n\t\t\t\tconsole.trace(e); // eslint-disable-line\n\t\t\t}\n\n\t\t})\n\t\t.always(function(data, textStatus, xhr) {\n\t\t\ttry {\n\t\t\t\tif(typeof data===\"string\") {\n\t\t\t\t\tdata = JSON.parse(data);\n\t\t\t\t}\n\t\t\t\tif(data.responseText) {\n\t\t\t\t\tvar xhr = data;\n\t\t\t\t\tdata = JSON.parse(data.responseText);\n\t\t\t\t}\n\t\t\t} catch(e) {\n\t\t\t\tdata = null;\n\t\t\t\t// pass\n\t\t\t}\n\t\t\tfrappe.request.cleanup(opts, data);\n\t\t\tif(opts.always) {\n\t\t\t\topts.always(data);\n\t\t\t}\n\t\t})\n\t\t.fail(function(xhr, textStatus) {\n\t\t\ttry {\n\t\t\t\tif (xhr.getResponseHeader('content-type') == 'application/json' && xhr.responseText) {\n\t\t\t\t\tvar data;\n\t\t\t\t\ttry {\n\t\t\t\t\t\tdata = JSON.parse(xhr.responseText);\n\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\tconsole.log(\"Unable to parse reponse text\");\n\t\t\t\t\t\tconsole.log(xhr.responseText);\n\t\t\t\t\t\tconsole.log(e);\n\t\t\t\t\t}\n\t\t\t\t\tif (data && data.exception) {\n\t\t\t\t\t\t// frappe.exceptions.CustomError: (1024, ...) -> CustomError\n\t\t\t\t\t\tvar exception = data.exception.split('.').at(-1).split(':').at(0);\n\t\t\t\t\t\tvar exception_handler = exception_handlers[exception];\n\t\t\t\t\t\tif (exception_handler) {\n\t\t\t\t\t\t\texception_handler(data);\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tvar status_code_handler = statusCode[xhr.statusCode().status];\n\t\t\t\tif (status_code_handler) {\n\t\t\t\t\tstatus_code_handler(xhr);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\t// if not handled by error handler!\n\t\t\t\topts.error_callback && opts.error_callback(xhr);\n\t\t\t} catch(e) {\n\t\t\t\tconsole.log(\"Unable to handle failed response\"); // eslint-disable-line\n\t\t\t\tconsole.trace(e); // eslint-disable-line\n\t\t\t}\n\t\t});\n}\n\nfrappe.request.is_fresh = function(args, threshold) {\n\t// return true if a request with similar args has been sent recently\n\tif (!frappe.request.logs[args.cmd]) {\n\t\tfrappe.request.logs[args.cmd] = [];\n\t}\n\n\tfor (let past_request of frappe.request.logs[args.cmd]) {\n\t\t// check if request has same args and was made recently\n\t\tif ((new Date() - past_request.timestamp) < threshold\n\t\t\t&& frappe.utils.deep_equal(args, past_request.args)) {\n\t\t\t// eslint-disable-next-line no-console\n\t\t\tconsole.log('throttled');\n\t\t\treturn true;\n\t\t}\n\t}\n\n\t// log the request\n\tfrappe.request.logs[args.cmd].push({args: args, timestamp: new Date()});\n\treturn false;\n};\n\n// call execute serverside request\nfrappe.request.prepare = function(opts) {\n\t$(\"body\").attr(\"data-ajax-state\", \"triggered\");\n\n\t// btn indicator\n\tif(opts.btn) $(opts.btn).prop(\"disabled\", true);\n\n\t// freeze page\n\tif(opts.freeze) frappe.dom.freeze(opts.freeze_message);\n\n\t// stringify args if required\n\tfor(var key in opts.args) {\n\t\tif(opts.args[key] && ($.isPlainObject(opts.args[key]) || $.isArray(opts.args[key]))) {\n\t\t\topts.args[key] = JSON.stringify(opts.args[key]);\n\t\t}\n\t}\n\n\t// no cmd?\n\tif(!opts.args.cmd && !opts.url) {\n\t\tconsole.log(opts)\n\t\tthrow \"Incomplete Request\";\n\t}\n\n\topts.success_callback = opts.success;\n\topts.error_callback = opts.error;\n\tdelete opts.success;\n\tdelete opts.error;\n\n}\n\nfrappe.request.cleanup = function(opts, r) {\n\t// stop button indicator\n\tif(opts.btn) {\n\t\t$(opts.btn).prop(\"disabled\", false);\n\t}\n\n\t$(\"body\").attr(\"data-ajax-state\", \"complete\");\n\n\t// un-freeze page\n\tif(opts.freeze) frappe.dom.unfreeze();\n\n\tif(r) {\n\n\t\t// session expired? - Guest has no business here!\n\t\tif (r.session_expired ||\n\t\t\t(frappe.session.user === 'Guest' && frappe.session.logged_in_user !== \"Guest\")) {\n\t\t\tfrappe.app.handle_session_expired();\n\t\t\treturn;\n\t\t}\n\n\t\t// error handlers\n\t\tlet global_handlers = frappe.request.error_handlers[r.exc_type] || [];\n\t\tlet request_handler = opts.error_handlers ? opts.error_handlers[r.exc_type] : null;\n\t\tlet handlers = [].concat(global_handlers, request_handler).filter(Boolean);\n\n\t\tif (r.exc_type) {\n\t\t\thandlers.forEach(handler => {\n\t\t\t\thandler(r);\n\t\t\t});\n\t\t}\n\n\t\t// show messages\n\t\tif(r._server_messages && !opts.silent) {\n\t\t\t// show server messages if no handlers exist\n\t\t\tif (handlers.length === 0) {\n\t\t\t\tr._server_messages = JSON.parse(r._server_messages);\n\t\t\t\tfrappe.hide_msgprint();\n\t\t\t\tfrappe.msgprint(r._server_messages);\n\t\t\t}\n\t\t}\n\n\t\t// show errors\n\t\tif(r.exc) {\n\t\t\tr.exc = JSON.parse(r.exc);\n\t\t\tif(r.exc instanceof Array) {\n\t\t\t\t$.each(r.exc, function(i, v) {\n\t\t\t\t\tif(v) {\n\t\t\t\t\t\tconsole.log(v);\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t} else {\n\t\t\t\tconsole.log(r.exc);\n\t\t\t}\n\t\t}\n\n\t\t// debug messages\n\t\tif(r._debug_messages) {\n\t\t\tif(opts.args) {\n\t\t\t\tconsole.log(\"======== arguments ========\");\n\t\t\t\tconsole.log(opts.args);\n\t\t\t\tconsole.log(\"========\")\n\t\t\t}\n\t\t\t$.each(JSON.parse(r._debug_messages), function(i, v) { console.log(v); });\n\t\t\tconsole.log(\"======== response ========\");\n\t\t\tdelete r._debug_messages;\n\t\t\tconsole.log(r);\n\t\t\tconsole.log(\"========\");\n\t\t}\n\t}\n\n\tfrappe.last_response = r;\n}\n\nfrappe.after_server_call = () => {\n\tif(frappe.request.ajax_count) {\n\t\treturn new Promise(resolve => {\n\t\t\tfrappe.request.waiting_for_ajax.push(() => {\n\t\t\t\tresolve();\n\t\t\t});\n\t\t});\n\t} else {\n\t\treturn null;\n\t}\n};\n\nfrappe.after_ajax = function(fn) {\n\treturn new Promise(resolve => {\n\t\tif(frappe.request.ajax_count) {\n\t\t\tfrappe.request.waiting_for_ajax.push(() => {\n\t\t\t\tif(fn) return resolve(fn());\n\t\t\t\tresolve();\n\t\t\t});\n\t\t} else {\n\t\t\tif(fn) return resolve(fn());\n\t\t\tresolve();\n\t\t}\n\t});\n};\n\nfrappe.request.report_error = function(xhr, request_opts) {\n\tvar data = JSON.parse(xhr.responseText);\n\tvar exc;\n\tif (data.exc) {\n\t\ttry {\n\t\t\texc = (JSON.parse(data.exc) || []).join(\"\\n\");\n\t\t} catch (e) {\n\t\t\texc = data.exc;\n\t\t}\n\t\tdelete data.exc;\n\t} else {\n\t\texc = \"\";\n\t}\n\n\tconst copy_markdown_to_clipboard = () => {\n\t\tconst code_block = snippet => '```\\n' + snippet + '\\n```';\n\t\tconst traceback_info = [\n\t\t\t'### App Versions',\n\t\t\tcode_block(JSON.stringify(frappe.boot.versions, null, \"\\t\")),\n\t\t\t'### Route',\n\t\t\tcode_block(frappe.get_route_str()),\n\t\t\t'### Trackeback',\n\t\t\tcode_block(exc),\n\t\t\t'### Request Data',\n\t\t\tcode_block(JSON.stringify(request_opts, null, \"\\t\")),\n\t\t\t'### Response Data',\n\t\t\tcode_block(JSON.stringify(data, null, '\\t')),\n\t\t].join(\"\\n\");\n\t\tfrappe.utils.copy_to_clipboard(traceback_info);\n\t};\n\n\n\tvar show_communication = function() {\n\t\tvar error_report_message = [\n\t\t\t'<h5>Please type some additional information that could help us reproduce this issue:</h5>',\n\t\t\t'<div style=\"min-height: 100px; border: 1px solid #bbb; \\\n\t\t\t\tborder-radius: 5px; padding: 15px; margin-bottom: 15px;\"></div>',\n\t\t\t'<hr>',\n\t\t\t'<h5>App Versions</h5>',\n\t\t\t'<pre>' + JSON.stringify(frappe.boot.versions, null, \"\\t\") + '</pre>',\n\t\t\t'<h5>Route</h5>',\n\t\t\t'<pre>' + frappe.get_route_str() + '</pre>',\n\t\t\t'<hr>',\n\t\t\t'<h5>Error Report</h5>',\n\t\t\t'<pre>' + exc + '</pre>',\n\t\t\t'<hr>',\n\t\t\t'<h5>Request Data</h5>',\n\t\t\t'<pre>' + JSON.stringify(request_opts, null, \"\\t\") + '</pre>',\n\t\t\t'<hr>',\n\t\t\t'<h5>Response JSON</h5>',\n\t\t\t'<pre>' + JSON.stringify(data, null, '\\t')+ '</pre>'\n\t\t].join(\"\\n\");\n\n\t\tvar communication_composer = new frappe.views.CommunicationComposer({\n\t\t\tsubject: 'Error Report [' + frappe.datetime.nowdate() + ']',\n\t\t\trecipients: error_report_email,\n\t\t\tmessage: error_report_message,\n\t\t\tdoc: {\n\t\t\t\tdoctype: \"User\",\n\t\t\t\tname: frappe.session.user\n\t\t\t}\n\t\t});\n\t\tcommunication_composer.dialog.$wrapper.css(\"z-index\", cint(frappe.msg_dialog.$wrapper.css(\"z-index\")) + 1);\n\t}\n\n\tif (exc) {\n\t\tvar error_report_email = frappe.boot.error_report_email;\n\n\t\trequest_opts = frappe.request.cleanup_request_opts(request_opts);\n\n\t\t// window.msg_dialog = frappe.msgprint({message:error_message, indicator:'red', big: true});\n\n\t\tif (!frappe.error_dialog) {\n\t\t\tfrappe.error_dialog = new frappe.ui.Dialog({\n\t\t\t\ttitle: __('Server Error'),\n\t\t\t\tprimary_action_label: __('Report'),\n\t\t\t\tprimary_action: () => {\n\t\t\t\t\tif (error_report_email) {\n\t\t\t\t\t\tshow_communication();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tfrappe.msgprint(__('Support Email Address Not Specified'));\n\t\t\t\t\t}\n\t\t\t\t\tfrappe.error_dialog.hide();\n\t\t\t\t},\n\t\t\t\tsecondary_action_label: __('Copy error to clipboard'),\n\t\t\t\tsecondary_action: () => {\n\t\t\t\t\tcopy_markdown_to_clipboard();\n\t\t\t\t\tfrappe.error_dialog.hide();\n\t\t\t\t}\n\t\t\t});\n\t\t\tfrappe.error_dialog.wrapper.classList.add('msgprint-dialog');\n\n\t\t}\n\n\t\tlet parts = strip(exc).split('\\n');\n\n\t\tfrappe.error_dialog.$body.html(parts[parts.length - 1]);\n\t\tfrappe.error_dialog.show();\n\n\t}\n};\n\nfrappe.request.cleanup_request_opts = function(request_opts) {\n\tvar doc = (request_opts.args || {}).doc;\n\tif (doc) {\n\t\tdoc = JSON.parse(doc);\n\t\t$.each(Object.keys(doc), function(i, key) {\n\t\t\tif (key.indexOf(\"password\")!==-1 && doc[key]) {\n\t\t\t\t// mask the password\n\t\t\t\tdoc[key] = \"*****\";\n\t\t\t}\n\t\t});\n\t\trequest_opts.args.doc = JSON.stringify(doc);\n\t}\n\treturn request_opts;\n};\n\nfrappe.request.on_error = function(error_type, handler) {\n\tfrappe.request.error_handlers[error_type] = frappe.request.error_handlers[error_type] || [];\n\tfrappe.request.error_handlers[error_type].push(handler);\n}\n\n$(document).ajaxSend(function() {\n\tfrappe.request.ajax_count++;\n});\n\n$(document).ajaxComplete(function() {\n\tfrappe.request.ajax_count--;\n\tif(!frappe.request.ajax_count) {\n\t\t$.each(frappe.request.waiting_for_ajax || [], function(i, fn) {\n\t\t\tfn();\n\t\t});\n\t\tfrappe.request.waiting_for_ajax = [];\n\t}\n});\n","frappe.socketio = {\n\topen_tasks: {},\n\topen_docs: [],\n\temit_queue: [],\n\tinit: function(port = 3000) {\n\t\tif (!window.io) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (frappe.boot.disable_async) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (frappe.socketio.socket) {\n\t\t\treturn;\n\t\t}\n\n\t\t//Enable secure option when using HTTPS\n\t\tif (window.location.protocol == \"https:\") {\n\t\t\tfrappe.socketio.socket = io.connect(frappe.socketio.get_host(port), {secure: true});\n\t\t}\n\t\telse if (window.location.protocol == \"http:\") {\n\t\t\tfrappe.socketio.socket = io.connect(frappe.socketio.get_host(port));\n\t\t}\n\t\telse if (window.location.protocol == \"file:\") {\n\t\t\tfrappe.socketio.socket = io.connect(window.localStorage.server);\n\t\t}\n\n\t\tif (!frappe.socketio.socket) {\n\t\t\tconsole.log(\"Unable to connect to \" + frappe.socketio.get_host(port));\n\t\t\treturn;\n\t\t}\n\n\t\tfrappe.socketio.socket.on('msgprint', function(message) {\n\t\t\tfrappe.msgprint(message);\n\t\t});\n\n\t\tfrappe.socketio.socket.on('eval_js', function(message) {\n\t\t\teval(message);\n\t\t});\n\n\t\tfrappe.socketio.socket.on('progress', function(data) {\n\t\t\tif(data.progress) {\n\t\t\t\tdata.percent = flt(data.progress[0]) / data.progress[1] * 100;\n\t\t\t}\n\t\t\tif(data.percent) {\n\t\t\t\tfrappe.show_progress(data.title || __(\"Progress\"), data.percent, 100, data.description, true);\n\t\t\t}\n\t\t});\n\n\t\tfrappe.socketio.setup_listeners();\n\t\tfrappe.socketio.setup_reconnect();\n\n\t\t$(document).on('form-load form-rename', function(e, frm) {\n\t\t\tif (frm.is_new()) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tfor (var i=0, l=frappe.socketio.open_docs.length; i<l; i++) {\n\t\t\t\tvar d = frappe.socketio.open_docs[i];\n\t\t\t\tif (frm.doctype==d.doctype && frm.docname==d.name) {\n\t\t\t\t\t// already subscribed\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfrappe.socketio.doc_subscribe(frm.doctype, frm.docname);\n\t\t});\n\n\t\t$(document).on(\"form-refresh\", function(e, frm) {\n\t\t\tif (frm.is_new()) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tfrappe.socketio.doc_open(frm.doctype, frm.docname);\n\t\t});\n\n\t\t$(document).on('form-unload', function(e, frm) {\n\t\t\tif (frm.is_new()) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// frappe.socketio.doc_unsubscribe(frm.doctype, frm.docname);\n\t\t\tfrappe.socketio.doc_close(frm.doctype, frm.docname);\n\t\t});\n\n\t\t$(document).on('form-typing', function(e, frm) {\n\t\t\tfrappe.socketio.form_typing(frm.doctype, frm.docname);\n\t\t});\n\n\t\t$(document).on('form-stopped-typing', function(e, frm) {\n\t\t\tfrappe.socketio.form_stopped_typing(frm.doctype, frm.docname);\n\t\t});\n\n\t\twindow.addEventListener('beforeunload', () => {\n\t\t\tif (!cur_frm || cur_frm.is_new()) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// if tab/window is closed, notify other users\n\t\t\tif (cur_frm.doc) {\n\t\t\t\tfrappe.socketio.doc_close(cur_frm.doctype, cur_frm.docname);\n\t\t\t}\n\t\t});\n\t},\n\tget_host: function(port = 3000) {\n\t\tvar host = window.location.origin;\n\t\tif(window.dev_server) {\n\t\t\tvar parts = host.split(\":\");\n\t\t\tport = frappe.boot.socketio_port || port.toString() || '3000';\n\t\t\tif(parts.length > 2) {\n\t\t\t\thost = parts[0] + \":\" + parts[1];\n\t\t\t}\n\t\t\thost = host + \":\" + port;\n\t\t}\n\t\treturn host;\n\t},\n\tsubscribe: function(task_id, opts) {\n\t\t// TODO DEPRECATE\n\n\t\tfrappe.socketio.socket.emit('task_subscribe', task_id);\n\t\tfrappe.socketio.socket.emit('progress_subscribe', task_id);\n\n\t\tfrappe.socketio.open_tasks[task_id] = opts;\n\t},\n\ttask_subscribe: function(task_id) {\n\t\tfrappe.socketio.socket.emit('task_subscribe', task_id);\n\t},\n\ttask_unsubscribe: function(task_id) {\n\t\tfrappe.socketio.socket.emit('task_unsubscribe', task_id);\n\t},\n\tdoc_subscribe: function(doctype, docname) {\n\t\tif (frappe.flags.doc_subscribe) {\n\t\t\tconsole.log('throttled');\n\t\t\treturn;\n\t\t}\n\n\t\tfrappe.flags.doc_subscribe = true;\n\n\t\t// throttle to 1 per sec\n\t\tsetTimeout(function() { frappe.flags.doc_subscribe = false }, 1000);\n\n\t\tfrappe.socketio.socket.emit('doc_subscribe', doctype, docname);\n\t\tfrappe.socketio.open_docs.push({doctype: doctype, docname: docname});\n\t},\n\tdoc_unsubscribe: function(doctype, docname) {\n\t\tfrappe.socketio.socket.emit('doc_unsubscribe', doctype, docname);\n\t\tfrappe.socketio.open_docs = $.filter(frappe.socketio.open_docs, function(d) {\n\t\t\tif(d.doctype===doctype && d.name===docname) {\n\t\t\t\treturn null;\n\t\t\t} else {\n\t\t\t\treturn d;\n\t\t\t}\n\t\t})\n\t},\n\tdoc_open: function(doctype, docname) {\n\t\t// notify that the user has opened this doc, if not already notified\n\t\tif (!frappe.socketio.last_doc\n\t\t\t|| (frappe.socketio.last_doc[0] != doctype || frappe.socketio.last_doc[1] != docname)) {\n\t\t\tfrappe.socketio.socket.emit('doc_open', doctype, docname);\n\n\t\t\tfrappe.socketio.last_doc &&\n\t\t\t\tfrappe.socketio.doc_close(frappe.socketio.last_doc[0], frappe.socketio.last_doc[1]);\n\t\t}\n\t\tfrappe.socketio.last_doc = [doctype, docname];\n\t},\n\tdoc_close: function(doctype, docname) {\n\t\t// notify that the user has closed this doc\n\t\tfrappe.socketio.socket.emit('doc_close', doctype, docname);\n\n\t\t// if the doc is closed the user has also stopped typing\n\t\tfrappe.socketio.socket.emit('doc_typing_stopped', doctype, docname);\n\t},\n\tform_typing: function(doctype, docname) {\n\t\t// notifiy that the user is typing on the doc\n\t\tfrappe.socketio.socket.emit('doc_typing', doctype, docname);\n\t},\n\tform_stopped_typing: function(doctype, docname) {\n\t\t// notifiy that the user has stopped typing\n\t\tfrappe.socketio.socket.emit('doc_typing_stopped', doctype, docname);\n\t},\n\tsetup_listeners: function() {\n\t\tfrappe.socketio.socket.on('task_status_change', function(data) {\n\t\t\tfrappe.socketio.process_response(data, data.status.toLowerCase());\n\t\t});\n\t\tfrappe.socketio.socket.on('task_progress', function(data) {\n\t\t\tfrappe.socketio.process_response(data, \"progress\");\n\t\t});\n\t},\n\tsetup_reconnect: function() {\n\t\t// subscribe again to open_tasks\n\t\tfrappe.socketio.socket.on(\"connect\", function() {\n\t\t\t// wait for 5 seconds before subscribing again\n\t\t\t// because it takes more time to start python server than nodejs server\n\t\t\t// and we use validation requests to python server for subscribing\n\t\t\tsetTimeout(function() {\n\t\t\t\t$.each(frappe.socketio.open_tasks, function(task_id, opts) {\n\t\t\t\t\tfrappe.socketio.subscribe(task_id, opts);\n\t\t\t\t});\n\n\t\t\t\t// re-connect open docs\n\t\t\t\t$.each(frappe.socketio.open_docs, function(d) {\n\t\t\t\t\tif(locals[d.doctype] && locals[d.doctype][d.name]) {\n\t\t\t\t\t\tfrappe.socketio.doc_subscribe(d.doctype, d.name);\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tif (cur_frm && cur_frm.doc) {\n\t\t\t\t\tfrappe.socketio.doc_open(cur_frm.doc.doctype, cur_frm.doc.name);\n\t\t\t\t}\n\t\t\t}, 5000);\n\t\t});\n\t},\n\tprocess_response: function(data, method) {\n\t\tif(!data) {\n\t\t\treturn;\n\t\t}\n\n\t\t// success\n\t\tvar opts = frappe.socketio.open_tasks[data.task_id];\n\t\tif(opts[method]) {\n\t\t\topts[method](data);\n\t\t}\n\n\t\t// \"callback\" is std frappe term\n\t\tif(method===\"success\") {\n\t\t\tif(opts.callback) opts.callback(data);\n\t\t}\n\n\t\t// always\n\t\tfrappe.request.cleanup(opts, data);\n\t\tif(opts.always) {\n\t\t\topts.always(data);\n\t\t}\n\n\t\t// error\n\t\tif(data.status_code && data.status_code > 400 && opts.error) {\n\t\t\topts.error(data);\n\t\t}\n\t}\n}\n\nfrappe.provide(\"frappe.realtime\");\nfrappe.realtime.on = function(event, callback) {\n\tfrappe.socketio.socket && frappe.socketio.socket.on(event, callback);\n};\n\nfrappe.realtime.off = function(event, callback) {\n\tfrappe.socketio.socket && frappe.socketio.socket.off(event, callback);\n}\n\nfrappe.realtime.publish = function(event, message) {\n\tif(frappe.socketio.socket) {\n\t\tfrappe.socketio.socket.emit(event, message);\n\t}\n}\n\n","'use strict';\n\nvar isArray = Array.isArray;\nvar keyList = Object.keys;\nvar hasProp = Object.prototype.hasOwnProperty;\n\nmodule.exports = function equal(a, b) {\n  if (a === b) return true;\n\n  if (a && b && typeof a == 'object' && typeof b == 'object') {\n    var arrA = isArray(a)\n      , arrB = isArray(b)\n      , i\n      , length\n      , key;\n\n    if (arrA && arrB) {\n      length = a.length;\n      if (length != b.length) return false;\n      for (i = length; i-- !== 0;)\n        if (!equal(a[i], b[i])) return false;\n      return true;\n    }\n\n    if (arrA != arrB) return false;\n\n    var dateA = a instanceof Date\n      , dateB = b instanceof Date;\n    if (dateA != dateB) return false;\n    if (dateA && dateB) return a.getTime() == b.getTime();\n\n    var regexpA = a instanceof RegExp\n      , regexpB = b instanceof RegExp;\n    if (regexpA != regexpB) return false;\n    if (regexpA && regexpB) return a.toString() == b.toString();\n\n    var keys = keyList(a);\n    length = keys.length;\n\n    if (length !== keyList(b).length)\n      return false;\n\n    for (i = length; i-- !== 0;)\n      if (!hasProp.call(b, keys[i])) return false;\n\n    for (i = length; i-- !== 0;) {\n      key = keys[i];\n      if (!equal(a[key], b[key])) return false;\n    }\n\n    return true;\n  }\n\n  return a!==a && b!==b;\n};\n","/**\n * Removes all key-value entries from the list cache.\n *\n * @private\n * @name clear\n * @memberOf ListCache\n */\nfunction listCacheClear() {\n  this.__data__ = [];\n  this.size = 0;\n}\n\nmodule.exports = listCacheClear;\n","/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\nmodule.exports = eq;\n","var eq = require('./eq');\n\n/**\n * Gets the index at which the `key` is found in `array` of key-value pairs.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} key The key to search for.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction assocIndexOf(array, key) {\n  var length = array.length;\n  while (length--) {\n    if (eq(array[length][0], key)) {\n      return length;\n    }\n  }\n  return -1;\n}\n\nmodule.exports = assocIndexOf;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype;\n\n/** Built-in value references. */\nvar splice = arrayProto.splice;\n\n/**\n * Removes `key` and its value from the list cache.\n *\n * @private\n * @name delete\n * @memberOf ListCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction listCacheDelete(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    return false;\n  }\n  var lastIndex = data.length - 1;\n  if (index == lastIndex) {\n    data.pop();\n  } else {\n    splice.call(data, index, 1);\n  }\n  --this.size;\n  return true;\n}\n\nmodule.exports = listCacheDelete;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Gets the list cache value for `key`.\n *\n * @private\n * @name get\n * @memberOf ListCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction listCacheGet(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  return index < 0 ? undefined : data[index][1];\n}\n\nmodule.exports = listCacheGet;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Checks if a list cache value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf ListCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction listCacheHas(key) {\n  return assocIndexOf(this.__data__, key) > -1;\n}\n\nmodule.exports = listCacheHas;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Sets the list cache `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf ListCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the list cache instance.\n */\nfunction listCacheSet(key, value) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    ++this.size;\n    data.push([key, value]);\n  } else {\n    data[index][1] = value;\n  }\n  return this;\n}\n\nmodule.exports = listCacheSet;\n","var listCacheClear = require('./_listCacheClear'),\n    listCacheDelete = require('./_listCacheDelete'),\n    listCacheGet = require('./_listCacheGet'),\n    listCacheHas = require('./_listCacheHas'),\n    listCacheSet = require('./_listCacheSet');\n\n/**\n * Creates an list cache object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction ListCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `ListCache`.\nListCache.prototype.clear = listCacheClear;\nListCache.prototype['delete'] = listCacheDelete;\nListCache.prototype.get = listCacheGet;\nListCache.prototype.has = listCacheHas;\nListCache.prototype.set = listCacheSet;\n\nmodule.exports = ListCache;\n","var ListCache = require('./_ListCache');\n\n/**\n * Removes all key-value entries from the stack.\n *\n * @private\n * @name clear\n * @memberOf Stack\n */\nfunction stackClear() {\n  this.__data__ = new ListCache;\n  this.size = 0;\n}\n\nmodule.exports = stackClear;\n","/**\n * Removes `key` and its value from the stack.\n *\n * @private\n * @name delete\n * @memberOf Stack\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction stackDelete(key) {\n  var data = this.__data__,\n      result = data['delete'](key);\n\n  this.size = data.size;\n  return result;\n}\n\nmodule.exports = stackDelete;\n","/**\n * Gets the stack value for `key`.\n *\n * @private\n * @name get\n * @memberOf Stack\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction stackGet(key) {\n  return this.__data__.get(key);\n}\n\nmodule.exports = stackGet;\n","/**\n * Checks if a stack value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Stack\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction stackHas(key) {\n  return this.__data__.has(key);\n}\n\nmodule.exports = stackHas;\n","/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\nmodule.exports = freeGlobal;\n","var freeGlobal = require('./_freeGlobal');\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\nmodule.exports = root;\n","var root = require('./_root');\n\n/** Built-in value references. */\nvar Symbol = root.Symbol;\n\nmodule.exports = Symbol;\n","var Symbol = require('./_Symbol');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\nmodule.exports = getRawTag;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\nmodule.exports = objectToString;\n","var Symbol = require('./_Symbol'),\n    getRawTag = require('./_getRawTag'),\n    objectToString = require('./_objectToString');\n\n/** `Object#toString` result references. */\nvar nullTag = '[object Null]',\n    undefinedTag = '[object Undefined]';\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\nmodule.exports = baseGetTag;\n","/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\nmodule.exports = isObject;\n","var baseGetTag = require('./_baseGetTag'),\n    isObject = require('./isObject');\n\n/** `Object#toString` result references. */\nvar asyncTag = '[object AsyncFunction]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    proxyTag = '[object Proxy]';\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  if (!isObject(value)) {\n    return false;\n  }\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 9 which returns 'object' for typed arrays and other constructors.\n  var tag = baseGetTag(value);\n  return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n}\n\nmodule.exports = isFunction;\n","var root = require('./_root');\n\n/** Used to detect overreaching core-js shims. */\nvar coreJsData = root['__core-js_shared__'];\n\nmodule.exports = coreJsData;\n","var coreJsData = require('./_coreJsData');\n\n/** Used to detect methods masquerading as native. */\nvar maskSrcKey = (function() {\n  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n  return uid ? ('Symbol(src)_1.' + uid) : '';\n}());\n\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */\nfunction isMasked(func) {\n  return !!maskSrcKey && (maskSrcKey in func);\n}\n\nmodule.exports = isMasked;\n","/** Used for built-in method references. */\nvar funcProto = Function.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to convert.\n * @returns {string} Returns the source code.\n */\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString.call(func);\n    } catch (e) {}\n    try {\n      return (func + '');\n    } catch (e) {}\n  }\n  return '';\n}\n\nmodule.exports = toSource;\n","var isFunction = require('./isFunction'),\n    isMasked = require('./_isMasked'),\n    isObject = require('./isObject'),\n    toSource = require('./_toSource');\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n/** Used to detect host constructors (Safari). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Used for built-in method references. */\nvar funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */\nfunction baseIsNative(value) {\n  if (!isObject(value) || isMasked(value)) {\n    return false;\n  }\n  var pattern = isFunction(value) ? reIsNative : reIsHostCtor;\n  return pattern.test(toSource(value));\n}\n\nmodule.exports = baseIsNative;\n","/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n\nmodule.exports = getValue;\n","var baseIsNative = require('./_baseIsNative'),\n    getValue = require('./_getValue');\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = getValue(object, key);\n  return baseIsNative(value) ? value : undefined;\n}\n\nmodule.exports = getNative;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar Map = getNative(root, 'Map');\n\nmodule.exports = Map;\n","var getNative = require('./_getNative');\n\n/* Built-in method references that are verified to be native. */\nvar nativeCreate = getNative(Object, 'create');\n\nmodule.exports = nativeCreate;\n","var nativeCreate = require('./_nativeCreate');\n\n/**\n * Removes all key-value entries from the hash.\n *\n * @private\n * @name clear\n * @memberOf Hash\n */\nfunction hashClear() {\n  this.__data__ = nativeCreate ? nativeCreate(null) : {};\n  this.size = 0;\n}\n\nmodule.exports = hashClear;\n","/**\n * Removes `key` and its value from the hash.\n *\n * @private\n * @name delete\n * @memberOf Hash\n * @param {Object} hash The hash to modify.\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction hashDelete(key) {\n  var result = this.has(key) && delete this.__data__[key];\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\nmodule.exports = hashDelete;\n","var nativeCreate = require('./_nativeCreate');\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Gets the hash value for `key`.\n *\n * @private\n * @name get\n * @memberOf Hash\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction hashGet(key) {\n  var data = this.__data__;\n  if (nativeCreate) {\n    var result = data[key];\n    return result === HASH_UNDEFINED ? undefined : result;\n  }\n  return hasOwnProperty.call(data, key) ? data[key] : undefined;\n}\n\nmodule.exports = hashGet;\n","var nativeCreate = require('./_nativeCreate');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Checks if a hash value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Hash\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction hashHas(key) {\n  var data = this.__data__;\n  return nativeCreate ? (data[key] !== undefined) : hasOwnProperty.call(data, key);\n}\n\nmodule.exports = hashHas;\n","var nativeCreate = require('./_nativeCreate');\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/**\n * Sets the hash `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Hash\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the hash instance.\n */\nfunction hashSet(key, value) {\n  var data = this.__data__;\n  this.size += this.has(key) ? 0 : 1;\n  data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\n  return this;\n}\n\nmodule.exports = hashSet;\n","var hashClear = require('./_hashClear'),\n    hashDelete = require('./_hashDelete'),\n    hashGet = require('./_hashGet'),\n    hashHas = require('./_hashHas'),\n    hashSet = require('./_hashSet');\n\n/**\n * Creates a hash object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Hash(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `Hash`.\nHash.prototype.clear = hashClear;\nHash.prototype['delete'] = hashDelete;\nHash.prototype.get = hashGet;\nHash.prototype.has = hashHas;\nHash.prototype.set = hashSet;\n\nmodule.exports = Hash;\n","var Hash = require('./_Hash'),\n    ListCache = require('./_ListCache'),\n    Map = require('./_Map');\n\n/**\n * Removes all key-value entries from the map.\n *\n * @private\n * @name clear\n * @memberOf MapCache\n */\nfunction mapCacheClear() {\n  this.size = 0;\n  this.__data__ = {\n    'hash': new Hash,\n    'map': new (Map || ListCache),\n    'string': new Hash\n  };\n}\n\nmodule.exports = mapCacheClear;\n","/**\n * Checks if `value` is suitable for use as unique object key.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n */\nfunction isKeyable(value) {\n  var type = typeof value;\n  return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n    ? (value !== '__proto__')\n    : (value === null);\n}\n\nmodule.exports = isKeyable;\n","var isKeyable = require('./_isKeyable');\n\n/**\n * Gets the data for `map`.\n *\n * @private\n * @param {Object} map The map to query.\n * @param {string} key The reference key.\n * @returns {*} Returns the map data.\n */\nfunction getMapData(map, key) {\n  var data = map.__data__;\n  return isKeyable(key)\n    ? data[typeof key == 'string' ? 'string' : 'hash']\n    : data.map;\n}\n\nmodule.exports = getMapData;\n","var getMapData = require('./_getMapData');\n\n/**\n * Removes `key` and its value from the map.\n *\n * @private\n * @name delete\n * @memberOf MapCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction mapCacheDelete(key) {\n  var result = getMapData(this, key)['delete'](key);\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\nmodule.exports = mapCacheDelete;\n","var getMapData = require('./_getMapData');\n\n/**\n * Gets the map value for `key`.\n *\n * @private\n * @name get\n * @memberOf MapCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction mapCacheGet(key) {\n  return getMapData(this, key).get(key);\n}\n\nmodule.exports = mapCacheGet;\n","var getMapData = require('./_getMapData');\n\n/**\n * Checks if a map value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf MapCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction mapCacheHas(key) {\n  return getMapData(this, key).has(key);\n}\n\nmodule.exports = mapCacheHas;\n","var getMapData = require('./_getMapData');\n\n/**\n * Sets the map `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf MapCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the map cache instance.\n */\nfunction mapCacheSet(key, value) {\n  var data = getMapData(this, key),\n      size = data.size;\n\n  data.set(key, value);\n  this.size += data.size == size ? 0 : 1;\n  return this;\n}\n\nmodule.exports = mapCacheSet;\n","var mapCacheClear = require('./_mapCacheClear'),\n    mapCacheDelete = require('./_mapCacheDelete'),\n    mapCacheGet = require('./_mapCacheGet'),\n    mapCacheHas = require('./_mapCacheHas'),\n    mapCacheSet = require('./_mapCacheSet');\n\n/**\n * Creates a map cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction MapCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `MapCache`.\nMapCache.prototype.clear = mapCacheClear;\nMapCache.prototype['delete'] = mapCacheDelete;\nMapCache.prototype.get = mapCacheGet;\nMapCache.prototype.has = mapCacheHas;\nMapCache.prototype.set = mapCacheSet;\n\nmodule.exports = MapCache;\n","var ListCache = require('./_ListCache'),\n    Map = require('./_Map'),\n    MapCache = require('./_MapCache');\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/**\n * Sets the stack `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Stack\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the stack cache instance.\n */\nfunction stackSet(key, value) {\n  var data = this.__data__;\n  if (data instanceof ListCache) {\n    var pairs = data.__data__;\n    if (!Map || (pairs.length < LARGE_ARRAY_SIZE - 1)) {\n      pairs.push([key, value]);\n      this.size = ++data.size;\n      return this;\n    }\n    data = this.__data__ = new MapCache(pairs);\n  }\n  data.set(key, value);\n  this.size = data.size;\n  return this;\n}\n\nmodule.exports = stackSet;\n","var ListCache = require('./_ListCache'),\n    stackClear = require('./_stackClear'),\n    stackDelete = require('./_stackDelete'),\n    stackGet = require('./_stackGet'),\n    stackHas = require('./_stackHas'),\n    stackSet = require('./_stackSet');\n\n/**\n * Creates a stack cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Stack(entries) {\n  var data = this.__data__ = new ListCache(entries);\n  this.size = data.size;\n}\n\n// Add methods to `Stack`.\nStack.prototype.clear = stackClear;\nStack.prototype['delete'] = stackDelete;\nStack.prototype.get = stackGet;\nStack.prototype.has = stackHas;\nStack.prototype.set = stackSet;\n\nmodule.exports = Stack;\n","/**\n * A specialized version of `_.forEach` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns `array`.\n */\nfunction arrayEach(array, iteratee) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    if (iteratee(array[index], index, array) === false) {\n      break;\n    }\n  }\n  return array;\n}\n\nmodule.exports = arrayEach;\n","var getNative = require('./_getNative');\n\nvar defineProperty = (function() {\n  try {\n    var func = getNative(Object, 'defineProperty');\n    func({}, '', {});\n    return func;\n  } catch (e) {}\n}());\n\nmodule.exports = defineProperty;\n","var defineProperty = require('./_defineProperty');\n\n/**\n * The base implementation of `assignValue` and `assignMergeValue` without\n * value checks.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction baseAssignValue(object, key, value) {\n  if (key == '__proto__' && defineProperty) {\n    defineProperty(object, key, {\n      'configurable': true,\n      'enumerable': true,\n      'value': value,\n      'writable': true\n    });\n  } else {\n    object[key] = value;\n  }\n}\n\nmodule.exports = baseAssignValue;\n","var baseAssignValue = require('./_baseAssignValue'),\n    eq = require('./eq');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Assigns `value` to `key` of `object` if the existing value is not equivalent\n * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction assignValue(object, key, value) {\n  var objValue = object[key];\n  if (!(hasOwnProperty.call(object, key) && eq(objValue, value)) ||\n      (value === undefined && !(key in object))) {\n    baseAssignValue(object, key, value);\n  }\n}\n\nmodule.exports = assignValue;\n","var assignValue = require('./_assignValue'),\n    baseAssignValue = require('./_baseAssignValue');\n\n/**\n * Copies properties of `source` to `object`.\n *\n * @private\n * @param {Object} source The object to copy properties from.\n * @param {Array} props The property identifiers to copy.\n * @param {Object} [object={}] The object to copy properties to.\n * @param {Function} [customizer] The function to customize copied values.\n * @returns {Object} Returns `object`.\n */\nfunction copyObject(source, props, object, customizer) {\n  var isNew = !object;\n  object || (object = {});\n\n  var index = -1,\n      length = props.length;\n\n  while (++index < length) {\n    var key = props[index];\n\n    var newValue = customizer\n      ? customizer(object[key], source[key], key, object, source)\n      : undefined;\n\n    if (newValue === undefined) {\n      newValue = source[key];\n    }\n    if (isNew) {\n      baseAssignValue(object, key, newValue);\n    } else {\n      assignValue(object, key, newValue);\n    }\n  }\n  return object;\n}\n\nmodule.exports = copyObject;\n","/**\n * The base implementation of `_.times` without support for iteratee shorthands\n * or max array length checks.\n *\n * @private\n * @param {number} n The number of times to invoke `iteratee`.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the array of results.\n */\nfunction baseTimes(n, iteratee) {\n  var index = -1,\n      result = Array(n);\n\n  while (++index < n) {\n    result[index] = iteratee(index);\n  }\n  return result;\n}\n\nmodule.exports = baseTimes;\n","/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\nmodule.exports = isObjectLike;\n","var baseGetTag = require('./_baseGetTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]';\n\n/**\n * The base implementation of `_.isArguments`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n */\nfunction baseIsArguments(value) {\n  return isObjectLike(value) && baseGetTag(value) == argsTag;\n}\n\nmodule.exports = baseIsArguments;\n","var baseIsArguments = require('./_baseIsArguments'),\n    isObjectLike = require('./isObjectLike');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nvar isArguments = baseIsArguments(function() { return arguments; }()) ? baseIsArguments : function(value) {\n  return isObjectLike(value) && hasOwnProperty.call(value, 'callee') &&\n    !propertyIsEnumerable.call(value, 'callee');\n};\n\nmodule.exports = isArguments;\n","/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\nmodule.exports = isArray;\n","/**\n * This method returns `false`.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {boolean} Returns `false`.\n * @example\n *\n * _.times(2, _.stubFalse);\n * // => [false, false]\n */\nfunction stubFalse() {\n  return false;\n}\n\nmodule.exports = stubFalse;\n","var root = require('./_root'),\n    stubFalse = require('./stubFalse');\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Built-in value references. */\nvar Buffer = moduleExports ? root.Buffer : undefined;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined;\n\n/**\n * Checks if `value` is a buffer.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.\n * @example\n *\n * _.isBuffer(new Buffer(2));\n * // => true\n *\n * _.isBuffer(new Uint8Array(2));\n * // => false\n */\nvar isBuffer = nativeIsBuffer || stubFalse;\n\nmodule.exports = isBuffer;\n","/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  var type = typeof value;\n  length = length == null ? MAX_SAFE_INTEGER : length;\n\n  return !!length &&\n    (type == 'number' ||\n      (type != 'symbol' && reIsUint.test(value))) &&\n        (value > -1 && value % 1 == 0 && value < length);\n}\n\nmodule.exports = isIndex;\n","/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\nmodule.exports = isLength;\n","var baseGetTag = require('./_baseGetTag'),\n    isLength = require('./isLength'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    funcTag = '[object Function]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    objectTag = '[object Object]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    weakMapTag = '[object WeakMap]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/** Used to identify `toStringTag` values of typed arrays. */\nvar typedArrayTags = {};\ntypedArrayTags[float32Tag] = typedArrayTags[float64Tag] =\ntypedArrayTags[int8Tag] = typedArrayTags[int16Tag] =\ntypedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =\ntypedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =\ntypedArrayTags[uint32Tag] = true;\ntypedArrayTags[argsTag] = typedArrayTags[arrayTag] =\ntypedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =\ntypedArrayTags[dataViewTag] = typedArrayTags[dateTag] =\ntypedArrayTags[errorTag] = typedArrayTags[funcTag] =\ntypedArrayTags[mapTag] = typedArrayTags[numberTag] =\ntypedArrayTags[objectTag] = typedArrayTags[regexpTag] =\ntypedArrayTags[setTag] = typedArrayTags[stringTag] =\ntypedArrayTags[weakMapTag] = false;\n\n/**\n * The base implementation of `_.isTypedArray` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n */\nfunction baseIsTypedArray(value) {\n  return isObjectLike(value) &&\n    isLength(value.length) && !!typedArrayTags[baseGetTag(value)];\n}\n\nmodule.exports = baseIsTypedArray;\n","/**\n * The base implementation of `_.unary` without support for storing metadata.\n *\n * @private\n * @param {Function} func The function to cap arguments for.\n * @returns {Function} Returns the new capped function.\n */\nfunction baseUnary(func) {\n  return function(value) {\n    return func(value);\n  };\n}\n\nmodule.exports = baseUnary;\n","var freeGlobal = require('./_freeGlobal');\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Detect free variable `process` from Node.js. */\nvar freeProcess = moduleExports && freeGlobal.process;\n\n/** Used to access faster Node.js helpers. */\nvar nodeUtil = (function() {\n  try {\n    // Use `util.types` for Node.js 10+.\n    var types = freeModule && freeModule.require && freeModule.require('util').types;\n\n    if (types) {\n      return types;\n    }\n\n    // Legacy `process.binding('util')` for Node.js < 10.\n    return freeProcess && freeProcess.binding && freeProcess.binding('util');\n  } catch (e) {}\n}());\n\nmodule.exports = nodeUtil;\n","var baseIsTypedArray = require('./_baseIsTypedArray'),\n    baseUnary = require('./_baseUnary'),\n    nodeUtil = require('./_nodeUtil');\n\n/* Node.js helper references. */\nvar nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;\n\n/**\n * Checks if `value` is classified as a typed array.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n * @example\n *\n * _.isTypedArray(new Uint8Array);\n * // => true\n *\n * _.isTypedArray([]);\n * // => false\n */\nvar isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;\n\nmodule.exports = isTypedArray;\n","var baseTimes = require('./_baseTimes'),\n    isArguments = require('./isArguments'),\n    isArray = require('./isArray'),\n    isBuffer = require('./isBuffer'),\n    isIndex = require('./_isIndex'),\n    isTypedArray = require('./isTypedArray');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Creates an array of the enumerable property names of the array-like `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @param {boolean} inherited Specify returning inherited property names.\n * @returns {Array} Returns the array of property names.\n */\nfunction arrayLikeKeys(value, inherited) {\n  var isArr = isArray(value),\n      isArg = !isArr && isArguments(value),\n      isBuff = !isArr && !isArg && isBuffer(value),\n      isType = !isArr && !isArg && !isBuff && isTypedArray(value),\n      skipIndexes = isArr || isArg || isBuff || isType,\n      result = skipIndexes ? baseTimes(value.length, String) : [],\n      length = result.length;\n\n  for (var key in value) {\n    if ((inherited || hasOwnProperty.call(value, key)) &&\n        !(skipIndexes && (\n           // Safari 9 has enumerable `arguments.length` in strict mode.\n           key == 'length' ||\n           // Node.js 0.10 has enumerable non-index properties on buffers.\n           (isBuff && (key == 'offset' || key == 'parent')) ||\n           // PhantomJS 2 has enumerable non-index properties on typed arrays.\n           (isType && (key == 'buffer' || key == 'byteLength' || key == 'byteOffset')) ||\n           // Skip index properties.\n           isIndex(key, length)\n        ))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = arrayLikeKeys;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Checks if `value` is likely a prototype object.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n */\nfunction isPrototype(value) {\n  var Ctor = value && value.constructor,\n      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n  return value === proto;\n}\n\nmodule.exports = isPrototype;\n","/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func, transform) {\n  return function(arg) {\n    return func(transform(arg));\n  };\n}\n\nmodule.exports = overArg;\n","var overArg = require('./_overArg');\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeKeys = overArg(Object.keys, Object);\n\nmodule.exports = nativeKeys;\n","var isPrototype = require('./_isPrototype'),\n    nativeKeys = require('./_nativeKeys');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeys(object) {\n  if (!isPrototype(object)) {\n    return nativeKeys(object);\n  }\n  var result = [];\n  for (var key in Object(object)) {\n    if (hasOwnProperty.call(object, key) && key != 'constructor') {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseKeys;\n","var isFunction = require('./isFunction'),\n    isLength = require('./isLength');\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n\nmodule.exports = isArrayLike;\n","var arrayLikeKeys = require('./_arrayLikeKeys'),\n    baseKeys = require('./_baseKeys'),\n    isArrayLike = require('./isArrayLike');\n\n/**\n * Creates an array of the own enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects. See the\n * [ES spec](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * for more details.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keys(new Foo);\n * // => ['a', 'b'] (iteration order is not guaranteed)\n *\n * _.keys('hi');\n * // => ['0', '1']\n */\nfunction keys(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object) : baseKeys(object);\n}\n\nmodule.exports = keys;\n","var copyObject = require('./_copyObject'),\n    keys = require('./keys');\n\n/**\n * The base implementation of `_.assign` without support for multiple sources\n * or `customizer` functions.\n *\n * @private\n * @param {Object} object The destination object.\n * @param {Object} source The source object.\n * @returns {Object} Returns `object`.\n */\nfunction baseAssign(object, source) {\n  return object && copyObject(source, keys(source), object);\n}\n\nmodule.exports = baseAssign;\n","/**\n * This function is like\n * [`Object.keys`](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * except that it includes inherited enumerable properties.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction nativeKeysIn(object) {\n  var result = [];\n  if (object != null) {\n    for (var key in Object(object)) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = nativeKeysIn;\n","var isObject = require('./isObject'),\n    isPrototype = require('./_isPrototype'),\n    nativeKeysIn = require('./_nativeKeysIn');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * The base implementation of `_.keysIn` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeysIn(object) {\n  if (!isObject(object)) {\n    return nativeKeysIn(object);\n  }\n  var isProto = isPrototype(object),\n      result = [];\n\n  for (var key in object) {\n    if (!(key == 'constructor' && (isProto || !hasOwnProperty.call(object, key)))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseKeysIn;\n","var arrayLikeKeys = require('./_arrayLikeKeys'),\n    baseKeysIn = require('./_baseKeysIn'),\n    isArrayLike = require('./isArrayLike');\n\n/**\n * Creates an array of the own and inherited enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keysIn(new Foo);\n * // => ['a', 'b', 'c'] (iteration order is not guaranteed)\n */\nfunction keysIn(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object, true) : baseKeysIn(object);\n}\n\nmodule.exports = keysIn;\n","var copyObject = require('./_copyObject'),\n    keysIn = require('./keysIn');\n\n/**\n * The base implementation of `_.assignIn` without support for multiple sources\n * or `customizer` functions.\n *\n * @private\n * @param {Object} object The destination object.\n * @param {Object} source The source object.\n * @returns {Object} Returns `object`.\n */\nfunction baseAssignIn(object, source) {\n  return object && copyObject(source, keysIn(source), object);\n}\n\nmodule.exports = baseAssignIn;\n","var root = require('./_root');\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Built-in value references. */\nvar Buffer = moduleExports ? root.Buffer : undefined,\n    allocUnsafe = Buffer ? Buffer.allocUnsafe : undefined;\n\n/**\n * Creates a clone of  `buffer`.\n *\n * @private\n * @param {Buffer} buffer The buffer to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Buffer} Returns the cloned buffer.\n */\nfunction cloneBuffer(buffer, isDeep) {\n  if (isDeep) {\n    return buffer.slice();\n  }\n  var length = buffer.length,\n      result = allocUnsafe ? allocUnsafe(length) : new buffer.constructor(length);\n\n  buffer.copy(result);\n  return result;\n}\n\nmodule.exports = cloneBuffer;\n","/**\n * Copies the values of `source` to `array`.\n *\n * @private\n * @param {Array} source The array to copy values from.\n * @param {Array} [array=[]] The array to copy values to.\n * @returns {Array} Returns `array`.\n */\nfunction copyArray(source, array) {\n  var index = -1,\n      length = source.length;\n\n  array || (array = Array(length));\n  while (++index < length) {\n    array[index] = source[index];\n  }\n  return array;\n}\n\nmodule.exports = copyArray;\n","/**\n * A specialized version of `_.filter` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {Array} Returns the new filtered array.\n */\nfunction arrayFilter(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      resIndex = 0,\n      result = [];\n\n  while (++index < length) {\n    var value = array[index];\n    if (predicate(value, index, array)) {\n      result[resIndex++] = value;\n    }\n  }\n  return result;\n}\n\nmodule.exports = arrayFilter;\n","/**\n * This method returns a new empty array.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {Array} Returns the new empty array.\n * @example\n *\n * var arrays = _.times(2, _.stubArray);\n *\n * console.log(arrays);\n * // => [[], []]\n *\n * console.log(arrays[0] === arrays[1]);\n * // => false\n */\nfunction stubArray() {\n  return [];\n}\n\nmodule.exports = stubArray;\n","var arrayFilter = require('./_arrayFilter'),\n    stubArray = require('./stubArray');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeGetSymbols = Object.getOwnPropertySymbols;\n\n/**\n * Creates an array of the own enumerable symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of symbols.\n */\nvar getSymbols = !nativeGetSymbols ? stubArray : function(object) {\n  if (object == null) {\n    return [];\n  }\n  object = Object(object);\n  return arrayFilter(nativeGetSymbols(object), function(symbol) {\n    return propertyIsEnumerable.call(object, symbol);\n  });\n};\n\nmodule.exports = getSymbols;\n","var copyObject = require('./_copyObject'),\n    getSymbols = require('./_getSymbols');\n\n/**\n * Copies own symbols of `source` to `object`.\n *\n * @private\n * @param {Object} source The object to copy symbols from.\n * @param {Object} [object={}] The object to copy symbols to.\n * @returns {Object} Returns `object`.\n */\nfunction copySymbols(source, object) {\n  return copyObject(source, getSymbols(source), object);\n}\n\nmodule.exports = copySymbols;\n","/**\n * Appends the elements of `values` to `array`.\n *\n * @private\n * @param {Array} array The array to modify.\n * @param {Array} values The values to append.\n * @returns {Array} Returns `array`.\n */\nfunction arrayPush(array, values) {\n  var index = -1,\n      length = values.length,\n      offset = array.length;\n\n  while (++index < length) {\n    array[offset + index] = values[index];\n  }\n  return array;\n}\n\nmodule.exports = arrayPush;\n","var overArg = require('./_overArg');\n\n/** Built-in value references. */\nvar getPrototype = overArg(Object.getPrototypeOf, Object);\n\nmodule.exports = getPrototype;\n","var arrayPush = require('./_arrayPush'),\n    getPrototype = require('./_getPrototype'),\n    getSymbols = require('./_getSymbols'),\n    stubArray = require('./stubArray');\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeGetSymbols = Object.getOwnPropertySymbols;\n\n/**\n * Creates an array of the own and inherited enumerable symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of symbols.\n */\nvar getSymbolsIn = !nativeGetSymbols ? stubArray : function(object) {\n  var result = [];\n  while (object) {\n    arrayPush(result, getSymbols(object));\n    object = getPrototype(object);\n  }\n  return result;\n};\n\nmodule.exports = getSymbolsIn;\n","var copyObject = require('./_copyObject'),\n    getSymbolsIn = require('./_getSymbolsIn');\n\n/**\n * Copies own and inherited symbols of `source` to `object`.\n *\n * @private\n * @param {Object} source The object to copy symbols from.\n * @param {Object} [object={}] The object to copy symbols to.\n * @returns {Object} Returns `object`.\n */\nfunction copySymbolsIn(source, object) {\n  return copyObject(source, getSymbolsIn(source), object);\n}\n\nmodule.exports = copySymbolsIn;\n","var arrayPush = require('./_arrayPush'),\n    isArray = require('./isArray');\n\n/**\n * The base implementation of `getAllKeys` and `getAllKeysIn` which uses\n * `keysFunc` and `symbolsFunc` to get the enumerable property names and\n * symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @param {Function} symbolsFunc The function to get the symbols of `object`.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction baseGetAllKeys(object, keysFunc, symbolsFunc) {\n  var result = keysFunc(object);\n  return isArray(object) ? result : arrayPush(result, symbolsFunc(object));\n}\n\nmodule.exports = baseGetAllKeys;\n","var baseGetAllKeys = require('./_baseGetAllKeys'),\n    getSymbols = require('./_getSymbols'),\n    keys = require('./keys');\n\n/**\n * Creates an array of own enumerable property names and symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction getAllKeys(object) {\n  return baseGetAllKeys(object, keys, getSymbols);\n}\n\nmodule.exports = getAllKeys;\n","var baseGetAllKeys = require('./_baseGetAllKeys'),\n    getSymbolsIn = require('./_getSymbolsIn'),\n    keysIn = require('./keysIn');\n\n/**\n * Creates an array of own and inherited enumerable property names and\n * symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction getAllKeysIn(object) {\n  return baseGetAllKeys(object, keysIn, getSymbolsIn);\n}\n\nmodule.exports = getAllKeysIn;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar DataView = getNative(root, 'DataView');\n\nmodule.exports = DataView;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar Promise = getNative(root, 'Promise');\n\nmodule.exports = Promise;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar Set = getNative(root, 'Set');\n\nmodule.exports = Set;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar WeakMap = getNative(root, 'WeakMap');\n\nmodule.exports = WeakMap;\n","var DataView = require('./_DataView'),\n    Map = require('./_Map'),\n    Promise = require('./_Promise'),\n    Set = require('./_Set'),\n    WeakMap = require('./_WeakMap'),\n    baseGetTag = require('./_baseGetTag'),\n    toSource = require('./_toSource');\n\n/** `Object#toString` result references. */\nvar mapTag = '[object Map]',\n    objectTag = '[object Object]',\n    promiseTag = '[object Promise]',\n    setTag = '[object Set]',\n    weakMapTag = '[object WeakMap]';\n\nvar dataViewTag = '[object DataView]';\n\n/** Used to detect maps, sets, and weakmaps. */\nvar dataViewCtorString = toSource(DataView),\n    mapCtorString = toSource(Map),\n    promiseCtorString = toSource(Promise),\n    setCtorString = toSource(Set),\n    weakMapCtorString = toSource(WeakMap);\n\n/**\n * Gets the `toStringTag` of `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nvar getTag = baseGetTag;\n\n// Fallback for data views, maps, sets, and weak maps in IE 11 and promises in Node.js < 6.\nif ((DataView && getTag(new DataView(new ArrayBuffer(1))) != dataViewTag) ||\n    (Map && getTag(new Map) != mapTag) ||\n    (Promise && getTag(Promise.resolve()) != promiseTag) ||\n    (Set && getTag(new Set) != setTag) ||\n    (WeakMap && getTag(new WeakMap) != weakMapTag)) {\n  getTag = function(value) {\n    var result = baseGetTag(value),\n        Ctor = result == objectTag ? value.constructor : undefined,\n        ctorString = Ctor ? toSource(Ctor) : '';\n\n    if (ctorString) {\n      switch (ctorString) {\n        case dataViewCtorString: return dataViewTag;\n        case mapCtorString: return mapTag;\n        case promiseCtorString: return promiseTag;\n        case setCtorString: return setTag;\n        case weakMapCtorString: return weakMapTag;\n      }\n    }\n    return result;\n  };\n}\n\nmodule.exports = getTag;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Initializes an array clone.\n *\n * @private\n * @param {Array} array The array to clone.\n * @returns {Array} Returns the initialized clone.\n */\nfunction initCloneArray(array) {\n  var length = array.length,\n      result = new array.constructor(length);\n\n  // Add properties assigned by `RegExp#exec`.\n  if (length && typeof array[0] == 'string' && hasOwnProperty.call(array, 'index')) {\n    result.index = array.index;\n    result.input = array.input;\n  }\n  return result;\n}\n\nmodule.exports = initCloneArray;\n","var root = require('./_root');\n\n/** Built-in value references. */\nvar Uint8Array = root.Uint8Array;\n\nmodule.exports = Uint8Array;\n","var Uint8Array = require('./_Uint8Array');\n\n/**\n * Creates a clone of `arrayBuffer`.\n *\n * @private\n * @param {ArrayBuffer} arrayBuffer The array buffer to clone.\n * @returns {ArrayBuffer} Returns the cloned array buffer.\n */\nfunction cloneArrayBuffer(arrayBuffer) {\n  var result = new arrayBuffer.constructor(arrayBuffer.byteLength);\n  new Uint8Array(result).set(new Uint8Array(arrayBuffer));\n  return result;\n}\n\nmodule.exports = cloneArrayBuffer;\n","var cloneArrayBuffer = require('./_cloneArrayBuffer');\n\n/**\n * Creates a clone of `dataView`.\n *\n * @private\n * @param {Object} dataView The data view to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Object} Returns the cloned data view.\n */\nfunction cloneDataView(dataView, isDeep) {\n  var buffer = isDeep ? cloneArrayBuffer(dataView.buffer) : dataView.buffer;\n  return new dataView.constructor(buffer, dataView.byteOffset, dataView.byteLength);\n}\n\nmodule.exports = cloneDataView;\n","/** Used to match `RegExp` flags from their coerced string values. */\nvar reFlags = /\\w*$/;\n\n/**\n * Creates a clone of `regexp`.\n *\n * @private\n * @param {Object} regexp The regexp to clone.\n * @returns {Object} Returns the cloned regexp.\n */\nfunction cloneRegExp(regexp) {\n  var result = new regexp.constructor(regexp.source, reFlags.exec(regexp));\n  result.lastIndex = regexp.lastIndex;\n  return result;\n}\n\nmodule.exports = cloneRegExp;\n","var Symbol = require('./_Symbol');\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolValueOf = symbolProto ? symbolProto.valueOf : undefined;\n\n/**\n * Creates a clone of the `symbol` object.\n *\n * @private\n * @param {Object} symbol The symbol object to clone.\n * @returns {Object} Returns the cloned symbol object.\n */\nfunction cloneSymbol(symbol) {\n  return symbolValueOf ? Object(symbolValueOf.call(symbol)) : {};\n}\n\nmodule.exports = cloneSymbol;\n","var cloneArrayBuffer = require('./_cloneArrayBuffer');\n\n/**\n * Creates a clone of `typedArray`.\n *\n * @private\n * @param {Object} typedArray The typed array to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Object} Returns the cloned typed array.\n */\nfunction cloneTypedArray(typedArray, isDeep) {\n  var buffer = isDeep ? cloneArrayBuffer(typedArray.buffer) : typedArray.buffer;\n  return new typedArray.constructor(buffer, typedArray.byteOffset, typedArray.length);\n}\n\nmodule.exports = cloneTypedArray;\n","var cloneArrayBuffer = require('./_cloneArrayBuffer'),\n    cloneDataView = require('./_cloneDataView'),\n    cloneRegExp = require('./_cloneRegExp'),\n    cloneSymbol = require('./_cloneSymbol'),\n    cloneTypedArray = require('./_cloneTypedArray');\n\n/** `Object#toString` result references. */\nvar boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    symbolTag = '[object Symbol]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/**\n * Initializes an object clone based on its `toStringTag`.\n *\n * **Note:** This function only supports cloning values with tags of\n * `Boolean`, `Date`, `Error`, `Map`, `Number`, `RegExp`, `Set`, or `String`.\n *\n * @private\n * @param {Object} object The object to clone.\n * @param {string} tag The `toStringTag` of the object to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Object} Returns the initialized clone.\n */\nfunction initCloneByTag(object, tag, isDeep) {\n  var Ctor = object.constructor;\n  switch (tag) {\n    case arrayBufferTag:\n      return cloneArrayBuffer(object);\n\n    case boolTag:\n    case dateTag:\n      return new Ctor(+object);\n\n    case dataViewTag:\n      return cloneDataView(object, isDeep);\n\n    case float32Tag: case float64Tag:\n    case int8Tag: case int16Tag: case int32Tag:\n    case uint8Tag: case uint8ClampedTag: case uint16Tag: case uint32Tag:\n      return cloneTypedArray(object, isDeep);\n\n    case mapTag:\n      return new Ctor;\n\n    case numberTag:\n    case stringTag:\n      return new Ctor(object);\n\n    case regexpTag:\n      return cloneRegExp(object);\n\n    case setTag:\n      return new Ctor;\n\n    case symbolTag:\n      return cloneSymbol(object);\n  }\n}\n\nmodule.exports = initCloneByTag;\n","var isObject = require('./isObject');\n\n/** Built-in value references. */\nvar objectCreate = Object.create;\n\n/**\n * The base implementation of `_.create` without support for assigning\n * properties to the created object.\n *\n * @private\n * @param {Object} proto The object to inherit from.\n * @returns {Object} Returns the new object.\n */\nvar baseCreate = (function() {\n  function object() {}\n  return function(proto) {\n    if (!isObject(proto)) {\n      return {};\n    }\n    if (objectCreate) {\n      return objectCreate(proto);\n    }\n    object.prototype = proto;\n    var result = new object;\n    object.prototype = undefined;\n    return result;\n  };\n}());\n\nmodule.exports = baseCreate;\n","var baseCreate = require('./_baseCreate'),\n    getPrototype = require('./_getPrototype'),\n    isPrototype = require('./_isPrototype');\n\n/**\n * Initializes an object clone.\n *\n * @private\n * @param {Object} object The object to clone.\n * @returns {Object} Returns the initialized clone.\n */\nfunction initCloneObject(object) {\n  return (typeof object.constructor == 'function' && !isPrototype(object))\n    ? baseCreate(getPrototype(object))\n    : {};\n}\n\nmodule.exports = initCloneObject;\n","var getTag = require('./_getTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar mapTag = '[object Map]';\n\n/**\n * The base implementation of `_.isMap` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a map, else `false`.\n */\nfunction baseIsMap(value) {\n  return isObjectLike(value) && getTag(value) == mapTag;\n}\n\nmodule.exports = baseIsMap;\n","var baseIsMap = require('./_baseIsMap'),\n    baseUnary = require('./_baseUnary'),\n    nodeUtil = require('./_nodeUtil');\n\n/* Node.js helper references. */\nvar nodeIsMap = nodeUtil && nodeUtil.isMap;\n\n/**\n * Checks if `value` is classified as a `Map` object.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a map, else `false`.\n * @example\n *\n * _.isMap(new Map);\n * // => true\n *\n * _.isMap(new WeakMap);\n * // => false\n */\nvar isMap = nodeIsMap ? baseUnary(nodeIsMap) : baseIsMap;\n\nmodule.exports = isMap;\n","var getTag = require('./_getTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar setTag = '[object Set]';\n\n/**\n * The base implementation of `_.isSet` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a set, else `false`.\n */\nfunction baseIsSet(value) {\n  return isObjectLike(value) && getTag(value) == setTag;\n}\n\nmodule.exports = baseIsSet;\n","var baseIsSet = require('./_baseIsSet'),\n    baseUnary = require('./_baseUnary'),\n    nodeUtil = require('./_nodeUtil');\n\n/* Node.js helper references. */\nvar nodeIsSet = nodeUtil && nodeUtil.isSet;\n\n/**\n * Checks if `value` is classified as a `Set` object.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a set, else `false`.\n * @example\n *\n * _.isSet(new Set);\n * // => true\n *\n * _.isSet(new WeakSet);\n * // => false\n */\nvar isSet = nodeIsSet ? baseUnary(nodeIsSet) : baseIsSet;\n\nmodule.exports = isSet;\n","var Stack = require('./_Stack'),\n    arrayEach = require('./_arrayEach'),\n    assignValue = require('./_assignValue'),\n    baseAssign = require('./_baseAssign'),\n    baseAssignIn = require('./_baseAssignIn'),\n    cloneBuffer = require('./_cloneBuffer'),\n    copyArray = require('./_copyArray'),\n    copySymbols = require('./_copySymbols'),\n    copySymbolsIn = require('./_copySymbolsIn'),\n    getAllKeys = require('./_getAllKeys'),\n    getAllKeysIn = require('./_getAllKeysIn'),\n    getTag = require('./_getTag'),\n    initCloneArray = require('./_initCloneArray'),\n    initCloneByTag = require('./_initCloneByTag'),\n    initCloneObject = require('./_initCloneObject'),\n    isArray = require('./isArray'),\n    isBuffer = require('./isBuffer'),\n    isMap = require('./isMap'),\n    isObject = require('./isObject'),\n    isSet = require('./isSet'),\n    keys = require('./keys'),\n    keysIn = require('./keysIn');\n\n/** Used to compose bitmasks for cloning. */\nvar CLONE_DEEP_FLAG = 1,\n    CLONE_FLAT_FLAG = 2,\n    CLONE_SYMBOLS_FLAG = 4;\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    objectTag = '[object Object]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    symbolTag = '[object Symbol]',\n    weakMapTag = '[object WeakMap]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/** Used to identify `toStringTag` values supported by `_.clone`. */\nvar cloneableTags = {};\ncloneableTags[argsTag] = cloneableTags[arrayTag] =\ncloneableTags[arrayBufferTag] = cloneableTags[dataViewTag] =\ncloneableTags[boolTag] = cloneableTags[dateTag] =\ncloneableTags[float32Tag] = cloneableTags[float64Tag] =\ncloneableTags[int8Tag] = cloneableTags[int16Tag] =\ncloneableTags[int32Tag] = cloneableTags[mapTag] =\ncloneableTags[numberTag] = cloneableTags[objectTag] =\ncloneableTags[regexpTag] = cloneableTags[setTag] =\ncloneableTags[stringTag] = cloneableTags[symbolTag] =\ncloneableTags[uint8Tag] = cloneableTags[uint8ClampedTag] =\ncloneableTags[uint16Tag] = cloneableTags[uint32Tag] = true;\ncloneableTags[errorTag] = cloneableTags[funcTag] =\ncloneableTags[weakMapTag] = false;\n\n/**\n * The base implementation of `_.clone` and `_.cloneDeep` which tracks\n * traversed objects.\n *\n * @private\n * @param {*} value The value to clone.\n * @param {boolean} bitmask The bitmask flags.\n *  1 - Deep clone\n *  2 - Flatten inherited properties\n *  4 - Clone symbols\n * @param {Function} [customizer] The function to customize cloning.\n * @param {string} [key] The key of `value`.\n * @param {Object} [object] The parent object of `value`.\n * @param {Object} [stack] Tracks traversed objects and their clone counterparts.\n * @returns {*} Returns the cloned value.\n */\nfunction baseClone(value, bitmask, customizer, key, object, stack) {\n  var result,\n      isDeep = bitmask & CLONE_DEEP_FLAG,\n      isFlat = bitmask & CLONE_FLAT_FLAG,\n      isFull = bitmask & CLONE_SYMBOLS_FLAG;\n\n  if (customizer) {\n    result = object ? customizer(value, key, object, stack) : customizer(value);\n  }\n  if (result !== undefined) {\n    return result;\n  }\n  if (!isObject(value)) {\n    return value;\n  }\n  var isArr = isArray(value);\n  if (isArr) {\n    result = initCloneArray(value);\n    if (!isDeep) {\n      return copyArray(value, result);\n    }\n  } else {\n    var tag = getTag(value),\n        isFunc = tag == funcTag || tag == genTag;\n\n    if (isBuffer(value)) {\n      return cloneBuffer(value, isDeep);\n    }\n    if (tag == objectTag || tag == argsTag || (isFunc && !object)) {\n      result = (isFlat || isFunc) ? {} : initCloneObject(value);\n      if (!isDeep) {\n        return isFlat\n          ? copySymbolsIn(value, baseAssignIn(result, value))\n          : copySymbols(value, baseAssign(result, value));\n      }\n    } else {\n      if (!cloneableTags[tag]) {\n        return object ? value : {};\n      }\n      result = initCloneByTag(value, tag, isDeep);\n    }\n  }\n  // Check for circular references and return its corresponding clone.\n  stack || (stack = new Stack);\n  var stacked = stack.get(value);\n  if (stacked) {\n    return stacked;\n  }\n  stack.set(value, result);\n\n  if (isSet(value)) {\n    value.forEach(function(subValue) {\n      result.add(baseClone(subValue, bitmask, customizer, subValue, value, stack));\n    });\n  } else if (isMap(value)) {\n    value.forEach(function(subValue, key) {\n      result.set(key, baseClone(subValue, bitmask, customizer, key, value, stack));\n    });\n  }\n\n  var keysFunc = isFull\n    ? (isFlat ? getAllKeysIn : getAllKeys)\n    : (isFlat ? keysIn : keys);\n\n  var props = isArr ? undefined : keysFunc(value);\n  arrayEach(props || value, function(subValue, key) {\n    if (props) {\n      key = subValue;\n      subValue = value[key];\n    }\n    // Recursively populate clone (susceptible to call stack limits).\n    assignValue(result, key, baseClone(subValue, bitmask, customizer, key, value, stack));\n  });\n  return result;\n}\n\nmodule.exports = baseClone;\n","var baseClone = require('./_baseClone');\n\n/** Used to compose bitmasks for cloning. */\nvar CLONE_DEEP_FLAG = 1,\n    CLONE_SYMBOLS_FLAG = 4;\n\n/**\n * This method is like `_.cloneWith` except that it recursively clones `value`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to recursively clone.\n * @param {Function} [customizer] The function to customize cloning.\n * @returns {*} Returns the deep cloned value.\n * @see _.cloneWith\n * @example\n *\n * function customizer(value) {\n *   if (_.isElement(value)) {\n *     return value.cloneNode(true);\n *   }\n * }\n *\n * var el = _.cloneDeepWith(document.body, customizer);\n *\n * console.log(el === document.body);\n * // => false\n * console.log(el.nodeName);\n * // => 'BODY'\n * console.log(el.childNodes.length);\n * // => 20\n */\nfunction cloneDeepWith(value, customizer) {\n  customizer = typeof customizer == 'function' ? customizer : undefined;\n  return baseClone(value, CLONE_DEEP_FLAG | CLONE_SYMBOLS_FLAG, customizer);\n}\n\nmodule.exports = cloneDeepWith;\n","// Copyright (c) 2015, Frappe Technologies Pvt. Ltd. and Contributors\n// MIT License. See license.txt\n\nimport deep_equal from \"fast-deep-equal\";\nimport cloneDeepWith from \"lodash/cloneDeepWith\";\n\nfrappe.provide(\"frappe.utils\");\n\n// Array de duplicate\nif (!Array.prototype.uniqBy) {\n\tObject.defineProperty(Array.prototype, 'uniqBy', {\n\t\tvalue: function (key) {\n\t\t\tvar seen = {};\n\t\t\treturn this.filter(function (item) {\n\t\t\t\tvar k = key(item);\n\t\t\t\treturn k in seen ? false : (seen[k] = true);\n\t\t\t});\n\t\t}\n\t});\n\tObject.defineProperty(Array.prototype, 'move', {\n\t\tvalue: function(from, to) {\n\t\t\tthis.splice(to, 0, this.splice(from, 1)[0]);\n\t\t}\n\t});\n}\n\n// Python's dict.setdefault ported for JS objects\nObject.defineProperty(Object.prototype, \"setDefault\", {\n\tvalue: function(key, default_value) {\n\t\tif (!(key in this)) this[key] = default_value;\n\t\treturn this[key];\n\t},\n\twritable: true\n});\n\n// Pluralize\nString.prototype.plural = function(revert) {\n\tconst plural = {\n\t\t\"(quiz)$\": \"$1zes\",\n\t\t\"^(ox)$\": \"$1en\",\n\t\t\"([m|l])ouse$\": \"$1ice\",\n\t\t\"(matr|vert|ind)ix|ex$\": \"$1ices\",\n\t\t\"(x|ch|ss|sh)$\": \"$1es\",\n\t\t\"([^aeiouy]|qu)y$\": \"$1ies\",\n\t\t\"(hive)$\": \"$1s\",\n\t\t\"(?:([^f])fe|([lr])f)$\": \"$1$2ves\",\n\t\t\"(shea|lea|loa|thie)f$\": \"$1ves\",\n\t\tsis$: \"ses\",\n\t\t\"([ti])um$\": \"$1a\",\n\t\t\"(tomat|potat|ech|her|vet)o$\": \"$1oes\",\n\t\t\"(bu)s$\": \"$1ses\",\n\t\t\"(alias)$\": \"$1es\",\n\t\t\"(octop)us$\": \"$1i\",\n\t\t\"(ax|test)is$\": \"$1es\",\n\t\t\"(us)$\": \"$1es\",\n\t\t\"([^s]+)$\": \"$1s\",\n\t};\n\n\tconst singular = {\n\t\t\"(quiz)zes$\": \"$1\",\n\t\t\"(matr)ices$\": \"$1ix\",\n\t\t\"(vert|ind)ices$\": \"$1ex\",\n\t\t\"^(ox)en$\": \"$1\",\n\t\t\"(alias)es$\": \"$1\",\n\t\t\"(octop|vir)i$\": \"$1us\",\n\t\t\"(cris|ax|test)es$\": \"$1is\",\n\t\t\"(shoe)s$\": \"$1\",\n\t\t\"(o)es$\": \"$1\",\n\t\t\"(bus)es$\": \"$1\",\n\t\t\"([m|l])ice$\": \"$1ouse\",\n\t\t\"(x|ch|ss|sh)es$\": \"$1\",\n\t\t\"(m)ovies$\": \"$1ovie\",\n\t\t\"(s)eries$\": \"$1eries\",\n\t\t\"([^aeiouy]|qu)ies$\": \"$1y\",\n\t\t\"([lr])ves$\": \"$1f\",\n\t\t\"(tive)s$\": \"$1\",\n\t\t\"(hive)s$\": \"$1\",\n\t\t\"(li|wi|kni)ves$\": \"$1fe\",\n\t\t\"(shea|loa|lea|thie)ves$\": \"$1f\",\n\t\t\"(^analy)ses$\": \"$1sis\",\n\t\t\"((a)naly|(b)a|(d)iagno|(p)arenthe|(p)rogno|(s)ynop|(t)he)ses$\":\n\t\t\t\"$1$2sis\",\n\t\t\"([ti])a$\": \"$1um\",\n\t\t\"(n)ews$\": \"$1ews\",\n\t\t\"(h|bl)ouses$\": \"$1ouse\",\n\t\t\"(corpse)s$\": \"$1\",\n\t\t\"(us)es$\": \"$1\",\n\t\ts$: \"\",\n\t};\n\n\tconst irregular = {\n\t\tmove: \"moves\",\n\t\tfoot: \"feet\",\n\t\tgoose: \"geese\",\n\t\tsex: \"sexes\",\n\t\tchild: \"children\",\n\t\tman: \"men\",\n\t\ttooth: \"teeth\",\n\t\tperson: \"people\",\n\t};\n\n\tconst uncountable = [\n\t\t\"sheep\",\n\t\t\"fish\",\n\t\t\"deer\",\n\t\t\"moose\",\n\t\t\"series\",\n\t\t\"species\",\n\t\t\"money\",\n\t\t\"rice\",\n\t\t\"information\",\n\t\t\"equipment\",\n\t];\n\n\t// save some time in the case that singular and plural are the same\n\tif (uncountable.indexOf(this.toLowerCase()) >= 0) return this;\n\n\t// check for irregular forms\n\tlet word;\n\tlet pattern;\n\tlet replace;\n\tfor (word in irregular) {\n\t\tif (revert) {\n\t\t\tpattern = new RegExp(irregular[word] + \"$\", \"i\");\n\t\t\treplace = word;\n\t\t} else {\n\t\t\tpattern = new RegExp(word + \"$\", \"i\");\n\t\t\treplace = irregular[word];\n\t\t}\n\t\tif (pattern.test(this)) return this.replace(pattern, replace);\n\t}\n\n\tlet array;\n\tif (revert) array = singular;\n\telse array = plural;\n\n\t// check for matches using regular expressions\n\tlet reg;\n\tfor (reg in array) {\n\t\tpattern = new RegExp(reg, \"i\");\n\n\t\tif (pattern.test(this)) return this.replace(pattern, array[reg]);\n\t}\n\n\treturn this;\n};\n\nObject.assign(frappe.utils, {\n\tget_random: function(len) {\n\t\tvar text = \"\";\n\t\tvar possible = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz\";\n\n\t\tfor ( var i=0; i < len; i++ )\n\t\t\ttext += possible.charAt(Math.floor(Math.random() * possible.length));\n\n\t\treturn text;\n\t},\n\tget_file_link: function(filename) {\n\t\tfilename = cstr(filename);\n\t\tif (frappe.utils.is_url(filename)) {\n\t\t\treturn filename;\n\t\t} else if (filename.indexOf(\"/\")===-1) {\n\t\t\treturn \"files/\" + filename;\n\t\t} else {\n\t\t\treturn filename;\n\t\t}\n\t},\n\treplace_newlines(t) {\n\t\treturn t?t.replace(/\\n/g, '<br>'):'';\n\t},\n\tis_html: function(txt) {\n\t\tif (!txt) return false;\n\n\t\tif (txt.indexOf(\"<br>\")==-1 && txt.indexOf(\"<p\")==-1\n\t\t\t&& txt.indexOf(\"<img\")==-1 && txt.indexOf(\"<div\")==-1 && !txt.includes('<span')) {\n\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\t},\n\tis_mac: function() {\n\t\treturn window.navigator.platform === 'MacIntel';\n\t},\n\tis_xs: function() {\n\t\treturn $(document).width() < 768;\n\t},\n\tis_sm: function() {\n\t\treturn $(document).width() < 991 && $(document).width() >= 768;\n\t},\n\tis_md: function() {\n\t\treturn $(document).width() < 1199 && $(document).width() >= 991;\n\t},\n\tis_json: function(str) {\n\t\ttry {\n\t\t\tJSON.parse(str);\n\t\t} catch (e) {\n\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\t},\n\tstrip_whitespace: function(html) {\n\t\treturn (html || \"\").replace(/<p>\\s*<\\/p>/g, \"\").replace(/<br>(\\s*<br>\\s*)+/g, \"<br><br>\");\n\t},\n\tencode_tags: function(html) {\n\t\tvar tagsToReplace = {\n\t\t\t'&': '&amp;',\n\t\t\t'<': '&lt;',\n\t\t\t'>': '&gt;'\n\t\t};\n\n\t\tfunction replaceTag(tag) {\n\t\t\treturn tagsToReplace[tag] || tag;\n\t\t}\n\n\t\treturn html.replace(/[&<>]/g, replaceTag);\n\t},\n\tstrip_original_content: function(txt) {\n\t\tvar out = [],\n\t\t\tpart = [],\n\t\t\tnewline = txt.indexOf(\"<br>\")===-1 ? \"\\n\" : \"<br>\";\n\n\t\t$.each(txt.split(newline), function(i, t) {\n\t\t\tvar tt = strip(t);\n\t\t\tif (tt && (tt.substr(0, 1)===\">\" || tt.substr(0, 4)===\"&gt;\")) {\n\t\t\t\tpart.push(t);\n\t\t\t} else {\n\t\t\t\tout.concat(part);\n\t\t\t\tout.push(t);\n\t\t\t\tpart = [];\n\t\t\t}\n\t\t});\n\t\treturn out.join(newline);\n\t},\n\n\n\tescape_html: function(txt) {\n\t\tlet escape_html_mapping = {\n\t\t\t'&': '&amp;',\n\t\t\t'<': '&lt;',\n\t\t\t'>': '&gt;',\n\t\t\t'\"': '&quot;',\n\t\t\t\"'\": '&#39;',\n\t\t\t'/': '&#x2F;',\n\t\t\t'`': '&#x60;',\n\t\t\t'=': '&#x3D;'\n\t\t};\n\n\t\treturn String(txt).replace(/[&<>\"'`=/]/g, function(char) {\n\t\t\treturn escape_html_mapping[char];\n\t\t});\n\t},\n\n\thtml2text: function(html) {\n\t\tlet d = document.createElement('div');\n\t\td.innerHTML = html;\n\t\treturn d.textContent;\n\t},\n\n\tis_url: function(txt) {\n\t\treturn txt.toLowerCase().substr(0, 7)=='http://'\n\t\t\t|| txt.toLowerCase().substr(0, 8)=='https://';\n\t},\n\tto_title_case: function(string, with_space=false) {\n\t\tlet titlecased_string = string.toLowerCase().replace(/(?:^|[\\s-/])\\w/g, function(match) {\n\t\t\treturn match.toUpperCase();\n\t\t});\n\n\t\tlet replace_with = with_space ? ' ' : '';\n\n\t\treturn titlecased_string.replace(/-|_/g, replace_with);\n\t},\n\ttoggle_blockquote: function(txt) {\n\t\tif (!txt) return txt;\n\n\t\tvar content = $(\"<div></div>\").html(txt);\n\t\tcontent.find(\"blockquote\").parent(\"blockquote\").addClass(\"hidden\")\n\t\t\t.before('<p><a class=\"text-muted btn btn-default toggle-blockquote\" style=\"padding: 2px 7px 0px; line-height: 1;\"> \\\n\t\t\t\t\t• • • \\\n\t\t\t\t</a></p>');\n\t\treturn content.html();\n\t},\n\tscroll_to: function(element, animate=true, additional_offset, element_to_be_scrolled) {\n\t\telement_to_be_scrolled = element_to_be_scrolled || $(\"html, body\");\n\t\tlet scroll_top = 0;\n\t\tif (element) {\n\t\t\t// If a number is passed, just subtract the offset,\n\t\t\t// otherwise calculate scroll position from element\n\t\t\tscroll_top = typeof element == \"number\"\n\t\t\t\t? element - cint(additional_offset)\n\t\t\t\t: this.get_scroll_position(element, additional_offset);\n\t\t}\n\n\t\tif (scroll_top < 0) {\n\t\t\tscroll_top = 0;\n\t\t}\n\n\t\t// already there\n\t\tif (scroll_top == element_to_be_scrolled.scrollTop()) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (animate) {\n\t\t\telement_to_be_scrolled.animate({ scrollTop: scroll_top });\n\t\t} else {\n\t\t\telement_to_be_scrolled.scrollTop(scroll_top);\n\t\t}\n\n\t},\n\tget_scroll_position: function(element, additional_offset) {\n\t\tlet header_offset = $(\".navbar\").height() + $(\".page-head:visible\").height();\n\t\tlet scroll_top = $(element).offset().top - header_offset - cint(additional_offset);\n\t\treturn scroll_top;\n\t},\n\tfilter_dict: function(dict, filters) {\n\t\tvar ret = [];\n\t\tif (typeof filters=='string') {\n\t\t\treturn [dict[filters]];\n\t\t}\n\t\t$.each(dict, function(i, d) {\n\t\t\tfor (var key in filters) {\n\t\t\t\tif ($.isArray(filters[key])) {\n\t\t\t\t\tif (filters[key][0]==\"in\") {\n\t\t\t\t\t\tif (filters[key][1].indexOf(d[key])==-1)\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t} else if (filters[key][0]==\"not in\") {\n\t\t\t\t\t\tif (filters[key][1].indexOf(d[key])!=-1)\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t} else if (filters[key][0]==\"<\") {\n\t\t\t\t\t\tif (!(d[key] < filters[key])) return;\n\t\t\t\t\t} else if (filters[key][0]==\"<=\") {\n\t\t\t\t\t\tif (!(d[key] <= filters[key])) return;\n\t\t\t\t\t} else if (filters[key][0]==\">\") {\n\t\t\t\t\t\tif (!(d[key] > filters[key])) return;\n\t\t\t\t\t} else if (filters[key][0]==\">=\") {\n\t\t\t\t\t\tif (!(d[key] >= filters[key])) return;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif (d[key]!=filters[key]) return;\n\t\t\t\t}\n\t\t\t}\n\t\t\tret.push(d);\n\t\t});\n\t\treturn ret;\n\t},\n\tcomma_or: function(list) {\n\t\treturn frappe.utils.comma_sep(list, \" \" + __(\"or\") + \" \");\n\t},\n\tcomma_and: function(list) {\n\t\treturn frappe.utils.comma_sep(list, \" \" + __(\"and\") + \" \");\n\t},\n\tcomma_sep: function(list, sep) {\n\t\tif (list instanceof Array) {\n\t\t\tif (list.length==0) {\n\t\t\t\treturn \"\";\n\t\t\t} else if (list.length==1) {\n\t\t\t\treturn list[0];\n\t\t\t} else {\n\t\t\t\treturn list.slice(0, list.length-1).join(\", \") + sep + list.slice(-1)[0];\n\t\t\t}\n\t\t} else {\n\t\t\treturn list;\n\t\t}\n\t},\n\tset_footnote: function(footnote_area, wrapper, txt) {\n\t\tif (!footnote_area) {\n\t\t\tfootnote_area = $('<div class=\"text-muted footnote-area level\">')\n\t\t\t\t.appendTo(wrapper);\n\t\t}\n\n\t\tif (txt) {\n\t\t\tfootnote_area.html(txt);\n\t\t} else {\n\t\t\tfootnote_area.remove();\n\t\t\tfootnote_area = null;\n\t\t}\n\t\treturn footnote_area;\n\t},\n\tget_args_dict_from_url: function(txt) {\n\t\tvar args = {};\n\t\t$.each(decodeURIComponent(txt).split(\"&\"), function(i, arg) {\n\t\t\targ = arg.split(\"=\");\n\t\t\targs[arg[0]] = arg[1];\n\t\t});\n\t\treturn args;\n\t},\n\tget_url_from_dict: function(args) {\n\t\treturn $.map(args, function(val, key) {\n\t\t\tif (val!==null)\n\t\t\t\treturn encodeURIComponent(key)+\"=\"+encodeURIComponent(val);\n\t\t\telse\n\t\t\t\treturn null;\n\t\t}).join(\"&\") || \"\";\n\t},\n\tvalidate_type: function ( val, type ) {\n\t\t// from https://github.com/guillaumepotier/Parsley.js/blob/master/parsley.js#L81\n\t\tvar regExp;\n\n\t\tswitch ( type ) {\n\t\t\tcase \"phone\":\n\t\t\t\tregExp = /^([0-9 +_\\-,.*#()]){1,20}$/;\n\t\t\t\tbreak;\n\t\t\tcase \"name\":\n\t\t\t\tregExp = /^[\\w][\\w'-]*([ \\w][\\w'-]+)*$/;\n\t\t\t\tbreak;\n\t\t\tcase \"number\":\n\t\t\t\tregExp = /^-?(?:\\d+|\\d{1,3}(?:,\\d{3})+)?(?:\\.\\d+)?$/;\n\t\t\t\tbreak;\n\t\t\tcase \"digits\":\n\t\t\t\tregExp = /^\\d+$/;\n\t\t\t\tbreak;\n\t\t\tcase \"alphanum\":\n\t\t\t\tregExp = /^\\w+$/;\n\t\t\t\tbreak;\n\t\t\tcase \"email\":\n\t\t\t\t// from https://emailregex.com/\n\t\t\t\tregExp = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n\t\t\t\tbreak;\n\t\t\tcase \"url\":\n\t\t\t\tregExp = /^((([A-Za-z0-9.+-]+:(?:\\/\\/)?)(?:[-;:&=\\+\\,\\w]@)?[A-Za-z0-9.-]+(:[0-9]+)?|(?:www.|[-;:&=\\+\\$,\\w]+@)[A-Za-z0-9.-]+)((?:\\/[\\+~%\\/.\\w-_]*)?\\??(?:[-\\+=&;%@.\\w_]*)#?(?:[\\w]*))?)$/i;\n\t\t\t\tbreak;\n\t\t\tcase \"dateIso\":\n\t\t\t\tregExp = /^(\\d{4})\\D?(0[1-9]|1[0-2])\\D?([12]\\d|0[1-9]|3[01])$/;\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\treturn false;\n\t\t}\n\n\t\t// test regExp if not null\n\t\treturn '' !== val ? regExp.test( val ) : false;\n\t},\n\tguess_style: function(text, default_style, _colour) {\n\t\tvar style = default_style || \"default\";\n\t\tvar colour = \"gray\";\n\t\tif (text) {\n\t\t\tif (has_words([\"Pending\", \"Review\", \"Medium\", \"Not Approved\"], text)) {\n\t\t\t\tstyle = \"warning\";\n\t\t\t\tcolour = \"orange\";\n\t\t\t} else if (has_words([\"Open\", \"Urgent\", \"High\", \"Failed\", \"Rejected\", \"Error\"], text)) {\n\t\t\t\tstyle = \"danger\";\n\t\t\t\tcolour = \"red\";\n\t\t\t} else if (has_words([\"Closed\", \"Finished\", \"Converted\", \"Completed\", \"Complete\", \"Confirmed\",\n\t\t\t\t\"Approved\", \"Yes\", \"Active\", \"Available\", \"Paid\", \"Success\"], text)) {\n\t\t\t\tstyle = \"success\";\n\t\t\t\tcolour = \"green\";\n\t\t\t} else if (has_words([\"Submitted\"], text)) {\n\t\t\t\tstyle = \"info\";\n\t\t\t\tcolour = \"blue\";\n\t\t\t}\n\t\t}\n\t\treturn _colour ? colour : style;\n\t},\n\n\tguess_colour: function(text) {\n\t\treturn frappe.utils.guess_style(text, null, true);\n\t},\n\n\tget_indicator_color: function(state) {\n\t\treturn frappe.db.get_list('Workflow State', {filters: {name: state}, fields: ['name', 'style']}).then(res => {\n\t\t\tconst state = res[0];\n\t\t\tif (!state.style) {\n\t\t\t\treturn frappe.utils.guess_colour(state.name);\n\t\t\t}\n\t\t\tconst style = state.style;\n\t\t\tconst colour_map = {\n\t\t\t\t\"Success\": \"green\",\n\t\t\t\t\"Warning\": \"orange\",\n\t\t\t\t\"Danger\": \"red\",\n\t\t\t\t\"Primary\": \"blue\",\n\t\t\t};\n\n\t\t\treturn colour_map[style];\n\t\t});\n\n\t},\n\n\tsort: function(list, key, compare_type, reverse) {\n\t\tif (!list || list.length < 2)\n\t\t\treturn list || [];\n\n\t\tvar sort_fn = {\n\t\t\t\"string\": function(a, b) {\n\t\t\t\treturn cstr(a[key]).localeCompare(cstr(b[key]));\n\t\t\t},\n\t\t\t\"number\": function(a, b) {\n\t\t\t\treturn flt(a[key]) - flt(b[key]);\n\t\t\t}\n\t\t};\n\n\t\tif (!compare_type)\n\t\t\tcompare_type = typeof list[0][key]===\"string\" ? \"string\" : \"number\";\n\n\t\tlist.sort(sort_fn[compare_type]);\n\n\t\tif (reverse) {\n\t\t\tlist.reverse();\n\t\t}\n\n\t\treturn list;\n\t},\n\n\tunique: function(list) {\n\t\tvar dict = {},\n\t\t\tarr = [];\n\t\tfor (var i=0, l=list.length; i < l; i++) {\n\t\t\tif (!(list[i] in dict)) {\n\t\t\t\tdict[list[i]] = null;\n\t\t\t\tarr.push(list[i]);\n\t\t\t}\n\t\t}\n\t\treturn arr;\n\t},\n\n\tremove_nulls: function(list) {\n\t\tvar new_list = [];\n\t\tfor (var i=0, l=list.length; i < l; i++) {\n\t\t\tif (!is_null(list[i])) {\n\t\t\t\tnew_list.push(list[i]);\n\t\t\t}\n\t\t}\n\t\treturn new_list;\n\t},\n\n\tall: function(lst) {\n\t\tfor (var i=0, l=lst.length; i<l; i++) {\n\t\t\tif (!lst[i]) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t\treturn true;\n\t},\n\n\tdict: function(keys, values) {\n\t\t// make dictionaries from keys and values\n\t\tvar out = [];\n\t\t$.each(values, function(row_idx, row) {\n\t\t\tvar new_row = {};\n\t\t\t$.each(keys, function(key_idx, key) {\n\t\t\t\tnew_row[key] = row[key_idx];\n\t\t\t});\n\t\t\tout.push(new_row);\n\t\t});\n\t\treturn out;\n\t},\n\n\tsum: function(list) {\n\t\treturn list.reduce(function(previous_value, current_value) {\n\t\t\treturn flt(previous_value) + flt(current_value);\n\t\t}, 0.0);\n\t},\n\n\tarrays_equal: function(arr1, arr2) {\n\t\tif (!arr1 || !arr2) {\n\t\t\treturn false;\n\t\t}\n\t\tif (arr1.length != arr2.length) {\n\t\t\treturn false;\n\t\t}\n\t\tfor (var i = 0; i < arr1.length; i++) {\n\t\t\tif ($.isArray(arr1[i])) {\n\t\t\t\tif (!frappe.utils.arrays_equal(arr1[i], arr2[i])) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t} else if (arr1[i] !== arr2[i]) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t\treturn true;\n\t},\n\n\tintersection: function(a, b) {\n\t\t// from stackoverflow: http://stackoverflow.com/questions/1885557/simplest-code-for-array-intersection-in-javascript\n\t\t/* finds the intersection of\n\t\t * two arrays in a simple fashion.\n\t\t *\n\t\t * PARAMS\n\t\t *  a - first array, must already be sorted\n\t\t *  b - second array, must already be sorted\n\t\t *\n\t\t * NOTES\n\t\t *\n\t\t *  Should have O(n) operations, where n is\n\t\t *    n = MIN(a.length(), b.length())\n\t\t */\n\t\tvar ai=0, bi=0;\n\t\tvar result = new Array();\n\n\t\t// sorted copies\n\t\ta = ([].concat(a)).sort();\n\t\tb = ([].concat(b)).sort();\n\n\t\twhile ( ai < a.length && bi < b.length ) {\n\t\t\tif (a[ai] < b[bi] ) {\n\t\t\t\tai++;\n\t\t\t} else if (a[ai] > b[bi] ) {\n\t\t\t\tbi++;\n\t\t\t} else {\n\t\t\t\t/* they're equal */\n\t\t\t\tresult.push(a[ai]);\n\t\t\t\tai++;\n\t\t\t\tbi++;\n\t\t\t}\n\t\t}\n\n\t\treturn result;\n\t},\n\n\tresize_image: function(reader, callback, max_width, max_height) {\n\t\tvar tempImg = new Image();\n\t\tif (!max_width) max_width = 600;\n\t\tif (!max_height) max_height = 400;\n\t\ttempImg.src = reader.result;\n\n\t\ttempImg.onload = function() {\n\t\t\tvar tempW = tempImg.width;\n\t\t\tvar tempH = tempImg.height;\n\t\t\tif (tempW > tempH) {\n\t\t\t\tif (tempW > max_width) {\n\t\t\t\t\ttempH *= max_width / tempW;\n\t\t\t\t\ttempW = max_width;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (tempH > max_height) {\n\t\t\t\t\ttempW *= max_height / tempH;\n\t\t\t\t\ttempH = max_height;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tvar canvas = document.createElement('canvas');\n\t\t\tcanvas.width = tempW;\n\t\t\tcanvas.height = tempH;\n\t\t\tvar ctx = canvas.getContext(\"2d\");\n\t\t\tctx.drawImage(this, 0, 0, tempW, tempH);\n\t\t\tvar dataURL = canvas.toDataURL(\"image/jpeg\");\n\t\t\tsetTimeout(function() {\n\t\t\t\tcallback(dataURL);\n\t\t\t}, 10 );\n\t\t};\n\t},\n\n\tcsv_to_array: function (strData, strDelimiter) {\n\t\t// Check to see if the delimiter is defined. If not,\n\t\t// then default to comma.\n\t\tstrDelimiter = (strDelimiter || \",\");\n\n\t\t// Create a regular expression to parse the CSV values.\n\t\tvar objPattern = new RegExp(\n\t\t\t(\n\t\t\t\t// Delimiters.\n\t\t\t\t\"(\\\\\" + strDelimiter + \"|\\\\r?\\\\n|\\\\r|^)\" +\n\n\t\t\t\t// Quoted fields.\n\t\t\t\t\"(?:\\\"([^\\\"]*(?:\\\"\\\"[^\\\"]*)*)\\\"|\" +\n\n\t\t\t\t// Standard fields.\n\t\t\t\t\"([^\\\"\\\\\" + strDelimiter + \"\\\\r\\\\n]*))\"\n\t\t\t),\n\t\t\t\"gi\"\n\t\t);\n\n\n\t\t// Create an array to hold our data. Give the array\n\t\t// a default empty first row.\n\t\tvar arrData = [[]];\n\n\t\t// Create an array to hold our individual pattern\n\t\t// matching groups.\n\t\tvar arrMatches = null;\n\n\n\t\t// Keep looping over the regular expression matches\n\t\t// until we can no longer find a match.\n\t\twhile ((arrMatches = objPattern.exec( strData ))) {\n\n\t\t\t// Get the delimiter that was found.\n\t\t\tvar strMatchedDelimiter = arrMatches[ 1 ];\n\n\t\t\t// Check to see if the given delimiter has a length\n\t\t\t// (is not the start of string) and if it matches\n\t\t\t// field delimiter. If id does not, then we know\n\t\t\t// that this delimiter is a row delimiter.\n\t\t\tif (\n\t\t\t\tstrMatchedDelimiter.length &&\n\t\t\t\tstrMatchedDelimiter !== strDelimiter\n\t\t\t) {\n\n\t\t\t\t// Since we have reached a new row of data,\n\t\t\t\t// add an empty row to our data array.\n\t\t\t\tarrData.push( [] );\n\n\t\t\t}\n\n\t\t\tvar strMatchedValue;\n\n\t\t\t// Now that we have our delimiter out of the way,\n\t\t\t// let's check to see which kind of value we\n\t\t\t// captured (quoted or unquoted).\n\t\t\tif (arrMatches[ 2 ]) {\n\n\t\t\t\t// We found a quoted value. When we capture\n\t\t\t\t// this value, unescape any double quotes.\n\t\t\t\tstrMatchedValue = arrMatches[ 2 ].replace(\n\t\t\t\t\tnew RegExp( \"\\\"\\\"\", \"g\" ),\n\t\t\t\t\t\"\\\"\"\n\t\t\t\t);\n\n\t\t\t} else {\n\n\t\t\t\t// We found a non-quoted value.\n\t\t\t\tstrMatchedValue = arrMatches[ 3 ];\n\n\t\t\t}\n\n\n\t\t\t// Now that we have our value string, let's add\n\t\t\t// it to the data array.\n\t\t\tarrData[ arrData.length - 1 ].push( strMatchedValue );\n\t\t}\n\n\t\t// Return the parsed data.\n\t\treturn ( arrData );\n\t},\n\n\twarn_page_name_change: function() {\n\t\tfrappe.msgprint(__(\"Note: Changing the Page Name will break previous URL to this page.\"));\n\t},\n\n\tnotify: function(subject, body, route, onclick) {\n\t\tconsole.log('push notifications are evil and deprecated');\n\t},\n\n\tset_title: function(title) {\n\t\tfrappe._original_title = title;\n\t\tif (frappe._title_prefix) {\n\t\t\ttitle = frappe._title_prefix + \" \" + title.replace(/<[^>]*>/g, \"\");\n\t\t}\n\t\tdocument.title = title;\n\n\t\t// save for re-routing\n\t\tconst sub_path = frappe.router.get_sub_path();\n\t\tfrappe.route_titles[sub_path] = title;\n\t},\n\n\tset_title_prefix: function(prefix) {\n\t\tfrappe._title_prefix = prefix;\n\n\t\t// reset the original title\n\t\tfrappe.utils.set_title(frappe._original_title);\n\t},\n\n\tis_image_file: function(filename) {\n\t\tif (!filename) return false;\n\t\t// url can have query params\n\t\tfilename = filename.split('?')[0];\n\t\treturn (/\\.(gif|jpg|jpeg|tiff|png|svg)$/i).test(filename);\n\t},\n\n\tplay_sound: function(name) {\n\t\ttry {\n\t\t\tif (frappe.boot.user.mute_sounds) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar audio = $(\"#sound-\" + name)[0];\n\t\t\taudio.volume = audio.getAttribute(\"volume\");\n\t\t\taudio.play();\n\n\t\t} catch (e) {\n\t\t\tconsole.log(\"Cannot play sound\", name, e);\n\t\t\t// pass\n\t\t}\n\n\t},\n\tsplit_emails: function(txt) {\n\t\tvar email_list = [];\n\n\t\tif (!txt) {\n\t\t\treturn email_list;\n\t\t}\n\n\t\t// emails can be separated by comma or newline\n\t\ttxt.split(/[,\\n](?=(?:[^\"]|\"[^\"]*\")*$)/g).forEach(function(email) {\n\t\t\temail = email.trim();\n\t\t\tif (email) {\n\t\t\t\temail_list.push(email);\n\t\t\t}\n\t\t});\n\n\t\treturn email_list;\n\t},\n\tsupportsES6: function() {\n\t\ttry {\n\t\t\tnew Function(\"(a = 0) => a\");\n\t\t\treturn true;\n\t\t} catch (err) {\n\t\t\treturn false;\n\t\t}\n\t}(),\n\tthrottle: function (func, wait, options) {\n\t\tvar context, args, result;\n\t\tvar timeout = null;\n\t\tvar previous = 0;\n\t\tif (!options) options = {};\n\n\t\tlet later = function () {\n\t\t\tprevious = options.leading === false ? 0 : Date.now();\n\t\t\ttimeout = null;\n\t\t\tresult = func.apply(context, args);\n\t\t\tif (!timeout) context = args = null;\n\t\t};\n\n\t\treturn function () {\n\t\t\tvar now = Date.now();\n\t\t\tif (!previous && options.leading === false) previous = now;\n\t\t\tlet remaining = wait - (now - previous);\n\t\t\tcontext = this;\n\t\t\targs = arguments;\n\t\t\tif (remaining <= 0 || remaining > wait) {\n\t\t\t\tif (timeout) {\n\t\t\t\t\tclearTimeout(timeout);\n\t\t\t\t\ttimeout = null;\n\t\t\t\t}\n\t\t\t\tprevious = now;\n\t\t\t\tresult = func.apply(context, args);\n\t\t\t\tif (!timeout) context = args = null;\n\t\t\t} else if (!timeout && options.trailing !== false) {\n\t\t\t\ttimeout = setTimeout(later, remaining);\n\t\t\t}\n\t\t\treturn result;\n\t\t};\n\t},\n\tdebounce: function(func, wait, immediate) {\n\t\tvar timeout;\n\t\treturn function() {\n\t\t\tvar context = this, args = arguments;\n\t\t\tvar later = function() {\n\t\t\t\ttimeout = null;\n\t\t\t\tif (!immediate) func.apply(context, args);\n\t\t\t};\n\t\t\tvar callNow = immediate && !timeout;\n\t\t\tclearTimeout(timeout);\n\t\t\ttimeout = setTimeout(later, wait);\n\t\t\tif (callNow) func.apply(context, args);\n\t\t};\n\t},\n\tget_form_link: function(doctype, name, html=false, display_text=null, query_params_obj=null) {\n\t\tdisplay_text = display_text || name;\n\t\tname = encodeURIComponent(name);\n\t\tlet route = `/app/${encodeURIComponent(doctype.toLowerCase().replace(/ /g, '-'))}/${name}`;\n\t\tif (query_params_obj) {\n\t\t\troute += frappe.utils.make_query_string(query_params_obj);\n\t\t}\n\t\tif (html) {\n\t\t\treturn `<a href=\"${route}\">${display_text}</a>`;\n\t\t}\n\t\treturn route;\n\t},\n\tget_route_label(route_str) {\n\t\tlet route = route_str.split('/');\n\n\t\tif (route[2] === 'Report' || route[0] === 'query-report') {\n\t\t\treturn __('{0} Report', [route[3] || route[1]]);\n\t\t}\n\t\tif (route[0] === 'List') {\n\t\t\treturn __('{0} List', [route[1]]);\n\t\t}\n\t\tif (route[0] === 'modules') {\n\t\t\treturn __('{0} Modules', [route[1]]);\n\t\t}\n\t\tif (route[0] === 'dashboard') {\n\t\t\treturn __('{0} Dashboard', [route[1]]);\n\t\t}\n\t\treturn __(frappe.utils.to_title_case(route[0], true));\n\t},\n\treport_column_total: function(values, column, type) {\n\t\tif (column.column.disable_total) {\n\t\t\treturn '';\n\t\t} else if (values.length > 0) {\n\t\t\tif (column.column.fieldtype == \"Percent\" || type === \"mean\") {\n\t\t\t\treturn values.reduce((a, b) => a + flt(b)) / values.length;\n\t\t\t} else if (column.column.fieldtype == \"Int\") {\n\t\t\t\treturn values.reduce((a, b) => a + cint(b));\n\t\t\t} else if (frappe.model.is_numeric_field(column.column.fieldtype)) {\n\t\t\t\treturn values.reduce((a, b) => a + flt(b));\n\t\t\t} else {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t} else {\n\t\t\treturn null;\n\t\t}\n\t},\n\tsetup_search($wrapper, el_class, text_class, data_attr) {\n\t\tconst $search_input = $wrapper.find('[data-element=\"search\"]').show();\n\t\t$search_input.focus().val('');\n\t\tconst $elements = $wrapper.find(el_class).show();\n\n\t\t$search_input.off('keyup').on('keyup', () => {\n\t\t\tlet text_filter = $search_input.val().toLowerCase();\n\t\t\t// Replace trailing and leading spaces\n\t\t\ttext_filter = text_filter.replace(/^\\s+|\\s+$/g, '');\n\t\t\tfor (let i = 0; i < $elements.length; i++) {\n\t\t\t\tconst text_element = $elements.eq(i).find(text_class);\n\t\t\t\tconst text = text_element.text().toLowerCase();\n\n\t\t\t\tlet name = '';\n\t\t\t\tif (data_attr && text_element.attr(data_attr)) {\n\t\t\t\t\tname = text_element.attr(data_attr).toLowerCase();\n\t\t\t\t}\n\n\t\t\t\tif (text.includes(text_filter) || name.includes(text_filter)) {\n\t\t\t\t\t$elements.eq(i).css('display', '');\n\t\t\t\t} else {\n\t\t\t\t\t$elements.eq(i).css('display', 'none');\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t},\n\tdeep_equal(a, b) {\n\t\treturn deep_equal(a, b);\n\t},\n\n\tdeep_clone(obj, customizer) {\n\t\treturn cloneDeepWith(obj, customizer);\n\t},\n\n\tfile_name_ellipsis(filename, length) {\n\t\tlet first_part_length = length * 2 / 3;\n\t\tlet last_part_length = length - first_part_length;\n\t\tlet parts = filename.split('.');\n\t\tlet extn = parts.pop();\n\t\tlet name = parts.join('');\n\t\tlet first_part = name.slice(0, first_part_length);\n\t\tlet last_part = name.slice(-last_part_length);\n\t\tif (name.length > length) {\n\t\t\treturn `${first_part}...${last_part}.${extn}`;\n\t\t} else {\n\t\t\treturn filename;\n\t\t}\n\t},\n\tget_decoded_string(dataURI) {\n\t\t// decodes base64 to string\n\t\tlet parts = dataURI.split(',');\n\t\tconst encoded_data = parts[1];\n\t\tlet decoded = atob(encoded_data);\n\t\ttry {\n\t\t\tconst escaped = escape(decoded);\n\t\t\tdecoded = decodeURIComponent(escaped);\n\n\t\t} catch (e) {\n\t\t\t// pass decodeURIComponent failure\n\t\t\t// just return atob response\n\t\t}\n\t\treturn decoded;\n\t},\n\tcopy_to_clipboard(string) {\n\t\tconst show_success_alert = () => {\n\t\t\tfrappe.show_alert({\n\t\t\t\tindicator: 'green',\n\t\t\t\tmessage: __('Copied to clipboard.')\n\t\t\t});\n\t\t};\n\t\tif (navigator.clipboard && window.isSecureContext) {\n\t\t\tnavigator.clipboard.writeText(string).then(show_success_alert);\n\t\t} else {\n\t\t\tlet input = $(\"<textarea>\");\n\t\t\t$(\"body\").append(input);\n\t\t\tinput.val(string).select();\n\n\t\t\tdocument.execCommand(\"copy\");\n\t\t\tshow_success_alert();\n\t\t\tinput.remove();\n\t\t}\n\n\t},\n\tis_rtl(lang=null) {\n\t\treturn [\"ar\", \"he\", \"fa\", \"ps\"].includes(lang || frappe.boot.lang);\n\t},\n\tbind_actions_with_object($el, object) {\n\t\t// remove previously bound event\n\t\t$($el).off('click.class_actions');\n\t\t// attach new event\n\t\t$($el).on('click.class_actions', '[data-action]', e => {\n\t\t\tlet $target = $(e.currentTarget);\n\t\t\tlet action = $target.data('action');\n\t\t\tlet method = object[action];\n\t\t\tmethod ? object[action](e, $target) : null;\n\t\t});\n\n\t\treturn $el;\n\t},\n\n\teval(code, context={}) {\n\t\tlet variable_names = Object.keys(context);\n\t\tlet variables = Object.values(context);\n\t\tcode = `let out = ${code}; return out`;\n\t\ttry {\n\t\t\tlet expression_function = new Function(...variable_names, code);\n\t\t\treturn expression_function(...variables);\n\t\t} catch (error) {\n\t\t\tconsole.log('Error evaluating the following expression:'); // eslint-disable-line no-console\n\t\t\tconsole.error(code); // eslint-disable-line no-console\n\t\t\tthrow error;\n\t\t}\n\t},\n\n\tget_browser() {\n\t\tlet ua = navigator.userAgent;\n\t\tlet tem;\n\t\tlet M = ua.match(/(opera|chrome|safari|firefox|msie|trident(?=\\/))\\/?\\s*(\\d+)/i) || [];\n\n\t\tif (/trident/i.test(M[1])) {\n\t\t\ttem = /\\brv[ :]+(\\d+)/g.exec(ua) || [];\n\t\t\treturn { name: \"IE\", version: tem[1] || \"\" };\n\t\t}\n\t\tif (M[1] === \"Chrome\") {\n\t\t\ttem = ua.match(/\\bOPR|Edge\\/(\\d+)/);\n\t\t\tif (tem != null) {\n\t\t\t\treturn { name: \"Opera\", version: tem[1] };\n\t\t\t}\n\t\t}\n\t\tM = M[2]\n\t\t\t? [M[1], M[2]]\n\t\t\t: [navigator.appName, navigator.appVersion, \"-?\"];\n\t\tif ((tem = ua.match(/version\\/(\\d+)/i)) != null) {\n\t\t\tM.splice(1, 1, tem[1]);\n\t\t}\n\t\treturn {\n\t\t\tname: M[0],\n\t\t\tversion: M[1],\n\t\t};\n\t},\n\n\tget_formatted_duration(value, duration_options=null) {\n\t\tlet duration = '';\n\t\tif (!duration_options) {\n\t\t\tduration_options = {\n\t\t\t\thide_days: 0,\n\t\t\t\thide_seconds: 0\n\t\t\t};\n\t\t}\n\t\tif (value) {\n\t\t\tlet total_duration = frappe.utils.seconds_to_duration(value, duration_options);\n\n\t\t\tif (total_duration.days) {\n\t\t\t\tduration += total_duration.days + __('d', null, 'Days (Field: Duration)');\n\t\t\t}\n\t\t\tif (total_duration.hours) {\n\t\t\t\tduration += (duration.length ? \" \" : \"\");\n\t\t\t\tduration += total_duration.hours + __('h', null, 'Hours (Field: Duration)');\n\t\t\t}\n\t\t\tif (total_duration.minutes) {\n\t\t\t\tduration += (duration.length ? \" \" : \"\");\n\t\t\t\tduration += total_duration.minutes + __('m', null, 'Minutes (Field: Duration)');\n\t\t\t}\n\t\t\tif (total_duration.seconds) {\n\t\t\t\tduration += (duration.length ? \" \" : \"\");\n\t\t\t\tduration += total_duration.seconds + __('s', null, 'Seconds (Field: Duration)');\n\t\t\t}\n\t\t}\n\t\treturn duration;\n\t},\n\n\tseconds_to_duration(seconds, duration_options) {\n\t\tconst round = seconds > 0 ? Math.floor : Math.ceil;\n\t\tconst total_duration = {\n\t\t\tdays: round(seconds / 86400), // 60 * 60 * 24\n\t\t\thours: round(seconds % 86400 / 3600),\n\t\t\tminutes: round(seconds % 3600 / 60),\n\t\t\tseconds: round(seconds % 60)\n\t\t};\n\n\t\tif (duration_options.hide_days) {\n\t\t\ttotal_duration.hours = round(seconds / 3600);\n\t\t\ttotal_duration.days = 0;\n\t\t}\n\n\t\treturn total_duration;\n\t},\n\n\tduration_to_seconds(days=0, hours=0, minutes=0, seconds=0) {\n\t\tlet value = 0;\n\t\tif (days) {\n\t\t\tvalue += days * 24 * 60 * 60;\n\t\t}\n\t\tif (hours) {\n\t\t\tvalue += hours * 60 * 60;\n\t\t}\n\t\tif (minutes) {\n\t\t\tvalue += minutes * 60;\n\t\t}\n\t\tif (seconds) {\n\t\t\tvalue += seconds;\n\t\t}\n\t\treturn value;\n\t},\n\n\tget_duration_options: function(docfield) {\n\t\tlet duration_options = {\n\t\t\thide_days: docfield.hide_days,\n\t\t\thide_seconds: docfield.hide_seconds\n\t\t};\n\t\treturn duration_options;\n\t},\n\n\tget_number_system: function (country) {\n\t\tlet number_system_map = {\n\t\t\t'India':\n\t\t\t\t[{\n\t\t\t\t\tdivisor: 1.0e+7,\n\t\t\t\t\tsymbol: 'Cr'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tdivisor: 1.0e+5,\n\t\t\t\t\tsymbol: 'Lakh'\n\t\t\t\t}],\n\t\t\t'':\n\t\t\t\t[{\n\t\t\t\t\tdivisor: 1.0e+12,\n\t\t\t\t\tsymbol: 'T'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tdivisor: 1.0e+9,\n\t\t\t\t\tsymbol: 'B'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tdivisor: 1.0e+6,\n\t\t\t\t\tsymbol: 'M'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tdivisor: 1.0e+3,\n\t\t\t\t\tsymbol: 'K',\n\t\t\t\t}]\n\t\t};\n\n\t\tif (!Object.keys(number_system_map).includes(country)) country = '';\n\n\t\treturn number_system_map[country];\n\t},\n\n\tmap_defaults: {\n\t\tcenter: [19.0800, 72.8961],\n\t\tzoom: 13,\n\t\ttiles: 'https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png',\n\t\toptions: {\n\t\t\tattribution: '&copy; <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\n\t\t}\n\t},\n\n\ticon(icon_name, size=\"sm\", icon_class=\"\", icon_style=\"\", svg_class=\"\") {\n\t\tlet size_class = \"\";\n\n\t\tif (typeof size == \"object\") {\n\t\t\ticon_style += ` width: ${size.width}; height: ${size.height}`;\n\t\t} else {\n\t\t\tsize_class = `icon-${size}`;\n\t\t}\n\t\treturn `<svg class=\"icon ${svg_class} ${size_class}\" style=\"${icon_style}\">\n\t\t\t<use class=\"${icon_class}\" href=\"#icon-${icon_name}\"></use>\n\t\t</svg>`;\n\t},\n\n\tmake_chart(wrapper, custom_options={}) {\n\t\tlet chart_args = {\n\t\t\ttype: 'bar',\n\t\t\tcolors: ['light-blue'],\n\t\t\taxisOptions: {\n\t\t\t\txIsSeries: 1,\n\t\t\t\tshortenYAxisNumbers: 1,\n\t\t\t\txAxisMode: 'tick'\n\t\t\t}\n\t\t};\n\n\t\tfor (let key in custom_options) {\n\t\t\tif (typeof chart_args[key] === 'object' && typeof custom_options[key] === 'object') {\n\t\t\t\tchart_args[key] = Object.assign(chart_args[key], custom_options[key]);\n\t\t\t} else {\n\t\t\t\tchart_args[key] = custom_options[key];\n\t\t\t}\n\t\t}\n\n\t\treturn new frappe.Chart(wrapper, chart_args);\n\t},\n\n\tgenerate_route(item) {\n\t\tconst type = item.type.toLowerCase();\n\t\tif (type === \"doctype\") {\n\t\t\titem.doctype = item.name;\n\t\t}\n\t\tlet route = \"\";\n\t\tif (!item.route) {\n\t\t\tif (item.link) {\n\t\t\t\troute = strip(item.link, \"#\");\n\t\t\t} else if (type === \"doctype\") {\n\t\t\t\tlet doctype_slug = frappe.router.slug(item.doctype);\n\n\t\t\t\tif (frappe.model.is_single(item.doctype)) {\n\t\t\t\t\troute = doctype_slug;\n\t\t\t\t} else {\n\t\t\t\t\tif (!item.doc_view) {\n\t\t\t\t\t\tif (frappe.model.is_tree(item.doctype)) {\n\t\t\t\t\t\t\titem.doc_view = \"Tree\";\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\titem.doc_view = \"List\";\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tswitch (item.doc_view) {\n\t\t\t\t\t\tcase \"List\":\n\t\t\t\t\t\t\tif (item.filters) {\n\t\t\t\t\t\t\t\tfrappe.route_options = item.filters;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\troute = doctype_slug;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase \"Tree\":\n\t\t\t\t\t\t\troute = `${doctype_slug}/view/tree`;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase \"Report Builder\":\n\t\t\t\t\t\t\troute = `${doctype_slug}/view/report`;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase \"Dashboard\":\n\t\t\t\t\t\t\troute = `${doctype_slug}/view/dashboard`;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase \"New\":\n\t\t\t\t\t\t\troute = `${doctype_slug}/new`;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase \"Calendar\":\n\t\t\t\t\t\t\troute = `${doctype_slug}/view/calendar/default`;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\tfrappe.throw({ message: __(\"Not a valid view:\") + item.doc_view, title: __(\"Unknown View\") });\n\t\t\t\t\t\t\troute = \"\";\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else if (type === \"report\") {\n\t\t\t\tif (item.is_query_report) {\n\t\t\t\t\troute = \"query-report/\" + item.name;\n\t\t\t\t} else if (!item.doctype) {\n\t\t\t\t\troute = \"/report/\" + item.name;\n\t\t\t\t} else {\n\t\t\t\t\troute = frappe.router.slug(item.doctype) + \"/view/report/\" + item.name;\n\t\t\t\t}\n\t\t\t} else if (type === \"page\") {\n\t\t\t\troute = item.name;\n\t\t\t} else if (type === \"dashboard\") {\n\t\t\t\troute = `dashboard-view/${item.name}`;\n\t\t\t}\n\n\t\t} else {\n\t\t\troute = item.route;\n\t\t}\n\n\t\tif (item.route_options) {\n\t\t\troute +=\n\t\t\t\t\"?\" +\n\t\t\t\t$.map(item.route_options, function (value, key) {\n\t\t\t\t\treturn (\n\t\t\t\t\t\tencodeURIComponent(key) + \"=\" + encodeURIComponent(value)\n\t\t\t\t\t);\n\t\t\t\t}).join(\"&\");\n\t\t}\n\n\t\t// if(type===\"page\" || type===\"help\" || type===\"report\" ||\n\t\t// (item.doctype && frappe.model.can_read(item.doctype))) {\n\t\t//     item.shown = true;\n\t\t// }\n\t\treturn `/app/${route}`;\n\t},\n\n\tshorten_number: function (number, country, min_length=4, max_no_of_decimals=2) {\n\t\t/* returns the number as an abbreviated string\n\t\t * PARAMS\n\t\t *  number - number to be shortened\n\t\t *  country - country that determines the numnber system to be used\n\t\t *  min_length - length below which the number will not be shortened\n\t\t *\tmax_no_of_decimals - max number of decimals of the shortened number\n\t\t*/\n\n\t\t// return number if total digits is lesser than min_length\n\t\tconst len = String(number).match(/\\d/g).length;\n\t\tif (len < min_length) return number.toString();\n\n\t\tconst number_system = this.get_number_system(country);\n\t\tlet x = Math.abs(Math.round(number));\n\t\tfor (const map of number_system) {\n\t\t\tif (x >= map.divisor) {\n\t\t\t\tlet result = number/map.divisor;\n\t\t\t\tconst no_of_decimals = this.get_number_of_decimals(result);\n\t\t\t\t/*\n\t\t\t\t\tIf no_of_decimals is greater than max_no_of_decimals,\n\t\t\t\t\tround the number to max_no_of_decimals\n\t\t\t\t*/\n\t\t\t\tresult = no_of_decimals > max_no_of_decimals\n\t\t\t\t\t? result.toFixed(max_no_of_decimals)\n\t\t\t\t\t: result;\n\t\t\t\treturn result + ' ' + map.symbol;\n\t\t\t}\n\t\t}\n\n\t\treturn number.toFixed(max_no_of_decimals);\n\t},\n\n\tget_number_of_decimals: function (number) {\n\t\tif (Math.floor(number) === number) return 0;\n\t\treturn number.toString().split(\".\")[1].length || 0;\n\t},\n\n\tbuild_summary_item(summary) {\n\t\tif (summary.type == \"separator\") {\n\t\t\treturn $(`<div class=\"summary-separator\">\n\t\t\t\t<div class=\"summary-value ${summary.color ? summary.color.toLowerCase() : 'text-muted'}\">${summary.value}</div>\n\t\t\t</div>`);\n\t\t}\n\t\tlet df = { fieldtype: summary.datatype };\n\t\tlet doc = null;\n\t\tif (summary.datatype == \"Currency\") {\n\t\t\tdf.options = \"currency\";\n\t\t\tdoc = { currency: summary.currency };\n\t\t}\n\n\t\tlet value = frappe.format(summary.value, df, { only_value: true }, doc);\n\t\tlet color = summary.indicator ? summary.indicator.toLowerCase()\n\t\t\t: summary.color ? summary.color.toLowerCase() : '';\n\n\t\treturn $(`<div class=\"summary-item\">\n\t\t\t<span class=\"summary-label\">${summary.label}</span>\n\t\t\t<div class=\"summary-value ${color}\">${value}</div>\n\t\t</div>`);\n\t},\n\n\tprint(doctype, docname, print_format, letterhead, lang_code) {\n\t\tlet w = window.open(\n\t\t\tfrappe.urllib.get_full_url(\n\t\t\t\t'/printview?doctype=' +\n\t\t\t\tencodeURIComponent(doctype) +\n\t\t\t\t'&name=' +\n\t\t\t\tencodeURIComponent(docname) +\n\t\t\t\t'&trigger_print=1' +\n\t\t\t\t'&format=' +\n\t\t\t\tencodeURIComponent(print_format) +\n\t\t\t\t'&no_letterhead=' +\n\t\t\t\t(letterhead ? '0' : '1') +\n\t\t\t\t'&letterhead=' +\n\t\t\t\tencodeURIComponent(letterhead) +\n\t\t\t\t(lang_code ? '&_lang=' + lang_code : '')\n\t\t\t)\n\t\t);\n\n\t\tif (!w) {\n\t\t\tfrappe.msgprint(__('Please enable pop-ups'));\n\t\t\treturn;\n\t\t}\n\t},\n\n\tget_clipboard_data(clipboard_paste_event) {\n\t\tlet e = clipboard_paste_event;\n\t\tlet clipboard_data = e.clipboardData || window.clipboardData || e.originalEvent.clipboardData;\n\t\treturn clipboard_data.getData('Text');\n\t},\n\n\tparse_array(array) {\n\t\tif (array && array.length !== 0) {\n\t\t\treturn array;\n\t\t}\n\t\treturn undefined;\n\t},\n\n\tis_current_user(user) {\n\t\treturn user === frappe.session.user;\n\t}\n});\n","frappe.provide('frappe.utils');\n/**\n * Simple EventEmitterMixin which uses jQuery's event system\n */\nconst EventEmitterMixin = {\n\tinit() {\n\t\tthis.jq = jQuery({});\n\t},\n\n\ttrigger(evt, data) {\n\t\t!this.jq && this.init();\n\t\tthis.jq.trigger(evt, data);\n\t},\n\n\tonce(evt, handler) {\n\t\t!this.jq && this.init();\n\t\tthis.jq.one(evt, (e, data) => handler(data));\n\t},\n\n\ton(evt, handler) {\n\t\t!this.jq && this.init();\n\t\tthis.jq.bind(evt, (e, data) => handler(data));\n\t},\n\n\toff(evt, handler) {\n\t\t!this.jq && this.init();\n\t\tthis.jq.unbind(evt, (e, data) => handler(data));\n\t}\n}\n\nfrappe.utils.make_event_emitter = function(object) {\n\tObject.assign(object, EventEmitterMixin);\n\treturn object;\n};\n\nexport default EventEmitterMixin;\n","// Copyright (c) 2015, Frappe Technologies Pvt. Ltd. and Contributors\n// MIT License. See license.txt\n\n// route urls to their virtual pages\n\n// re-route map (for rename)\nfrappe.provide('frappe.views');\nfrappe.re_route = {\"#login\": \"\"};\nfrappe.route_titles = {};\nfrappe.route_flags = {};\nfrappe.route_history = [];\nfrappe.view_factory = {};\nfrappe.view_factories = [];\nfrappe.route_options = null;\nfrappe.route_hooks = {};\n\n$(window).on('hashchange', function(e) {\n\t// v1 style routing, route is in hash\n\tif (window.location.hash && !frappe.router.is_app_route(e.currentTarget.pathname)) {\n\t\tlet sub_path = frappe.router.get_sub_path(window.location.hash);\n\t\tfrappe.router.push_state(sub_path);\n\t\treturn false;\n\t}\n});\n\nwindow.addEventListener('popstate', (e) => {\n\t// forward-back button, just re-render based on current route\n\tfrappe.router.route();\n\te.preventDefault();\n\treturn false;\n});\n\n// routing v2, capture all clicks so that the target is managed with push-state\n$('body').on('click', 'a', function(e) {\n\tlet override = (route) => {\n\t\te.preventDefault();\n\t\tfrappe.set_route(route);\n\t\treturn false;\n\t};\n\n\tconst target_element = e.currentTarget;\n\tconst href = target_element.getAttribute(\"href\");\n\tconst is_on_same_host = target_element.hostname === window.location.hostname;\n\n\t// click handled, but not by href\n\tif (\n\t\ttarget_element.getAttribute(\"onclick\") || // has a handler\n\t\te.ctrlKey ||\n\t\te.metaKey || // open in a new tab\n\t\thref === \"#\" // hash is home\n\t) {\n\t\treturn;\n\t}\n\n\tif (href === '') {\n\t\treturn override('/app');\n\t}\n\n\tif (href && href.startsWith('#')) {\n\t\t// target startswith \"#\", this is a v1 style route, so remake it.\n\t\treturn override(target_element.hash);\n\t}\n\n\tif (is_on_same_host && frappe.router.is_app_route(target_element.pathname)) {\n\t\t// target has \"/app, this is a v2 style route.\n\t\treturn override(target_element.pathname + target_element.hash);\n\t}\n\n});\n\nfrappe.router = {\n\tcurrent_route: null,\n\troutes: {},\n\tfactory_views: ['form', 'list', 'report', 'tree', 'print', 'dashboard'],\n\tlist_views: ['list', 'kanban', 'report', 'calendar', 'tree', 'gantt', 'dashboard', 'image', 'inbox'],\n\tlayout_mapped: {},\n\n\tis_app_route(path) {\n\t\t// desk paths must begin with /app or doctype route\n\t\tif (path.substr(0, 1) === '/') path = path.substr(1);\n\t\tpath = path.split('/');\n\t\tif (path[0]) {\n\t\t\treturn path[0]==='app';\n\t\t}\n\t},\n\n\tsetup() {\n\t\t// setup the route names by forming slugs of the given doctypes\n\t\tfor (let doctype of frappe.boot.user.can_read) {\n\t\t\tthis.routes[this.slug(doctype)] = {doctype: doctype};\n\t\t}\n\t\tif (frappe.boot.doctype_layouts) {\n\t\t\tfor (let doctype_layout of frappe.boot.doctype_layouts) {\n\t\t\t\tthis.routes[this.slug(doctype_layout.name)] = {doctype: doctype_layout.document_type, doctype_layout: doctype_layout.name };\n\t\t\t}\n\t\t}\n\t},\n\n\troute() {\n\t\t// resolve the route from the URL or hash\n\t\t// translate it so the objects are well defined\n\t\t// and render the page as required\n\n\t\tif (!frappe.app) return;\n\n\t\tlet sub_path = this.get_sub_path();\n\t\tif (this.re_route(sub_path)) return;\n\n\t\tthis.current_sub_path = sub_path;\n\t\tthis.current_route = this.parse();\n\t\tthis.set_history(sub_path);\n\t\tthis.render();\n\t\tthis.set_title(sub_path);\n\t\tthis.trigger('change');\n\t},\n\n\tparse(route) {\n\t\troute = this.get_sub_path_string(route).split('/');\n\t\tif (!route) return [];\n\t\troute = $.map(route, this.decode_component);\n\t\tthis.set_route_options_from_url(route);\n\t\treturn this.convert_to_standard_route(route);\n\t},\n\n\tconvert_to_standard_route(route) {\n\t\t// /app/settings = [\"Workspaces\", \"Settings\"]\n\t\t// /app/user = [\"List\", \"User\"]\n\t\t// /app/user/view/report = [\"List\", \"User\", \"Report\"]\n\t\t// /app/user/view/tree = [\"Tree\", \"User\"]\n\t\t// /app/user/user-001 = [\"Form\", \"User\", \"user-001\"]\n\t\t// /app/user/user-001 = [\"Form\", \"User\", \"user-001\"]\n\t\t// /app/event/view/calendar/default = [\"List\", \"Event\", \"Calendar\", \"Default\"]\n\n\t\tif (frappe.workspaces[route[0]]) {\n\t\t\t// workspace\n\t\t\troute = ['Workspaces', frappe.workspaces[route[0]].name];\n\t\t} else if (this.routes[route[0]]) {\n\t\t\t// route\n\t\t\troute = this.set_doctype_route(route);\n\t\t}\n\n\t\treturn route;\n\t},\n\n\tset_doctype_route(route) {\n\t\tlet doctype_route = this.routes[route[0]];\n\t\t// doctype route\n\t\tif (route[1]) {\n\t\t\tif (route[2] && route[1]==='view') {\n\t\t\t\troute = this.get_standard_route_for_list(route, doctype_route);\n\t\t\t} else {\n\t\t\t\tlet docname = route[1];\n\t\t\t\tif (route.length > 2) {\n\t\t\t\t\tdocname = route.slice(1).join('/');\n\t\t\t\t}\n\t\t\t\troute = ['Form', doctype_route.doctype, docname];\n\t\t\t}\n\t\t} else if (frappe.model.is_single(doctype_route.doctype)) {\n\t\t\troute = ['Form', doctype_route.doctype, doctype_route.doctype];\n\t\t} else {\n\t\t\troute = ['List', doctype_route.doctype, 'List'];\n\t\t}\n\n\t\tif (doctype_route.doctype_layout) {\n\t\t\t// set the layout\n\t\t\tthis.doctype_layout = doctype_route.doctype_layout;\n\t\t}\n\n\t\treturn route;\n\t},\n\n\tget_standard_route_for_list(route, doctype_route) {\n\t\tlet standard_route;\n\t\tif (route[2].toLowerCase()==='tree') {\n\t\t\tstandard_route = ['Tree', doctype_route.doctype];\n\t\t} else {\n\t\t\tstandard_route = ['List', doctype_route.doctype, frappe.utils.to_title_case(route[2])];\n\t\t\t// calendar / kanban / dashboard / folder\n\t\t\tif (route[3]) standard_route.push(...route.slice(3, route.length));\n\t\t}\n\t\treturn standard_route;\n\t},\n\n\tset_history() {\n\t\tfrappe.route_history.push(this.current_route);\n\t\tfrappe.ui.hide_open_dialog();\n\t},\n\n\trender() {\n\t\tif (this.current_route[0]) {\n\t\t\tthis.render_page();\n\t\t} else {\n\t\t\t// Show home\n\t\t\tfrappe.views.pageview.show('');\n\t\t}\n\t},\n\n\trender_page() {\n\t\t// create the page generator (factory) object and call `show`\n\t\t// if there is no generator, render the `Page` object\n\n\t\tconst route = this.current_route;\n\t\tconst factory = frappe.utils.to_title_case(route[0]);\n\n\t\tif (route[1] && frappe.views[factory + \"Factory\"]) {\n\t\t\troute[0] = factory;\n\t\t\t// has a view generator, generate!\n\t\t\tif (!frappe.view_factory[factory]) {\n\t\t\t\tfrappe.view_factory[factory] = new frappe.views[factory + \"Factory\"]();\n\t\t\t}\n\n\t\t\tfrappe.view_factory[factory].show();\n\t\t} else {\n\t\t\t// show page\n\t\t\tconst route_name = frappe.utils.xss_sanitise(route[0]);\n\t\t\tif (frappe.views.pageview) {\n\t\t\t\tfrappe.views.pageview.show(route_name);\n\t\t\t}\n\t\t}\n\t},\n\n\tre_route(sub_path) {\n\t\tif (frappe.re_route[sub_path] !== undefined) {\n\t\t\t// after saving a doc, for example,\n\t\t\t// \"new-doctype-1\" and the renamed \"TestDocType\", both exist in history\n\t\t\t// now if we try to go back,\n\t\t\t// it doesn't allow us to go back to the one prior to \"new-doctype-1\"\n\t\t\t// Hence if this check is true, instead of changing location hash,\n\t\t\t// we just do a back to go to the doc previous to the \"new-doctype-1\"\n\t\t\tconst re_route_val = this.get_sub_path(frappe.re_route[sub_path]);\n\t\t\tif (re_route_val === this.current_sub_path) {\n\t\t\t\twindow.history.back();\n\t\t\t} else {\n\t\t\t\tfrappe.set_route(re_route_val);\n\t\t\t}\n\n\t\t\treturn true;\n\t\t}\n\t},\n\n\tset_title(sub_path) {\n\t\tif (frappe.route_titles[sub_path]) {\n\t\t\tfrappe.utils.set_title(frappe.route_titles[sub_path]);\n\t\t}\n\t},\n\n\tset_route() {\n\t\t// set the route (push state) with given arguments\n\t\t// example 1: frappe.set_route('a', 'b', 'c');\n\t\t// example 2: frappe.set_route(['a', 'b', 'c']);\n\t\t// example 3: frappe.set_route('a/b/c');\n\t\tlet route = Array.from(arguments);\n\n\t\treturn new Promise(resolve => {\n\t\t\troute = this.get_route_from_arguments(route);\n\t\t\troute = this.convert_from_standard_route(route);\n\t\t\tlet sub_path = this.make_url(route);\n\t\t\t// replace each # occurrences in the URL with encoded character except for last\n\t\t\t// sub_path = sub_path.replace(/[#](?=.*[#])/g, \"%23\");\n\t\t\tthis.push_state(sub_path);\n\n\t\t\tsetTimeout(() => {\n\t\t\t\tfrappe.after_ajax && frappe.after_ajax(() => {\n\t\t\t\t\tresolve();\n\t\t\t\t});\n\t\t\t}, 100);\n\t\t}).finally(() => frappe.route_flags = {});\n\t},\n\n\tget_route_from_arguments(route) {\n\t\tif (route.length===1 && $.isArray(route[0])) {\n\t\t\t// called as frappe.set_route(['a', 'b', 'c']);\n\t\t\troute = route[0];\n\t\t}\n\n\t\tif (route.length===1 && route[0] && route[0].includes('/')) {\n\t\t\t// called as frappe.set_route('a/b/c')\n\t\t\troute = $.map(route[0].split('/'), this.decode_component);\n\t\t}\n\n\t\tif (route && route[0] == '') {\n\t\t\troute.shift();\n\t\t}\n\n\t\tif (route && ['desk', 'app'].includes(route[0])) {\n\t\t\t// we only need subpath, remove \"app\" (or \"desk\")\n\t\t\troute.shift();\n\t\t}\n\n\t\treturn route;\n\n\t},\n\n\tconvert_from_standard_route(route) {\n\t\t// [\"List\", \"Sales Order\"] => /sales-order\n\t\t// [\"Form\", \"Sales Order\", \"SO-0001\"] => /sales-order/SO-0001\n\t\t// [\"Tree\", \"Account\"] = /account/view/tree\n\n\t\tconst view = route[0] ? route[0].toLowerCase() : '';\n\t\tlet new_route = route;\n\t\tif (view === 'list') {\n\t\t\tif (route[2] && route[2] !== 'list' && !$.isPlainObject(route[2])) {\n\t\t\t\tnew_route = [this.slug(route[1]), 'view', route[2].toLowerCase()];\n\n\t\t\t\t// calendar / inbox / file folder\n\t\t\t\tif (route[3]) new_route.push(...route.slice(3, route.length));\n\t\t\t} else {\n\t\t\t\tif ($.isPlainObject(route[2])) {\n\t\t\t\t\tfrappe.route_options = route[2];\n\t\t\t\t}\n\t\t\t\tnew_route = [this.slug(route[1])];\n\t\t\t}\n\t\t} else if (view === 'form') {\n\t\t\tnew_route = [this.slug(route[1])];\n\t\t\tif (route[2]) {\n\t\t\t\t// if not single\n\t\t\t\tnew_route.push(route[2]);\n\t\t\t}\n\t\t} else if (view === 'tree') {\n\t\t\tnew_route = [this.slug(route[1]), 'view', 'tree'];\n\t\t}\n\t\treturn new_route;\n\t},\n\n\tslug_parts(route) {\n\t\t// slug doctype\n\n\t\t// if app is part of the route, then first 2 elements are \"\" and \"app\"\n\t\tif (route[0] && this.factory_views.includes(route[0].toLowerCase())) {\n\t\t\troute[0] = route[0].toLowerCase();\n\t\t\troute[1] = this.slug(route[1]);\n\t\t}\n\t\treturn route;\n\t},\n\n\tmake_url(params) {\n\t\tlet path_string = $.map(params, function(a) {\n\t\t\tif ($.isPlainObject(a)) {\n\t\t\t\tfrappe.route_options = a;\n\t\t\t\treturn null;\n\t\t\t} else {\n\t\t\t\ta = encodeURIComponent(String(a));\n\t\t\t\treturn a;\n\t\t\t}\n\t\t}).join('/');\n\n\t\treturn '/app/' + (path_string || 'home');\n\t},\n\n\tpush_state(url) {\n\t\t// change the URL and call the router\n\t\tif (window.location.pathname !== url) {\n\n\t\t\t// push/replace state so the browser looks fine\n\t\t\tconst method = frappe.route_flags.replace_route ? \"replaceState\" : \"pushState\";\n\t\t\thistory[method](null, null, url);\n\n\t\t\t// now process the route\n\t\t\tthis.route();\n\t\t}\n\t},\n\n\tget_sub_path_string(route) {\n\t\t// return clean sub_path from hash or url\n\t\t// supports both v1 and v2 routing\n\t\tif (!route) {\n\t\t\troute = window.location.pathname;\n\t\t\tif (route.includes('app#')) {\n\t\t\t\t// to support v1\n\t\t\t\troute = window.location.hash;\n\t\t\t}\n\t\t}\n\n\t\treturn this.strip_prefix(route);\n\t},\n\n\tstrip_prefix(route) {\n\t\tif (route.substr(0, 1)=='/') route = route.substr(1); // for /app/sub\n\t\tif (route.startsWith('app/')) route = route.substr(4); // for desk/sub\n\t\tif (route == 'app') route = route.substr(4); // for /app\n\t\tif (route.substr(0, 1)=='/') route = route.substr(1);\n\t\tif (route.substr(0, 1)=='#') route = route.substr(1);\n\t\tif (route.substr(0, 1)=='!') route = route.substr(1);\n\t\treturn route;\n\t},\n\n\tget_sub_path(route) {\n\t\tvar sub_path = this.get_sub_path_string(route);\n\t\troute = $.map(sub_path.split('/'), this.decode_component).join('/');\n\n\t\treturn route;\n\t},\n\n\tset_route_options_from_url(route) {\n\t\t// set query parameters as frappe.route_options\n\t\tvar last_part = route[route.length - 1];\n\t\tif (last_part.indexOf(\"?\") < last_part.indexOf(\"=\")) {\n\t\t\t// has ? followed by =\n\t\t\tlet parts = last_part.split(\"?\");\n\n\t\t\t// route should not contain string after ?\n\t\t\troute[route.length - 1] = parts[0];\n\n\t\t\tlet query_params = frappe.utils.get_query_params(parts[1]);\n\t\t\tfrappe.route_options = $.extend(frappe.route_options || {}, query_params);\n\t\t}\n\t},\n\n\tdecode_component(r) {\n\t\ttry {\n\t\t\treturn decodeURIComponent(r);\n\t\t} catch (e) {\n\t\t\tif (e instanceof URIError) {\n\t\t\t\t// legacy: not sure why URIError is ignored.\n\t\t\t\treturn r;\n\t\t\t} else {\n\t\t\t\tthrow e;\n\t\t\t}\n\t\t}\n\t},\n\n\tslug(name) {\n\t\treturn name.toLowerCase().replace(/ /g, '-');\n\t}\n};\n\n// global functions for backward compatibility\nfrappe.get_route = () => frappe.router.current_route;\nfrappe.get_route_str = () => frappe.router.current_route.join('/');\nfrappe.set_route = function() {\n\treturn frappe.router.set_route.apply(frappe.router, arguments);\n};\n\nfrappe.get_prev_route = function() {\n\tif (frappe.route_history && frappe.route_history.length > 1) {\n\t\treturn frappe.route_history[frappe.route_history.length - 2];\n\t} else {\n\t\treturn [];\n\t}\n};\n\nfrappe.set_re_route = function() {\n\tvar tmp = frappe.router.get_sub_path();\n\tfrappe.set_route.apply(null, arguments);\n\tfrappe.re_route[tmp] = frappe.router.get_sub_path();\n};\n\nfrappe.has_route_options = function() {\n\treturn Boolean(Object.keys(frappe.route_options || {}).length);\n};\n\nfrappe.utils.make_event_emitter(frappe.router);\n","frappe.route_history_queue = [];\nconst routes_to_skip = ['Form', 'social', 'setup-wizard', 'recorder'];\n\nconst save_routes = frappe.utils.debounce(() => {\n\tif (frappe.session.user === 'Guest') return;\n\tconst routes = frappe.route_history_queue;\n\tif (!routes.length) return;\n\n\tfrappe.route_history_queue = [];\n\n\tfrappe.xcall('frappe.desk.doctype.route_history.route_history.deferred_insert', {\n\t\t'routes': routes\n\t}).catch(() => {\n\t\tfrappe.route_history_queue.concat(routes);\n\t});\n\n}, 10000);\n\nfrappe.router.on('change', () => {\n\tconst route = frappe.get_route();\n\tif (is_route_useful(route)) {\n\t\tfrappe.route_history_queue.push({\n\t\t\t'creation': frappe.datetime.now_datetime(),\n\t\t\t'route': frappe.get_route_str()\n\t\t});\n\n\t\tsave_routes();\n\t}\n});\n\nfunction is_route_useful(route) {\n\tif (!route[1]) {\n\t\treturn false;\n\t} else if ((route[0] === 'List' && !route[2]) || routes_to_skip.includes(route[0])) {\n\t\treturn false;\n\t} else {\n\t\treturn true;\n\t}\n}","// frappe.ui.Capture\n// Author - Achilles Rasquinha <achilles@frappe.io>\n\n/**\n * @description Converts a canvas, image or a video to a data URL string.\n *\n * @param \t{HTMLElement} element - canvas, img or video.\n * @returns {string} \t\t\t  - The data URL string.\n *\n * @example\n * frappe._.get_data_uri(video)\n * // returns \"data:image/pngbase64,...\"\n */\nfrappe._.get_data_uri = element => {\n\n\tconst width = element.videoWidth;\n\tconst height = element.videoHeight;\n\n\tconst $canvas = $('<canvas/>');\n\t$canvas[0].width = width;\n\t$canvas[0].height = height;\n\n\tconst context = $canvas[0].getContext('2d');\n\tcontext.drawImage(element, 0, 0, width, height);\n\n\tconst data_uri = $canvas[0].toDataURL('image/png');\n\n\treturn data_uri;\n};\n\nfunction get_file_input() {\n\tlet input = document.createElement(\"input\");\n\tinput.setAttribute(\"type\", \"file\");\n\tinput.setAttribute(\"accept\", \"image/*\");\n\tinput.setAttribute(\"multiple\", \"\");\n\n\treturn input;\n}\n\nfunction read(file) {\n\treturn new Promise((resolve, reject) => {\n\t\tconst reader = new FileReader();\n\t\treader.onload = () => resolve(reader.result);\n\t\treader.onerror = reject;\n\t\treader.readAsDataURL(file);\n\t});\n}\n\n/**\n * @description Frappe's Capture object.\n *\n * @example\n * const capture = frappe.ui.Capture()\n * capture.show()\n *\n * capture.click((data_uri) => {\n * \t// do stuff\n * })\n *\n * @see https://developer.mozilla.org/en-US/docs/Web/API/WebRTC_API/Taking_still_photos\n */\nfrappe.ui.Capture = class {\n\tconstructor(options = {}) {\n\t\tthis.options = frappe.ui.Capture.OPTIONS;\n\t\tthis.set_options(options);\n\n\t\tthis.facing_mode = \"environment\";\n\t\tthis.images = [];\n\t}\n\n\tset_options(options) {\n\t\tthis.options = { ...frappe.ui.Capture.OPTIONS, ...options };\n\n\t\treturn this;\n\t}\n\n\tshow() {\n\t\tthis.build_dialog();\n\n\t\tif (frappe.is_mobile()) {\n\t\t\tthis.show_for_mobile();\n\t\t} else {\n\t\t\tthis.show_for_desktop();\n\t\t}\n\t}\n\n\tbuild_dialog() {\n\t\tlet me = this;\n\t\tme.dialog = new frappe.ui.Dialog({\n\t\t\ttitle: this.options.title,\n\t\t\tanimate: this.options.animate,\n\t\t\tfields: [\n\t\t\t\t{\n\t\t\t\t\tfieldtype: \"HTML\",\n\t\t\t\t\tfieldname: \"capture\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tfieldtype: \"HTML\",\n\t\t\t\t\tfieldname: \"total_count\"\n\t\t\t\t}\n\t\t\t],\n\t\t\ton_hide: this.stop_media_stream()\n\t\t});\n\n\t\tme.$template = $(frappe.ui.Capture.TEMPLATE);\n\n\t\tlet field = me.dialog.get_field(\"capture\");\n\t\t$(field.wrapper).html(me.$template);\n\n\t\tme.dialog.get_close_btn().on('click', () => {\n\t\t\tme.hide();\n\t\t});\n\t}\n\n\tshow_for_mobile() {\n\t\tlet me = this;\n\t\tif (!me.input) {\n\t\t\tme.input = get_file_input();\n\t\t}\n\n\t\tme.input.onchange = async function () {\n\t\t\tfor (let file of me.input.files) {\n\t\t\t\tlet f = await read(file);\n\t\t\t\tme.images.push(f);\n\t\t\t}\n\n\t\t\tme.render_preview();\n\t\t\tme.dialog.show();\n\t\t};\n\t\tme.input.click();\n\t}\n\n\tshow_for_desktop() {\n\t\tlet me = this;\n\n\t\tthis.render_stream()\n\t\t\t.then(() => {\n\t\t\t\tme.dialog.show();\n\t\t\t})\n\t\t\t.catch(err => {\n\t\t\t\tif (me.options.error) {\n\t\t\t\t\tfrappe.show_alert(frappe.ui.Capture.ERR_MESSAGE, 3);\n\t\t\t\t}\n\n\t\t\t\tthrow err;\n\t\t\t});\n\t}\n\n\trender_stream() {\n\t\tlet me = this;\n\t\tlet constraints = {\n\t\t\tvideo: {\n\t\t\t\tfacingMode: this.facing_mode\n\t\t\t}\n\t\t};\n\n\t\treturn navigator.mediaDevices.getUserMedia(constraints).then(stream => {\n\t\t\tme.stream = stream;\n\t\t\tme.dialog.custom_actions.empty();\n\t\t\tme.dialog.get_primary_btn().off('click');\n\t\t\tme.setup_take_photo_action();\n\t\t\tme.setup_preview_action();\n\t\t\tme.setup_toggle_camera();\n\n\t\t\tme.$template.find('.fc-stream-container').show();\n\t\t\tme.$template.find('.fc-preview-container').hide();\n\t\t\tme.video = me.$template.find('video')[0];\n\t\t\tme.video.srcObject = me.stream;\n\t\t\tme.video.load();\n\t\t\tme.video.play();\n\t\t});\n\t}\n\n\trender_preview() {\n\t\tthis.stop_media_stream();\n\t\tthis.$template.find('.fc-stream-container').hide();\n\t\tthis.$template.find('.fc-preview-container').show();\n\t\tthis.dialog.get_primary_btn().off('click');\n\n\t\tlet images = ``;\n\n\t\tthis.images.forEach((image, idx) => {\n\t\t\timages += `\n\t\t\t\t<div class=\"mt-1 p-1 rounded col-md-3 col-sm-4 col-xs-4\" data-idx=\"${idx}\">\n\t\t\t\t\t<span class=\"capture-remove-btn\" data-idx=\"${idx}\">\n\t\t\t\t\t\t${frappe.utils.icon(\"close\", \"lg\")}\n\t\t\t\t\t</span>\n\t\t\t\t\t<img class=\"rounded\" src=\"${image}\" data-idx=\"${idx}\">\n\t\t\t\t</div>\n\t\t\t`;\n\t\t});\n\n\t\tthis.$template.find('.fc-preview-container').empty();\n\t\t$(this.$template.find('.fc-preview-container')).html(\n\t\t\t`<div class=\"row\">\n\t\t\t\t${images}\n\t\t\t</div>`\n\t\t);\n\n\t\tthis.setup_capture_action();\n\t\tthis.setup_submit_action();\n\t\tthis.setup_remove_action();\n\t\tthis.update_count();\n\t\tthis.dialog.custom_actions.empty();\n\t}\n\n\tsetup_take_photo_action() {\n\t\tlet me = this;\n\n\t\tthis.dialog.set_primary_action(__('Take Photo'), () => {\n\t\t\tconst data_url = frappe._.get_data_uri(me.video);\n\n\t\t\tme.images.push(data_url);\n\t\t\tme.setup_preview_action();\n\t\t\tme.update_count();\n\t\t});\n\t}\n\n\tsetup_preview_action() {\n\t\tlet me = this;\n\n\t\tif (!this.images.length) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.dialog.set_secondary_action_label(__(\"Preview\"));\n\t\tthis.dialog.set_secondary_action(() => {\n\t\t\tme.dialog.get_primary_btn().off('click');\n\t\t\tme.render_preview();\n\t\t});\n\t}\n\n\tsetup_remove_action() {\n\t\tlet me = this;\n\t\tlet elements = this.$template[0].getElementsByClassName(\"capture-remove-btn\");\n\n\t\telements.forEach(el => {\n\t\t\tel.onclick = () => {\n\t\t\t\tlet idx = parseInt(el.getAttribute(\"data-idx\"));\n\n\t\t\t\tme.images.splice(idx, 1);\n\t\t\t\tme.render_preview();\n\t\t\t};\n\t\t});\n\t}\n\n\tupdate_count() {\n\t\tlet field = this.dialog.get_field(\"total_count\");\n\t\tlet msg = `${__(\"Total Images\")}: <b>${this.images.length}`;\n\n\t\tif (this.images.length === 0) {\n\t\t\tmsg = __(\"No Images\");\n\t\t}\n\n\t\t$(field.wrapper).html(`\n\t\t\t<div class=\"row mt-2\">\n\t\t\t\t<div class=\"offset-4 col-4 d-flex justify-content-center\">${msg}</b></div>\n\t\t\t</div>\n\t\t`);\n\t}\n\n\tsetup_toggle_camera() {\n\t\tlet me = this;\n\n\t\tthis.dialog.add_custom_action(__(\"Switch Camera\"), () => {\n\t\t\tme.facing_mode = me.facing_mode == \"environment\" ? \"user\" : \"environment\";\n\n\t\t\tfrappe.show_alert({\n\t\t\t\tmessage: __(\"Switching Camera\")\n\t\t\t});\n\n\t\t\tme.stop_media_stream();\n\t\t\tme.render_stream();\n\t\t}, \"btn-switch\");\n\t}\n\n\tsetup_capture_action() {\n\t\tlet me = this;\n\n\t\tthis.dialog.set_secondary_action_label(__(\"Capture\"));\n\t\tthis.dialog.set_secondary_action(() => {\n\t\t\tif (frappe.is_mobile()) {\n\t\t\t\tme.show_for_mobile();\n\t\t\t} else {\n\t\t\t\tme.render_stream();\n\t\t\t}\n\t\t});\n\t}\n\n\tsetup_submit_action() {\n\t\tlet me = this;\n\n\t\tthis.dialog.set_primary_action(__('Submit'), () => {\n\t\t\tme.hide();\n\n\t\t\tif (me.callback) {\n\t\t\t\tme.callback(me.images);\n\t\t\t}\n\t\t});\n\t}\n\n\thide() {\n\t\tif (this.dialog) this.dialog.hide();\n\t\tthis.stop_media_stream();\n\t}\n\n\tstop_media_stream() {\n\t\tif (this.stream) {\n\t\t\tthis.stream.getTracks().forEach((track) => {\n\t\t\t\ttrack.stop();\n\t\t\t});\n\t\t}\n\t}\n\n\tsubmit(fn) {\n\t\tthis.callback = fn;\n\t}\n};\nfrappe.ui.Capture.OPTIONS = {\n\ttitle: __(\"Camera\"),\n\tanimate: false,\n\terror: false\n};\nfrappe.ui.Capture.ERR_MESSAGE = __('Unable to load camera.');\nfrappe.ui.Capture.TEMPLATE = `\n<div class=\"frappe-capture\">\n\t<div class=\"embed-responsive embed-responsive-16by9 fc-stream-container\">\n\t\t<video class=\"fc-stream embed-responsive-item\">${frappe.ui.Capture.ERR_MESSAGE}</video>\n\t</div>\n\t<div class=\"fc-preview-container px-2\" style=\"display: none;\">\n\t</div>\n</div>\n`;","function prettyDate(date, mini) {\n\tif (!date) return '';\n\n\tif (typeof (date) == \"string\") {\n\t\tdate = frappe.datetime.convert_to_user_tz(date);\n\t\tdate = new Date((date || \"\").replace(/-/g, \"/\").replace(/[TZ]/g, \" \").replace(/\\.[0-9]*/, \"\"));\n\t}\n\n\tlet diff = (((new Date()).getTime() - date.getTime()) / 1000);\n\tlet day_diff = Math.floor(diff / 86400);\n\n\tif (isNaN(day_diff) || day_diff < 0) return '';\n\n\tif (mini) {\n\t\t// Return short format of time difference\n\t\tif (day_diff == 0) {\n\t\t\tif (diff < 60) {\n\t\t\t\treturn __(\"now\");\n\t\t\t} else if (diff < 3600) {\n\t\t\t\treturn __(\"{0} m\", [Math.floor(diff / 60)]);\n\t\t\t} else if (diff < 86400) {\n\t\t\t\treturn __(\"{0} h\", [Math.floor(diff / 3600)]);\n\t\t\t}\n\t\t} else {\n\t\t\tif (day_diff < 7) {\n\t\t\t\treturn __(\"{0} d\", [day_diff]);\n\t\t\t} else if (day_diff < 31) {\n\t\t\t\treturn __(\"{0} w\", [Math.floor(day_diff / 7)]);\n\t\t\t} else if (day_diff < 365) {\n\t\t\t\treturn __(\"{0} M\", [Math.floor(day_diff / 30)]);\n\t\t\t} else {\n\t\t\t\treturn __(\"{0} y\", [Math.floor(day_diff / 365)]);\n\t\t\t}\n\t\t}\n\t} else {\n\t\t// Return long format of time difference\n\t\tif (day_diff == 0) {\n\t\t\tif (diff < 60) {\n\t\t\t\treturn __(\"just now\");\n\t\t\t} else if (diff < 120) {\n\t\t\t\treturn __(\"1 minute ago\");\n\t\t\t} else if (diff < 3600) {\n\t\t\t\treturn __(\"{0} minutes ago\", [Math.floor(diff / 60)]);\n\t\t\t} else if (diff < 7200) {\n\t\t\t\treturn __(\"1 hour ago\");\n\t\t\t} else if (diff < 86400) {\n\t\t\t\treturn __(\"{0} hours ago\", [Math.floor(diff / 3600)]);\n\t\t\t}\n\t\t} else {\n\t\t\tif (day_diff == 1) {\n\t\t\t\treturn __(\"yesterday\");\n\t\t\t} else if (day_diff < 7) {\n\t\t\t\treturn __(\"{0} days ago\", [day_diff]);\n\t\t\t} else if (day_diff < 14) {\n\t\t\t\treturn __(\"1 week ago\");\n\t\t\t} else if (day_diff < 31) {\n\t\t\t\treturn __(\"{0} weeks ago\", [Math.floor(day_diff / 7)]);\n\t\t\t} else if (day_diff < 62) {\n\t\t\t\treturn __(\"1 month ago\");\n\t\t\t} else if (day_diff < 365) {\n\t\t\t\treturn __(\"{0} months ago\", [Math.floor(day_diff / 30)]);\n\t\t\t} else if (day_diff < 730) {\n\t\t\t\treturn __(\"1 year ago\");\n\t\t\t} else {\n\t\t\t\treturn __(\"{0} years ago\", [Math.floor(day_diff / 365)]);\n\t\t\t}\n\t\t}\n\t}\n}\n\nfrappe.provide(\"frappe.datetime\");\nwindow.comment_when = function(datetime, mini) {\n\tvar timestamp = frappe.datetime.str_to_user ?\n\t\tfrappe.datetime.str_to_user(datetime) : datetime;\n\treturn '<span class=\"frappe-timestamp '\n\t\t+ (mini ? \" mini\" : \"\") + '\" data-timestamp=\"' + datetime\n\t\t+ '\" title=\"' + timestamp + '\">'\n\t\t+ prettyDate(datetime, mini) + '</span>';\n};\nfrappe.datetime.comment_when = comment_when;\nfrappe.datetime.prettyDate = prettyDate;\n\nfrappe.datetime.refresh_when = function() {\n\tif (jQuery) {\n\t\t$(\".frappe-timestamp\").each(function() {\n\t\t\t$(this).html(prettyDate($(this).attr(\"data-timestamp\"), $(this).hasClass(\"mini\")));\n\t\t});\n\t}\n};\n\nsetInterval(function() {\n\tfrappe.datetime.refresh_when();\n}, 60000); // refresh every minute\n","// Copyright (c) 2015, Frappe Technologies Pvt. Ltd. and Contributors\n// MIT License. See license.txt\n\nfrappe.defaults = {\n\tget_user_default: function(key) {\n\t\tvar defaults = frappe.boot.user.defaults;\n\t\tvar d = defaults[key];\n\t\tif(!d && frappe.defaults.is_a_user_permission_key(key))\n\t\t\td = defaults[frappe.model.scrub(key)];\n\t\tif($.isArray(d)) d = d[0];\n\n\t\tif(!frappe.defaults.in_user_permission(key, d)) {\n\t\t\treturn;\n\t\t}\n\n\t\treturn d;\n\t},\n\tget_user_defaults: function(key) {\n\t\tvar defaults = frappe.boot.user.defaults;\n\t\tvar d = defaults[key];\n\n\t\tif (frappe.defaults.is_a_user_permission_key(key)) {\n\t\t\tif (d && $.isArray(d) && d.length===1) {\n\t\t\t\t// Use User Permission value when only when it has a single value\n\t\t\t\td = d[0];\n\t\t\t} else {\n\t\t\t\td = defaults[key] || defaults[frappe.model.scrub(key)];\n\t\t\t}\n\t\t}\n\t\tif(!$.isArray(d)) d = [d];\n\n\t\t// filter out values which are not permitted to the user\n\t\td.filter(item => {\n\t\t\tif(frappe.defaults.in_user_permission(key, item)) {\n\t\t\t\treturn item;\n\t\t\t}\n\t\t});\n\t\treturn d;\n\t},\n\tget_global_default: function(key) {\n\t\tvar d = frappe.sys_defaults[key];\n\t\tif($.isArray(d)) d = d[0];\n\t\treturn d;\n\t},\n\tget_global_defaults: function(key) {\n\t\tvar d = frappe.sys_defaults[key];\n\t\tif(!$.isArray(d)) d = [d];\n\t\treturn d;\n\t},\n\tset_user_default_local: function(key, value) {\n\t\tfrappe.boot.user.defaults[key] = value;\n\t},\n\tget_default: function(key) {\n\t\tvar defaults = frappe.boot.user.defaults;\n\t\tvar value = defaults[key];\n\t\tif (frappe.defaults.is_a_user_permission_key(key)) {\n\t\t\tif (value && $.isArray(value) && value.length===1) {\n\t\t\t\tvalue = value[0];\n\t\t\t} else {\n\t\t\t\tvalue = defaults[frappe.model.scrub(key)];\n\t\t\t}\n\t\t}\n\n\t\tif(!frappe.defaults.in_user_permission(key, value)) {\n\t\t\treturn;\n\t\t}\n\n\t\tif(value) {\n\t\t\ttry {\n\t\t\t\treturn JSON.parse(value)\n\t\t\t} catch(e) {\n\t\t\t\treturn value;\n\t\t\t}\n\t\t}\n\t},\n\n\tis_a_user_permission_key: function(key) {\n\t\treturn key.indexOf(\":\")===-1 && key !== frappe.model.scrub(key);\n\t},\n\n\tin_user_permission: function(key, value) {\n\t\tlet user_permission = this.get_user_permissions()[frappe.model.unscrub(key)];\n\n\t\tif (user_permission && user_permission.length) {\n\n\t\t\tlet doc_found = user_permission.some(perm => {\n\t\t\t\treturn perm.doc === value;\n\t\t\t});\n\t\t\treturn doc_found;\n\n\t\t} else {\n\t\t\t// there is no user permission for this doctype\n\t\t\t// so we can allow this doc i.e., value\n\t\t\treturn true;\n\t\t}\n\n\t},\n\n\tget_user_permissions: function() {\n\t\treturn this._user_permissions || {};\n\t},\n\n\tupdate_user_permissions: function() {\n\t\tconst method = 'frappe.core.doctype.user_permission.user_permission.get_user_permissions';\n\t\tfrappe.call(method).then(r => {\n\t\t\tif (r.message) {\n\t\t\t\tthis._user_permissions = Object.assign({}, r.message);\n\t\t\t}\n\t\t});\n\t}\n};\n","frappe.RoleEditor = class {\n\tconstructor(wrapper, frm, disable) {\n\t\tthis.frm = frm;\n\t\tthis.wrapper = wrapper;\n\t\tthis.disable = disable;\n\t\tlet user_roles = this.frm.doc.roles.map(a => a.role);\n\t\tthis.multicheck = frappe.ui.form.make_control({\n\t\t\tparent: wrapper,\n\t\t\tdf: {\n\t\t\t\tfieldname: \"roles\",\n\t\t\t\tfieldtype: \"MultiCheck\",\n\t\t\t\tselect_all: true,\n\t\t\t\tcolumns: 3,\n\t\t\t\tget_data: () => {\n\t\t\t\t\treturn frappe.xcall('frappe.core.doctype.user.user.get_all_roles').then(roles => {\n\t\t\t\t\t\treturn roles.map(role => {\n\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\tlabel: __(role),\n\t\t\t\t\t\t\t\tvalue: role,\n\t\t\t\t\t\t\t\tchecked: user_roles.includes(role)\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t},\n\t\t\t\ton_change: () => {\n\t\t\t\t\tthis.set_roles_in_table();\n\t\t\t\t\tthis.frm.dirty();\n\t\t\t\t}\n\t\t\t},\n\t\t\trender_input: true\n\t\t});\n\n\t\tlet original_func = this.multicheck.make_checkboxes;\n\t\tthis.multicheck.make_checkboxes = () => {\n\t\t\toriginal_func.call(this.multicheck);\n\t\t\tthis.multicheck.$wrapper.find('.label-area').click(e => {\n\t\t\t\tlet role = $(e.target).data('unit');\n\t\t\t\trole && this.show_permissions(role);\n\t\t\t\te.preventDefault();\n\t\t\t});\n\t\t};\n\t}\n\tset_enable_disable() {\n\t\t$(this.wrapper).find('input[type=\"checkbox\"]').attr('disabled', this.disable ? true : false);\n\t}\n\tshow_permissions(role) {\n\t\t// show permissions for a role\n\t\tif (!this.perm_dialog) {\n\t\t\tthis.make_perm_dialog();\n\t\t}\n\t\t$(this.perm_dialog.body).empty();\n\t\treturn frappe.xcall('frappe.core.doctype.user.user.get_perm_info', { role })\n\t\t\t.then(permissions => {\n\t\t\t\tconst $body = $(this.perm_dialog.body);\n\t\t\t\tif (!permissions.length) {\n\t\t\t\t\t$body.append(`<div class=\"text-muted text-center padding\">\n\t\t\t\t\t\t${__('{0} role does not have permission on any doctype', [role])}\n\t\t\t\t\t</div>`);\n\t\t\t\t} else {\n\t\t\t\t\t$body.append(`\n\t\t\t\t\t\t<table class=\"user-perm\">\n\t\t\t\t\t\t\t<thead>\n\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t<th> ${__('Document Type')} </th>\n\t\t\t\t\t\t\t\t\t<th> ${__('Level')} </th>\n\t\t\t\t\t\t\t\t\t${frappe.perm.rights.map(p => `<th> ${frappe.unscrub(p)}</th>`).join(\"\")}\n\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t</thead>\n\t\t\t\t\t\t\t<tbody></tbody>\n\t\t\t\t\t\t</table>\n\t\t\t\t\t`);\n\t\t\t\t\tpermissions.forEach(perm => {\n\t\t\t\t\t\t$body.find('tbody').append(`\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td>${perm.parent}</td>\n\t\t\t\t\t\t\t\t<td>${perm.permlevel}</td>\n\t\t\t\t\t\t\t\t${frappe.perm.rights.map(p => `<td class=\"text-muted bold\">${perm[p] ? frappe.utils.icon('check', 'xs') : '-'}</td>`).join(\"\")}\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t`);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tthis.perm_dialog.set_title(role);\n\t\t\t\tthis.perm_dialog.show();\n\t\t\t});\n\t}\n\tmake_perm_dialog() {\n\t\tthis.perm_dialog = new frappe.ui.Dialog({\n\t\t\ttitle: __('Role Permissions')\n\t\t});\n\n\t\tthis.perm_dialog.$wrapper\n\t\t\t.find('.modal-dialog')\n\t\t\t.css(\"width\", \"1200px\")\n\t\t\t.css(\"max-width\", \"80vw\");\n\t}\n\tshow() {\n\t\tthis.reset();\n\t\tthis.set_enable_disable();\n\t}\n\n\treset() {\n\t\tlet user_roles = (this.frm.doc.roles || []).map(a => a.role);\n\t\tthis.multicheck.selected_options = user_roles;\n\t\tthis.multicheck.refresh_input();\n\t}\n\tset_roles_in_table() {\n\t\tlet roles = this.frm.doc.roles || [];\n\t\tlet checked_options = this.multicheck.get_checked_options();\n\t\troles.map(role_doc => {\n\t\t\tif (!checked_options.includes(role_doc.role)) {\n\t\t\t\tfrappe.model.clear_doc(role_doc.doctype, role_doc.name);\n\t\t\t}\n\t\t});\n\t\tchecked_options.map(role => {\n\t\t\tif (!roles.find(d => d.role === role)) {\n\t\t\t\tlet role_doc = frappe.model.add_child(this.frm.doc, \"Has Role\", \"roles\");\n\t\t\t\trole_doc.role = role;\n\t\t\t}\n\t\t});\n\t}\n\tget_roles() {\n\t\treturn {\n\t\t\tchecked_roles: this.multicheck.get_checked_options(),\n\t\t\tunchecked_roles: this.multicheck.get_unchecked_options()\n\t\t};\n\t}\n};","frappe.ModuleEditor = Class.extend({\n\tinit: function(frm, wrapper) {\n\t\tthis.wrapper = $('<div class=\"row module-block-list\"></div>').appendTo(wrapper);\n\t\tthis.frm = frm;\n\t\tthis.make();\n\t},\n\tmake: function() {\n\t\tvar me = this;\n\t\tthis.frm.doc.__onload.all_modules.forEach(function(m) {\n\t\t\t$(repl('<div class=\"col-sm-6\"><div class=\"checkbox\">\\\n\t\t\t\t<label><input type=\"checkbox\" class=\"block-module-check\" data-module=\"%(module)s\">\\\n\t\t\t\t%(module)s</label></div></div>', {module: m})).appendTo(me.wrapper);\n\t\t});\n\t\tthis.bind();\n\t},\n\trefresh: function() {\n\t\tvar me = this;\n\t\tthis.wrapper.find(\".block-module-check\").prop(\"checked\", true);\n\t\t$.each(this.frm.doc.block_modules, function(i, d) {\n\t\t\tme.wrapper.find(\".block-module-check[data-module='\"+ d.module +\"']\").prop(\"checked\", false);\n\t\t});\n\t},\n\tbind: function() {\n\t\tvar me = this;\n\t\tthis.wrapper.on(\"change\", \".block-module-check\", function() {\n\t\t\tvar module = $(this).attr('data-module');\n\t\t\tif ($(this).prop(\"checked\")) {\n\t\t\t\t// remove from block_modules\n\t\t\t\tme.frm.doc.block_modules = $.map(me.frm.doc.block_modules || [], function(d) {\n\t\t\t\t\tif (d.module != module) {\n\t\t\t\t\t\treturn d;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tme.frm.add_child(\"block_modules\", {\"module\": module});\n\t\t\t}\n\t\t});\n\t}\n});","// Simple JavaScript Templating\n// Adapted from John Resig - http://ejohn.org/ - MIT Licensed\n\nfrappe.template = {compiled: {}, debug:{}};\nfrappe.template.compile = function(str, name) {\n\tvar key = name || str;\n\n\tif(!frappe.template.compiled[key]) {\n\t\tif(str.indexOf(\"'\")!==-1) {\n\t\t\tstr.replace(/'/g, \"\\\\'\");\n\t\t\t//console.warn(\"Warning: Single quotes (') may not work in templates\");\n\t\t}\n\n\t\t// replace jinja style tags\n\t\tstr = str.replace(/{{/g, \"{%=\").replace(/}}/g, \"%}\");\n\n\t\t// {% if not test %} --> {% if (!test) { %}\n\t\tstr = str.replace(/{%\\s?if\\s?\\s?not\\s?([^\\(][^%{]+)\\s?%}/g, \"{% if (! $1) { %}\")\n\n\t\t// {% if test %} --> {% if (test) { %}\n\t\tstr = str.replace(/{%\\s?if\\s?([^\\(][^%{]+)\\s?%}/g, \"{% if ($1) { %}\");\n\n\t\t// {% for item in list %}\n\t\t//       --> {% for (var i=0, len=list.length; i<len; i++) {  var item = list[i]; %}\n\t\tfunction replacer(match, p1, p2, offset, string) {\n\t\t\tvar i = frappe.utils.get_random(3);\n\t\t\tvar len = frappe.utils.get_random(3);\n\t\t\treturn \"{% for (var \"+i+\"=0, \"+len+\"=\"+p2+\".length; \"+i+\"<\"+len+\"; \"+i+\"++) { var \"\n\t\t\t\t+p1+\" = \"+p2+\"[\"+i+\"]; \"+p1+\"._index = \"+i+\"; %}\";\n\t\t}\n\t\tstr = str.replace(/{%\\s?for\\s([a-z._]+)\\sin\\s([a-z._]+)\\s?%}/g, replacer);\n\n\t\t// {% endfor %} --> {% } %}\n\t\tstr = str.replace(/{%\\s?endif\\s?%}/g, \"{% }; %}\");\n\n\t\t// {% else %} --> {% } else { %}\n\t\tstr = str.replace(/{%\\s?else\\s?%}/g, \"{% } else { %}\");\n\n\t\t// {% endif %} --> {% } %}\n\t\tstr = str.replace(/{%\\s?endfor\\s?%}/g, \"{% }; %}\");\n\n\t\tvar fn_str = \"var _p=[],print=function(){_p.push.apply(_p,arguments)};\" +\n\n\t        // Introduce the data as local variables using with(){}\n\t        \"with(obj){\\n_p.push('\" +\n\n\t        // Convert the template into pure JavaScript\n\t        str\n\t          .replace(/[\\r\\t\\n]/g, \" \")\n\t          .split(\"{%\").join(\"\\t\")\n\t          .replace(/((^|%})[^\\t]*)'/g, \"$1\\r\")\n\t          .replace(/\\t=(.*?)%}/g, \"',$1,'\")\n\t          .split(\"\\t\").join(\"');\\n\")\n\t          .split(\"%}\").join(\"\\n_p.push('\")\n\t          .split(\"\\r\").join(\"\\\\'\")\n\t      + \"');}return _p.join('');\";\n\n\t\t  frappe.template.debug[name] = fn_str;\n\t\ttry {\n\t\t\tfrappe.template.compiled[key] = new Function(\"obj\", fn_str);\n\t\t} catch (e) {\n\t\t\tconsole.log(\"Error in Template:\");\n\t\t\tconsole.log(fn_str);\n\t\t\tif(e.lineNumber) {\n\t\t\t\tconsole.log(\"Error in Line \"+e.lineNumber+\", Col \"+e.columnNumber+\":\");\n\t\t\t\tconsole.log(fn_str.split(\"\\n\")[e.lineNumber - 1]);\n\t\t\t}\n\t\t}\n    }\n\n\treturn frappe.template.compiled[key];\n};\nfrappe.render = function(str, data, name) {\n\treturn frappe.template.compile(str, name)(data);\n};\nfrappe.render_template = function(name, data) {\n\tif(name.indexOf(' ')!==-1) {\n\t\tvar template = name;\n\t} else {\n\t\tvar template = frappe.templates[name];\n\t}\n\tif(data===undefined) {\n\t\tdata = {};\n\t}\n\tif (!template) {\n\t\tfrappe.throw(`Template <b>${name}</b> not found.`);\n\t}\n\treturn frappe.render(template, data, name);\n}\nfrappe.render_grid = function(opts) {\n\t// build context\n\tif (opts.grid) {\n\t\topts.columns = opts.grid.getColumns();\n\t\topts.data = opts.grid.getData().getItems();\n\t}\n\n\tif (\n\t\topts.print_settings &&\n\t\topts.print_settings.orientation &&\n\t\topts.print_settings.orientation.toLowerCase() === \"landscape\"\n\t) {\n\t\topts.landscape = true;\n\t}\n\n\t// show landscape view if columns more than 10\n\tif (opts.landscape == null) {\n\t\tif(opts.columns && opts.columns.length > 10) {\n\t\t\topts.landscape = true;\n\t\t} else {\n\t\t\topts.landscape = false;\n\t\t}\n\t}\n\n\t// render content\n\tif(!opts.content) {\n\t\topts.content = frappe.render_template(opts.template || \"print_grid\", opts);\n\t}\n\n\t// render HTML wrapper page\n\topts.base_url = frappe.urllib.get_base_url();\n\topts.print_css = frappe.boot.print_css;\n\n\topts.lang = opts.lang || frappe.boot.lang,\n\topts.layout_direction = opts.layout_direction || frappe.utils.is_rtl() ? \"rtl\" : \"ltr\";\n\n\tvar html = frappe.render_template(\"print_template\", opts);\n\n\tvar w = window.open();\n\n\tif(!w) {\n\t\tfrappe.msgprint(__(\"Please enable pop-ups in your browser\"))\n\t}\n\n\tw.document.write(html);\n\tw.document.close();\n},\nfrappe.render_tree = function(opts) {\n\topts.base_url = frappe.urllib.get_base_url();\n\topts.landscape = false;\n\topts.print_css = frappe.boot.print_css;\n\topts.print_format_css_path = frappe.assets.bundled_asset('print_format.bundle.css');\n\tvar tree = frappe.render_template(\"print_tree\", opts);\n\tvar w = window.open();\n\n\tif(!w) {\n\t\tfrappe.msgprint(__(\"Please enable pop-ups in your browser\"))\n\t}\n\n\tw.document.write(tree);\n\tw.document.close();\n}\n\nfrappe.render_pdf = function(html, opts = {}) {\n\t//Create a form to place the HTML content\n\tvar formData = new FormData();\n\n\t//Push the HTML content into an element\n\tformData.append(\"html\", html);\n\tif (opts.orientation) {\n\t\tformData.append(\"orientation\", opts.orientation);\n\t}\n\tvar blob = new Blob([], { type: \"text/xml\"});\n\tformData.append(\"blob\", blob);\n\n\tvar xhr = new XMLHttpRequest();\n\txhr.open(\"POST\", '/api/method/frappe.utils.print_format.report_to_pdf');\n\txhr.setRequestHeader(\"X-Frappe-CSRF-Token\", frappe.csrf_token);\n\txhr.responseType = \"arraybuffer\";\n\n\txhr.onload = function(success) {\n\t\tif (this.status === 200) {\n\t\t\tvar blob = new Blob([success.currentTarget.response], {type: \"application/pdf\"});\n\t\t\tvar objectUrl = URL.createObjectURL(blob);\n\n\t\t\t// Create a hidden a tag to force set report name\n\t\t\t// https://stackoverflow.com/questions/19327749/javascript-blob-filename-without-link\n\t\t\tlet hidden_a_tag = document.createElement(\"a\");\n\t\t\tdocument.body.appendChild(hidden_a_tag);\n\t\t\thidden_a_tag.style = \"display: none\";\n\t\t\thidden_a_tag.href = objectUrl;\n\t\t\thidden_a_tag.download = opts.report_name || \"report.pdf\";\n\n\t\t\t// Open report in a new window\n\t\t\thidden_a_tag.click();\n\t\t\twindow.URL.revokeObjectURL(objectUrl);\n\t\t}\n\t};\n\txhr.send(formData);\n}\n","// Copyright (c) 2015, Frappe Technologies Pvt. Ltd. and Contributors\n// MIT License. See license.txt\n\n/**\n * Make a standard page layout with a toolbar and title\n *\n * @param {Object} opts\n *\n * @param {string} opts.parent [HTMLElement] Parent element\n * @param {boolean} opts.single_column Whether to include sidebar\n * @param {string} [opts.title] Page title\n * @param {Object} [opts.make_page]\n *\n * @returns {frappe.ui.Page}\n */\n\n/**\n * @typedef {Object} frappe.ui.Page\n */\n\n\nfrappe.ui.make_app_page = function(opts) {\n\topts.parent.page = new frappe.ui.Page(opts);\n\treturn opts.parent.page;\n}\n\nfrappe.ui.pages = {};\n\nfrappe.ui.Page = Class.extend({\n\tinit: function(opts) {\n\t\t$.extend(this, opts);\n\n\t\tthis.set_document_title = true;\n\t\tthis.buttons = {};\n\t\tthis.fields_dict = {};\n\t\tthis.views = {};\n\n\t\tthis.make();\n\t\tfrappe.ui.pages[frappe.get_route_str()] = this;\n\t},\n\n\tmake: function() {\n\t\tthis.wrapper = $(this.parent);\n\t\tthis.add_main_section();\n\t\tthis.setup_scroll_handler();\n\t\tthis.setup_sidebar_toggle();\n\t},\n\n\tsetup_scroll_handler() {\n\t\twindow.addEventListener('scroll', () => {\n\t\t\tif (document.documentElement.scrollTop) {\n\t\t\t\t$('.page-head').toggleClass('drop-shadow', true);\n\t\t\t} else {\n\t\t\t\t$('.page-head').removeClass('drop-shadow');\n\t\t\t}\n\t\t});\n\t},\n\n\tget_empty_state: function(title, message, primary_action) {\n\t\tlet $empty_state = $(`<div class=\"page-card-container\">\n\t\t\t<div class=\"page-card\">\n\t\t\t\t<div class=\"page-card-head\">\n\t\t\t\t\t<span class=\"indicator blue\">\n\t\t\t\t\t\t${title}</span>\n\t\t\t\t</div>\n\t\t\t\t<p>${message}</p>\n\t\t\t\t<div>\n\t\t\t\t\t<button class=\"btn btn-primary btn-sm\">${primary_action}</button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>`);\n\n\t\treturn $empty_state;\n\t},\n\n\tload_lib: function(callback) {\n\t\tfrappe.require(this.required_libs, callback);\n\t},\n\n\tadd_main_section: function() {\n\t\t$(frappe.render_template(\"page\", {})).appendTo(this.wrapper);\n\t\tif (this.single_column) {\n\t\t\t// nesting under col-sm-12 for consistency\n\t\t\tthis.add_view(\"main\", '<div class=\"row layout-main\">\\\n\t\t\t\t\t<div class=\"col-md-12 layout-main-section-wrapper\">\\\n\t\t\t\t\t\t<div class=\"layout-main-section\"></div>\\\n\t\t\t\t\t\t<div class=\"layout-footer hide\"></div>\\\n\t\t\t\t\t</div>\\\n\t\t\t\t</div>');\n\t\t} else {\n\t\t\tthis.add_view(\"main\", `\n\t\t\t\t<div class=\"row layout-main\">\n\t\t\t\t\t<div class=\"col-lg-2 layout-side-section\"></div>\n\t\t\t\t\t<div class=\"col layout-main-section-wrapper\">\n\t\t\t\t\t\t<div class=\"layout-main-section\"></div>\n\t\t\t\t\t\t<div class=\"layout-footer hide\"></div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t`);\n\t\t}\n\n\t\tthis.setup_page();\n\t},\n\n\tsetup_page: function() {\n\t\tthis.$title_area = this.wrapper.find(\".title-area\");\n\n\t\tthis.$sub_title_area = this.wrapper.find(\"h6\");\n\n\t\tif(this.title)\n\t\t\tthis.set_title(this.title);\n\n\t\tif(this.icon)\n\t\t\tthis.get_main_icon(this.icon);\n\n\t\tthis.body = this.main = this.wrapper.find(\".layout-main-section\");\n\t\tthis.container = this.wrapper.find(\".page-body\");\n\t\tthis.sidebar = this.wrapper.find(\".layout-side-section\");\n\t\tthis.footer = this.wrapper.find(\".layout-footer\");\n\t\tthis.indicator = this.wrapper.find(\".indicator-pill\");\n\n\t\tthis.page_actions = this.wrapper.find(\".page-actions\");\n\n\t\tthis.btn_primary = this.page_actions.find(\".primary-action\");\n\t\tthis.btn_secondary = this.page_actions.find(\".btn-secondary\");\n\n\t\tthis.menu = this.page_actions.find(\".menu-btn-group .dropdown-menu\");\n\t\tthis.menu_btn_group = this.page_actions.find(\".menu-btn-group\");\n\n\t\tthis.actions = this.page_actions.find(\".actions-btn-group .dropdown-menu\");\n\t\tthis.actions_btn_group = this.page_actions.find(\".actions-btn-group\");\n\n\t\tthis.standard_actions = this.page_actions.find(\".standard-actions\");\n\t\tthis.custom_actions = this.page_actions.find(\".custom-actions\");\n\n\t\tthis.page_form = $('<div class=\"page-form row hide\"></div>').prependTo(this.main);\n\t\tthis.inner_toolbar = this.custom_actions;\n\t\tthis.icon_group = this.page_actions.find(\".page-icon-group\");\n\n\t\tif(this.make_page) {\n\t\t\tthis.make_page();\n\t\t}\n\n\t\tthis.card_layout && this.main.addClass('frappe-card');\n\n\t\t// keyboard shortcuts\n\t\tlet menu_btn = this.menu_btn_group.find('button');\n\t\tmenu_btn.attr(\"title\", __(\"Menu\")).tooltip({ delay: { \"show\": 600, \"hide\": 100 } });\n\t\tfrappe.ui.keys\n\t\t\t.get_shortcut_group(this.page_actions[0])\n\t\t\t.add(menu_btn, menu_btn.find('.menu-btn-group-label'));\n\n\t\tlet action_btn = this.actions_btn_group.find('button');\n\t\tfrappe.ui.keys\n\t\t\t.get_shortcut_group(this.page_actions[0])\n\t\t\t.add(action_btn, action_btn.find('.actions-btn-group-label'));\n\t},\n\n\tsetup_sidebar_toggle() {\n\t\tlet sidebar_toggle = $('.page-head').find('.sidebar-toggle-btn');\n\t\tlet sidebar_wrapper = this.wrapper.find('.layout-side-section');\n\t\tif (this.disable_sidebar_toggle || !sidebar_wrapper.length) {\n\t\t\tsidebar_toggle.remove();\n\t\t} else {\n\t\t\tsidebar_toggle.attr(\"title\", __(\"Toggle Sidebar\")).tooltip({\n\t\t\t\tdelay: { \"show\": 600, \"hide\": 100 },\n\t\t\t\ttrigger: \"hover\",\n\t\t\t});\n\t\t\tsidebar_toggle.click(() => {\n\t\t\t\tif (frappe.utils.is_xs() || frappe.utils.is_sm()) {\n\t\t\t\t\tthis.setup_overlay_sidebar();\n\t\t\t\t} else {\n\t\t\t\t\tsidebar_wrapper.toggle();\n\t\t\t\t}\n\t\t\t\t$(document.body).trigger('toggleSidebar');\n\t\t\t\tthis.update_sidebar_icon();\n\t\t\t});\n\t\t}\n\t},\n\n\tsetup_overlay_sidebar() {\n\t\tlet overlay_sidebar = this.sidebar.find('.overlay-sidebar')\n\t\t\t.addClass('opened');\n\t\t$('<div class=\"close-sidebar\">').hide().appendTo(this.sidebar).fadeIn();\n\t\tlet scroll_container = $('html')\n\t\t\t.css(\"overflow-y\", \"hidden\");\n\n\t\tthis.sidebar.find(\".close-sidebar\").on('click', (e) => close_sidebar(e));\n\t\tthis.sidebar.on(\"click\", \"button:not(.dropdown-toggle)\", (e) => close_sidebar(e));\n\n\t\tlet close_sidebar = () => {\n\t\t\tscroll_container.css(\"overflow-y\", \"\");\n\t\t\tthis.sidebar.find(\"div.close-sidebar\").fadeOut(() => {\n\t\t\t\toverlay_sidebar.removeClass('opened')\n\t\t\t\t\t.find('.dropdown-toggle')\n\t\t\t\t\t.removeClass('text-muted');\n\t\t\t});\n\t\t};\n\t},\n\n\tupdate_sidebar_icon() {\n\t\tlet sidebar_toggle = $('.page-head').find('.sidebar-toggle-btn');\n\t\tlet sidebar_toggle_icon = sidebar_toggle.find('.sidebar-toggle-icon');\n\t\tlet sidebar_wrapper = this.wrapper.find('.layout-side-section');\n\t\tlet is_sidebar_visible = $(sidebar_wrapper).is(\":visible\");\n\t\tsidebar_toggle_icon.html(frappe.utils.icon(is_sidebar_visible ? 'sidebar-collapse' : 'sidebar-expand', 'md'));\n\t},\n\n\tset_indicator: function(label, color) {\n\t\tthis.clear_indicator().removeClass(\"hide\").html(`<span>${label}</span>`).addClass(color);\n\t},\n\n\tadd_action_icon: function(icon, click, css_class='', tooltip_label) {\n\t\tconst button = $(`\n\t\t\t<button class=\"text-muted btn btn-default ${css_class} icon-btn\">\n\t\t\t\t${frappe.utils.icon(icon)}\n\t\t\t</button>\n\t\t`);\n\n\t\tbutton.appendTo(this.icon_group.removeClass(\"hide\"));\n\t\tbutton.click(click);\n\t\tbutton.attr(\"title\", __(tooltip_label || frappe.unscrub(icon)))\n\t\t\t.tooltip({ delay: { \"show\": 600, \"hide\": 100 }, trigger: \"hover\" });\n\n\t\treturn button;\n\t},\n\n\tclear_indicator: function() {\n\t\treturn this.indicator.removeClass().addClass(\"indicator-pill whitespace-nowrap hide\");\n\t},\n\n\tget_icon_label: function(icon, label) {\n\t\tlet icon_name = icon;\n\t\tlet size = 'xs';\n\t\tif (typeof icon === 'object') {\n\t\t\ticon_name = icon.icon;\n\t\t\tsize = icon.size || 'xs';\n\t\t}\n\t\treturn `${icon ? frappe.utils.icon(icon_name, size) : ''} <span class=\"hidden-xs\"> ${__(label)} </span>`;\n\t},\n\n\tset_action: function(btn, opts) {\n\t\tlet me = this;\n\t\tif (opts.icon) {\n\t\t\topts.label = this.get_icon_label(opts.icon, opts.label);\n\t\t}\n\n\t\tthis.clear_action_of(btn);\n\n\t\tbtn.removeClass(\"hide\")\n\t\t\t.prop(\"disabled\", false)\n\t\t\t.html(opts.label)\n\t\t\t.on(\"click\", function() {\n\t\t\t\tlet response = opts.click.apply(this);\n\t\t\t\tme.btn_disable_enable(btn, response);\n\t\t\t});\n\n\t\tif (opts.working_label) {\n\t\t\tbtn.attr(\"data-working-label\", opts.working_label);\n\t\t}\n\n\t\t// alt shortcuts\n\t\tlet text_span = btn.find('span');\n\t\tfrappe.ui.keys\n\t\t\t.get_shortcut_group(this)\n\t\t\t.add(btn, text_span.length ? text_span : btn);\n\t},\n\n\tset_primary_action: function(label, click, icon, working_label) {\n\t\tthis.set_action(this.btn_primary, {\n\t\t\tlabel: label,\n\t\t\tclick: click,\n\t\t\ticon: icon,\n\t\t\tworking_label: working_label\n\t\t});\n\t\treturn this.btn_primary;\n\n\t},\n\n\tset_secondary_action: function(label, click, icon, working_label) {\n\t\tthis.set_action(this.btn_secondary, {\n\t\t\tlabel: label,\n\t\t\tclick: click,\n\t\t\ticon: icon,\n\t\t\tworking_label: working_label\n\t\t});\n\n\t\treturn this.btn_secondary;\n\t},\n\n\n\tclear_action_of: function(btn) {\n\t\tbtn.addClass(\"hide\").unbind(\"click\").removeAttr(\"data-working-label\");\n\t},\n\n\tclear_primary_action: function() {\n\t\tthis.clear_action_of(this.btn_primary);\n\t},\n\n\tclear_secondary_action: function() {\n\t\tthis.clear_action_of(this.btn_secondary);\n\t},\n\n\tclear_actions: function() {\n\t\tthis.clear_primary_action();\n\t\tthis.clear_secondary_action();\n\t},\n\n\tclear_custom_actions() {\n\t\tthis.custom_actions.addClass(\"hide\").empty();\n\t},\n\n\tclear_icons: function() {\n\t\tthis.icon_group.addClass(\"hide\").empty();\n\t},\n\n\t//--- Menu --//\n\n\tadd_menu_item: function(label, click, standard, shortcut) {\n\t\treturn this.add_dropdown_item({\n\t\t\tlabel,\n\t\t\tclick,\n\t\t\tstandard,\n\t\t\tparent: this.menu,\n\t\t\tshortcut\n\t\t});\n\t},\n\n\tadd_custom_menu_item: function(parent, label, click, standard, shortcut, icon=null) {\n\t\treturn this.add_dropdown_item({\n\t\t\tlabel,\n\t\t\tclick,\n\t\t\tstandard,\n\t\t\tparent: parent,\n\t\t\tshortcut,\n\t\t\ticon\n\t\t});\n\t},\n\n\tclear_menu: function() {\n\t\tthis.clear_btn_group(this.menu);\n\t},\n\n\tshow_menu: function() {\n\t\tthis.menu_btn_group.removeClass(\"hide\");\n\t},\n\n\thide_menu: function() {\n\t\tthis.menu_btn_group.addClass(\"hide\");\n\t},\n\n\tshow_icon_group: function() {\n\t\tthis.icon_group.removeClass(\"hide\");\n\t},\n\n\thide_icon_group: function() {\n\t\tthis.icon_group.addClass(\"hide\");\n\t},\n\n\t//--- Actions Menu--//\n\n\tshow_actions_menu: function() {\n\t\tthis.actions_btn_group.removeClass(\"hide\");\n\t},\n\n\thide_actions_menu: function() {\n\t\tthis.actions_btn_group.addClass(\"hide\");\n\t},\n\n\n\tadd_action_item: function(label, click, standard) {\n\t\treturn this.add_dropdown_item({\n\t\t\tlabel,\n\t\t\tclick,\n\t\t\tstandard,\n\t\t\tparent: this.actions\n\t\t});\n\t},\n\n\tadd_actions_menu_item: function(label, click, standard) {\n\t\treturn this.add_dropdown_item({\n\t\t\tlabel,\n\t\t\tclick,\n\t\t\tstandard,\n\t\t\tparent: this.actions,\n\t\t\tshow_parent: false\n\t\t});\n\t},\n\n\tclear_actions_menu: function() {\n\t\tthis.clear_btn_group(this.actions);\n\t},\n\n\n\t//-- Generic --//\n\n\t/*\n\t* Add label to given drop down menu. If label, is already contained in the drop\n\t* down menu, it will be ignored.\n\t* @param {string} label - Text for the drop down menu\n\t* @param {function} click - function to be called when `label` is clicked\n\t* @param {Boolean} standard\n\t* @param {object} parent - DOM object representing the parent of the drop down item lists\n\t* @param {string} shortcut - Keyboard shortcut associated with the element\n\t* @param {Boolean} show_parent - Whether to show the dropdown button if dropdown item is added\n\t*/\n\tadd_dropdown_item: function({label, click, standard, parent, shortcut, show_parent=true, icon=null}) {\n\t\tif (show_parent) {\n\t\t\tparent.parent().removeClass(\"hide\");\n\t\t}\n\n\t\tlet $link = this.is_in_group_button_dropdown(parent, 'li > a.grey-link > span', label);\n\t\tif ($link) return $link;\n\n\t\tlet $li;\n\t\tlet $icon = ``;\n\n\t\tif (icon) {\n\t\t\t$icon = `<span class=\"menu-item-icon\">${frappe.utils.icon(icon)}</span>`;\n\t\t}\n\n\t\tif (shortcut) {\n\t\t\tlet shortcut_obj = this.prepare_shortcut_obj(shortcut, click, label);\n\t\t\t$li = $(`\n\t\t\t\t<li>\n\t\t\t\t\t<a class=\"grey-link dropdown-item\" href=\"#\" onClick=\"return false;\">\n\t\t\t\t\t\t${$icon}\n\t\t\t\t\t\t<span class=\"menu-item-label\">${label}</span>\n\t\t\t\t\t\t<kbd class=\"pull-right\">\n\t\t\t\t\t\t\t<span>${shortcut_obj.shortcut_label}</span>\n\t\t\t\t\t\t</kbd>\n\t\t\t\t\t</a>\n\t\t\t\t</li>\n\t\t\t`);\n\t\t\tfrappe.ui.keys.add_shortcut(shortcut_obj);\n\t\t} else {\n\t\t\t$li = $(`\n\t\t\t\t<li>\n\t\t\t\t\t<a class=\"grey-link dropdown-item\" href=\"#\" onClick=\"return false;\">\n\t\t\t\t\t\t${$icon}\n\t\t\t\t\t\t<span class=\"menu-item-label\">${label}</span>\n\t\t\t\t\t</a>\n\t\t\t\t</li>\n\t\t\t`);\n\t\t}\n\n\t\t$link = $li.find(\"a\").on(\"click\", click);\n\n\t\tif (standard) {\n\t\t\t$li.appendTo(parent);\n\t\t} else {\n\t\t\tthis.divider = parent.find(\".dropdown-divider\");\n\t\t\tif(!this.divider.length) {\n\t\t\t\tthis.divider = $('<li class=\"dropdown-divider user-action\"></li>').prependTo(parent);\n\t\t\t}\n\t\t\t$li.addClass(\"user-action\").insertBefore(this.divider);\n\t\t}\n\n\t\t// alt shortcut\n\t\tfrappe.ui.keys\n\t\t\t.get_shortcut_group(parent.get(0))\n\t\t\t.add($link, $link.find('.menu-item-label'));\n\n\t\treturn $link;\n\t},\n\n\tprepare_shortcut_obj(shortcut, click, label) {\n\t\tlet shortcut_obj;\n\t\t// convert to object, if shortcut string passed\n\t\tif (typeof shortcut === 'string') {\n\t\t\tshortcut_obj = { shortcut };\n\t\t} else {\n\t\t\tshortcut_obj = shortcut;\n\t\t}\n\t\t// label\n\t\tif (frappe.utils.is_mac()) {\n\t\t\tshortcut_obj.shortcut_label = shortcut_obj.shortcut.replace('Ctrl', '⌘');\n\t\t} else {\n\t\t\tshortcut_obj.shortcut_label = shortcut_obj.shortcut;\n\t\t}\n\t\t// actual shortcut string\n\t\tshortcut_obj.shortcut = shortcut_obj.shortcut.toLowerCase();\n\t\t// action is button click\n\t\tif (!shortcut_obj.action) {\n\t\t\tshortcut_obj.action = click;\n\t\t}\n\t\t// shortcut description can be button label\n\t\tif (!shortcut_obj.description) {\n\t\t\tshortcut_obj.description = label;\n\t\t}\n\t\t// page\n\t\tshortcut_obj.page = this;\n\t\treturn shortcut_obj;\n\t},\n\n\t/*\n\t* Check if there already exists a button with a specified label in a specified button group\n\t* @param {object} parent - This should be the `ul` of the button group.\n\t* @param {string} selector - CSS Selector of the button to be searched for. By default, it is `li`.\n\t* @param {string} label - Label of the button\n\t*/\n\tis_in_group_button_dropdown: function(parent, selector, label) {\n\n\t\tif (!selector) selector = 'li';\n\n\t\tif (!label || !parent) return false;\n\n\t\tconst item_selector = `${selector}[data-label=\"${encodeURIComponent(label)}\"]`;\n\n\t\tconst existing_items = $(parent).find(item_selector);\n\t\tif (existing_items && existing_items.length > 0) return existing_items;\n\t},\n\n\tclear_btn_group: function(parent) {\n\t\tparent.empty();\n\t\tparent.parent().addClass(\"hide\");\n\t},\n\n\tadd_divider: function() {\n\t\treturn $('<li class=\"dropdown-divider\"></li>').appendTo(this.menu);\n\t},\n\n\tget_or_add_inner_group_button: function(label) {\n\t\tvar $group = this.inner_toolbar.find(`.inner-group-button[data-label=\"${encodeURIComponent(label)}\"]`);\n\t\tif (!$group.length) {\n\t\t\t$group = $(\n\t\t\t\t`<div class=\"inner-group-button\" data-label=\"${encodeURIComponent(label)}\">\n\t\t\t\t\t<button type=\"button\" class=\"btn btn-default ellipsis\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\n\t\t\t\t\t\t${label}\n\t\t\t\t\t\t${frappe.utils.icon('select', 'xs')}\n\t\t\t\t\t</button>\n\t\t\t\t\t<div role=\"menu\" class=\"dropdown-menu\"></div>\n\t\t\t\t</div>`\n\t\t\t).appendTo(this.inner_toolbar);\n\t\t}\n\t\treturn $group;\n\t},\n\n\tget_inner_group_button: function(label) {\n\t\treturn this.inner_toolbar.find(`.inner-group-button[data-label=\"${encodeURIComponent(label)}\"]`);\n\t},\n\n\tset_inner_btn_group_as_primary: function(label) {\n\t\tthis.get_or_add_inner_group_button(label).find(\"button\").removeClass(\"btn-default\").addClass(\"btn-primary\");\n\t},\n\n\tbtn_disable_enable: function(btn, response) {\n\t\tif (response && response.then) {\n\t\t\tbtn.prop('disabled', true);\n\t\t\tresponse.then(() => {\n\t\t\t\tbtn.prop('disabled', false);\n\t\t\t})\n\t\t} else if (response && response.always) {\n\t\t\tbtn.prop('disabled', true);\n\t\t\tresponse.always(() => {\n\t\t\t\tbtn.prop('disabled', false);\n\t\t\t});\n\t\t}\n\t},\n\n\t/*\n\t* Add button to button group. If there exists another button with the same label,\n\t* `add_inner_button` will not add the new button to the button group even if the callback\n\t* function is different.\n\t*\n\t* @param {string} label - Label of the button to be added to the group\n\t* @param {object} action - function to be called when button is clicked\n\t* @param {string} group - Label of the group button\n\t*/\n\tadd_inner_button: function(label, action, group, type=\"default\") {\n\t\tvar me = this;\n\t\tlet _action = function() {\n\t\t\tlet btn = $(this);\n\t\t\tlet response = action();\n\t\t\tme.btn_disable_enable(btn, response);\n\t\t};\n\t\tif(group) {\n\t\t\tvar $group = this.get_or_add_inner_group_button(group);\n\t\t\t$(this.inner_toolbar).removeClass(\"hide\");\n\n\t\t\tif (!this.is_in_group_button_dropdown($group.find(\".dropdown-menu\"), 'a', label)) {\n\t\t\t\treturn $(`<a class=\"dropdown-item\" href=\"#\" onclick=\"return false;\" data-label=\"${encodeURIComponent(label)}\">${label}</a>`)\n\t\t\t\t\t.on('click', _action)\n\t\t\t\t\t.appendTo($group.find(\".dropdown-menu\"));\n\t\t\t}\n\n\t\t} else {\n\t\t\tlet button = this.inner_toolbar.find(`button[data-label=\"${encodeURIComponent(label)}\"]`);\n\t\t\tif (button.length == 0) {\n\t\t\t\tbutton = $(`<button data-label=\"${encodeURIComponent(label)}\" class=\"btn btn-${type} ellipsis\">\n\t\t\t\t\t${__(label)}\n\t\t\t\t</button>`);\n\t\t\t\tbutton.on(\"click\", _action);\n\t\t\t\tbutton.appendTo(this.inner_toolbar.removeClass(\"hide\"));\n\t\t\t}\n\t\t\treturn button;\n\t\t}\n\t},\n\n\tremove_inner_button: function(label, group) {\n\t\tif (typeof label === 'string') {\n\t\t\tlabel = [label];\n\t\t}\n\t\t// translate\n\t\tlabel = label.map(l => __(l));\n\n\t\tif (group) {\n\t\t\tvar $group = this.get_inner_group_button(__(group));\n\t\t\tif ($group.length) {\n\t\t\t\t$group.find(`.dropdown-item[data-label=\"${encodeURIComponent(label)}\"]`).remove();\n\t\t\t}\n\t\t\tif ($group.find('.dropdown-item').length === 0) $group.remove();\n\t\t} else {\n\t\t\tthis.inner_toolbar.find(`button[data-label=\"${encodeURIComponent(label)}\"]`).remove();\n\t\t}\n\t},\n\n\tchange_inner_button_type: function(label, group, type) {\n\t\tlet btn;\n\n\t\tif (group) {\n\t\t\tvar $group = this.get_inner_group_button(__(group));\n\t\t\tif ($group.length) {\n\t\t\t\tbtn = $group.find(`.dropdown-item[data-label=\"${encodeURIComponent(label)}\"]`);\n\t\t\t}\n\t\t} else {\n\t\t\tbtn = this.inner_toolbar.find(`button[data-label=\"${encodeURIComponent(label)}\"]`);\n\t\t}\n\n\t\tif (btn) {\n\t\t\tbtn.removeClass().addClass(`btn btn-${type} ellipsis`);\n\t\t}\n\t},\n\n\tadd_inner_message: function(message) {\n\t\tlet $message = $(`<span class='inner-page-message text-muted small'>${message}</div>`);\n\t\tthis.inner_toolbar.find('.inner-page-message').remove();\n\t\tthis.inner_toolbar.removeClass(\"hide\").prepend($message);\n\n\t\treturn $message;\n\t},\n\n\tclear_inner_toolbar: function() {\n\t\tthis.inner_toolbar.empty().addClass(\"hide\");\n\t},\n\n\t//-- Sidebar --//\n\n\tadd_sidebar_item: function(label, action, insert_after, prepend) {\n\t\tvar parent = this.sidebar.find(\".sidebar-menu.standard-actions\");\n\t\tvar li = $('<li>');\n\t\tvar link = $('<a>').html(label).on(\"click\", action).appendTo(li);\n\n\t\tif (insert_after) {\n\t\t\tli.insertAfter(parent.find(insert_after));\n\t\t} else {\n\t\t\tif(prepend) {\n\t\t\t\tli.prependTo(parent);\n\t\t\t} else {\n\t\t\t\tli.appendTo(parent);\n\t\t\t}\n\t\t}\n\t\treturn link;\n\t},\n\n\t//---//\n\n\tclear_user_actions: function() {\n\t\tthis.menu.find(\".user-action\").remove();\n\t},\n\n\t// page::title\n\tget_title_area: function() {\n\t\treturn this.$title_area;\n\t},\n\n\tset_title: function(title, icon=null, strip=true, tab_title=\"\") {\n\t\tif (!title) title = \"\";\n\t\tif (strip) {\n\t\t\ttitle = strip_html(title);\n\t\t}\n\t\tthis.title = title;\n\t\tfrappe.utils.set_title(tab_title || title);\n\t\tif (icon) {\n\t\t\ttitle = `${frappe.utils.icon(icon)} ${title}`;\n\t\t}\n\t\tlet title_wrapper = this.$title_area.find(\".title-text\");\n\t\ttitle_wrapper.html(title);\n\t\ttitle_wrapper.attr('title', this.title);\n\t},\n\n\tset_title_sub: function(txt) {\n\t\t// strip icon\n\t\tthis.$sub_title_area.html(txt).toggleClass(\"hide\", !!!txt);\n\t},\n\n\tget_main_icon: function(icon) {\n\t\treturn this.$title_area.find(\".title-icon\")\n\t\t\t.html('<i class=\"'+icon+' fa-fw\"></i> ')\n\t\t\t.toggle(true);\n\t},\n\n\tadd_help_button: function(txt) {\n\t\t//\n\t},\n\n\tadd_button: function(label, click, opts) {\n\t\tif (!opts) opts = {};\n\t\tlet button = $(`<button\n\t\t\tclass=\"btn ${opts.btn_class || 'btn-default'} ${opts.btn_size || 'btn-sm'} ellipsis\">\n\t\t\t\t${opts.icon ? frappe.utils.icon(opts.icon): ''}\n\t\t\t\t${label}\n\t\t</button>`);\n\t\t// Add actions as menu item in Mobile View (similar to \"add_custom_button\" in forms.js)\n\t\tlet menu_item = this.add_menu_item(label, click, false);\n\t\tmenu_item.parent().addClass(\"hidden-xl\");\n\n\t\tbutton.appendTo(this.custom_actions);\n\t\tbutton.on('click', click);\n\t\tthis.custom_actions.removeClass('hide');\n\n\t\treturn button;\n\t},\n\n\tadd_custom_button_group: function(label, icon, parent) {\n\t\tlet dropdown_label = `<span class=\"hidden-xs\">\n\t\t\t<span class=\"custom-btn-group-label\">${__(label)}</span>\n\t\t\t${frappe.utils.icon('select', 'xs')}\n\t\t</span>`;\n\n\t\tif (icon) {\n\t\t\tdropdown_label = `<span class=\"hidden-xs\">\n\t\t\t\t${frappe.utils.icon(icon)}\n\t\t\t\t<span class=\"custom-btn-group-label\">${__(label)}</span>\n\t\t\t\t${frappe.utils.icon('select', 'xs')}\n\t\t\t</span>\n\t\t\t<span class=\"visible-xs\">\n\t\t\t\t${frappe.utils.icon(icon)}\n\t\t\t</span>`;\n\t\t}\n\n\t\tlet custom_btn_group = $(`\n\t\t\t<div class=\"custom-btn-group\">\n\t\t\t\t<button type=\"button\" class=\"btn btn-default btn-sm ellipsis\" data-toggle=\"dropdown\" aria-expanded=\"false\">\n\t\t\t\t\t${dropdown_label}\n\t\t\t\t</button>\n\t\t\t\t<ul class=\"dropdown-menu\" role=\"menu\"></ul>\n\t\t\t</div>\n\t\t`);\n\n\t\tif (!parent) parent = this.custom_actions;\n\t\tparent.removeClass('hide').append(custom_btn_group);\n\n\t\treturn custom_btn_group.find('.dropdown-menu');\n\t},\n\n\tadd_dropdown_button: function(parent, label, click, icon) {\n\t\tfrappe.ui.toolbar.add_dropdown_button(parent, label, click, icon);\n\t},\n\n\t// page::form\n\tadd_label: function(label) {\n\t\tthis.show_form();\n\t\treturn $(\"<label class='col-md-1 page-only-label'>\"+label+\" </label>\")\n\t\t\t.appendTo(this.page_form);\n\t},\n\tadd_select: function(label, options) {\n\t\tvar field = this.add_field({label:label, fieldtype:\"Select\"});\n\t\treturn field.$wrapper.find(\"select\").empty().add_options(options);\n\t},\n\tadd_data: function(label) {\n\t\tvar field = this.add_field({label: label, fieldtype: \"Data\"});\n\t\treturn field.$wrapper.find(\"input\").attr(\"placeholder\", label);\n\t},\n\tadd_date: function(label, date) {\n\t\tvar field = this.add_field({label: label, fieldtype: \"Date\", \"default\": date});\n\t\treturn field.$wrapper.find(\"input\").attr(\"placeholder\", label);\n\t},\n\tadd_check: function(label) {\n\t\treturn $(\"<div class='checkbox'><label><input type='checkbox'>\" + label + \"</label></div>\")\n\t\t\t.appendTo(this.page_form)\n\t\t\t.find(\"input\");\n\t},\n\tadd_break: function() {\n\t\t// add further fields in the next line\n\t\tthis.page_form.append('<div class=\"clearfix invisible-xs\"></div>');\n\t},\n\tadd_field: function(df, parent) {\n\t\tthis.show_form();\n\n\t\tif (!df.placeholder) {\n\t\t\tdf.placeholder = df.label;\n\t\t}\n\n\t\tdf.input_class = 'input-xs';\n\n\t\tvar f = frappe.ui.form.make_control({\n\t\t\tdf: df,\n\t\t\tparent: parent || this.page_form,\n\t\t\tonly_input: df.fieldtype == \"Check\" ? false : true,\n\t\t})\n\t\tf.refresh();\n\t\t$(f.wrapper)\n\t\t\t.addClass('col-md-2')\n\t\t\t.attr(\"title\", __(df.label)).tooltip({\n\t\t\t\tdelay: { \"show\": 600, \"hide\": 100},\n\t\t\t\ttrigger: \"hover\"\n\t\t\t});\n\n\t\t// html fields in toolbar are only for display\n\t\tif (df.fieldtype=='HTML') {\n\t\t\treturn;\n\t\t}\n\n\t\t// hidden fields dont have $input\n\t\tif (!f.$input) f.make_input();\n\n\t\tf.$input.attr(\"placeholder\", __(df.label));\n\n\t\tif(df.fieldtype===\"Check\") {\n\t\t\t$(f.wrapper).find(\":first-child\")\n\t\t\t\t.removeClass(\"col-md-offset-4 col-md-8\");\n\t\t}\n\n\t\tif(df.fieldtype==\"Button\") {\n\t\t\t$(f.wrapper).find(\".page-control-label\").html(\"&nbsp;\");\n\t\t\tf.$input.addClass(\"btn-xs\").css({\"width\": \"100%\", \"margin-top\": \"-1px\"});\n\t\t}\n\n\t\tif(df[\"default\"])\n\t\t\tf.set_input(df[\"default\"])\n\t\tthis.fields_dict[df.fieldname || df.label] = f;\n\t\treturn f;\n\t},\n\tclear_fields: function() {\n\t\tthis.page_form.empty();\n\t},\n\tshow_form: function() {\n\t\tthis.page_form.removeClass(\"hide\");\n\t},\n\thide_form: function() {\n\t\tthis.page_form.addClass(\"hide\");\n\t},\n\tget_form_values: function() {\n\t\tvar values = {};\n\t\tthis.page_form.fields_dict.forEach(function(field, key) {\n\t\t\tvalues[key] = field.get_value();\n\t\t});\n\t\treturn values;\n\t},\n\tadd_view: function(name, html) {\n\t\tlet element = html;\n\t\tif(typeof (html) === \"string\") {\n\t\t\telement = $(html);\n\t\t}\n\t\tthis.views[name] = element.appendTo($(this.wrapper).find(\".page-content\"));\n\t\tif(!this.current_view) {\n\t\t\tthis.current_view = this.views[name];\n\t\t} else {\n\t\t\tthis.views[name].toggle(false);\n\t\t}\n\t\treturn this.views[name];\n\t},\n\tset_view: function(name) {\n\t\tif(this.current_view_name===name)\n\t\t\treturn;\n\t\tthis.current_view && this.current_view.toggle(false);\n\t\tthis.current_view = this.views[name];\n\n\t\tthis.previous_view_name = this.current_view_name;\n\t\tthis.current_view_name = name;\n\n\t\tthis.views[name].toggle(true);\n\n\t\tthis.wrapper.trigger('view-change');\n\t},\n});\n","// Copyright (c) 2015, Frappe Technologies Pvt. Ltd. and Contributors\n// License: GNU General Public License v3. See license.txt\n\nfrappe.provide(\"frappe.ui\");\n\nfrappe.ui.Slide = class Slide {\n\tconstructor(slide = null) {\n\t\t$.extend(this, slide);\n\t\tthis.setup();\n\t}\n\n\tsetup() {\n\t\tthis.$wrapper = $('<div class=\"slide-wrapper hidden\"></div>')\n\t\t\t.attr({ \"data-slide-id\": this.id, \"data-slide-name\": this.name })\n\t\t\t.appendTo(this.parent);\n\t}\n\n\t// Make has to be called manually, to account for on-demand use cases\n\tmake() {\n\t\tif (this.before_load) this.before_load(this);\n\n\t\tthis.$body = $(`<div class=\"slide-body\">\n\t\t\t<div class=\"content text-center\">\n\t\t\t\t<h1 class=\"title slide-title\">${__(this.title)}</h1>\n\t\t\t</div>\n\t\t\t<div class=\"form-wrapper\">\n\t\t\t\t<div class=\"form\"></div>\n\t\t\t\t<div class=\"add-more text-center\" style=\"margin-top: 5px;\">\n\t\t\t\t\t<button class=\"form-more-btn hide btn btn-default btn-xs\">\n\t\t\t\t\t\t<span>Add More</span>\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>`).appendTo(this.$wrapper);\n\n\t\tthis.$content = this.$body.find(\".content\");\n\t\tthis.$form = this.$body.find(\".form\");\n\t\tthis.$primary_btn = this.slides_footer.find('.primary');\n\t\tthis.$form_wrapper = this.$body.find(\".form-wrapper\");\n\n\t\tif (this.image_src) this.$content.append(\n\t\t\t$(`<img src=\"${this.image_src}\" style=\"margin: 20px;\">`));\n\t\tif (this.help) this.$content.append($(`<p class=\"slide-help\">${__(this.help)}</p>`));\n\n\t\tthis.reqd_fields = [];\n\n\t\tthis.refresh();\n\t\tthis.made = true;\n\t}\n\n\trefresh() {\n\t\tthis.render_parent_dots();\n\t\tif (!this.done) {\n\t\t\tthis.setup_form();\n\t\t} else {\n\t\t\tthis.setup_done_state();\n\t\t}\n\t}\n\n\tsetup_form() {\n\t\tthis.form = new frappe.ui.FieldGroup({\n\t\t\tfields: this.get_atomic_fields(),\n\t\t\tbody: this.$form[0],\n\t\t\tno_submit_on_enter: true\n\t\t});\n\t\tthis.form.make();\n\t\tif (this.add_more) this.bind_more_button();\n\n\t\tthis.set_reqd_fields();\n\n\t\tif (this.onload) this.onload(this);\n\t\tthis.set_reqd_fields();\n\t}\n\n\tsetup_done_state() { }\n\n\t// Form methods\n\tget_atomic_fields() {\n\t\tvar fields = JSON.parse(JSON.stringify(this.fields));\n\t\tif (this.add_more) {\n\t\t\tthis.count = 1;\n\t\t\tfields = fields.map((field, i) => {\n\t\t\t\tif (field.fieldname) {\n\t\t\t\t\tfield.fieldname += '_1';\n\t\t\t\t}\n\t\t\t\tif (i === 1 && this.mandatory_entry) {\n\t\t\t\t\tfield.reqd = 1;\n\t\t\t\t}\n\t\t\t\tif (!field.static) {\n\t\t\t\t\tif (field.label) field.label;\n\t\t\t\t}\n\t\t\t\treturn field;\n\t\t\t});\n\t\t}\n\t\treturn fields;\n\t}\n\n\tset_reqd_fields() {\n\t\tvar dict = this.form.fields_dict;\n\t\tthis.reqd_fields = [];\n\t\tObject.keys(dict).map(key => {\n\t\t\tif (dict[key].df.reqd) {\n\t\t\t\tthis.reqd_fields.push(dict[key]);\n\t\t\t}\n\t\t});\n\t}\n\n\tset_values() {\n\t\tthis.values = this.form.get_values();\n\t\tif (this.values === null) {\n\t\t\treturn false;\n\t\t}\n\t\tif (this.validate && !this.validate()) {\n\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\t}\n\n\tbind_more_button() {\n\t\tthis.$more = this.$body.find('.form-more-btn');\n\t\tthis.$more.removeClass('hide')\n\t\t\t.on('click', () => {\n\t\t\t\tthis.count++;\n\t\t\t\tvar fields = JSON.parse(JSON.stringify(this.fields));\n\n\t\t\t\tthis.form.add_fields(fields.map(field => {\n\t\t\t\t\tif (field.fieldname) field.fieldname += '_' + this.count;\n\t\t\t\t\tif (!field.static) {\n\t\t\t\t\t\tif (field.label) field.label;\n\t\t\t\t\t}\n\t\t\t\t\tfield.reqd = 0;\n\t\t\t\t\treturn field;\n\t\t\t\t}));\n\n\t\t\t\tif (this.count === this.max_count) {\n\t\t\t\t\tthis.$more.addClass('hide');\n\t\t\t\t}\n\t\t\t});\n\t}\n\n\t// Primary button (outside of slide)\n\tresetup_primary_button() {\n\t\tthis.unbind_primary_action();\n\t\tthis.bind_fields_to_action_btn();\n\t\tthis.reset_action_button_state();\n\t\tthis.bind_primary_action();\n\t}\n\n\tbind_fields_to_action_btn() {\n\t\tvar me = this;\n\t\tthis.reqd_fields.map((field) => {\n\t\t\tfield.$wrapper.on('change input click', () => {\n\t\t\t\tme.reset_action_button_state();\n\t\t\t});\n\t\t\tfield.$wrapper.on('keydown', 'input', e => {\n\t\t\t\tif (e.key == 'Enter') {\n\t\t\t\t\tme.reset_action_button_state();\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t}\n\n\treset_action_button_state() {\n\t\tvar empty_fields = this.reqd_fields.filter((field) => {\n\t\t\treturn !field.get_value();\n\t\t});\n\t\tif (empty_fields.length) {\n\t\t\tthis.slides_footer.find('.action').addClass('disabled');\n\t\t} else {\n\t\t\tthis.slides_footer.find('.action').removeClass('disabled');\n\t\t}\n\t}\n\n\tunbind_primary_action() {\n\t\tthis.slides_footer.find(\".primary\").off();\n\t}\n\n\tbind_primary_action() {\n\t\tthis.slides_footer.find(\".primary\").on('click.primary_action', () => {\n\t\t\tthis.primary_action();\n\t\t});\n\t}\n\n\tis_last_slide() {\n\t\tif (this.id === this.parent[0].children.length - 1) {\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\tbefore_show() { }\n\n\tshow_slide() {\n\t\tthis.$wrapper.removeClass(\"hidden\");\n\t\tthis.before_show();\n\t\tthis.resetup_primary_button();\n\t\tif (!this.done) {\n\t\t\tthis.$body.find('.form-control').first().focus();\n\t\t\tthis.$primary_btn.show();\n\t\t} else {\n\t\t\tthis.$primary_btn.hide();\n\t\t}\n\t}\n\n\thide_slide() {\n\t\tthis.$wrapper.addClass(\"hidden\");\n\t}\n\n\tget_input(fieldname) {\n\t\treturn this.form.get_input(fieldname);\n\t}\n\n\tget_field(fieldname) {\n\t\treturn this.form.get_field(fieldname);\n\t}\n\n\tget_value(fieldname) {\n\t\treturn this.form.get_value(fieldname);\n\t}\n\n\tdestroy() {\n\t\tthis.$body.remove();\n\t}\n\n\tprimary_action() { }\n};\n\nfrappe.ui.Slides = class Slides {\n\tconstructor({\n\t\tparent = null,\n\t\tslides = [],\n\t\tslide_class = null,\n\t\tunidirectional = 0,\n\t\tdone_state = 0,\n\t\tbefore_load = null,\n\t\ton_update = null\n\t}) {\n\t\tthis.parent = parent;\n\t\tthis.slides = slides;\n\t\tthis.slide_class = slide_class;\n\t\tthis.unidirectional = unidirectional;\n\t\tthis.done_state = done_state;\n\t\tthis.before_load = before_load;\n\t\tthis.on_update = on_update;\n\t\tthis.page_name = \"setup-wizard\";\n\n\t\tthis.slide_dict = {};\n\n\t\t//In case of refreshing\n\t\tthis.made_slide_ids = [];\n\t\tthis.values = {};\n\t\tthis.make();\n\t}\n\n\tmake() {\n\t\tthis.$slide_progress = $(`<div>`).addClass(`slides-progress text-center text-extra-muted`)\n\t\t\t.appendTo(this.parent);\n\t\tthis.container = $('<div>').addClass(\"slides-wrapper\").attr({ \"tabindex\": -1 })\n\t\t\t.appendTo(this.parent);\n\t\tthis.$body = $(`<div>`).addClass(`slide-container`)\n\t\t\t.appendTo(this.container);\n\t\tthis.$footer = $(`<div>`).addClass(`slide-footer`)\n\t\t\t.appendTo(this.container);\n\n\t\tthis.render_progress_dots();\n\t\tthis.make_prev_next_complete_buttons();\n\t\tif (this.before_load) this.before_load(this.$footer);\n\n\t\t// can be on demand\n\t\tthis.setup();\n\n\t\t// can be on demand\n\t\tthis.show_slide(0);\n\t}\n\n\tsetup() {\n\t\tthis.slides.map((slide, id) => {\n\t\t\tif (!this.slide_dict[id]) {\n\t\t\t\tthis.slide_dict[id] = new (this.slide_class)(\n\t\t\t\t\t$.extend(this.slides[id], {\n\t\t\t\t\t\tparent: this.$body,\n\t\t\t\t\t\tslides_footer: this.$footer,\n\t\t\t\t\t\trender_parent_dots: this.render_progress_dots.bind(this),\n\t\t\t\t\t\tid: id,\n\t\t\t\t\t})\n\t\t\t\t);\n\t\t\t\tif (!this.unidirectional) {\n\t\t\t\t\tthis.slide_dict[id].make();\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (this.made_slide_ids.includes(id + \"\")) {\n\t\t\t\t\tthis.slide_dict[id].done = false;\n\t\t\t\t\tthis.slide_dict[id].destroy();\n\t\t\t\t\tthis.slide_dict[id].make();\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\n\trefresh(id) {\n\t\tthis.render_progress_dots();\n\t\tthis.make_prev_next_complete_buttons();\n\t\tthis.show_hide_prev_next(id);\n\t\tthis.$body.find('.form-control').first().focus();\n\t}\n\n\trender_progress_dots() {\n\t\t// Depends on this.unidirectional and this.done_state\n\t\t// Can be called by a slide to update states\n\t\tthis.$slide_progress.empty();\n\n\t\tthis.slides.map((slide, id) => {\n\t\t\tlet $dot = $(`<div class=\"slide-step\">\n\t\t\t\t<div class=\"slide-step-indicator\"></div>\n\t\t\t\t<div class=\"slide-step-complete\">${frappe.utils.icon('tick', 'xs')}</div>\n\t\t\t</div>`)\n\t\t\t\t.attr({ 'data-step-id': id });\n\n\t\t\tif (this.done_state && (this.slide_dict[id] &&\n\t\t\t\tthis.slide_dict[id].done || slide.done)) {\n\t\t\t\t$dot.addClass('step-success');\n\t\t\t}\n\t\t\tif (this.unidirectional && id === this.current_id) {\n\t\t\t\t$dot.addClass('active');\n\t\t\t}\n\t\t\t// Add pointer event for non-unidirectional\n\t\t\tthis.$slide_progress.append($dot);\n\t\t});\n\n\t\tthis.completed = 0;\n\t\tthis.slides.map((slide, i) => {\n\t\t\tif (this.slide_dict[i]) {\n\t\t\t\tif (this.slide_dict[i].done) this.completed++;\n\t\t\t} else {\n\t\t\t\tif (slide.done) this.completed++;\n\t\t\t}\n\t\t});\n\t\tif (this.on_update) this.on_update(this.completed, this.slides.length);\n\n\t\tif (!this.unidirectional) this.bind_progress_dots();\n\t}\n\n\tmake_prev_next_complete_buttons() {\n\t\tthis.$footer.empty();\n\n\t\t$(`<div class=\"row\">\n\t\t\t<div class=\"col-sm-4 text-left prev-div\">\n\t\t\t\t<button class=\"prev-btn btn btn-secondary btn-sm\" tabindex=\"0\">${__(\"Previous\", null, \"Go to previous slide\")}</button>\n\t\t\t</div>\n\t\t\t<div class=\"col-sm-8 text-right next-div\">\n\t\t\t\t<button class=\"complete-btn btn btn-sm primary\">${__(\"Complete Setup\", null, \"Finish the setup wizard\")}</button>\n\t\t\t\t<button class=\"next-btn btn btn-default btn-sm\" tabindex=\"0\">${__(\"Next\", null, \"Go to next slide\")}</button>\n\t\t\t</div>\n\t\t</div>`).appendTo(this.$footer);\n\n\t\tthis.$prev_btn = this.$footer.find('.prev-btn').attr('tabIndex', 0)\n\t\t\t.on('click', () => this.show_slide(this.current_id - 1));\n\n\t\tthis.$next_btn = this.$footer.find('.next-btn').attr('tabIndex', 0)\n\t\t\t.on('click', () => {\n\t\t\t\tif (this.done_state) {\n\t\t\t\t\tif (this.slide) this.slide.done = true;\n\t\t\t\t\tif (this.current_slide) this.current_slide.done = true;\n\t\t\t\t}\n\t\t\t\tif (!this.unidirectional || (this.unidirectional && this.current_slide.set_values())) {\n\t\t\t\t\tthis.show_slide(this.current_id + 1);\n\t\t\t\t}\n\t\t\t});\n\n\t\tthis.$complete_btn = this.$footer.find('.complete-btn').attr('tabIndex', 0);\n\t}\n\n\tbind_progress_dots() {\n\t\tvar me = this;\n\t\tthis.$slide_progress.find('.fa-circle').addClass('link').on('click', function () {\n\t\t\tlet id = $(this).attr('data-step-id');\n\t\t\tme.show_slide(id);\n\t\t});\n\t}\n\n\tbefore_show_slide() {\n\t\treturn true;\n\t}\n\n\tshow_slide(id) {\n\t\tid = cint(id);\n\t\tif (!this.before_show_slide() ||\n\t\t\t(this.current_slide && this.current_id === id)) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.update_values();\n\n\t\tif (this.current_slide) this.current_slide.hide_slide();\n\t\tif (this.unidirectional && !this.slide_dict[id].made) {\n\t\t\tthis.slide_dict[id].make();\n\t\t}\n\t\tthis.current_id = id;\n\t\tthis.current_slide = this.slide_dict[id];\n\t\tthis.current_slide.show_slide();\n\t\tthis.refresh(id);\n\t}\n\n\tdestroy_slide(id) {\n\t\tif (this.slide_dict[id]) this.slide_dict[id].destroy();\n\t\tthis.slide_dict[id] = null;\n\t}\n\n\t// eslint-disable-next-line no-unused-vars\n\ton_update(completed, total) { }\n\n\tshow_hide_prev_next(id) {\n\t\t(id === 0) ?\n\t\t\tthis.$prev_btn.hide() : this.$prev_btn.show();\n\t\t(id + 1 === this.slides.length) ?\n\t\t\tthis.$next_btn.hide() : this.$next_btn.show();\n\t}\n\n\tget_values() {\n\t\tvar values = {};\n\t\t$.each(this.slide_dict, function (id, slide) {\n\t\t\tif (slide.values) {\n\t\t\t\t$.extend(values, slide.values);\n\t\t\t}\n\t\t});\n\t\treturn values;\n\t}\n\n\tupdate_values() {\n\t\tthis.values = $.extend(this.values, this.get_values());\n\t}\n};","frappe.find = {\n\tpage_primary_action: () => {\n\t\treturn $('.page-actions:visible .btn-primary');\n\t},\n\tfield: (fieldname, value) => {\n\t\treturn new Promise(resolve => {\n\t\t\tlet input = $(`[data-fieldname=\"${fieldname}\"] :input`);\n\t\t\tif(value) {\n\t\t\t\tinput.val(value).trigger('change');\n\t\t\t\tfrappe.after_ajax(() => { resolve(input); });\n\t\t\t} else {\n\t\t\t\tresolve(input);\n\t\t\t}\n\t\t});\n\t}\n};","// Copyright (c) 2015, Frappe Technologies Pvt. Ltd. and Contributors\n// MIT License. See license.txt\n\nfrappe.ui.IconBar = Class.extend({\n\tinit: function(parent, n_groups) {\n\t\tthis.parent = parent;\n\t\tthis.buttons = {};\n\t\tthis.make(n_groups);\n\t},\n\tmake: function(n_groups) {\n\t\tthis.$wrapper = $('<div class=\"iconbar-wrapper hide\"></div>').appendTo(this.parent);\n\t\tfor(var i=0; i<n_groups; i++) {\n\t\t\tthis.get_group(i+1);\n\t\t}\n\t},\n\tget_group: function(group) {\n\t\tvar $ul = this.$wrapper.find(\".iconbar-\"+group+\" ul\");\n\n\t\tif(!$ul.length)\n\t\t\t$ul = $('<div class=\"iconbar iconbar-'+group+' hide\"><ul></ul></div>')\n\t\t\t\t.appendTo(this.$wrapper).find(\"ul\");\n\n\t\treturn $ul;\n\t},\n\tadd_btn: function(group, icon, label, click) {\n\t\tvar $ul = this.get_group(group);\n\t\tvar $li = $('<li><i class=\"'+icon+'\"></i></li>')\n\t\t\t.appendTo($ul)\n\t\t\t.on(\"click\", function() {\n\t\t\t\tclick.apply(this);\n\t\t\t\treturn false;\n\t\t\t});\n\n\t\t$li.find(\"i\").attr(\"title\", label).tooltip({ delay: { \"show\": 600, \"hide\": 100 }, trigger: \"hover\" });\n\n\n\t\tthis.$wrapper.find(\".iconbar-\" + group).removeClass(\"hide\")\n\t\tthis.show();\n\t\treturn $li;\n\t},\n\thide: function(group) {\n\t\tif(group) {\n\t\t\tthis.$wrapper.find(\".iconbar-\" + group).addClass(\"hide\");\n\t\t\tthis.check_if_all_hidden();\n\t\t} else {\n\t\t\tthis.$wrapper.addClass(\"hide\").trigger(\"hidden\");\n\t\t}\n\t},\n\tshow: function(group) {\n\t\tif(group) {\n\t\t\tthis.$wrapper.find(\".iconbar-\" + group).removeClass(\"hide\");\n\t\t\tthis.show();\n\t\t} else {\n\t\t\tif(this.$wrapper.hasClass(\"hide\"))\n\t\t\t\tthis.$wrapper.removeClass(\"hide\").trigger(\"shown\");\n\t\t}\n\t},\n\tclear: function(group) {\n\t\tvar me = this;\n\t\tthis.$wrapper.find(\".iconbar-\" + group).addClass(\"hide\").find(\"ul\").empty();\n\t\tthis.check_if_all_hidden();\n\t},\n\tcheck_if_all_hidden: function() {\n\t\tif(!this.$wrapper.find(\".iconbar:visible\").length) {\n\t\t\tthis.hide();\n\t\t}\n\t}\n})","// Copyright (c) 2018, Frappe Technologies Pvt. Ltd. and Contributors\n// MIT License. See license.txt\n\nfrappe.ui.form.LinkSelector = Class.extend({\n\tinit: function (opts) {\n\t\t/* help: Options: doctype, get_query, target */\n\t\t$.extend(this, opts);\n\n\t\tvar me = this;\n\t\tif (this.doctype != \"[Select]\") {\n\t\t\tfrappe.model.with_doctype(this.doctype, function (r) {\n\t\t\t\tme.make();\n\t\t\t});\n\t\t} else {\n\t\t\tthis.make();\n\t\t}\n\t},\n\tmake: function () {\n\t\tvar me = this;\n\n\t\tthis.start = 0;\n\t\tthis.dialog = new frappe.ui.Dialog({\n\t\t\ttitle: __(\"Select {0}\", [(this.doctype == '[Select]') ? __(\"value\") : __(this.doctype)]),\n\t\t\tfields: [\n\t\t\t\t{\n\t\t\t\t\tfieldtype: \"Data\", fieldname: \"txt\", label: __(\"Beginning with\"),\n\t\t\t\t\tdescription: __(\"You can use wildcard %\"),\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tfieldtype: \"HTML\", fieldname: \"results\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tfieldtype: \"Button\", fieldname: \"more\", label: __(\"More\"), click: () => {\n\t\t\t\t\t\tme.start += 20;\n\t\t\t\t\t\tme.search();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t],\n\t\t\tprimary_action_label: __(\"Search\"),\n\t\t\tprimary_action: function () {\n\t\t\t\tme.start = 0;\n\t\t\t\tme.search();\n\t\t\t}\n\t\t});\n\n\t\tif (this.txt)\n\t\t\tthis.dialog.fields_dict.txt.set_input(this.txt);\n\n\t\tthis.dialog.get_input(\"txt\").on(\"keypress\", function (e) {\n\t\t\tif (e.which === 13) {\n\t\t\t\tme.start = 0;\n\t\t\t\tme.search();\n\t\t\t}\n\t\t});\n\t\tthis.dialog.show();\n\t\tthis.search();\n\t},\n\tsearch: function () {\n\t\tvar args = {\n\t\t\ttxt: this.dialog.fields_dict.txt.get_value(),\n\t\t\tsearchfield: \"name\",\n\t\t\tstart: this.start\n\t\t};\n\t\tvar me = this;\n\n\t\tif (this.target.set_custom_query) {\n\t\t\tthis.target.set_custom_query(args);\n\t\t}\n\n\t\t// load custom query from grid\n\t\tif (this.target.is_grid && this.target.fieldinfo[this.fieldname]\n\t\t\t&& this.target.fieldinfo[this.fieldname].get_query) {\n\t\t\t$.extend(args,\n\t\t\t\tthis.target.fieldinfo[this.fieldname].get_query(cur_frm.doc));\n\t\t}\n\n\t\tfrappe.link_search(this.doctype, args, function (r) {\n\t\t\tvar parent = me.dialog.fields_dict.results.$wrapper;\n\t\t\tif (args.start === 0) {\n\t\t\t\tparent.empty();\n\t\t\t}\n\n\t\t\tif (r.values.length) {\n\t\t\t\t$.each(r.values, function (i, v) {\n\t\t\t\t\tvar row = $(repl('<div class=\"row link-select-row\">\\\n\t\t\t\t\t\t<div class=\"col-xs-4\">\\\n\t\t\t\t\t\t\t<b><a href=\"#\">%(name)s</a></b></div>\\\n\t\t\t\t\t\t<div class=\"col-xs-8\">\\\n\t\t\t\t\t\t\t<span class=\"text-muted\">%(values)s</span></div>\\\n\t\t\t\t\t\t</div>', {\n\t\t\t\t\t\t\tname: v[0],\n\t\t\t\t\t\t\tvalues: v.splice(1).join(\", \")\n\t\t\t\t\t\t})).appendTo(parent);\n\n\t\t\t\t\trow.find(\"a\")\n\t\t\t\t\t\t.attr('data-value', v[0])\n\t\t\t\t\t\t.click(function () {\n\t\t\t\t\t\t\tvar value = $(this).attr(\"data-value\");\n\t\t\t\t\t\t\tvar $link = this;\n\t\t\t\t\t\t\tif (me.target.is_grid) {\n\t\t\t\t\t\t\t\t// set in grid\n\t\t\t\t\t\t\t\tme.set_in_grid(value);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tif (me.target.doctype)\n\t\t\t\t\t\t\t\t\tme.target.parse_validate_and_set_in_model(value);\n\t\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\t\tme.target.set_input(value);\n\t\t\t\t\t\t\t\t\tme.target.$input.trigger(\"change\");\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tme.dialog.hide();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t})\n\t\t\t\t})\n\t\t\t} else {\n\t\t\t\t$('<p><br><span class=\"text-muted\">' + __(\"No Results\") + '</span>'\n\t\t\t\t\t+ (frappe.model.can_create(me.doctype) ?\n\t\t\t\t\t\t('<br><br><a class=\"new-doc btn btn-default btn-sm\">'\n\t\t\t\t\t\t\t+ __('Create a new {0}', [__(me.doctype)]) + \"</a>\") : '')\n\t\t\t\t\t+ '</p>').appendTo(parent).find(\".new-doc\").click(function () {\n\t\t\t\t\t\tfrappe.new_doc(me.doctype);\n\t\t\t\t\t});\n\t\t\t}\n\n\t\t\tif (r.values.length < 20) {\n\t\t\t\tvar more_btn = me.dialog.fields_dict.more.$wrapper;\n\t\t\t\tmore_btn.hide();\n\t\t\t}\n\n\t\t}, this.dialog.get_primary_btn());\n\n\t},\n\tset_in_grid: function (value) {\n\t\tvar me = this, updated = false;\n\t\tvar d = null;\n\t\tif (this.qty_fieldname) {\n\t\t\tfrappe.prompt({\n\t\t\t\tfieldname: \"qty\", fieldtype: \"Float\", label: \"Qty\",\n\t\t\t\t\"default\": 1, reqd: 1\n\t\t\t}, function (data) {\n\t\t\t\t$.each(me.target.frm.doc[me.target.df.fieldname] || [], function (i, d) {\n\t\t\t\t\tif (d[me.fieldname] === value) {\n\t\t\t\t\t\tfrappe.model.set_value(d.doctype, d.name, me.qty_fieldname, data.qty);\n\t\t\t\t\t\tfrappe.show_alert(__(\"Added {0} ({1})\", [value, d[me.qty_fieldname]]));\n\t\t\t\t\t\tupdated = true;\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tif (!updated) {\n\t\t\t\t\tfrappe.run_serially([\n\t\t\t\t\t\t() => {\n\t\t\t\t\t\t\td = me.target.add_new_row();\n\t\t\t\t\t\t},\n\t\t\t\t\t\t() => frappe.timeout(0.1),\n\t\t\t\t\t\t() => {\n\t\t\t\t\t\t\tlet args = {};\n\t\t\t\t\t\t\targs[me.fieldname] = value;\n\t\t\t\t\t\t\targs[me.qty_fieldname] = data.qty;\n\n\t\t\t\t\t\t\treturn frappe.model.set_value(d.doctype, d.name, args);\n\t\t\t\t\t\t},\n\t\t\t\t\t\t() => frappe.show_alert(__(\"Added {0} ({1})\", [value, data.qty]))\n\t\t\t\t\t]);\n\t\t\t\t}\n\t\t\t}, __(\"Set Quantity\"), __(\"Set\"));\n\t\t} else if (me.dynamic_link_field) {\n\t\t\tvar d = me.target.add_new_row();\n\t\t\tfrappe.model.set_value(d.doctype, d.name, me.dynamic_link_field, me.dynamic_link_reference);\n\t\t\tfrappe.model.set_value(d.doctype, d.name, me.fieldname, value);\n\t\t\tfrappe.show_alert(__(\"{0} {1} added\", [me.dynamic_link_reference, value]));\n\t\t} else {\n\t\t\tvar d = me.target.add_new_row();\n\t\t\tfrappe.model.set_value(d.doctype, d.name, me.fieldname, value);\n\t\t\tfrappe.show_alert(__(\"{0} added\", [value]));\n\t\t}\n\t}\n});\n\nfrappe.link_search = function (doctype, args, callback, btn) {\n\tif (!args) {\n\t\targs = {\n\t\t\ttxt: ''\n\t\t}\n\t}\n\targs.doctype = doctype;\n\tif (!args.searchfield) {\n\t\targs.searchfield = 'name';\n\t}\n\n\tfrappe.call({\n\t\tmethod: \"frappe.desk.search.search_widget\",\n\t\ttype: \"GET\",\n\t\targs: args,\n\t\tcallback: function (r) {\n\t\t\tcallback && callback(r);\n\t\t},\n\t\tbtn: btn\n\t});\n}\n\n","frappe.ui.form.MultiSelectDialog = class MultiSelectDialog {\n\tconstructor(opts) {\n\t\t/* Options: doctype, target, setters, get_query, action, add_filters_group, data_fields, primary_action_label */\n\t\tObject.assign(this, opts);\n\t\tthis.for_select = this.doctype == \"[Select]\";\n\t\tif (!this.for_select) {\n\t\t\tfrappe.model.with_doctype(this.doctype, () => this.init());\n\t\t} else {\n\t\t\tthis.init();\n\t\t}\n\t}\n\n\tinit() {\n\t\tthis.page_length = 20;\n\t\tthis.child_page_length = 20;\n\t\tthis.fields = this.get_fields();\n\n\t\tthis.make();\n\t}\n\n\tget_fields() {\n\t\tconst primary_fields = this.get_primary_filters();\n\t\tconst result_fields = this.get_result_fields();\n\t\tconst data_fields = this.get_data_fields();\n\t\tconst child_selection_fields = this.get_child_selection_fields();\n\n\t\treturn [...primary_fields, ...result_fields, ...data_fields, ...child_selection_fields];\n\t}\n\n\tget_result_fields() {\n\t\tconst show_next_page = () => {\n\t\t\tthis.page_length += 20;\n\t\t\tthis.get_results();\n\t\t};\n\t\treturn [\n\t\t\t{\n\t\t\t\tfieldtype: \"HTML\", fieldname: \"results_area\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldtype: \"Button\", fieldname: \"more_btn\",\n\t\t\t\tlabel: __(\"More\"), click: show_next_page.bind(this)\n\t\t\t}\n\t\t];\n\t}\n\n\tget_data_fields() {\n\t\tif (this.data_fields && this.data_fields.length) {\n\t\t\t// Custom Data Fields\n\t\t\treturn [\n\t\t\t\t{ fieldtype: \"Section Break\" },\n\t\t\t\t...this.data_fields\n\t\t\t];\n\t\t} else {\n\t\t\treturn [];\n\t\t}\n\t}\n\n\tget_child_selection_fields() {\n\t\tconst fields = [];\n\t\tif (this.allow_child_item_selection && this.child_fieldname) {\n\t\t\tconst show_more_child_results = () => {\n\t\t\t\tthis.child_page_length += 20;\n\t\t\t\tthis.show_child_results();\n\t\t\t};\n\t\t\tfields.push({ fieldtype: \"HTML\", fieldname: \"child_selection_area\" });\n\t\t\tfields.push({\n\t\t\t\tfieldtype: \"Button\", fieldname: \"more_child_btn\", hidden: 1,\n\t\t\t\tlabel: __(\"More\"), click: show_more_child_results.bind(this)\n\t\t\t});\n\t\t}\n\t\treturn fields;\n\t}\n\n\tmake() {\n\t\tlet doctype_plural = this.doctype.plural();\n\t\tlet title = __(\"Select {0}\", [this.for_select ? __(\"value\") : __(doctype_plural)]);\n\n\t\tthis.dialog = new frappe.ui.Dialog({\n\t\t\ttitle: title,\n\t\t\tfields: this.fields,\n\t\t\tsize: this.size,\n\t\t\tprimary_action_label: this.primary_action_label || __(\"Get Items\"),\n\t\t\tsecondary_action_label: __(\"Make {0}\", [__(this.doctype)]),\n\t\t\tprimary_action: () => {\n\t\t\t\tlet filters_data = this.get_custom_filters();\n\t\t\t\tconst data_values = cur_dialog.get_values(); // to pass values of data fields\n\t\t\t\tconst filtered_children = this.get_selected_child_names();\n\t\t\t\tconst selected_documents = [...this.get_checked_values(), ...this.get_parent_name_of_selected_children()];\n\t\t\t\tthis.action(selected_documents, {\n\t\t\t\t\t...this.args,\n\t\t\t\t\t...data_values,\n\t\t\t\t\t...filters_data,\n\t\t\t\t\tfiltered_children\n\t\t\t\t});\n\t\t\t},\n\t\t\tsecondary_action: this.make_new_document.bind(this)\n\t\t});\n\n\t\tif (this.add_filters_group) {\n\t\t\tthis.make_filter_area();\n\t\t}\n\n\t\tthis.args = {};\n\n\t\tthis.setup_results();\n\t\tthis.bind_events();\n\t\tthis.get_results();\n\t\tthis.dialog.show();\n\t}\n\n\tmake_new_document(e) {\n\t\t// If user wants to close the modal\n\t\tif (e) {\n\t\t\tthis.set_route_options();\n\t\t\tfrappe.new_doc(this.doctype, true);\n\t\t}\n\t}\n\n\tset_route_options() {\n\t\t// set route options to get pre-filled form fields\n\t\tfrappe.route_options = {};\n\t\tif (Array.isArray(this.setters)) {\n\t\t\tfor (let df of this.setters) {\n\t\t\t\tfrappe.route_options[df.fieldname] = this.dialog.fields_dict[df.fieldname].get_value() || undefined;\n\t\t\t}\n\t\t} else {\n\t\t\tObject.keys(this.setters).forEach(setter => {\n\t\t\t\tfrappe.route_options[setter] = this.dialog.fields_dict[setter].get_value() || undefined;\n\t\t\t});\n\t\t}\n\t}\n\n\tsetup_results() {\n\t\tthis.$parent = $(this.dialog.body);\n\t\tthis.$wrapper = this.dialog.fields_dict.results_area.$wrapper.append(`<div class=\"results my-3\"\n\t\t\tstyle=\"border: 1px solid #d1d8dd; border-radius: 3px; height: 300px; overflow: auto;\"></div>`);\n\n\t\tthis.$results = this.$wrapper.find('.results');\n\t\tthis.$results.append(this.make_list_row());\n\t}\n\n\tshow_child_results() {\n\t\tthis.get_child_result().then(r => {\n\t\t\tthis.child_results = r.message || [];\n\t\t\tthis.render_child_datatable();\n\n\t\t\tthis.$wrapper.addClass('hidden');\n\t\t\tthis.$child_wrapper.removeClass('hidden');\n\t\t\tthis.dialog.fields_dict.more_btn.$wrapper.hide();\n\t\t});\n\t}\n\n\ttoggle_child_selection() {\n\t\tif (this.dialog.fields_dict['allow_child_item_selection'].get_value()) {\n\t\t\tthis.show_child_results();\n\t\t} else {\n\t\t\tthis.child_results = [];\n\t\t\tthis.get_results();\n\t\t\tthis.$wrapper.removeClass('hidden');\n\t\t\tthis.$child_wrapper.addClass('hidden');\n\t\t}\n\t}\n\n\trender_child_datatable() {\n\t\tif (!this.child_datatable) {\n\t\t\tthis.setup_child_datatable();\n\t\t} else {\n\t\t\tsetTimeout(() => {\n\t\t\t\tthis.child_datatable.rowmanager.checkMap = [];\n\t\t\t\tthis.child_datatable.refresh(this.get_child_datatable_rows());\n\t\t\t\tthis.$child_wrapper.find('.dt-scrollable').css('height', '300px');\n\t\t\t\tthis.$child_wrapper.find('.dt-scrollable').css('overflow-y', 'scroll');\n\t\t\t}, 500);\n\t\t}\n\t}\n\n\tget_child_datatable_columns() {\n\t\tconst parent = this.doctype;\n\t\treturn [parent, ...this.child_columns].map(d => ({ name: frappe.unscrub(d), editable: false }));\n\t}\n\n\tget_child_datatable_rows() {\n\t\tif (this.child_results.length > this.child_page_length) {\n\t\t\tthis.dialog.fields_dict.more_child_btn.toggle(true);\n\t\t} else {\n\t\t\tthis.dialog.fields_dict.more_child_btn.toggle(false);\n\t\t}\n\t\treturn this.child_results\n\t\t\t.slice(0, this.child_page_length)\n\t\t\t.map(d => Object.values(d).slice(1)); // slice name field\n\t}\n\n\tsetup_child_datatable() {\n\t\tconst header_columns = this.get_child_datatable_columns();\n\t\tconst rows = this.get_child_datatable_rows();\n\t\tthis.$child_wrapper = this.dialog.fields_dict.child_selection_area.$wrapper;\n\t\tthis.$child_wrapper.addClass('my-3');\n\n\t\tthis.child_datatable = new frappe.DataTable(this.$child_wrapper.get(0), {\n\t\t\tcolumns: header_columns,\n\t\t\tdata: rows,\n\t\t\tlayout: 'fluid',\n\t\t\tinlineFilters: true,\n\t\t\tserialNoColumn: false,\n\t\t\tcheckboxColumn: true,\n\t\t\tcellHeight: 35,\n\t\t\tnoDataMessage: __('No Data'),\n\t\t\tdisableReorderColumn: true\n\t\t});\n\t\tthis.$child_wrapper.find('.dt-scrollable').css('height', '300px');\n\t}\n\n\tget_primary_filters() {\n\t\tlet fields = [];\n\n\t\tlet columns = new Array(3);\n\n\t\t// Hack for three column layout\n\t\t// To add column break\n\t\tcolumns[0] = [\n\t\t\t{\n\t\t\t\tfieldtype: \"Data\",\n\t\t\t\tlabel: __(\"Name\"),\n\t\t\t\tfieldname: \"search_term\"\n\t\t\t}\n\t\t];\n\t\tcolumns[1] = [];\n\t\tcolumns[2] = [];\n\n\t\tif ($.isArray(this.setters)) {\n\t\t\tthis.setters.forEach((setter, index) => {\n\t\t\t\tcolumns[(index + 1) % 3].push(setter);\n\t\t\t});\n\t\t} else {\n\t\t\tObject.keys(this.setters).forEach((setter, index) => {\n\t\t\t\tlet df_prop = frappe.meta.docfield_map[this.doctype][setter];\n\n\t\t\t\t// Index + 1 to start filling from index 1\n\t\t\t\t// Since Search is a standrd field already pushed\n\t\t\t\tcolumns[(index + 1) % 3].push({\n\t\t\t\t\tfieldtype: df_prop.fieldtype,\n\t\t\t\t\tlabel: df_prop.label,\n\t\t\t\t\tfieldname: setter,\n\t\t\t\t\toptions: df_prop.options,\n\t\t\t\t\tdefault: this.setters[setter]\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\n\t\t// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/seal\n\t\tif (Object.seal) {\n\t\t\tObject.seal(columns);\n\t\t\t// now a is a fixed-size array with mutable entries\n\t\t}\n\n\t\tif (this.allow_child_item_selection) {\n\t\t\tthis.child_doctype = frappe.meta.get_docfield(this.doctype, this.child_fieldname).options;\n\t\t\tcolumns[0].push({\n\t\t\t\tfieldtype: \"Check\",\n\t\t\t\tlabel: __(\"Select {0}\", [this.child_doctype]),\n\t\t\t\tfieldname: \"allow_child_item_selection\",\n\t\t\t\tonchange: this.toggle_child_selection.bind(this)\n\t\t\t});\n\t\t}\n\n\t\tfields = [\n\t\t\t...columns[0],\n\t\t\t{ fieldtype: \"Column Break\" },\n\t\t\t...columns[1],\n\t\t\t{ fieldtype: \"Column Break\" },\n\t\t\t...columns[2],\n\t\t\t{ fieldtype: \"Section Break\", fieldname: \"primary_filters_sb\" }\n\t\t];\n\n\t\tif (this.add_filters_group) {\n\t\t\tfields.push(\n\t\t\t\t{\n\t\t\t\t\tfieldtype: 'HTML',\n\t\t\t\t\tfieldname: 'filter_area',\n\t\t\t\t}\n\t\t\t);\n\t\t}\n\n\t\treturn fields;\n\t}\n\n\tmake_filter_area() {\n\t\tthis.filter_group = new frappe.ui.FilterGroup({\n\t\t\tparent: this.dialog.get_field('filter_area').$wrapper,\n\t\t\tdoctype: this.doctype,\n\t\t\ton_change: () => {\n\t\t\t\tthis.get_results();\n\t\t\t}\n\t\t});\n\t\t// 'Apply Filter' breaks since the filers are not in a popover\n\t\t// Hence keeping it hidden\n\t\tthis.filter_group.wrapper.find('.apply-filters').hide();\n\t}\n\n\tget_custom_filters() {\n\t\tif (this.add_filters_group && this.filter_group) {\n\t\t\treturn this.filter_group.get_filters().reduce((acc, filter) => {\n\t\t\t\treturn Object.assign(acc, {\n\t\t\t\t\t[filter[1]]: [filter[2], filter[3]]\n\t\t\t\t});\n\t\t\t}, {});\n\t\t} else {\n\t\t\treturn {};\n\t\t}\n\t}\n\n\tbind_events() {\n\t\tlet me = this;\n\n\t\tthis.$results.on('click', '.list-item-container', function (e) {\n\t\t\tif (!$(e.target).is(':checkbox') && !$(e.target).is('a')) {\n\t\t\t\t$(this).find(':checkbox').trigger('click');\n\t\t\t}\n\t\t});\n\n\t\tthis.$results.on('click', '.list-item--head :checkbox', (e) => {\n\t\t\tthis.$results.find('.list-item-container .list-row-check')\n\t\t\t\t.prop(\"checked\", ($(e.target).is(':checked')));\n\t\t});\n\n\t\tthis.$parent.find('.input-with-feedback').on('change', () => {\n\t\t\tfrappe.flags.auto_scroll = false;\n\t\t\tthis.get_results();\n\t\t});\n\n\t\tthis.$parent.find('[data-fieldtype=\"Data\"]').on('input', () => {\n\t\t\tvar $this = $(this);\n\t\t\tclearTimeout($this.data('timeout'));\n\t\t\t$this.data('timeout', setTimeout(function () {\n\t\t\t\tfrappe.flags.auto_scroll = false;\n\t\t\t\tme.empty_list();\n\t\t\t\tme.get_results();\n\t\t\t}, 300));\n\t\t});\n\t}\n\n\tget_parent_name_of_selected_children() {\n\t\tif (!this.child_datatable || !this.child_datatable.datamanager.rows.length) return [];\n\n\t\tlet parent_names = this.child_datatable.rowmanager.checkMap.reduce((parent_names, checked, index) => {\n\t\t\tif (checked == 1) {\n\t\t\t\tconst parent_name = this.child_results[index].parent;\n\t\t\t\tif (!parent_names.includes(parent_name)) {\n\t\t\t\t\tparent_names.push(parent_name);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn parent_names;\n\t\t}, []);\n\n\t\treturn parent_names;\n\t}\n\n\tget_selected_child_names() {\n\t\tif (!this.child_datatable || !this.child_datatable.datamanager.rows.length) return [];\n\n\t\tlet checked_names = this.child_datatable.rowmanager.checkMap.reduce((checked_names, checked, index) => {\n\t\t\tif (checked == 1) {\n\t\t\t\tconst child_row_name = this.child_results[index].name;\n\t\t\t\tchecked_names.push(child_row_name);\n\t\t\t}\n\t\t\treturn checked_names;\n\t\t}, []);\n\n\t\treturn checked_names;\n\t}\n\n\tget_checked_values() {\n\t\t// Return name of checked value.\n\t\treturn this.$results.find('.list-item-container').map(function () {\n\t\t\tif ($(this).find('.list-row-check:checkbox:checked').length > 0) {\n\t\t\t\treturn $(this).attr('data-item-name');\n\t\t\t}\n\t\t}).get();\n\t}\n\n\tget_checked_items() {\n\t\t// Return checked items with all the column values.\n\t\tlet checked_values = this.get_checked_values();\n\t\treturn this.results.filter(res => checked_values.includes(res.name));\n\t}\n\n\tmake_list_row(result = {}) {\n\t\tvar me = this;\n\t\t// Make a head row by default (if result not passed)\n\t\tlet head = Object.keys(result).length === 0;\n\n\t\tlet contents = ``;\n\t\tlet columns = [\"name\"];\n\n\t\tif ($.isArray(this.setters)) {\n\t\t\tfor (let df of this.setters) {\n\t\t\t\tcolumns.push(df.fieldname);\n\t\t\t}\n\t\t} else {\n\t\t\tcolumns = columns.concat(Object.keys(this.setters));\n\t\t}\n\n\t\tcolumns.forEach(function (column) {\n\t\t\tcontents += `<div class=\"list-item__content ellipsis\">\n\t\t\t\t${\n\thead ? `<span class=\"ellipsis text-muted\" title=\"${__(frappe.model.unscrub(column))}\">${__(frappe.model.unscrub(column))}</span>`\n\t\t: (column !== \"name\" ? `<span class=\"ellipsis result-row\" title=\"${__(result[column] || '')}\">${__(result[column] || '')}</span>`\n\t\t\t: `<a href=\"${\"/app/\" + frappe.router.slug(me.doctype) + \"/\" + result[column] || ''}\" class=\"list-id ellipsis\" title=\"${__(result[column] || '')}\">\n\t\t\t\t\t\t\t${__(result[column] || '')}</a>`)}\n\t\t\t</div>`;\n\t\t});\n\n\t\tlet $row = $(`<div class=\"list-item\">\n\t\t\t<div class=\"list-item__content\" style=\"flex: 0 0 10px;\">\n\t\t\t\t<input type=\"checkbox\" class=\"list-row-check\" data-item-name=\"${result.name}\" ${result.checked ? 'checked' : ''}>\n\t\t\t</div>\n\t\t\t${contents}\n\t\t</div>`);\n\n\t\thead ? $row.addClass('list-item--head')\n\t\t\t: $row = $(`<div class=\"list-item-container\" data-item-name=\"${result.name}\"></div>`).append($row);\n\n\t\treturn $row;\n\t}\n\n\trender_result_list(results, more = 0, empty = true) {\n\t\tvar me = this;\n\t\tvar more_btn = me.dialog.fields_dict.more_btn.$wrapper;\n\n\t\t// Make empty result set if filter is set\n\t\tif (!frappe.flags.auto_scroll && empty) {\n\t\t\tthis.empty_list();\n\t\t}\n\t\tmore_btn.hide();\n\t\t$(\".modal-dialog .list-item--head\").css(\"z-index\", 1);\n\n\t\tif (results.length === 0) return;\n\t\tif (more) more_btn.show();\n\n\t\tlet checked = this.get_checked_values();\n\n\t\tresults\n\t\t\t.filter(result => !checked.includes(result.name))\n\t\t\t.forEach(result => {\n\t\t\t\tme.$results.append(me.make_list_row(result));\n\t\t\t});\n\n\t\tthis.$results.find(\".list-item--head\").css(\"z-index\", 1);\n\n\t\tif (frappe.flags.auto_scroll) {\n\t\t\tthis.$results.animate({ scrollTop: me.$results.prop('scrollHeight') }, 500);\n\t\t}\n\t}\n\n\tempty_list() {\n\t\t// Store all checked items\n\t\tlet checked = this.get_checked_items().map(item => {\n\t\t\treturn {\n\t\t\t\t...item,\n\t\t\t\tchecked: true\n\t\t\t};\n\t\t});\n\n\t\t// Remove **all** items\n\t\tthis.$results.find('.list-item-container').remove();\n\n\t\t// Rerender checked items\n\t\tthis.render_result_list(checked, 0, false);\n\t}\n\n\tget_filters_from_setters() {\n\t\tlet me = this;\n\t\tlet filters = this.get_query ? this.get_query().filters : {} || {};\n\t\tlet filter_fields = [];\n\n\t\tif ($.isArray(this.setters)) {\n\t\t\tfor (let df of this.setters) {\n\t\t\t\tfilters[df.fieldname] = me.dialog.fields_dict[df.fieldname].get_value() || undefined;\n\t\t\t\tme.args[df.fieldname] = filters[df.fieldname];\n\t\t\t\tfilter_fields.push(df.fieldname);\n\t\t\t}\n\t\t} else {\n\t\t\tObject.keys(this.setters).forEach(function (setter) {\n\t\t\t\tvar value = me.dialog.fields_dict[setter].get_value();\n\t\t\t\tif (me.dialog.fields_dict[setter].df.fieldtype == \"Data\" && value) {\n\t\t\t\t\tfilters[setter] = [\"like\", \"%\" + value + \"%\"];\n\t\t\t\t} else {\n\t\t\t\t\tfilters[setter] = value || undefined;\n\t\t\t\t\tme.args[setter] = filters[setter];\n\t\t\t\t\tfilter_fields.push(setter);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\treturn [filters, filter_fields];\n\t}\n\n\tget_args_for_search() {\n\t\tlet [filters, filter_fields] = this.get_filters_from_setters();\n\n\t\tlet custom_filters = this.get_custom_filters();\n\t\tObject.assign(filters, custom_filters);\n\n\t\treturn {\n\t\t\tdoctype: this.doctype,\n\t\t\ttxt: this.dialog.fields_dict[\"search_term\"].get_value(),\n\t\t\tfilters: filters,\n\t\t\tfilter_fields: filter_fields,\n\t\t\tpage_length: this.page_length + 5,\n\t\t\tquery: this.get_query ? this.get_query().query : '',\n\t\t\tas_dict: 1\n\t\t};\n\t}\n\n\tasync perform_search(args) {\n\t\tconst res = await frappe.call({\n\t\t\ttype: \"GET\",\n\t\t\tmethod: 'frappe.desk.search.search_widget',\n\t\t\tno_spinner: true,\n\t\t\targs: args,\n\t\t});\n\t\tconst more = res.values.length && res.values.length > this.page_length ? 1 : 0;\n\n\t\treturn [res, more];\n\t}\n\n\tasync get_results() {\n\t\tconst args = this.get_args_for_search();\n\t\tconst [res, more] = await this.perform_search(args);\n\n\t\tif (more) {\n\t\t\tres.values = res.values.splice(0, this.page_length);\n\t\t}\n\n\t\tthis.results = [];\n\t\tif (res.values.length) {\n\t\t\tres.values.forEach(result => {\n\t\t\t\tresult.checked = 0;\n\t\t\t\tthis.results.push(result);\n\t\t\t});\n\t\t}\n\t\tthis.render_result_list(this.results, more);\n\t}\n\n\tasync get_filtered_parents_for_child_search() {\n\t\tconst parent_search_args = this.get_args_for_search();\n\t\tparent_search_args.filter_fields = ['name'];\n\t\t// eslint-disable-next-line no-unused-vars\n\t\tconst [response, _] = await this.perform_search(parent_search_args);\n\n\t\tlet parent_names = [];\n\t\tif (response.values.length) {\n\t\t\tparent_names = response.values.map(v => v.name);\n\t\t}\n\t\treturn parent_names;\n\t}\n\n\tasync add_parent_filters(filters) {\n\t\tconst parent_names = await this.get_filtered_parents_for_child_search();\n\t\tif (parent_names.length) {\n\t\t\tfilters.push([ \"parent\", \"in\", parent_names ]);\n\t\t}\n\t}\n\n\tadd_custom_child_filters(filters) {\n\t\tif (this.add_filters_group && this.filter_group) {\n\t\t\tthis.filter_group.get_filters().forEach(filter => {\n\t\t\t\tif (filter[0] == this.child_doctype) {\n\t\t\t\t\tfilters.push([filter[1], filter[2], filter[3]]);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n\n\tasync get_child_result() {\n\t\tlet filters = [[\"parentfield\", \"=\", this.child_fieldname]];\n\n\t\tawait this.add_parent_filters(filters);\n\t\tthis.add_custom_child_filters(filters);\n\n\t\treturn frappe.call({\n\t\t\tmethod: \"frappe.client.get_list\",\n\t\t\targs: {\n\t\t\t\tdoctype: this.child_doctype,\n\t\t\t\tfilters: filters,\n\t\t\t\tfields: ['name', 'parent', ...this.child_columns],\n\t\t\t\tparent: this.doctype,\n\t\t\t\tlimit_page_length: this.child_page_length + 5,\n\t\t\t\torder_by: 'parent'\n\t\t\t}\n\t\t});\n\t}\n};\n","// Copyright (c) 2015, Frappe Technologies Pvt. Ltd. and Contributors\n// MIT License. See license.txt\n\n\nfrappe.provide(\"frappe.ui\");\nfrappe.ui.app_icon = {\n\tget_html: function(module, small) {\n\t\tvar icon = module.icon;\n\t\tvar color = module.color;\n\t\tif (icon\n\t\t\t&& icon.match(/([\\uE000-\\uF8FF]|\\uD83C[\\uDF00-\\uDFFF]|\\uD83D[\\uDC00-\\uDDFF])/g)) {\n\t\t\tmodule.emoji = module.icon;\n\t\t}\n\t\tvar icon_style = \"\";\n\t\tif(module.reverse) {\n\t\t\ticon_style = \"color: #36414C;\";\n\t\t}\n\n\t\tif(!color) {\n\t\t\tcolor = '#4aa3df';\n\t\t}\n\n\t\t// first letter\n\t\tif(!icon || module.emoji) {\n\t\t\ticon = '<span class=\"inner\" ' +\n\t\t\t\t(module.reverse ? ('style=\"' + icon_style + '\"') : '')\n\t\t\t\t+ '>' + (module.emoji || module._label[0].toUpperCase()) + '</span>';\n\t\t} else if(icon.split(\".\").slice(-1)[0]===\"svg\") {\n\t\t\t$.ajax({\n\t\t\t\turl: frappe.urllib.get_full_url(icon),\n\t\t\t\tdataType: \"text\",\n\t\t\t\tasync: false,\n\t\t\t\tsuccess: function(data) {\n\t\t\t\t\ticon = data;\n\t\t\t\t}\n\t\t\t});\n\t\t\ticon = '<object class=\"app-icon-svg\">'+ icon+'</object>';\n\t\t} else {\n\t\t\ticon = '<i class=\"'+ icon+'\" title=\"' + module._label + '\" style=\"'+ icon_style + '\"></i>';\n\t\t}\n\n\t\treturn '<div class=\"app-icon'+ (small ? \" app-icon-small\" : \"\")\n\t\t\t+'\" style=\"background-color: '+ color +'\" title=\"'+ module._label +'\">'+icon+'</div>';\n\t}\n};\n","frappe.provide('frappe.ui');\n\nfrappe.ui.ThemeSwitcher = class ThemeSwitcher {\n\tconstructor() {\n\t\tthis.setup_dialog();\n\t\tthis.refresh();\n\t}\n\n\tsetup_dialog() {\n\t\tthis.dialog = new frappe.ui.Dialog({\n\t\t\ttitle: __(\"Switch Theme\")\n\t\t});\n\t\tthis.body = $(`<div class=\"theme-grid\"></div>`).appendTo(this.dialog.$body);\n\t\tthis.bind_events();\n\t}\n\n\tbind_events() {\n\t\tthis.dialog.$wrapper.on('keydown', (e) => {\n\t\t\tif (!this.themes) return;\n\n\t\t\tconst key = frappe.ui.keys.get_key(e);\n\t\t\tlet increment_by;\n\n\t\t\tif (key === \"right\") {\n\t\t\t\tincrement_by = 1;\n\t\t\t} else if (key === \"left\") {\n\t\t\t\tincrement_by = -1;\n\t\t\t} else {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst current_index = this.themes.findIndex(theme => {\n\t\t\t\treturn theme.name === this.current_theme;\n\t\t\t});\n\n\t\t\tconst new_theme = this.themes[current_index + increment_by];\n\t\t\tif (!new_theme) return;\n\n\t\t\tnew_theme.$html.click();\n\t\t\treturn false;\n\t\t});\n\t}\n\n\trefresh() {\n\t\tthis.current_theme = document.documentElement.getAttribute(\"data-theme\") || \"light\";\n\t\tthis.fetch_themes().then(() => {\n\t\t\tthis.render();\n\t\t});\n\t}\n\n\tfetch_themes() {\n\t\treturn new Promise((resolve) => {\n\t\t\tthis.themes = [\n\t\t\t\t{\n\t\t\t\t\tname: \"light\",\n\t\t\t\t\tlabel: __(\"Frappe Light\"),\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: \"dark\",\n\t\t\t\t\tlabel: __(\"Timeless Night\"),\n\t\t\t\t}\n\t\t\t];\n\n\t\t\tresolve(this.themes);\n\t\t});\n\t}\n\n\trender() {\n\t\tthis.themes.forEach((theme) => {\n\t\t\tlet html = this.get_preview_html(theme);\n\t\t\thtml.appendTo(this.body);\n\t\t\ttheme.$html = html;\n\t\t});\n\t}\n\n\tget_preview_html(theme) {\n\t\tconst preview = $(`<div class=\"${this.current_theme == theme.name ? \"selected\" : \"\" }\">\n\t\t\t<div data-theme=${theme.name}>\n\t\t\t\t<div class=\"background\">\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<div class=\"preview-check\">${frappe.utils.icon('tick', 'xs')}</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"navbar\"></div>\n\t\t\t\t\t<div class=\"p-2\">\n\t\t\t\t\t\t<div class=\"toolbar\">\n\t\t\t\t\t\t\t<span class=\"text\"></span>\n\t\t\t\t\t\t\t<span class=\"primary\"></span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"foreground\"></div>\n\t\t\t\t\t\t<div class=\"foreground\"></div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class=\"mt-3 text-center\">\n\t\t\t\t<h5 class=\"theme-title\">${theme.label}</h5>\n\t\t\t</div>\n\t\t</div>`);\n\n\t\tpreview.on('click', () => {\n\t\t\tif (this.current_theme === theme.name) return;\n\n\t\t\tthis.themes.forEach((th) => {\n\t\t\t\tth.$html.removeClass(\"selected\");\n\t\t\t});\n\n\t\t\tpreview.addClass(\"selected\");\n\t\t\tthis.toggle_theme(theme.name);\n\t\t});\n\n\t\treturn preview;\n\t}\n\n\ttoggle_theme(theme) {\n\t\tthis.current_theme = theme.toLowerCase();\n\t\tdocument.documentElement.setAttribute(\"data-theme\", this.current_theme);\n\t\tfrappe.show_alert(__(\"Theme Changed\"), 3);\n\n\t\tfrappe.xcall(\"frappe.core.doctype.user.user.switch_theme\", {\n\t\t\ttheme: toTitle(theme)\n\t\t});\n\t}\n\tshow() {\n\t\tthis.dialog.show();\n\t}\n\n\thide() {\n\t\tthis.dialog.hide();\n\t}\n};\n","// Copyright (c) 2015, Frappe Technologies Pvt. Ltd. and Contributors\n// MIT License. See license.txt\n\nfrappe.provide('frappe.model');\n\n$.extend(frappe.model, {\n\tno_value_type: ['Section Break', 'Column Break', 'HTML', 'Table', 'Table MultiSelect',\n\t\t'Button', 'Image', 'Fold', 'Heading'],\n\n\tlayout_fields: ['Section Break', 'Column Break', 'Fold'],\n\n\tstd_fields_list: ['name', 'owner', 'creation', 'modified', 'modified_by',\n\t\t'_user_tags', '_comments', '_assign', '_liked_by', 'docstatus',\n\t\t'parent', 'parenttype', 'parentfield', 'idx'],\n\n\tcore_doctypes_list: ['DocType', 'DocField', 'DocPerm', 'User', 'Role', 'Has Role',\n\t\t'Page', 'Module Def', 'Print Format', 'Report', 'Customize Form',\n\t\t'Customize Form Field', 'Property Setter', 'Custom Field', 'Client Script'],\n\n\tstd_fields: [\n\t\t{fieldname:'name', fieldtype:'Link', label:__('ID')},\n\t\t{fieldname:'owner', fieldtype:'Link', label:__('Created By'), options: 'User'},\n\t\t{fieldname:'idx', fieldtype:'Int', label:__('Index')},\n\t\t{fieldname:'creation', fieldtype:'Date', label:__('Created On')},\n\t\t{fieldname:'modified', fieldtype:'Date', label:__('Last Updated On')},\n\t\t{fieldname:'modified_by', fieldtype:'Data', label:__('Last Updated By')},\n\t\t{fieldname:'_user_tags', fieldtype:'Data', label:__('Tags')},\n\t\t{fieldname:'_liked_by', fieldtype:'Data', label:__('Liked By')},\n\t\t{fieldname:'_comments', fieldtype:'Text', label:__('Comments')},\n\t\t{fieldname:'_assign', fieldtype:'Text', label:__('Assigned To')},\n\t\t{fieldname:'docstatus', fieldtype:'Int', label:__('Document Status')},\n\t],\n\n\tnumeric_fieldtypes: [\"Int\", \"Float\", \"Currency\", \"Percent\", \"Duration\"],\n\n\tstd_fields_table: [\n\t\t{fieldname:'parent', fieldtype:'Data', label:__('Parent')},\n\t],\n\n\ttable_fields: ['Table', 'Table MultiSelect'],\n\n\tnew_names: {},\n\tevents: {},\n\tuser_settings: {},\n\n\tinit: function() {\n\t\t// setup refresh if the document is updated somewhere else\n\t\tfrappe.realtime.on(\"doc_update\", function(data) {\n\t\t\t// set list dirty\n\t\t\tfrappe.views.ListView.trigger_list_update(data);\n\t\t\tvar doc = locals[data.doctype] && locals[data.doctype][data.name];\n\n\t\t\tif(doc) {\n\t\t\t\t// current document is dirty, show message if its not me\n\t\t\t\tif(frappe.get_route()[0]===\"Form\" && cur_frm.doc.doctype===doc.doctype && cur_frm.doc.name===doc.name) {\n\t\t\t\t\tif(!frappe.ui.form.is_saving && data.modified!=cur_frm.doc.modified) {\n\t\t\t\t\t\tdoc.__needs_refresh = true;\n\t\t\t\t\t\tcur_frm.check_doctype_conflict();\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif(!doc.__unsaved) {\n\t\t\t\t\t\t// no local changes, remove from locals\n\t\t\t\t\t\tfrappe.model.remove_from_locals(doc.doctype, doc.name);\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// show message when user navigates back\n\t\t\t\t\t\tdoc.__needs_refresh = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tfrappe.realtime.on(\"list_update\", function(data) {\n\t\t\tfrappe.views.ListView.trigger_list_update(data);\n\t\t});\n\n\t},\n\n\tis_value_type: function(fieldtype) {\n\t\tif (typeof fieldtype == 'object') {\n\t\t\tfieldtype = fieldtype.fieldtype;\n\t\t}\n\t\t// not in no-value type\n\t\treturn frappe.model.no_value_type.indexOf(fieldtype)===-1;\n\t},\n\n\tis_non_std_field: function(fieldname) {\n\t\treturn !frappe.model.std_fields_list.includes(fieldname);\n\t},\n\n\tget_std_field: function(fieldname, ignore=false) {\n\t\tvar docfield = $.map([].concat(frappe.model.std_fields).concat(frappe.model.std_fields_table),\n\t\t\tfunction(d) {\n\t\t\t\tif(d.fieldname==fieldname) return d;\n\t\t\t});\n\t\tif (!docfield.length) {\n\t\t\t//Standard fields are ignored in case of adding columns as a result of groupby\n\t\t\tif (ignore) {\n\t\t\t\treturn {fieldname: fieldname};\n\t\t\t} else {\n\t\t\t\tfrappe.msgprint(__(\"Unknown Column: {0}\", [fieldname]));\n\t\t\t}\n\t\t}\n\t\treturn docfield[0];\n\t},\n\n\tget_from_localstorage: function(doctype) {\n\t\tif (localStorage[\"_doctype:\" + doctype]) {\n\t\t\treturn JSON.parse(localStorage[\"_doctype:\" + doctype]);\n\t\t}\n\t},\n\n\tset_in_localstorage: function(doctype, docs) {\n\t\ttry {\n\t\t\tlocalStorage[\"_doctype:\" + doctype] = JSON.stringify(docs);\n\t\t} catch(e) {\n\t\t\t// if quota is exceeded, clear local storage and set item\n\t\t\tconsole.warn(\"localStorage quota exceeded, clearing doctype cache\")\n\t\t\tfrappe.model.clear_local_storage();\n\t\t\tlocalStorage[\"_doctype:\" + doctype] = JSON.stringify(docs);\n\t\t}\n\t},\n\n\tclear_local_storage: function() {\n\t\tfor(var key in localStorage) {\n\t\t\tif (key.startsWith(\"_doctype:\")) {\n\t\t\t\tlocalStorage.removeItem(key);\n\t\t\t}\n\t\t}\n\t},\n\n\twith_doctype: function(doctype, callback, async) {\n\t\tif(locals.DocType[doctype]) {\n\t\t\tcallback && callback();\n\t\t} else {\n\t\t\tlet cached_timestamp = null;\n\t\t\tlet cached_doc = null;\n\n\t\t\tlet cached_docs = frappe.model.get_from_localstorage(doctype);\n\n\t\t\tif (cached_docs) {\n\t\t\t\tcached_doc = cached_docs.filter(doc => doc.name === doctype)[0];\n\t\t\t\tif(cached_doc) {\n\t\t\t\t\tcached_timestamp = cached_doc.modified;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn frappe.call({\n\t\t\t\tmethod:'frappe.desk.form.load.getdoctype',\n\t\t\t\ttype: \"GET\",\n\t\t\t\targs: {\n\t\t\t\t\tdoctype: doctype,\n\t\t\t\t\twith_parent: 1,\n\t\t\t\t\tcached_timestamp: cached_timestamp\n\t\t\t\t},\n\t\t\t\tasync: async,\n\t\t\t\tcallback: function(r) {\n\t\t\t\t\tif(r.exc) {\n\t\t\t\t\t\tfrappe.msgprint(__(\"Unable to load: {0}\", [__(doctype)]));\n\t\t\t\t\t\tthrow \"No doctype\";\n\t\t\t\t\t}\n\t\t\t\t\tif(r.message==\"use_cache\") {\n\t\t\t\t\t\tfrappe.model.sync(cached_doc);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tfrappe.model.set_in_localstorage(doctype, r.docs)\n\t\t\t\t\t}\n\t\t\t\t\tfrappe.model.init_doctype(doctype);\n\n\t\t\t\t\tif(r.user_settings) {\n\t\t\t\t\t\t// remember filters and other settings from last view\n\t\t\t\t\t\tfrappe.model.user_settings[doctype] = JSON.parse(r.user_settings);\n\t\t\t\t\t\tfrappe.model.user_settings[doctype].updated_on = moment().toString();\n\t\t\t\t\t}\n\t\t\t\t\tcallback && callback(r);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t},\n\n\tinit_doctype: function(doctype) {\n\t\tvar meta = locals.DocType[doctype];\n\t\tif(meta.__list_js) {\n\t\t\teval(meta.__list_js);\n\t\t}\n\t\tif(meta.__custom_list_js) {\n\t\t\teval(meta.__custom_list_js);\n\t\t}\n\t\tif(meta.__calendar_js) {\n\t\t\teval(meta.__calendar_js);\n\t\t}\n\t\tif(meta.__map_js) {\n\t\t\teval(meta.__map_js);\n\t\t}\n\t\tif(meta.__tree_js) {\n\t\t\teval(meta.__tree_js);\n\t\t}\n\t\tif(meta.__templates) {\n\t\t\t$.extend(frappe.templates, meta.__templates);\n\t\t}\n\t},\n\n\twith_doc: function(doctype, name, callback) {\n\t\treturn new Promise(resolve => {\n\t\t\tif(!name) name = doctype; // single type\n\t\t\tif(locals[doctype] && locals[doctype][name] && frappe.model.get_docinfo(doctype, name)) {\n\t\t\t\tcallback && callback(name);\n\t\t\t\tresolve(frappe.get_doc(doctype, name));\n\t\t\t} else {\n\t\t\t\treturn frappe.call({\n\t\t\t\t\tmethod: 'frappe.desk.form.load.getdoc',\n\t\t\t\t\ttype: \"GET\",\n\t\t\t\t\targs: {\n\t\t\t\t\t\tdoctype: doctype,\n\t\t\t\t\t\tname: name\n\t\t\t\t\t},\n\t\t\t\t\tcallback: function(r) {\n\t\t\t\t\t\tcallback && callback(name, r);\n\t\t\t\t\t\tresolve(frappe.get_doc(doctype, name));\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t},\n\n\tget_docinfo: function(doctype, name) {\n\t\treturn frappe.model.docinfo[doctype] && frappe.model.docinfo[doctype][name] || null;\n\t},\n\n\tset_docinfo: function(doctype, name, key, value) {\n\t\tif (frappe.model.docinfo[doctype] && frappe.model.docinfo[doctype][name]) {\n\t\t\tfrappe.model.docinfo[doctype][name][key] = value;\n\t\t}\n\t},\n\n\tget_shared: function(doctype, name) {\n\t\treturn frappe.model.get_docinfo(doctype, name).shared;\n\t},\n\n\tget_server_module_name: function(doctype) {\n\t\tvar dt = frappe.model.scrub(doctype);\n\t\tvar module = frappe.model.scrub(locals.DocType[doctype].module);\n\t\tvar app = frappe.boot.module_app[module];\n\t\treturn app + \".\" + module + '.doctype.' + dt + '.' + dt;\n\t},\n\n\tscrub: function(txt) {\n\t\treturn txt.replace(/ /g, \"_\").toLowerCase();  // use to slugify or create a slug, a \"code-friendly\" string\n\t},\n\n\tunscrub: function(txt) {\n\t\treturn __(txt || '').replace(/-|_/g, \" \").replace(/\\w*/g,\n            function(keywords){return keywords.charAt(0).toUpperCase() + keywords.substr(1).toLowerCase();});\n\t},\n\n\tcan_create: function(doctype) {\n\t\treturn frappe.boot.user.can_create.indexOf(doctype)!==-1;\n\t},\n\n\tcan_select: function(doctype) {\n\t\tif (frappe.boot.user) {\n\t\t\treturn frappe.boot.user.can_select.indexOf(doctype)!==-1;\n\t\t}\n\t},\n\n\tcan_read: function(doctype) {\n\t\tif (frappe.boot.user) {\n\t\t\treturn frappe.boot.user.can_read.indexOf(doctype)!==-1;\n\t\t}\n\t},\n\n\tcan_write: function(doctype) {\n\t\treturn frappe.boot.user.can_write.indexOf(doctype)!==-1;\n\t},\n\n\tcan_get_report: function(doctype) {\n\t\treturn frappe.boot.user.can_get_report.indexOf(doctype)!==-1;\n\t},\n\n\tcan_delete: function(doctype) {\n\t\tif(!doctype) return false;\n\t\treturn frappe.boot.user.can_delete.indexOf(doctype)!==-1;\n\t},\n\n\tcan_cancel: function(doctype) {\n\t\tif(!doctype) return false;\n\t\treturn frappe.boot.user.can_cancel.indexOf(doctype)!==-1;\n\t},\n\n\thas_workflow: function(doctype) {\n\t\treturn frappe.get_list('Workflow', {'document_type': doctype,\n\t\t\t'is_active': 1}).length;\n\t},\n\n\tis_submittable: function(doctype) {\n\t\tif(!doctype) return false;\n\t\treturn locals.DocType[doctype]\n\t\t\t&& locals.DocType[doctype].is_submittable;\n\t},\n\n\tis_table: function(doctype) {\n\t\tif(!doctype) return false;\n\t\treturn locals.DocType[doctype] && locals.DocType[doctype].istable;\n\t},\n\n\tis_single: function(doctype) {\n\t\tif(!doctype) return false;\n\t\treturn frappe.boot.single_types.indexOf(doctype) != -1;\n\t},\n\n\tis_tree: function(doctype) {\n\t\tif (!doctype) return false;\n\t\treturn frappe.boot.treeviews.indexOf(doctype) != -1;\n\t},\n\n\tis_fresh(doc) {\n\t\t// returns true if document has been recently loaded (5 seconds ago)\n\t\treturn doc && doc.__last_sync_on && ((new Date() - doc.__last_sync_on)) < 5000;\n\t},\n\n\tcan_import: function(doctype, frm) {\n\t\t// system manager can always import\n\t\tif(frappe.user_roles.includes(\"System Manager\")) return true;\n\n\t\tif(frm) return frm.perm[0].import===1;\n\t\treturn frappe.boot.user.can_import.indexOf(doctype)!==-1;\n\t},\n\n\tcan_export: function(doctype, frm) {\n\t\t// system manager can always export\n\t\tif(frappe.user_roles.includes(\"System Manager\")) return true;\n\n\t\tif(frm) return frm.perm[0].export===1;\n\t\treturn frappe.boot.user.can_export.indexOf(doctype)!==-1;\n\t},\n\n\tcan_print: function(doctype, frm) {\n\t\tif(frm) return frm.perm[0].print===1;\n\t\treturn frappe.boot.user.can_print.indexOf(doctype)!==-1;\n\t},\n\n\tcan_email: function(doctype, frm) {\n\t\tif(frm) return frm.perm[0].email===1;\n\t\treturn frappe.boot.user.can_email.indexOf(doctype)!==-1;\n\t},\n\n\tcan_share: function(doctype, frm) {\n\t\tif(frm) {\n\t\t\treturn frm.perm[0].share===1;\n\t\t}\n\t\treturn frappe.boot.user.can_share.indexOf(doctype)!==-1;\n\t},\n\n\tcan_set_user_permissions: function(doctype, frm) {\n\t\t// system manager can always set user permissions\n\t\tif(frappe.user_roles.includes(\"System Manager\")) return true;\n\n\t\tif(frm) return frm.perm[0].set_user_permissions===1;\n\t\treturn frappe.boot.user.can_set_user_permissions.indexOf(doctype)!==-1;\n\t},\n\n\thas_value: function(dt, dn, fn) {\n\t\t// return true if property has value\n\t\tvar val = locals[dt] && locals[dt][dn] && locals[dt][dn][fn];\n\t\tvar df = frappe.meta.get_docfield(dt, fn, dn);\n\n\t\tif(frappe.model.table_fields.includes(df.fieldtype)) {\n\t\t\tvar ret = false;\n\t\t\t$.each(locals[df.options] || {}, function(k,d) {\n\t\t\t\tif(d.parent==dn && d.parenttype==dt && d.parentfield==df.fieldname) {\n\t\t\t\t\tret = true;\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t});\n\t\t} else {\n\t\t\tvar ret = !is_null(val);\n\t\t}\n\t\treturn ret ? true : false;\n\t},\n\n\tget_list: function(doctype, filters) {\n\t\tvar docsdict = locals[doctype] || locals[\":\" + doctype] || {};\n\t\tif($.isEmptyObject(docsdict))\n\t\t\treturn [];\n\t\treturn frappe.utils.filter_dict(docsdict, filters);\n\t},\n\n\tget_value: function(doctype, filters, fieldname, callback) {\n\t\tif(callback) {\n\t\t\tfrappe.call({\n\t\t\t\tmethod:\"frappe.client.get_value\",\n\t\t\t\targs: {\n\t\t\t\t\tdoctype: doctype,\n\t\t\t\t\tfieldname: fieldname,\n\t\t\t\t\tfilters: filters\n\t\t\t\t},\n\t\t\t\tcallback: function(r) {\n\t\t\t\t\tif(!r.exc) {\n\t\t\t\t\t\tcallback(r.message);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t} else {\n\t\t\tif(typeof filters===\"string\" && locals[doctype] && locals[doctype][filters]) {\n\t\t\t\treturn locals[doctype][filters][fieldname];\n\t\t\t} else {\n\t\t\t\tvar l = frappe.get_list(doctype, filters);\n\t\t\t\treturn (l.length && l[0]) ? l[0][fieldname] : null;\n\t\t\t}\n\t\t}\n\t},\n\n\tset_value: function(doctype, docname, fieldname, value, fieldtype, skip_dirty_trigger=false) {\n\t\t/* help: Set a value locally (if changed) and execute triggers */\n\n\t\tvar doc;\n\t\tif ($.isPlainObject(doctype)) {\n\t\t\t// first parameter is the doc, shift parameters to the left\n\t\t\tdoc = doctype; fieldname = docname; value = fieldname;\n\t\t} else {\n\t\t\tdoc = locals[doctype] && locals[doctype][docname];\n\t\t}\n\n\t\tlet to_update = fieldname;\n\t\tlet tasks = [];\n\t\tif(!$.isPlainObject(to_update)) {\n\t\t\tto_update = {};\n\t\t\tto_update[fieldname] = value;\n\t\t}\n\n\t\t$.each(to_update, (key, value) => {\n\t\t\tif (doc && doc[key] !== value) {\n\t\t\t\tif(doc.__unedited && !(!doc[key] && !value)) {\n\t\t\t\t\t// unset unedited flag for virgin rows\n\t\t\t\t\tdoc.__unedited = false;\n\t\t\t\t}\n\n\t\t\t\tdoc[key] = value;\n\t\t\t\ttasks.push(() => frappe.model.trigger(key, value, doc, skip_dirty_trigger));\n\t\t\t} else {\n\t\t\t\t// execute link triggers (want to reselect to execute triggers)\n\t\t\t\tif(in_list([\"Link\", \"Dynamic Link\"], fieldtype) && doc) {\n\t\t\t\t\ttasks.push(() => frappe.model.trigger(key, value, doc, skip_dirty_trigger));\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\treturn frappe.run_serially(tasks);\n\t},\n\n\ton: function(doctype, fieldname, fn) {\n\t\t/* help: Attach a trigger on change of a particular field.\n\t\tTo trigger on any change in a particular doctype, use fieldname as \"*\"\n\t\t*/\n\t\t/* example: frappe.model.on(\"Customer\", \"age\", function(fieldname, value, doc) {\n\t\t  if(doc.age < 16) {\n\t\t   \tfrappe.msgprint(\"Warning, Customer must atleast be 16 years old.\");\n\t\t    raise \"CustomerAgeError\";\n\t\t  }\n\t\t}) */\n\t\tfrappe.provide(\"frappe.model.events.\" + doctype);\n\t\tif(!frappe.model.events[doctype][fieldname]) {\n\t\t\tfrappe.model.events[doctype][fieldname] = [];\n\t\t}\n\t\tfrappe.model.events[doctype][fieldname].push(fn);\n\t},\n\n\ttrigger: function(fieldname, value, doc, skip_dirty_trigger=false) {\n\t\tconst tasks = [];\n\n\t\tfunction enqueue_events(events) {\n\t\t\tif (!events) return;\n\n\t\t\tfor (const fn of events) {\n\t\t\t\tif (!fn) continue;\n\n\t\t\t\ttasks.push(() => {\n\t\t\t\t\tconst return_value = fn(fieldname, value, doc, skip_dirty_trigger);\n\n\t\t\t\t\t// if the trigger returns a promise, return it,\n\t\t\t\t\t// or use the default promise frappe.after_ajax\n\t\t\t\t\tif (return_value && return_value.then) {\n\t\t\t\t\t\treturn return_value;\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn frappe.after_server_call();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t};\n\n\t\tif(frappe.model.events[doc.doctype]) {\n\t\t\tenqueue_events(frappe.model.events[doc.doctype][fieldname]);\n\t\t\tenqueue_events(frappe.model.events[doc.doctype]['*']);\n\t\t}\n\n\t\treturn frappe.run_serially(tasks);\n\t},\n\n\tget_doc: function(doctype, name) {\n\t\tif(!name) name = doctype;\n\t\tif($.isPlainObject(name)) {\n\t\t\tvar doc = frappe.get_list(doctype, name);\n\t\t\treturn doc && doc.length ? doc[0] : null;\n\t\t}\n\t\treturn locals[doctype] ? locals[doctype][name] : null;\n\t},\n\n\tget_children: function(doctype, parent, parentfield, filters) {\n\t\tif($.isPlainObject(doctype)) {\n\t\t\tvar doc = doctype;\n\t\t\tvar filters = parentfield\n\t\t\tvar parentfield = parent;\n\t\t} else {\n\t\t\tvar doc = frappe.get_doc(doctype, parent);\n\t\t}\n\n\t\tvar children = doc[parentfield] || [];\n\t\tif(filters) {\n\t\t\treturn frappe.utils.filter_dict(children, filters);\n\t\t} else {\n\t\t\treturn children;\n\t\t}\n\t},\n\n\tclear_table: function(doc, parentfield) {\n\t\tfor (var i=0, l=(doc[parentfield] || []).length; i<l; i++) {\n\t\t\tvar d = doc[parentfield][i];\n\t\t\tdelete locals[d.doctype][d.name];\n\t\t}\n\t\tdoc[parentfield] = [];\n\t},\n\n\tremove_from_locals: function(doctype, name) {\n\t\tthis.clear_doc(doctype, name);\n\t\tif(frappe.views.formview[doctype]) {\n\t\t\tdelete frappe.views.formview[doctype].frm.opendocs[name];\n\t\t}\n\t},\n\n\tclear_doc: function(doctype, name) {\n\t\tvar doc = locals[doctype] && locals[doctype][name];\n\t\tif(!doc) return;\n\n\t\tvar parent = null;\n\t\tif(doc.parenttype) {\n\t\t\tvar parent = doc.parent,\n\t\t\t\tparenttype = doc.parenttype,\n\t\t\t\tparentfield = doc.parentfield;\n\t\t}\n\t\tdelete locals[doctype][name];\n\t\tif(parent) {\n\t\t\tvar parent_doc = locals[parenttype][parent];\n\t\t\tvar newlist = [], idx = 1;\n\t\t\t$.each(parent_doc[parentfield], function(i, d) {\n\t\t\t\tif(d.name!=name) {\n\t\t\t\t\tnewlist.push(d);\n\t\t\t\t\td.idx = idx;\n\t\t\t\t\tidx++;\n\t\t\t\t}\n\t\t\t\tparent_doc[parentfield] = newlist;\n\t\t\t});\n\t\t}\n\t},\n\n\tget_no_copy_list: function(doctype) {\n\t\tvar no_copy_list = ['name','amended_from','amendment_date','cancel_reason'];\n\n\t\tvar docfields = frappe.get_doc(\"DocType\", doctype).fields || [];\n\t\tfor(var i=0, j=docfields.length; i<j; i++) {\n\t\t\tvar df = docfields[i];\n\t\t\tif(cint(df.no_copy)) no_copy_list.push(df.fieldname);\n\t\t}\n\n\t\treturn no_copy_list;\n\t},\n\n\tdelete_doc: function(doctype, docname, callback) {\n\t\tlet title = docname;\n\t\tconst title_field = frappe.get_meta(doctype).title_field;\n\t\tif (frappe.get_meta(doctype).autoname == \"hash\" && title_field) {\n\t\t\tconst value = frappe.model.get_value(doctype, docname, title_field);\n\t\t\tif (value) {\n\t\t\t\ttitle = `${value} (${docname})`;\n\t\t\t}\n\t\t}\n\t\tfrappe.confirm(__(\"Permanently delete {0}?\", [title.bold()]), function() {\n\t\t\treturn frappe.call({\n\t\t\t\tmethod: 'frappe.client.delete',\n\t\t\t\targs: {\n\t\t\t\t\tdoctype: doctype,\n\t\t\t\t\tname: docname\n\t\t\t\t},\n\t\t\t\tcallback: function(r, rt) {\n\t\t\t\t\tif(!r.exc) {\n\t\t\t\t\t\tfrappe.utils.play_sound(\"delete\");\n\t\t\t\t\t\tfrappe.model.clear_doc(doctype, docname);\n\t\t\t\t\t\tif(callback) callback(r,rt);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\t\t})\n\t},\n\n\trename_doc: function(doctype, docname, callback) {\n\t\t\tlet message = __(\"Merge with existing\");\n\t\t\tlet warning = __(\"This cannot be undone\");\n\t\t\tlet merge_label = message + \" <b>(\" + warning + \")</b>\";\n\n\t\tvar d = new frappe.ui.Dialog({\n\t\t\ttitle: __(\"Rename {0}\", [__(docname)]),\n\t\t\tfields: [\n\t\t\t\t{label: __(\"New Name\"), fieldname: \"new_name\", fieldtype: \"Data\", reqd: 1, \"default\": docname},\n\t\t\t\t{label: merge_label, fieldtype: \"Check\", fieldname: \"merge\"},\n\t\t\t]\n\t\t});\n\n\t\td.set_primary_action(__(\"Rename\"), function() {\n\t\t\td.hide();\n\t\t\tvar args = d.get_values();\n\t\t\tif(!args) return;\n\t\t\treturn frappe.call({\n\t\t\t\tmethod:\"frappe.rename_doc\",\n\t\t\t\tfreeze: true,\n\t\t\t\tfreeze_message: \"Updating related fields...\",\n\t\t\t\targs: {\n\t\t\t\t\tdoctype: doctype,\n\t\t\t\t\told: docname,\n\t\t\t\t\tnew: args.new_name,\n\t\t\t\t\tmerge: args.merge\n\t\t\t\t},\n\t\t\t\tbtn: d.get_primary_btn(),\n\t\t\t\tcallback: function(r,rt) {\n\t\t\t\t\tif(!r.exc) {\n\t\t\t\t\t\t$(document).trigger('rename', [doctype, docname,\n\t\t\t\t\t\t\tr.message || args.new_name]);\n\t\t\t\t\t\tif(locals[doctype] && locals[doctype][docname])\n\t\t\t\t\t\t\tdelete locals[doctype][docname];\n\t\t\t\t\t\td.hide();\n\t\t\t\t\t\tif(callback)\n\t\t\t\t\t\t\tcallback(r.message);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t\td.show();\n\t},\n\n\tround_floats_in: function(doc, fieldnames) {\n\t\tif(!fieldnames) {\n\t\t\tfieldnames = frappe.meta.get_fieldnames(doc.doctype, doc.parent,\n\t\t\t\t{\"fieldtype\": [\"in\", [\"Currency\", \"Float\"]]});\n\t\t}\n\t\tfor(var i=0, j=fieldnames.length; i < j; i++) {\n\t\t\tvar fieldname = fieldnames[i];\n\t\t\tdoc[fieldname] = flt(doc[fieldname], precision(fieldname, doc));\n\t\t}\n\t},\n\n\tvalidate_missing: function(doc, fieldname) {\n\t\tif(!doc[fieldname]) {\n\t\t\tfrappe.throw(__(\"Please specify\") + \": \" +\n\t\t\t\t__(frappe.meta.get_label(doc.doctype, fieldname, doc.parent || doc.name)));\n\t\t}\n\t},\n\n\tget_all_docs: function(doc) {\n\t\tvar all = [doc];\n\t\tfor(var key in doc) {\n\t\t\tif($.isArray(doc[key])) {\n\t\t\t\tvar children = doc[key];\n\t\t\t\tfor (var i=0, l=children.length; i < l; i++) {\n\t\t\t\t\tall.push(children[i]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn all;\n\t},\n\n\tget_full_column_name: function(fieldname, doctype) {\n\t\tif (fieldname.includes('`tab')) return fieldname;\n\t\treturn '`tab' + doctype + '`.`' + fieldname + '`';\n\t},\n\n\tis_numeric_field: function(fieldtype) {\n\t\tif (!fieldtype) return;\n\t\tif (typeof fieldtype === 'object') {\n\t\t\tfieldtype = fieldtype.fieldtype;\n\t\t}\n\t\treturn frappe.model.numeric_fieldtypes.includes(fieldtype);\n\t}\n});\n\n// legacy\nfrappe.get_doc = frappe.model.get_doc;\nfrappe.get_children = frappe.model.get_children;\nfrappe.get_list = frappe.model.get_list;\n\nvar getchildren = function(doctype, parent, parentfield) {\n\tvar children = [];\n\t$.each(locals[doctype] || {}, function(i, d) {\n\t\tif(d.parent === parent && d.parentfield === parentfield) {\n\t\t\tchildren.push(d);\n\t\t}\n\t});\n\treturn children;\n}\n","// Copyright (c) 2015, Frappe Technologies Pvt. Ltd. and Contributors\n// MIT License. See license.txt\n\nfrappe.db = {\n\tget_list: function(doctype, args) {\n\t\tif (!args) {\n\t\t\targs = {};\n\t\t}\n\t\targs.doctype = doctype;\n\t\tif (!args.fields) {\n\t\t\targs.fields = ['name'];\n\t\t}\n\t\tif (!('limit' in args)) {\n\t\t\targs.limit = 20;\n\t\t}\n\t\treturn new Promise ((resolve) => {\n\t\t\tfrappe.call({\n\t\t\t\tmethod: 'frappe.desk.reportview.get_list',\n\t\t\t\targs: args,\n\t\t\t\ttype: 'GET',\n\t\t\t\tcallback: function(r) {\n\t\t\t\t\tresolve(r.message);\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t},\n\texists: function(doctype, name) {\n\t\treturn new Promise ((resolve) => {\n\t\t\tfrappe.db.get_value(doctype, {name: name}, 'name').then((r) => {\n\t\t\t\t(r.message && r.message.name) ? resolve(true) : resolve(false);\n\t\t\t});\n\t\t});\n\t},\n\tget_value: function(doctype, filters, fieldname, callback, parent_doc) {\n\t\treturn frappe.call({\n\t\t\tmethod: \"frappe.client.get_value\",\n\t\t\ttype: 'GET',\n\t\t\targs: {\n\t\t\t\tdoctype: doctype,\n\t\t\t\tfieldname: fieldname,\n\t\t\t\tfilters: filters,\n\t\t\t\tparent: parent_doc\n\t\t\t},\n\t\t\tcallback: function(r) {\n\t\t\t\tcallback && callback(r.message);\n\t\t\t}\n\t\t});\n\t},\n\tget_single_value: (doctype, field) => {\n\t\treturn new Promise(resolve => {\n\t\t\tfrappe.call({\n\t\t\t\tmethod: 'frappe.client.get_single_value',\n\t\t\t\targs: { doctype, field },\n\t\t\t\ttype: 'GET',\n\t\t\t}).then(r => resolve(r ? r.message : null));\n\t\t});\n\t},\n\tset_value: function(doctype, docname, fieldname, value, callback) {\n\t\treturn frappe.call({\n\t\t\tmethod: \"frappe.client.set_value\",\n\t\t\targs: {\n\t\t\t\tdoctype: doctype,\n\t\t\t\tname: docname,\n\t\t\t\tfieldname: fieldname,\n\t\t\t\tvalue: value\n\t\t\t},\n\t\t\tcallback: function(r) {\n\t\t\t\tcallback && callback(r.message);\n\t\t\t}\n\t\t});\n\t},\n\tget_doc: function (doctype, name, filters) {\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tfrappe.call({\n\t\t\t\tmethod: \"frappe.client.get\",\n\t\t\t\ttype: 'GET',\n\t\t\t\targs: { doctype, name, filters },\n\t\t\t\tcallback: r => {\n\t\t\t\t\tfrappe.model.sync(r.message);\n\t\t\t\t\tresolve(r.message);\n\t\t\t\t}\n\t\t\t}).fail(reject);\n\t\t});\n\t},\n\tinsert: function(doc) {\n\t\treturn frappe.xcall('frappe.client.insert', { doc });\n\t},\n\tdelete_doc: function(doctype, name) {\n\t\treturn new Promise(resolve => {\n\t\t\tfrappe.call('frappe.client.delete', { doctype, name }, r => resolve(r.message));\n\t\t});\n\t},\n\tcount: function(doctype, args={}) {\n\t\tlet filters = args.filters || {};\n\n\t\t// has a filter with childtable?\n\t\tconst distinct = Array.isArray(filters) && filters.some(filter => {\n\t\t\treturn filter[0] !== doctype;\n\t\t});\n\n\t\tconst fields = [];\n\n\t\treturn frappe.xcall('frappe.desk.reportview.get_count', {\n\t\t\tdoctype,\n\t\t\tfilters,\n\t\t\tfields,\n\t\t\tdistinct,\n\t\t});\n\t},\n\tget_link_options(doctype, txt = '', filters={}) {\n\t\treturn new Promise(resolve => {\n\t\t\tfrappe.call({\n\t\t\t\ttype: 'GET',\n\t\t\t\tmethod: 'frappe.desk.search.search_link',\n\t\t\t\targs: {\n\t\t\t\t\tdoctype,\n\t\t\t\t\ttxt,\n\t\t\t\t\tfilters\n\t\t\t\t},\n\t\t\t\tcallback(r) {\n\t\t\t\t\tresolve(r.results);\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t}\n};\n","// Copyright (c) 2015, Frappe Technologies Pvt. Ltd. and Contributors\n// MIT License. See license.txt\n\nfrappe.provide('frappe.meta.docfield_map');\nfrappe.provide('frappe.meta.docfield_copy');\nfrappe.provide('frappe.meta.docfield_list');\nfrappe.provide('frappe.meta.doctypes');\nfrappe.provide(\"frappe.meta.precision_map\");\n\nfrappe.get_meta = function(doctype) {\n\treturn locals['DocType'] ? locals['DocType'][doctype] : null;\n}\n\n$.extend(frappe.meta, {\n\tsync: function(doc) {\n\t\t$.each(doc.fields, function(i, df) {\n\t\t\tfrappe.meta.add_field(df);\n\t\t})\n\t\tfrappe.meta.sync_messages(doc);\n\t\tif(doc.__print_formats) frappe.model.sync(doc.__print_formats);\n\t\tif(doc.__workflow_docs) frappe.model.sync(doc.__workflow_docs);\n\t},\n\n\t// build docfield_map and docfield_list\n\tadd_field: function(df) {\n\t\tfrappe.provide('frappe.meta.docfield_map.' + df.parent);\n\t\tfrappe.meta.docfield_map[df.parent][df.fieldname || df.label] = df;\n\n\t\tif(!frappe.meta.docfield_list[df.parent])\n\t\t\tfrappe.meta.docfield_list[df.parent] = [];\n\n\t\t// check for repeat\n\t\tfor(var i in frappe.meta.docfield_list[df.parent]) {\n\t\t\tvar d = frappe.meta.docfield_list[df.parent][i];\n\t\t\tif(df.fieldname==d.fieldname)\n\t\t\t\treturn; // no repeat\n\t\t}\n\t\tfrappe.meta.docfield_list[df.parent].push(df);\n\t},\n\n\tmake_docfield_copy_for: function(doctype, docname, docfield_list=null) {\n\t\tvar c = frappe.meta.docfield_copy;\n\t\tif(!c[doctype])\n\t\t\tc[doctype] = {};\n\t\tif(!c[doctype][docname])\n\t\t\tc[doctype][docname] = {};\n\n\t\tdocfield_list = docfield_list || frappe.meta.docfield_list[doctype] || [];\n\t\tfor(var i=0, j=docfield_list.length; i<j; i++) {\n\t\t\tvar df = docfield_list[i];\n\t\t\tc[doctype][docname][df.fieldname || df.label] = copy_dict(df);\n\t\t}\n\t},\n\n\tget_field: function(doctype, fieldname, name) {\n\t\tvar out = frappe.meta.get_docfield(doctype, fieldname, name);\n\n\t\t// search in standard fields\n\t\tif (!out) {\n\t\t\tfrappe.model.std_fields.every(function(d) {\n\t\t\t\tif(d.fieldname===fieldname) {\n\t\t\t\t\tout = d;\n\t\t\t\t\treturn false;\n\t\t\t\t} else {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\treturn out;\n\t},\n\n\tget_docfield: function(doctype, fieldname, name) {\n\t\tvar fields_dict = frappe.meta.get_docfield_copy(doctype, name);\n\t\treturn fields_dict ? fields_dict[fieldname] : null;\n\t},\n\n\tset_formatter: function(doctype, fieldname, name, formatter) {\n\t\tfrappe.meta.get_docfield(doctype, fieldname, name).formatter = formatter;\n\t},\n\n\tset_indicator_formatter: function(doctype, fieldname, name, get_text, get_color) {\n\t\tfrappe.meta.get_docfield(doctype, fieldname, name).formatter =\n\t\t\tfunction(value, df, options, doc) {\n\t\t\t\treturn repl('<span class=\"indicator %(color)s\">%(name)s</span>', {\n\t\t\t\t\tcolor: get_color(),\n\t\t\t\t\tname: get_text()\n\t\t\t\t});\n\t\t\t};\n\t},\n\n\tget_docfields: function(doctype, name, filters) {\n\t\tvar docfield_map = frappe.meta.get_docfield_copy(doctype, name);\n\n\t\tvar docfields = frappe.meta.sort_docfields(docfield_map);\n\n\t\tif(filters) {\n\t\t\tdocfields = frappe.utils.filter_dict(docfields, filters);\n\t\t}\n\n\t\treturn docfields;\n\t},\n\n\tget_linked_fields: function(doctype) {\n\t\treturn $.map(frappe.get_meta(doctype).fields,\n\t\t\tfunction(d) { return d.fieldtype==\"Link\" ? d.options : null; });\n\t},\n\n\tget_fields_to_check_permissions: function(doctype) {\n\t\tvar fields = $.map(frappe.meta.get_docfields(doctype, name), function(df) {\n\t\t\treturn (df.fieldtype===\"Link\" && df.ignore_user_permissions!==1) ? df : null;\n\t\t});\n\t\tfields = fields.concat({label: \"Name\", fieldname: name, options: doctype});\n\t\treturn fields;\n\t},\n\n\tsort_docfields: function(docs) {\n\t\treturn $.map(docs, function(d) { return d; }).sort(function(a, b) { return a.idx - b.idx });\n\t},\n\n\tget_docfield_copy: function(doctype, name) {\n\t\tif(!name) return frappe.meta.docfield_map[doctype];\n\n\t\tif(!(frappe.meta.docfield_copy[doctype] && frappe.meta.docfield_copy[doctype][name])) {\n\t\t\tfrappe.meta.make_docfield_copy_for(doctype, name);\n\t\t}\n\n\t\treturn frappe.meta.docfield_copy[doctype][name];\n\t},\n\n\tget_fieldnames: function(doctype, name, filters) {\n\t\treturn $.map(frappe.utils.filter_dict(frappe.meta.docfield_map[doctype], filters),\n\t\t\tfunction(df) { return df.fieldname; });\n\t},\n\n\thas_field: function(dt, fn) {\n\t\tlet docfield_map = frappe.meta.docfield_map[dt];\n\t\treturn docfield_map && docfield_map[fn];\n\t},\n\n\tget_table_fields: function(dt) {\n\t\treturn $.map(frappe.meta.docfield_list[dt], function(d) {\n\t\t\treturn frappe.model.table_fields.includes(d.fieldtype) ? d : null});\n\t},\n\n\tget_doctype_for_field: function(doctype, key) {\n\t\tvar out = null;\n\t\tif(in_list(frappe.model.std_fields_list, key)) {\n\t\t\t// standard\n\t\t\tout = doctype;\n\t\t} else if(frappe.meta.has_field(doctype, key)) {\n\t\t\t// found in parent\n\t\t\tout = doctype;\n\t\t} else {\n\t\t\tfrappe.meta.get_table_fields(doctype).every(function(d) {\n\t\t\t\tif(frappe.meta.has_field(d.options, key)) {\n\t\t\t\t\tout = d.options;\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t\t});\n\n\t\t\tif(!out) {\n\t\t\t\t// eslint-disable-next-line\n\t\t\t\tconsole.log(__('Warning: Unable to find {0} in any table related to {1}', [key, __(doctype)]));\n\t\t\t}\n\t\t}\n\t\treturn out;\n\t},\n\n\tget_parentfield: function(parent_dt, child_dt) {\n\t\tvar df = (frappe.get_doc(\"DocType\", parent_dt).fields || [])\n\t\t\t.filter(df => frappe.model.table_fields.includes(df.fieldtype) && df.options===child_dt)\n\t\tif(!df.length)\n\t\t\tthrow \"parentfield not found for \" + parent_dt + \", \" + child_dt;\n\t\treturn df[0].fieldname;\n\t},\n\n\tget_label: function(dt, fn, dn) {\n\t\tvar standard = {\n\t\t\t'owner': __('Owner'),\n\t\t\t'creation': __('Created On'),\n\t\t\t'modified': __('Last Modified On'),\n\t\t\t'idx': __('Idx'),\n\t\t\t'name': __('Name'),\n\t\t\t'modified_by': __('Last Modified By')\n\t\t}\n\t\tif(standard[fn]) {\n\t\t\treturn standard[fn];\n\t\t} else {\n\t\t\tvar df = this.get_docfield(dt, fn, dn);\n\t\t\treturn (df ? df.label : \"\") || fn;\n\t\t}\n\t},\n\n\tget_print_sizes: function() {\n\t\treturn [\n\t\t\t\"A0\", \"A1\", \"A2\", \"A3\", \"A4\", \"A5\", \"A6\", \"A7\", \"A8\", \"A9\",\n\t\t\t\"B0\", \"B1\", \"B2\", \"B3\", \"B4\", \"B5\", \"B6\", \"B7\", \"B8\", \"B9\", \"B10\",\n\t\t\t\"C5E\", \"Comm10E\", \"DLE\", \"Executive\", \"Folio\", \"Ledger\", \"Legal\",\n\t\t\t\"Letter\", \"Tabloid\", \"Custom\"\n\t\t];\n\t},\n\n\tget_print_formats: function(doctype) {\n\t\tvar print_format_list = [\"Standard\"];\n\t\tvar default_print_format = locals.DocType[doctype].default_print_format;\n\t\tlet enable_raw_printing = frappe.model.get_doc(\":Print Settings\", \"Print Settings\").enable_raw_printing;\n\t\tvar print_formats = frappe.get_list(\"Print Format\", {doc_type: doctype})\n\t\t\t.sort(function(a, b) { return (a > b) ? 1 : -1; });\n\t\t$.each(print_formats, function(i, d) {\n\t\t\tif (\n\t\t\t\t!in_list(print_format_list, d.name)\n\t\t\t\t&& d.print_format_type !== 'JS'\n\t\t\t\t&& (cint(enable_raw_printing) || !d.raw_printing)\n\t\t\t) {\n\t\t\t\tprint_format_list.push(d.name);\n\t\t\t}\n\t\t});\n\n\t\tif(default_print_format && default_print_format != \"Standard\") {\n\t\t\tvar index = print_format_list.indexOf(default_print_format);\n\t\t\tprint_format_list.splice(index, 1).sort();\n\t\t\tprint_format_list.unshift(default_print_format);\n\t\t}\n\n\t\treturn print_format_list;\n\t},\n\n\tsync_messages: function(doc) {\n\t\tif(doc.__messages) {\n\t\t\t$.extend(frappe._messages, doc.__messages);\n\t\t}\n\t},\n\n\tget_field_currency: function(df, doc) {\n\t\tvar currency = frappe.boot.sysdefaults.currency;\n\t\tif(!doc && cur_frm)\n\t\t\tdoc = cur_frm.doc;\n\n\t\tif(df && df.options) {\n\t\t\tif(doc && df.options.indexOf(\":\")!=-1) {\n\t\t\t\tvar options = df.options.split(\":\");\n\t\t\t\tif(options.length==3) {\n\t\t\t\t\t// get reference record e.g. Company\n\t\t\t\t\tvar docname = doc[options[1]];\n\t\t\t\t\tif(!docname && cur_frm) {\n\t\t\t\t\t\tdocname = cur_frm.doc[options[1]];\n\t\t\t\t\t}\n\t\t\t\t\tcurrency = frappe.model.get_value(options[0], docname, options[2]) ||\n\t\t\t\t\t\tfrappe.model.get_value(\":\" + options[0], docname, options[2]) ||\n\t\t\t\t\t\tcurrency;\n\t\t\t\t}\n\t\t\t} else if(doc && doc[df.options]) {\n\t\t\t\tcurrency = doc[df.options];\n\t\t\t} else if(cur_frm && cur_frm.doc[df.options]) {\n\t\t\t\tcurrency = cur_frm.doc[df.options];\n\t\t\t}\n\t\t}\n\t\treturn currency;\n\t},\n\n\tget_field_precision: function(df, doc) {\n\t\tvar precision = null;\n\t\tif (df && df.precision) {\n\t\t\tprecision = cint(df.precision);\n\t\t} else if(df && df.fieldtype === \"Currency\") {\n\t\t\tprecision = cint(frappe.defaults.get_default(\"currency_precision\"));\n\t\t\tif(!precision) {\n\t\t\t\tvar number_format = get_number_format();\n\t\t\t\tvar number_format_info = get_number_format_info(number_format);\n\t\t\t\tprecision = number_format_info.precision;\n\t\t\t}\n\t\t} else {\n\t\t\tprecision = cint(frappe.defaults.get_default(\"float_precision\")) || 3;\n\t\t}\n\t\treturn precision;\n\t}\n});\n","// Copyright (c) 2015, Frappe Technologies Pvt. Ltd. and Contributors\n// MIT License. See license.txt\n\n$.extend(frappe.model, {\n\tdocinfo: {},\n\tsync: function(r) {\n\t\t/* docs:\n\t\t\textract docs, docinfo (attachments, comments, assignments)\n\t\t\tfrom incoming request and set in `locals` and `frappe.model.docinfo`\n\t\t*/\n\t\tvar isPlain;\n\t\tif(!r.docs && !r.docinfo) r = {docs:r};\n\n\t\tisPlain = $.isPlainObject(r.docs);\n\t\tif(isPlain) r.docs = [r.docs];\n\n\t\tif(r.docs) {\n\n\t\t\tfor(var i=0, l=r.docs.length; i<l; i++) {\n\t\t\t\tvar d = r.docs[i];\n\n\t\t\t\tif (locals[d.doctype] && locals[d.doctype][d.name]) {\n\t\t\t\t\t// update values\n\t\t\t\t\tfrappe.model.update_in_locals(d);\n\t\t\t\t} else {\n\t\t\t\t\tfrappe.model.add_to_locals(d);\n\t\t\t\t}\n\n\t\t\t\td.__last_sync_on = new Date();\n\n\t\t\t\tif(d.doctype===\"DocType\") {\n\t\t\t\t\tfrappe.meta.sync(d);\n\t\t\t\t}\n\n\t\t\t\tif(d.localname) {\n\t\t\t\t\tfrappe.model.new_names[d.localname] = d.name;\n\t\t\t\t\t$(document).trigger('rename', [d.doctype, d.localname, d.name]);\n\t\t\t\t\tdelete locals[d.doctype][d.localname];\n\n\t\t\t\t\t// update docinfo to new dict keys\n\t\t\t\t\tif(i===0) {\n\t\t\t\t\t\tfrappe.model.docinfo[d.doctype][d.name] = frappe.model.docinfo[d.doctype][d.localname];\n\t\t\t\t\t\tfrappe.model.docinfo[d.doctype][d.localname] = undefined;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\n\n\t\t}\n\n\t\t// set docinfo (comments, assign, attachments)\n\t\tif(r.docinfo) {\n\t\t\tvar doc;\n\t\t\tif(r.docs) {\n\t\t\t\tdoc = r.docs[0];\n\t\t\t} else {\n\t\t\t\tif(cur_frm) doc = cur_frm.doc;\n\t\t\t}\n\t\t\tif(doc) {\n\t\t\t\tif(!frappe.model.docinfo[doc.doctype])\n\t\t\t\t\tfrappe.model.docinfo[doc.doctype] = {};\n\t\t\t\tfrappe.model.docinfo[doc.doctype][doc.name] = r.docinfo;\n\t\t\t}\n\t\t}\n\n\t\treturn r.docs;\n\t},\n\tadd_to_locals: function(doc) {\n\t\tif(!locals[doc.doctype])\n\t\t\tlocals[doc.doctype] = {};\n\n\t\tif(!doc.name && doc.__islocal) { // get name (local if required)\n\t\t\tif(!doc.parentfield) frappe.model.clear_doc(doc);\n\n\t\t\tdoc.name = frappe.model.get_new_name(doc.doctype);\n\n\t\t\tif(!doc.parentfield) frappe.provide(\"frappe.model.docinfo.\" + doc.doctype + \".\" + doc.name);\n\t\t}\n\n\t\tlocals[doc.doctype][doc.name] = doc;\n\n\t\tlet meta = frappe.get_meta(doc.doctype);\n\t\tlet is_table = meta ? meta.istable : doc.parentfield;\n\t\t// add child docs to locals\n\t\tif (!is_table) {\n\t\t\tfor(var i in doc) {\n\t\t\t\tvar value = doc[i];\n\n\t\t\t\tif($.isArray(value)) {\n\t\t\t\t\tfor (var x=0, y=value.length; x < y; x++) {\n\t\t\t\t\t\tvar d = value[x];\n\n\t\t\t\t\t\tif(typeof d=='object' && !d.parent)\n\t\t\t\t\t\t\td.parent = doc.name;\n\n\t\t\t\t\t\tfrappe.model.add_to_locals(d);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\tupdate_in_locals: function(doc) {\n\t\t// update values in the existing local doc instead of replacing\n\t\tlet local_doc = locals[doc.doctype][doc.name];\n\t\tlet clear_keys = function(source, target) {\n\t\t\tObject.keys(target).map(key => {\n\t\t\t\tif (source[key] == undefined) delete target[key];\n\t\t\t});\n\t\t}\n\n\t\tfor (let fieldname in doc) {\n\t\t\tlet df = frappe.meta.get_field(doc.doctype, fieldname);\n\t\t\tif (df && frappe.model.table_fields.includes(df.fieldtype)) {\n\t\t\t\t// table\n\t\t\t\tif (!(doc[fieldname] instanceof Array)) {\n\t\t\t\t\tdoc[fieldname] = [];\n\t\t\t\t}\n\n\t\t\t\tif (!(local_doc[fieldname] instanceof Array)) {\n\t\t\t\t\tlocal_doc[fieldname] = [];\n\t\t\t\t}\n\n\t\t\t\t// child table, override each row and append new rows if required\n\t\t\t\tfor (let i=0; i < doc[fieldname].length; i++ ) {\n\t\t\t\t\tlet d = doc[fieldname][i];\n\t\t\t\t\tlet local_d = local_doc[fieldname][i];\n\t\t\t\t\tif (local_d) {\n\t\t\t\t\t\t// deleted and added again\n\t\t\t\t\t\tif (!locals[d.doctype]) locals[d.doctype] = {};\n\n\t\t\t\t\t\tif (!d.name) {\n\t\t\t\t\t\t\t// incoming row is new, find a new name\n\t\t\t\t\t\t\td.name = frappe.model.get_new_name(doc.doctype);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// if incoming row is not registered, register it\n\t\t\t\t\t\tif (!locals[d.doctype][d.name]) {\n\t\t\t\t\t\t\t// detach old key\n\t\t\t\t\t\t\tdelete locals[d.doctype][local_d.name];\n\n\t\t\t\t\t\t\t// re-attach with new name\n\t\t\t\t\t\t\tlocals[d.doctype][d.name] = local_d;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// row exists, just copy the values\n\t\t\t\t\t\tObject.assign(local_d, d);\n\t\t\t\t\t\tclear_keys(d, local_d);\n\n\t\t\t\t\t} else {\n\t\t\t\t\t\tlocal_doc[fieldname].push(d);\n\t\t\t\t\t\tif (!d.parent) d.parent = doc.name;\n\t\t\t\t\t\tfrappe.model.add_to_locals(d);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// remove extra rows\n\t\t\t\tif (local_doc[fieldname].length > doc[fieldname].length) {\n\t\t\t\t\tfor (let i = doc[fieldname].length; i < local_doc[fieldname].length; i++) {\n\n\t\t\t\t\t\t// clear from local\n\t\t\t\t\t\tlet d = local_doc[fieldname][i];\n\t\t\t\t\t\tif (locals[d.doctype] && locals[d.doctype][d.name]) {\n\t\t\t\t\t\t\tdelete locals[d.doctype][d.name];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tlocal_doc[fieldname].length = doc[fieldname].length;\n\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// literal\n\t\t\t\tlocal_doc[fieldname] = doc[fieldname];\n\t\t\t}\n\t\t}\n\n\t\t// clear keys on parent\n\t\tclear_keys(doc, local_doc);\n\t}\n\n});\n","// Copyright (c) 2015, Frappe Technologies Pvt. Ltd. and Contributors\n// MIT License. See license.txt\n\nfrappe.provide(\"frappe.model\");\n\n$.extend(frappe.model, {\n\tnew_names: {},\n\tnew_name_count: {},\n\n\tget_new_doc: function(\n\t\tdoctype,\n\t\tparent_doc,\n\t\tparentfield,\n\t\twith_mandatory_children\n\t) {\n\t\tfrappe.provide(\"locals.\" + doctype);\n\t\tvar doc = {\n\t\t\tdocstatus: 0,\n\t\t\tdoctype: doctype,\n\t\t\tname: frappe.model.get_new_name(doctype),\n\t\t\t__islocal: 1,\n\t\t\t__unsaved: 1,\n\t\t\towner: frappe.session.user\n\t\t};\n\t\tfrappe.model.set_default_values(doc, parent_doc);\n\n\t\tif (parent_doc) {\n\t\t\t$.extend(doc, {\n\t\t\t\tparent: parent_doc.name,\n\t\t\t\tparentfield: parentfield,\n\t\t\t\tparenttype: parent_doc.doctype\n\t\t\t});\n\t\t\tif (!parent_doc[parentfield]) parent_doc[parentfield] = [];\n\t\t\tdoc.idx = parent_doc[parentfield].length + 1;\n\t\t\tparent_doc[parentfield].push(doc);\n\t\t} else {\n\t\t\tfrappe.provide(\"frappe.model.docinfo.\" + doctype + \".\" + doc.name);\n\t\t}\n\n\t\tfrappe.model.add_to_locals(doc);\n\n\t\tif (with_mandatory_children) {\n\t\t\tfrappe.model.create_mandatory_children(doc);\n\t\t}\n\n\t\tif (!parent_doc) {\n\t\t\tdoc.__run_link_triggers = 1;\n\t\t}\n\n\t\t// set the name if called from a link field\n\t\tif (frappe.route_options && frappe.route_options.name_field) {\n\t\t\tvar meta = frappe.get_meta(doctype);\n\t\t\t// set title field / name as name\n\t\t\tif (meta.autoname && meta.autoname.indexOf(\"field:\") !== -1) {\n\t\t\t\tdoc[meta.autoname.substr(6)] = frappe.route_options.name_field;\n\t\t\t} else if (meta.title_field) {\n\t\t\t\tdoc[meta.title_field] = frappe.route_options.name_field;\n\t\t\t}\n\n\t\t\tdelete frappe.route_options.name_field;\n\t\t}\n\n\t\t// set route options\n\t\tif (frappe.route_options && !doc.parent) {\n\t\t\t$.each(frappe.route_options, function(fieldname, value) {\n\t\t\t\tvar df = frappe.meta.has_field(doctype, fieldname);\n\t\t\t\tif (\n\t\t\t\t\tdf &&\n\t\t\t\t\tin_list(\n\t\t\t\t\t\t[\"Link\", \"Data\", \"Select\", \"Dynamic Link\"],\n\t\t\t\t\t\tdf.fieldtype\n\t\t\t\t\t) &&\n\t\t\t\t\t!df.no_copy\n\t\t\t\t) {\n\t\t\t\t\tdoc[fieldname] = value;\n\t\t\t\t}\n\t\t\t});\n\t\t\tfrappe.route_options = null;\n\t\t}\n\n\t\treturn doc;\n\t},\n\n\tmake_new_doc_and_get_name: function(doctype, with_mandatory_children) {\n\t\treturn frappe.model.get_new_doc(\n\t\t\tdoctype,\n\t\t\tnull,\n\t\t\tnull,\n\t\t\twith_mandatory_children\n\t\t).name;\n\t},\n\n\tget_new_name: function(doctype) {\n\t\tvar cnt = frappe.model.new_name_count;\n\t\tif (!cnt[doctype]) cnt[doctype] = 0;\n\t\tcnt[doctype]++;\n\t\treturn frappe.router.slug(`new-${doctype}-${cnt[doctype]}`);\n\t},\n\n\tset_default_values: function(doc, parent_doc) {\n\t\tvar doctype = doc.doctype;\n\t\tvar docfields = frappe.meta.get_docfields(doctype);\n\t\tvar updated = [];\n\t\tfor (var fid = 0; fid < docfields.length; fid++) {\n\t\t\tvar f = docfields[fid];\n\t\t\tif (\n\t\t\t\t!in_list(frappe.model.no_value_type, f.fieldtype) &&\n\t\t\t\tdoc[f.fieldname] == null\n\t\t\t) {\n\t\t\t\tif (f.no_default) continue;\n\t\t\t\tvar v = frappe.model.get_default_value(f, doc, parent_doc);\n\t\t\t\tif (v) {\n\t\t\t\t\tif (in_list([\"Int\", \"Check\"], f.fieldtype)) v = cint(v);\n\t\t\t\t\telse if (in_list([\"Currency\", \"Float\"], f.fieldtype))\n\t\t\t\t\t\tv = flt(v);\n\n\t\t\t\t\tdoc[f.fieldname] = v;\n\t\t\t\t\tupdated.push(f.fieldname);\n\t\t\t\t} else if (\n\t\t\t\t\tf.fieldtype == \"Select\" &&\n\t\t\t\t\tf.options &&\n\t\t\t\t\ttypeof f.options === \"string\" &&\n\t\t\t\t\t!in_list([\"[Select]\", \"Loading...\"], f.options)\n\t\t\t\t) {\n\t\t\t\t\tdoc[f.fieldname] = f.options.split(\"\\n\")[0];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn updated;\n\t},\n\n\tcreate_mandatory_children: function(doc) {\n\t\tvar meta = frappe.get_meta(doc.doctype);\n\t\tif (meta && meta.istable) return;\n\n\t\t// create empty rows for mandatory table fields\n\t\tfrappe.meta.get_docfields(doc.doctype).forEach(function(df) {\n\t\t\tif (df.fieldtype === \"Table\" && df.reqd) {\n\t\t\t\tfrappe.model.add_child(doc, df.fieldname);\n\t\t\t}\n\t\t});\n\t},\n\n\tget_default_value: function(df, doc, parent_doc) {\n\t\tvar user_default = \"\";\n\t\tvar user_permissions = frappe.defaults.get_user_permissions();\n\t\tlet allowed_records = [];\n\t\tlet default_doc = null;\n\t\tlet value = null;\n\t\tif (user_permissions) {\n\t\t\t({\n\t\t\t\tallowed_records,\n\t\t\t\tdefault_doc\n\t\t\t} = frappe.perm.filter_allowed_docs_for_doctype(\n\t\t\t\tuser_permissions[df.options],\n\t\t\t\tdoc.doctype\n\t\t\t));\n\t\t}\n\t\tvar meta = frappe.get_meta(doc.doctype);\n\t\tvar has_user_permissions =\n\t\t\tdf.fieldtype === \"Link\" &&\n\t\t\t!$.isEmptyObject(user_permissions) &&\n\t\t\tdf.ignore_user_permissions != 1 &&\n\t\t\tallowed_records.length;\n\n\t\t// don't set defaults for \"User\" link field using User Permissions!\n\t\tif (df.fieldtype === \"Link\" && df.options !== \"User\") {\n\t\t\t// If user permission has Is Default enabled or single-user permission has found against respective doctype.\n\t\t\tif (has_user_permissions && default_doc) {\n\t\t\t\tvalue = default_doc;\n\t\t\t} else {\n\t\t\t\t// 2 - look in user defaults\n\n\t\t\t\tif (!df.ignore_user_permissions) {\n\t\t\t\t\tvar user_defaults = frappe.defaults.get_user_defaults(df.options);\n\t\t\t\t\tif (user_defaults && user_defaults.length===1) {\n\t\t\t\t\t\t// Use User Permission value when only when it has a single value\n\t\t\t\t\t\tuser_default = user_defaults[0];\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (!user_default) {\n\t\t\t\t\tuser_default = frappe.defaults.get_user_default(df.fieldname);\n\t\t\t\t} else if (\n\t\t\t\t\t!user_default &&\n\t\t\t\t\tdf.remember_last_selected_value &&\n\t\t\t\t\tfrappe.boot.user.last_selected_values\n\t\t\t\t) {\n\t\t\t\t\tuser_default = frappe.boot.user.last_selected_values[df.options];\n\t\t\t\t}\n\n\t\t\t\tvar is_allowed_user_default =\n\t\t\t\t\tuser_default &&\n\t\t\t\t\t(!has_user_permissions ||\n\t\t\t\t\t\tallowed_records.includes(user_default));\n\n\t\t\t\t// is this user default also allowed as per user permissions?\n\t\t\t\tif (is_allowed_user_default) {\n\t\t\t\t\tvalue = user_default;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// 3 - look in default of docfield\n\t\tif (!value || df[\"default\"]) {\n\t\t\tconst default_val = String(df[\"default\"]);\n\t\t\tif (\n\t\t\t\tdefault_val == \"__user\" ||\n\t\t\t\tdefault_val.toLowerCase() == \"user\"\n\t\t\t) {\n\t\t\t\tvalue = frappe.session.user;\n\t\t\t} else if (default_val == \"user_fullname\") {\n\t\t\t\tvalue = frappe.session.user_fullname;\n\t\t\t} else if (default_val == \"Today\") {\n\t\t\t\tvalue = frappe.datetime.get_today();\n\t\t\t} else if ((default_val || \"\").toLowerCase() === \"now\") {\n\t\t\t\tvalue = frappe.datetime.now_datetime();\n\t\t\t} else if (default_val[0] === \":\") {\n\t\t\t\tvar boot_doc = frappe.model.get_default_from_boot_docs(\n\t\t\t\t\tdf,\n\t\t\t\t\tdoc,\n\t\t\t\t\tparent_doc\n\t\t\t\t);\n\t\t\t\tvar is_allowed_boot_doc =\n\t\t\t\t\t!has_user_permissions || allowed_records.includes(boot_doc);\n\n\t\t\t\tif (is_allowed_boot_doc) {\n\t\t\t\t\tvalue = boot_doc;\n\t\t\t\t}\n\t\t\t} else if (df.fieldname === meta.title_field) {\n\t\t\t\t// ignore defaults for title field\n\t\t\t\tvalue = \"\";\n\t\t\t} else {\n\t\t\t\t// is this default value is also allowed as per user permissions?\n\t\t\t\tvar is_allowed_default =\n\t\t\t\t\t!has_user_permissions ||\n\t\t\t\t\tallowed_records.includes(df.default);\n\t\t\t\tif (\n\t\t\t\t\tdf.fieldtype !== \"Link\" ||\n\t\t\t\t\tdf.options === \"User\" ||\n\t\t\t\t\tis_allowed_default\n\t\t\t\t) {\n\t\t\t\t\tvalue = df[\"default\"];\n\t\t\t\t}\n\t\t\t}\n\t\t} else if (df.fieldtype == \"Time\") {\n\t\t\tvalue = frappe.datetime.now_time();\n\t\t}\n\n\t\t// set it here so we know it was set as a default\n\t\tdf.__default_value = value;\n\n\t\treturn value;\n\t},\n\n\tget_default_from_boot_docs: function(df, doc, parent_doc) {\n\t\t// set default from partial docs passed during boot like \":User\"\n\t\tif (frappe.get_list(df[\"default\"]).length > 0) {\n\t\t\tvar ref_fieldname = df[\"default\"]\n\t\t\t\t.slice(1)\n\t\t\t\t.toLowerCase()\n\t\t\t\t.replace(\" \", \"_\");\n\t\t\tvar ref_value = parent_doc\n\t\t\t\t? parent_doc[ref_fieldname]\n\t\t\t\t: frappe.defaults.get_user_default(ref_fieldname);\n\t\t\tvar ref_doc = ref_value\n\t\t\t\t? frappe.get_doc(df[\"default\"], ref_value)\n\t\t\t\t: null;\n\n\t\t\tif (ref_doc && ref_doc[df.fieldname]) {\n\t\t\t\treturn ref_doc[df.fieldname];\n\t\t\t}\n\t\t}\n\t},\n\n\tadd_child: function(parent_doc, doctype, parentfield, idx) {\n\t\t// if given doc, fieldname only\n\t\tif (arguments.length === 2) {\n\t\t\tparentfield = doctype;\n\t\t\tdoctype = frappe.meta.get_field(parent_doc.doctype, parentfield)\n\t\t\t\t.options;\n\t\t}\n\n\t\t// create row doc\n\t\tidx = idx ? idx - 0.1 : (parent_doc[parentfield] || []).length + 1;\n\n\t\tvar child = frappe.model.get_new_doc(doctype, parent_doc, parentfield);\n\t\tchild.idx = idx;\n\n\t\t// renum for fraction\n\t\tif (idx !== cint(idx)) {\n\t\t\tvar sorted = parent_doc[parentfield].sort(function(a, b) {\n\t\t\t\treturn a.idx - b.idx;\n\t\t\t});\n\t\t\tfor (var i = 0, j = sorted.length; i < j; i++) {\n\t\t\t\tvar d = sorted[i];\n\t\t\t\td.idx = i + 1;\n\t\t\t}\n\t\t}\n\n\t\tif (cur_frm && cur_frm.doc == parent_doc) cur_frm.dirty();\n\n\t\treturn child;\n\t},\n\n\tcopy_doc: function(doc, from_amend, parent_doc, parentfield) {\n\t\tvar no_copy_list = [\n\t\t\t\"name\",\n\t\t\t\"amended_from\",\n\t\t\t\"amendment_date\",\n\t\t\t\"cancel_reason\"\n\t\t];\n\t\tvar newdoc = frappe.model.get_new_doc(\n\t\t\tdoc.doctype,\n\t\t\tparent_doc,\n\t\t\tparentfield\n\t\t);\n\n\t\tfor (var key in doc) {\n\t\t\t// dont copy name and blank fields\n\t\t\tvar df = frappe.meta.get_docfield(doc.doctype, key);\n\n\t\t\tif (\n\t\t\t\tdf &&\n\t\t\t\tkey.substr(0, 2) != \"__\" &&\n\t\t\t\t!in_list(no_copy_list, key) &&\n\t\t\t\t!(df && (!from_amend && cint(df.no_copy) == 1))\n\t\t\t) {\n\t\t\t\tvar value = doc[key] || [];\n\t\t\t\tif (frappe.model.table_fields.includes(df.fieldtype)) {\n\t\t\t\t\tfor (var i = 0, j = value.length; i < j; i++) {\n\t\t\t\t\t\tvar d = value[i];\n\t\t\t\t\t\tfrappe.model.copy_doc(\n\t\t\t\t\t\t\td,\n\t\t\t\t\t\t\tfrom_amend,\n\t\t\t\t\t\t\tnewdoc,\n\t\t\t\t\t\t\tdf.fieldname\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tnewdoc[key] = doc[key];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tvar user = frappe.session.user;\n\n\t\tnewdoc.__islocal = 1;\n\t\tnewdoc.docstatus = 0;\n\t\tnewdoc.owner = user;\n\t\tnewdoc.creation = \"\";\n\t\tnewdoc.modified_by = user;\n\t\tnewdoc.modified = \"\";\n\t\tnewdoc.lft = null;\n\t\tnewdoc.rgt = null;\n\n\t\treturn newdoc;\n\t},\n\n\topen_mapped_doc: function(opts) {\n\t\tif (opts.frm && opts.frm.doc.__unsaved) {\n\t\t\tfrappe.throw(\n\t\t\t\t__(\n\t\t\t\t\t\"You have unsaved changes in this form. Please save before you continue.\"\n\t\t\t\t)\n\t\t\t);\n\t\t} else if (!opts.source_name && opts.frm) {\n\t\t\topts.source_name = opts.frm.doc.name;\n\t\t} else if (!opts.frm && !opts.source_name) {\n\t\t\topts.source_name = null;\n\t\t}\n\n\t\treturn frappe.call({\n\t\t\ttype: \"POST\",\n\t\t\tmethod: \"frappe.model.mapper.make_mapped_doc\",\n\t\t\targs: {\n\t\t\t\tmethod: opts.method,\n\t\t\t\tsource_name: opts.source_name,\n\t\t\t\targs: opts.args || null,\n\t\t\t\tselected_children: opts.frm ? opts.frm.get_selected() : null\n\t\t\t},\n\t\t\tfreeze: true,\n\t\t\tfreeze_message: opts.freeze_message || \"\",\n\t\t\tcallback: function(r) {\n\t\t\t\tif (!r.exc) {\n\t\t\t\t\tfrappe.model.sync(r.message);\n\t\t\t\t\tif (opts.run_link_triggers) {\n\t\t\t\t\t\tfrappe.get_doc(\n\t\t\t\t\t\t\tr.message.doctype,\n\t\t\t\t\t\t\tr.message.name\n\t\t\t\t\t\t).__run_link_triggers = true;\n\t\t\t\t\t}\n\t\t\t\t\tfrappe.set_route(\"Form\", r.message.doctype, r.message.name);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n});\n\nfrappe.create_routes = {};\nfrappe.new_doc = function(doctype, opts, init_callback) {\n\tif (doctype === \"File\") {\n\t\tnew frappe.ui.FileUploader({\n\t\t\tfolder: opts ? opts.folder : \"Home\"\n\t\t});\n\t\treturn;\n\t}\n\treturn new Promise(resolve => {\n\t\tif (opts && $.isPlainObject(opts)) {\n\t\t\tfrappe.route_options = opts;\n\t\t}\n\t\tfrappe.model.with_doctype(doctype, function() {\n\t\t\tif (frappe.create_routes[doctype]) {\n\t\t\t\tfrappe\n\t\t\t\t\t.set_route(frappe.create_routes[doctype])\n\t\t\t\t\t.then(() => resolve());\n\t\t\t} else {\n\t\t\t\tfrappe.ui.form\n\t\t\t\t\t.make_quick_entry(doctype, null, init_callback)\n\t\t\t\t\t.then(() => resolve());\n\t\t\t}\n\t\t});\n\t});\n};\n","// Copyright (c) 2015, Frappe Technologies Pvt. Ltd. and Contributors\n// MIT License. See license.txt\n\nfrappe.provide(\"frappe.perm\");\n\n// backward compatibilty\nObject.assign(window, {\n\tREAD: \"read\",\n\tWRITE: \"write\",\n\tCREATE: \"create\",\n\tDELETE: \"delete\",\n\tSUBMIT: \"submit\",\n\tCANCEL: \"cancel\",\n\tAMEND: \"amend\",\n});\n\n$.extend(frappe.perm, {\n\trights: [\"select\", \"read\", \"write\", \"create\", \"delete\", \"submit\", \"cancel\", \"amend\",\n\t\t\"report\", \"import\", \"export\", \"print\", \"email\", \"share\", \"set_user_permissions\"],\n\n\tdoctype_perm: {},\n\n\thas_perm: (doctype, permlevel, ptype, doc) => {\n\t\tif (!permlevel) permlevel = 0;\n\t\tif (!frappe.perm.doctype_perm[doctype]) {\n\t\t\tfrappe.perm.doctype_perm[doctype] = frappe.perm.get_perm(doctype);\n\t\t}\n\n\t\tlet perms = frappe.perm.doctype_perm[doctype];\n\n\t\tif (!perms || !perms[permlevel]) return false;\n\n\t\tlet perm = !!perms[permlevel][ptype];\n\n\t\tif (permlevel === 0 && perm && doc) {\n\t\t\tlet docinfo = frappe.model.get_docinfo(doctype, doc.name);\n\t\t\tif (docinfo && !docinfo.permissions[ptype])\n\t\t\t\tperm = false;\n\t\t}\n\n\t\treturn perm;\n\t},\n\n\tget_perm: (doctype, doc) => {\n\t\tlet perm = [{ read: 0, permlevel: 0 }];\n\n\t\tlet meta = frappe.get_doc(\"DocType\", doctype);\n\t\tconst user  = frappe.session.user;\n\n\t\tif (user === \"Administrator\" || frappe.user_roles.includes(\"Administrator\")) {\n\t\t\tperm[0].read = 1;\n\t\t}\n\n\t\tif (!meta) return perm;\n\n\t\tperm = frappe.perm.get_role_permissions(meta);\n\n\t\tif (doc) {\n\t\t\t// apply user permissions via docinfo (which is processed server-side)\n\t\t\tlet docinfo = frappe.model.get_docinfo(doctype, doc.name);\n\t\t\tif (docinfo && docinfo.permissions) {\n\t\t\t\tObject.keys(docinfo.permissions).forEach((ptype) => {\n\t\t\t\t\tperm[0][ptype] = docinfo.permissions[ptype];\n\t\t\t\t});\n\t\t\t}\n\n\t\t\t// if owner\n\t\t\tif (!$.isEmptyObject(perm[0].if_owner)) {\n\t\t\t\tif (doc.owner === user) {\n\t\t\t\t\t$.extend(perm[0], perm[0].if_owner);\n\t\t\t\t} else {\n\t\t\t\t\t// not owner, remove permissions\n\t\t\t\t\t$.each(perm[0].if_owner, (ptype) => {\n\t\t\t\t\t\tif (perm[0].if_owner[ptype]) {\n\t\t\t\t\t\t\tperm[0][ptype] = 0;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// apply permissions from shared\n\t\t\tif (docinfo && docinfo.shared) {\n\t\t\t\tfor (let i = 0; i < docinfo.shared.length; i++) {\n\t\t\t\t\tlet s = docinfo.shared[i];\n\t\t\t\t\tif (s.user === user) {\n\t\t\t\t\t\tperm[0][\"read\"] = perm[0][\"read\"] || s.read;\n\t\t\t\t\t\tperm[0][\"write\"] = perm[0][\"write\"] || s.write;\n\t\t\t\t\t\tperm[0][\"submit\"] = perm[0][\"submit\"] || s.submit;\n\t\t\t\t\t\tperm[0][\"share\"] = perm[0][\"share\"] || s.share;\n\n\t\t\t\t\t\tif (s.read) {\n\t\t\t\t\t\t\t// also give print, email permissions if read\n\t\t\t\t\t\t\t// and these permissions exist at level [0]\n\t\t\t\t\t\t\tperm[0].email = frappe.boot.user.can_email.indexOf(doctype) !== -1 ? 1 : 0;\n\t\t\t\t\t\t\tperm[0].print = frappe.boot.user.can_print.indexOf(doctype) !== -1 ? 1 : 0;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t}\n\n\t\tif (frappe.model.can_read(doctype) && !perm[0].read) {\n\t\t\t// read via sharing\n\t\t\tperm[0].read = 1;\n\t\t}\n\n\t\treturn perm;\n\t},\n\n\tget_role_permissions: (meta) => {\n\t\tlet perm = [{ read: 0, permlevel: 0 }];\n\t\t// Returns a `dict` of evaluated Role Permissions\n\t\t(meta.permissions || []).forEach(p => {\n\t\t\t// if user has this role\n\t\t\tlet permlevel = cint(p.permlevel);\n\t\t\tif (!perm[permlevel]) {\n\t\t\t\tperm[permlevel] = {};\n\t\t\t\tperm[permlevel][\"permlevel\"] = permlevel;\n\t\t\t}\n\n\t\t\tif (frappe.user_roles.includes(p.role)) {\n\t\t\t\tfrappe.perm.rights.forEach(right => {\n\t\t\t\t\tlet value = perm[permlevel][right] || (p[right] || 0);\n\t\t\t\t\tif (value) {\n\t\t\t\t\t\tperm[permlevel][right] = value;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\n\t\t// fill gaps with empty object\n\t\tperm = perm.map(p => p || {});\n\t\treturn perm;\n\t},\n\n\tget_match_rules: (doctype, ptype) => {\n\t\tlet match_rules = [];\n\n\t\tif (!ptype) ptype = \"read\";\n\n\t\tlet perm = frappe.perm.get_perm(doctype);\n\n\t\tlet user_permissions = frappe.defaults.get_user_permissions();\n\n\t\tif (user_permissions && !$.isEmptyObject(user_permissions)) {\n\t\t\tlet rules = {};\n\t\t\tlet fields_to_check = frappe.meta.get_fields_to_check_permissions(doctype);\n\t\t\t$.each(fields_to_check, (i, df) => {\n\t\t\t\tconst user_permissions_for_doctype = user_permissions[df.options] || [];\n\t\t\t\tconst allowed_records = frappe.perm.get_allowed_docs_for_doctype(user_permissions_for_doctype, doctype);\n\t\t\t\tif (allowed_records.length) {\n\t\t\t\t\trules[df.label] = allowed_records;\n\t\t\t\t}\n\t\t\t});\n\t\t\tif (!$.isEmptyObject(rules)) {\n\t\t\t\tmatch_rules.push(rules);\n\t\t\t}\n\t\t}\n\n\t\tif (perm[0].if_owner && perm[0].read) {\n\t\t\tmatch_rules.push({ \"Owner\": frappe.session.user });\n\t\t}\n\t\treturn match_rules;\n\t},\n\n\tget_field_display_status: (df, doc, perm, explain) => {\n\t\t// returns the display status of a particular field\n\t\t// returns one of \"Read\", \"Write\" or \"None\"\n\t\tif (!perm && doc) {\n\t\t\tperm = frappe.perm.get_perm(doc.doctype, doc);\n\t\t}\n\n\t\tif (!perm) {\n\t\t\treturn (df && (cint(df.hidden) || cint(df.hidden_due_to_dependency))) ? \"None\" : \"Write\";\n\t\t}\n\n\t\tif (!df.permlevel) df.permlevel = 0;\n\t\tlet p = perm[df.permlevel];\n\t\tlet status = \"None\";\n\n\t\t// permission\n\t\tif (p) {\n\t\t\tif (p.write && !df.disabled) {\n\t\t\t\tstatus = \"Write\";\n\t\t\t} else if (p.read) {\n\t\t\t\tstatus = \"Read\";\n\t\t\t}\n\t\t}\n\t\tif (explain) console.log(\"By Permission:\" + status);\n\n\t\t// hidden\n\t\tif (cint(df.hidden)) status = \"None\";\n\t\tif (explain) console.log(\"By Hidden:\" + status);\n\n\t\t// hidden due to dependency\n\t\tif (cint(df.hidden_due_to_dependency)) status = \"None\";\n\t\tif (explain) console.log(\"By Hidden Due To Dependency:\" + status);\n\n\t\tif (!doc) {\n\t\t\treturn status;\n\t\t}\n\n\t\t// submit\n\t\tif (status === \"Write\" && cint(doc.docstatus) > 0) status = \"Read\";\n\t\tif (explain) console.log(\"By Submit:\" + status);\n\n\t\t// allow on submit\n\t\t// let allow_on_submit = df.fieldtype===\"Table\" ? 0 : cint(df.allow_on_submit);\n\t\tlet allow_on_submit = cint(df.allow_on_submit);\n\t\tif (status === \"Read\" && allow_on_submit && cint(doc.docstatus) === 1 && p.write) {\n\t\t\tstatus = \"Write\";\n\t\t}\n\t\tif (explain) console.log(\"By Allow on Submit:\" + status);\n\n\t\t// workflow state\n\t\tif (status === \"Read\" && cur_frm && cur_frm.state_fieldname) {\n\t\t\t// fields updated by workflow must be read-only\n\t\t\tif (cint(cur_frm.read_only) ||\n\t\t\t\tin_list(cur_frm.states.update_fields, df.fieldname) ||\n\t\t\t\tdf.fieldname == cur_frm.state_fieldname) {\n\t\t\t\tstatus = \"Read\";\n\t\t\t}\n\t\t}\n\t\tif (explain) console.log(\"By Workflow:\" + status);\n\n\t\t// read only field is checked\n\t\tif (status === \"Write\" && cint(df.read_only)) {\n\t\t\tstatus = \"Read\";\n\t\t}\n\t\tif (explain) console.log(\"By Read Only:\" + status);\n\n\t\tif (status === \"Write\" && df.set_only_once && !doc.__islocal) {\n\t\t\tstatus = \"Read\";\n\t\t}\n\t\tif (explain) console.log(\"By Set Only Once:\" + status);\n\n\t\treturn status;\n\t},\n\n\tis_visible: (df, doc, perm) => {\n\t\tif (typeof df === 'string') {\n\t\t\t// df is fieldname\n\t\t\tdf = frappe.meta.get_docfield(doc.doctype, df, doc.parent || doc.name);\n\t\t}\n\n\t\tlet status = frappe.perm.get_field_display_status(df, doc, perm);\n\n\t\treturn status === \"None\" ? false : true;\n\t},\n\n\tget_allowed_docs_for_doctype: (user_permissions, doctype) => {\n\t\t// returns docs from the list of user permissions that are allowed under provided doctype\n\t\treturn frappe.perm.filter_allowed_docs_for_doctype(user_permissions, doctype, false);\n\t},\n\n\tfilter_allowed_docs_for_doctype: (user_permissions, doctype, with_default_doc=true) => {\n\t\t// returns docs from the list of user permissions that are allowed under provided doctype\n\t\t// also returns default doc when with_default_doc is set\n\t\tconst filtered_perms = (user_permissions || []).filter(perm => {\n\t\t\treturn (perm.applicable_for === doctype || !perm.applicable_for);\n\t\t});\n\n\t\tconst allowed_docs = (filtered_perms).map(perm => perm.doc);\n\n\t\tif (with_default_doc) {\n\t\t\tconst default_doc = allowed_docs.length === 1 ? allowed_docs : filtered_perms\n\t\t\t\t.filter(perm => perm.is_default)\n\t\t\t\t.map(record => record.doc);\n\n\t\t\treturn {\n\t\t\t\tallowed_records: allowed_docs,\n\t\t\t\tdefault_doc: default_doc[0]\n\t\t\t};\n\t\t} else {\n\t\t\treturn allowed_docs;\n\t\t}\n\t}\n});","// Copyright (c) 2015, Frappe Technologies Pvt. Ltd. and Contributors\n// MIT License. See license.txt\n\nfrappe.provide(\"frappe.workflow\");\n\nfrappe.workflow = {\n\tstate_fields: {},\n\tworkflows: {},\n\tsetup: function(doctype) {\n\t\tvar wf = frappe.get_list(\"Workflow\", {document_type: doctype});\n\t\tif(wf.length) {\n\t\t\tfrappe.workflow.workflows[doctype] = wf[0];\n\t\t\tfrappe.workflow.state_fields[doctype] = wf[0].workflow_state_field;\n\t\t} else {\n\t\t\tfrappe.workflow.state_fields[doctype] = null;\n\t\t}\n\t},\n\tget_state_fieldname: function(doctype) {\n\t\tif(frappe.workflow.state_fields[doctype]===undefined) {\n\t\t\tfrappe.workflow.setup(doctype);\n\t\t}\n\t\treturn frappe.workflow.state_fields[doctype];\n\t},\n\tget_default_state: function(doctype, docstatus) {\n\t\tfrappe.workflow.setup(doctype);\n\t\tvar value = null;\n\t\t$.each(frappe.workflow.workflows[doctype].states, function(i, workflow_state) {\n\t\t\tif(cint(workflow_state.doc_status)===cint(docstatus)) {\n\t\t\t\tvalue = workflow_state.state;\n\t\t\t\treturn false;\n\t\t\t}\n\t\t});\n\t\treturn value;\n\t},\n\tget_transitions: function(doc) {\n\t\tfrappe.workflow.setup(doc.doctype);\n\t\treturn frappe.xcall('frappe.model.workflow.get_transitions', {doc: doc});\n\t},\n\tget_document_state: function(doctype, state) {\n\t\tfrappe.workflow.setup(doctype);\n\t\treturn frappe.get_children(frappe.workflow.workflows[doctype], \"states\", {state:state})[0];\n\t},\n\tis_self_approval_enabled: function(doctype) {\n\t\treturn frappe.workflow.workflows[doctype].allow_self_approval;\n\t},\n\tis_read_only: function(doctype, name) {\n\t\tvar state_fieldname = frappe.workflow.get_state_fieldname(doctype);\n\t\tif(state_fieldname) {\n\t\t\tvar doc = locals[doctype][name];\n\t\t\tif(!doc)\n\t\t\t\treturn false;\n\t\t\tif(doc.__islocal)\n\t\t\t\treturn false;\n\n\t\t\tvar state = doc[state_fieldname] ||\n\t\t\t\tfrappe.workflow.get_default_state(doctype, doc.docstatus);\n\n\t\t\tvar allow_edit = state ? frappe.workflow.get_document_state(doctype, state) && frappe.workflow.get_document_state(doctype, state).allow_edit : null;\n\n\t\t\tif(!frappe.user_roles.includes(allow_edit)) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t},\n\tget_update_fields: function(doctype) {\n\t\tvar update_fields = $.unique($.map(frappe.workflow.workflows[doctype].states || [],\n\t\t\tfunction(d) {\n\t\t\t\treturn d.update_field;\n\t\t\t}));\n\t\treturn update_fields;\n\t},\n\tget_state(doc) {\n\t\tconst state_field = this.get_state_fieldname(doc.doctype);\n\t\tlet state = doc[state_field];\n\t\tif (!state) {\n\t\t\tstate = this.get_default_state(doc.doctype, doc.docstatus);\n\t\t}\n\t\treturn state;\n\t},\n\tget_all_transitions(doctype) {\n\t\treturn frappe.workflow.workflows[doctype].transitions || [];\n\t},\n\tget_all_transition_actions(doctype) {\n\t\tconst transitions = this.get_all_transitions(doctype);\n\t\treturn transitions.map(transition => {\n\t\t\treturn transition.action;\n\t\t});\n\t},\n};\n","frappe.provide('frappe.model.user_settings');\n\n$.extend(frappe.model.user_settings, {\n\tget: function(doctype) {\n\t\treturn frappe.call('frappe.model.utils.user_settings.get', { doctype })\n\t\t\t.then(r => JSON.parse(r.message || '{}'));\n\t},\n\tsave: function(doctype, key, value) {\n\t\tif (frappe.session.user === 'Guest') return Promise.resolve();\n\n\t\tconst old_user_settings = frappe.model.user_settings[doctype] || {};\n\t\tconst new_user_settings = $.extend(true, {}, old_user_settings); // deep copy\n\n\t\tif ($.isPlainObject(value)) {\n\t\t\tnew_user_settings[key] = new_user_settings[key] || {};\n\t\t\t$.extend(new_user_settings[key], value);\n\t\t} else {\n\t\t\tnew_user_settings[key] = value;\n\t\t}\n\n\t\tconst a = JSON.stringify(old_user_settings);\n\t\tconst b = JSON.stringify(new_user_settings);\n\t\tif (a !== b) {\n\t\t\t// update if changed\n\t\t\treturn this.update(doctype, new_user_settings);\n\t\t}\n\t\treturn Promise.resolve(new_user_settings);\n\t},\n\tremove: function(doctype, key) {\n\t\tvar user_settings = frappe.model.user_settings[doctype] || {};\n\t\tdelete user_settings[key];\n\n\t\treturn this.update(doctype, user_settings);\n\t},\n\tupdate: function(doctype, user_settings) {\n\t\tif (frappe.session.user === 'Guest') return Promise.resolve();\n\t\treturn frappe.call({\n\t\t\tmethod: 'frappe.model.utils.user_settings.save',\n\t\t\targs: {\n\t\t\t\tdoctype: doctype,\n\t\t\t\tuser_settings: user_settings\n\t\t\t},\n\t\t\tcallback: function(r) {\n\t\t\t\tfrappe.model.user_settings[doctype] = r.message;\n\t\t\t}\n\t\t});\n\t}\n});\n\nfrappe.get_user_settings = function(doctype, key) {\n\tvar settings = frappe.model.user_settings[doctype] || {};\n\tif(key) {\n\t\tsettings = settings[key] || {};\n\t}\n\treturn settings;\n}","!function(a){\"use strict\";function b(a,b){var c=(65535&a)+(65535&b),d=(a>>16)+(b>>16)+(c>>16);return d<<16|65535&c}function c(a,b){return a<<b|a>>>32-b}function d(a,d,e,f,g,h){return b(c(b(b(d,a),b(f,h)),g),e)}function e(a,b,c,e,f,g,h){return d(b&c|~b&e,a,b,f,g,h)}function f(a,b,c,e,f,g,h){return d(b&e|c&~e,a,b,f,g,h)}function g(a,b,c,e,f,g,h){return d(b^c^e,a,b,f,g,h)}function h(a,b,c,e,f,g,h){return d(c^(b|~e),a,b,f,g,h)}function i(a,c){a[c>>5]|=128<<c%32,a[(c+64>>>9<<4)+14]=c;var d,i,j,k,l,m=1732584193,n=-271733879,o=-1732584194,p=271733878;for(d=0;d<a.length;d+=16)i=m,j=n,k=o,l=p,m=e(m,n,o,p,a[d],7,-680876936),p=e(p,m,n,o,a[d+1],12,-389564586),o=e(o,p,m,n,a[d+2],17,606105819),n=e(n,o,p,m,a[d+3],22,-1044525330),m=e(m,n,o,p,a[d+4],7,-176418897),p=e(p,m,n,o,a[d+5],12,1200080426),o=e(o,p,m,n,a[d+6],17,-1473231341),n=e(n,o,p,m,a[d+7],22,-45705983),m=e(m,n,o,p,a[d+8],7,1770035416),p=e(p,m,n,o,a[d+9],12,-1958414417),o=e(o,p,m,n,a[d+10],17,-42063),n=e(n,o,p,m,a[d+11],22,-1990404162),m=e(m,n,o,p,a[d+12],7,1804603682),p=e(p,m,n,o,a[d+13],12,-40341101),o=e(o,p,m,n,a[d+14],17,-1502002290),n=e(n,o,p,m,a[d+15],22,1236535329),m=f(m,n,o,p,a[d+1],5,-165796510),p=f(p,m,n,o,a[d+6],9,-1069501632),o=f(o,p,m,n,a[d+11],14,643717713),n=f(n,o,p,m,a[d],20,-373897302),m=f(m,n,o,p,a[d+5],5,-701558691),p=f(p,m,n,o,a[d+10],9,38016083),o=f(o,p,m,n,a[d+15],14,-660478335),n=f(n,o,p,m,a[d+4],20,-405537848),m=f(m,n,o,p,a[d+9],5,568446438),p=f(p,m,n,o,a[d+14],9,-1019803690),o=f(o,p,m,n,a[d+3],14,-187363961),n=f(n,o,p,m,a[d+8],20,1163531501),m=f(m,n,o,p,a[d+13],5,-1444681467),p=f(p,m,n,o,a[d+2],9,-51403784),o=f(o,p,m,n,a[d+7],14,1735328473),n=f(n,o,p,m,a[d+12],20,-1926607734),m=g(m,n,o,p,a[d+5],4,-378558),p=g(p,m,n,o,a[d+8],11,-2022574463),o=g(o,p,m,n,a[d+11],16,1839030562),n=g(n,o,p,m,a[d+14],23,-35309556),m=g(m,n,o,p,a[d+1],4,-1530992060),p=g(p,m,n,o,a[d+4],11,1272893353),o=g(o,p,m,n,a[d+7],16,-155497632),n=g(n,o,p,m,a[d+10],23,-1094730640),m=g(m,n,o,p,a[d+13],4,681279174),p=g(p,m,n,o,a[d],11,-358537222),o=g(o,p,m,n,a[d+3],16,-722521979),n=g(n,o,p,m,a[d+6],23,76029189),m=g(m,n,o,p,a[d+9],4,-640364487),p=g(p,m,n,o,a[d+12],11,-421815835),o=g(o,p,m,n,a[d+15],16,530742520),n=g(n,o,p,m,a[d+2],23,-995338651),m=h(m,n,o,p,a[d],6,-198630844),p=h(p,m,n,o,a[d+7],10,1126891415),o=h(o,p,m,n,a[d+14],15,-1416354905),n=h(n,o,p,m,a[d+5],21,-57434055),m=h(m,n,o,p,a[d+12],6,1700485571),p=h(p,m,n,o,a[d+3],10,-1894986606),o=h(o,p,m,n,a[d+10],15,-1051523),n=h(n,o,p,m,a[d+1],21,-2054922799),m=h(m,n,o,p,a[d+8],6,1873313359),p=h(p,m,n,o,a[d+15],10,-30611744),o=h(o,p,m,n,a[d+6],15,-1560198380),n=h(n,o,p,m,a[d+13],21,1309151649),m=h(m,n,o,p,a[d+4],6,-145523070),p=h(p,m,n,o,a[d+11],10,-1120210379),o=h(o,p,m,n,a[d+2],15,718787259),n=h(n,o,p,m,a[d+9],21,-343485551),m=b(m,i),n=b(n,j),o=b(o,k),p=b(p,l);return[m,n,o,p]}function j(a){var b,c=\"\";for(b=0;b<32*a.length;b+=8)c+=String.fromCharCode(a[b>>5]>>>b%32&255);return c}function k(a){var b,c=[];for(c[(a.length>>2)-1]=void 0,b=0;b<c.length;b+=1)c[b]=0;for(b=0;b<8*a.length;b+=8)c[b>>5]|=(255&a.charCodeAt(b/8))<<b%32;return c}function l(a){return j(i(k(a),8*a.length))}function m(a,b){var c,d,e=k(a),f=[],g=[];for(f[15]=g[15]=void 0,e.length>16&&(e=i(e,8*a.length)),c=0;16>c;c+=1)f[c]=909522486^e[c],g[c]=1549556828^e[c];return d=i(f.concat(k(b)),512+8*b.length),j(i(g.concat(d),640))}function n(a){var b,c,d=\"0123456789abcdef\",e=\"\";for(c=0;c<a.length;c+=1)b=a.charCodeAt(c),e+=d.charAt(b>>>4&15)+d.charAt(15&b);return e}function o(a){return unescape(encodeURIComponent(a))}function p(a){return l(o(a))}function q(a){return n(p(a))}function r(a,b){return m(o(a),o(b))}function s(a,b){return n(r(a,b))}function t(a,b,c){return b?c?r(b,a):s(b,a):c?p(a):q(a)}\"function\"==typeof define&&define.amd?define(function(){return t}):a.md5=t}(this);","frappe.user_info = function(uid) {\n\tif(!uid)\n\t\tuid = frappe.session.user;\n\n\tif(uid.toLowerCase()===\"bot\") {\n\t\treturn {\n\t\t\tfullname: __(\"Bot\"),\n\t\t\timage: \"/assets/frappe/images/ui/bot.png\",\n\t\t\tabbr: \"B\"\n\t\t};\n\t}\n\n\tif(!(frappe.boot.user_info && frappe.boot.user_info[uid])) {\n\t\tvar user_info = {fullname: uid || \"Unknown\"};\n\t} else {\n\t\tvar user_info = frappe.boot.user_info[uid];\n\t}\n\n\tuser_info.abbr = frappe.get_abbr(user_info.fullname);\n\tuser_info.color = frappe.get_palette(user_info.fullname);\n\n\treturn user_info;\n};\n\nfrappe.ui.set_user_background = function(src, selector, style) {\n\tif(!selector) selector = \"#page-desktop\";\n\tif(!style) style = \"Fill Screen\";\n\tif(src) {\n\t\tif (window.cordova && src.indexOf(\"http\") === -1) {\n\t\t\tsrc = frappe.base_url + src;\n\t\t}\n\t\tvar background = repl('background: url(\"%(src)s\") center center;', {src: src});\n\t} else {\n\t\tvar background = \"background-color: #4B4C9D;\";\n\t}\n\n\tfrappe.dom.set_style(repl('%(selector)s { \\\n\t\t%(background)s \\\n\t\tbackground-attachment: fixed; \\\n\t\t%(style)s \\\n\t}', {\n\t\tselector:selector,\n\t\tbackground:background,\n\t\tstyle: style===\"Fill Screen\" ? \"background-size: cover;\" : \"\"\n\t}));\n};\n\nfrappe.provide('frappe.user');\n\n$.extend(frappe.user, {\n\tname: 'Guest',\n\tfull_name: function(uid) {\n\t\treturn uid === frappe.session.user ?\n\t\t\t__(\"You\", null, \"Name of the current user. For example: You edited this 5 hours ago.\") :\n\t\t\tfrappe.user_info(uid).fullname;\n\t},\n\timage: function(uid) {\n\t\treturn frappe.user_info(uid).image;\n\t},\n\tabbr: function(uid) {\n\t\treturn frappe.user_info(uid).abbr;\n\t},\n\thas_role: function(rl) {\n\t\tif(typeof rl=='string')\n\t\t\trl = [rl];\n\t\tfor(var i in rl) {\n\t\t\tif((frappe.boot ? frappe.boot.user.roles : ['Guest']).indexOf(rl[i])!=-1)\n\t\t\t\treturn true;\n\t\t}\n\t},\n\tget_desktop_items: function() {\n\t\t// hide based on permission\n\t\tvar modules_list = $.map(frappe.boot.allowed_modules, function(icon) {\n\t\t\tvar m = icon.module_name;\n\t\t\tvar type = frappe.modules[m] && frappe.modules[m].type;\n\n\t\t\tif(frappe.boot.user.allow_modules.indexOf(m) === -1) return null;\n\n\t\t\tvar ret = null;\n\t\t\tif (type === \"module\") {\n\t\t\t\tif(frappe.boot.user.allow_modules.indexOf(m)!=-1 || frappe.modules[m].is_help)\n\t\t\t\t\tret = m;\n\t\t\t} else if (type === \"page\") {\n\t\t\t\tif(frappe.boot.allowed_pages.indexOf(frappe.modules[m].link)!=-1)\n\t\t\t\t\tret = m;\n\t\t\t} else if (type === \"list\") {\n\t\t\t\tif(frappe.model.can_read(frappe.modules[m]._doctype))\n\t\t\t\t\tret = m;\n\t\t\t} else if (type === \"view\") {\n\t\t\t\tret = m;\n\t\t\t} else if (type === \"setup\") {\n\t\t\t\tif(frappe.user.has_role(\"System Manager\") || frappe.user.has_role(\"Administrator\"))\n\t\t\t\t\tret = m;\n\t\t\t} else {\n\t\t\t\tret = m;\n\t\t\t}\n\n\t\t\treturn ret;\n\t\t});\n\n\t\treturn modules_list;\n\t},\n\n\tis_report_manager: function() {\n\t\treturn frappe.user.has_role(['Administrator', 'System Manager', 'Report Manager']);\n\t},\n\n\tget_formatted_email: function(email) {\n\t\tvar fullname = frappe.user.full_name(email);\n\n\t\tif (!fullname) {\n\t\t\treturn email;\n\t\t} else {\n\t\t\t// to quote or to not\n\t\t\tvar quote = '';\n\n\t\t\t// only if these special characters are found\n\t\t\t// why? To make the output same as that in python!\n\t\t\tif (fullname.search(/[\\[\\]\\\\()<>@,:;\".]/) !== -1) {\n\t\t\t\tquote = '\"';\n\t\t\t}\n\n\t\t\treturn repl('%(quote)s%(fullname)s%(quote)s <%(email)s>', {\n\t\t\t\tfullname: fullname,\n\t\t\t\temail: email,\n\t\t\t\tquote: quote\n\t\t\t});\n\t\t}\n\t},\n\n\tget_emails: ( ) => {\n\t\treturn Object.keys(frappe.boot.user_info).map(key => frappe.boot.user_info[key].email);\n\t},\n\n\t/* Normally frappe.user is an object\n\t * having properties and methods.\n\t * But in the following case\n\t *\n\t * if (frappe.user === 'Administrator')\n\t *\n\t * frappe.user will cast to a string\n\t * returning frappe.user.name\n\t */\n\ttoString: function() {\n\t\treturn this.name;\n\t}\n});\n\nfrappe.session_alive = true;\n$(document).bind('mousemove', function() {\n\tif(frappe.session_alive===false) {\n\t\t$(document).trigger(\"session_alive\");\n\t}\n\tfrappe.session_alive = true;\n\tif(frappe.session_alive_timeout)\n\t\tclearTimeout(frappe.session_alive_timeout);\n\tfrappe.session_alive_timeout = setTimeout('frappe.session_alive=false;', 30000);\n});","// common file between desk and website\n\nfrappe.avatar = function (user, css_class, title, image_url=null, remove_color=false, filterable=false) {\n\tlet user_info;\n\tif (user) {\n\t\t// desk\n\t\tuser_info = frappe.user_info(user);\n\t} else {\n\t\t// website\n\t\tlet full_name = title || frappe.get_cookie(\"full_name\");\n\t\tuser_info = {\n\t\t\timage: image_url === null ? frappe.get_cookie(\"user_image\") : image_url,\n\t\t\tfullname: full_name,\n\t\t\tabbr: frappe.get_abbr(full_name),\n\t\t\tcolor: frappe.get_palette(full_name)\n\t\t};\n\t}\n\n\tif (!title) {\n\t\ttitle = user_info.fullname;\n\t}\n\n\tlet data_attr = '';\n\tif (filterable) {\n\t\tcss_class += \" filterable\";\n\t\tdata_attr = `data-filter=\"_assign,like,%${user}%\"`;\n\t}\n\n\treturn frappe.get_avatar(\n\t\tcss_class, title, image_url || user_info.image, remove_color, data_attr\n\t);\n};\n\nfrappe.get_avatar = function(css_class, title, image_url=null, remove_color, data_attributes) {\n\tif (!css_class) {\n\t\tcss_class = \"avatar-small\";\n\t}\n\n\tif (image_url) {\n\t\tconst image = (window.cordova && image_url.indexOf('http') === -1) ? frappe.base_url + image_url : image_url;\n\t\treturn `<span class=\"avatar ${css_class}\" title=\"${title}\" ${data_attributes}>\n\t\t\t\t<span class=\"avatar-frame\" style='background-image: url(\"${image}\")'\n\t\t\t\t\ttitle=\"${title}\"></span>\n\t\t\t</span>`;\n\t} else {\n\t\tlet abbr =  frappe.get_abbr(title);\n\t\tlet style = '';\n\t\tif (!remove_color) {\n\t\t\tlet color = frappe.get_palette(title);\n\t\t\tstyle = `background-color: var(${color[0]}); color: var(${color[1]})`;\n\t\t}\n\n\t\tif (css_class === 'avatar-small' || css_class == 'avatar-xs') {\n\t\t\tabbr = abbr.substr(0, 1);\n\t\t}\n\n\t\treturn `<span class=\"avatar ${css_class}\" title=\"${title}\" ${data_attributes}>\n\t\t\t<div class=\"avatar-frame standard-image\"\n\t\t\t\tstyle=\"${style}\">\n\t\t\t\t\t${abbr}\n\t\t\t</div>\n\t\t</span>`;\n\t}\n};\n\nfrappe.avatar_group = function (users, limit=4, options = {}) {\n\tlet avatar_action_html = '';\n\tconst display_users = users.slice(0, limit);\n\tconst extra_users = users.slice(limit);\n\tconst css_class = options.css_class || '';\n\n\tlet html = display_users.map(user =>\n\t\tfrappe.avatar(user, 'avatar-small ' + css_class, null, null, false, options.filterable)\n\t).join('');\n\tif (extra_users.length === 1) {\n\t\thtml += frappe.avatar(extra_users[0], 'avatar-small ' + css_class, null, null, false, options.filterable);\n\t} else if (extra_users.length > 1) {\n\t\thtml = `\n\t\t\t${html}\n\t\t\t<span class=\"avatar avatar-small ${css_class}\">\n\t\t\t\t<div class=\"avatar-frame standard-image avatar-extra-count\"\n\t\t\t\t\ttitle=\"${extra_users.map(u => frappe.user_info(u).fullname).join(', ')}\">\n\t\t\t\t\t+${extra_users.length}\n\t\t\t\t</div>\n\t\t\t</span>\n\t\t`;\n\t}\n\n\tif (options.action_icon) {\n\t\tavatar_action_html = `\n\t\t\t<span class=\"avatar avatar-small\">\n\t\t\t\t<div class=\"avatar-frame avatar-action\">\n\t\t\t\t\t${frappe.utils.icon(options.action_icon, 'sm')}\n\t\t\t\t</div>\n\t\t\t</span>\n\t\t`;\n\t}\n\n\tconst $avatar_group =\n\t\t$(`<div class=\"avatar-group ${options.align || 'right'} ${options.overlap != false ? 'overlap' : ''}\">\n\t\t\t${html}\n\t\t\t${avatar_action_html}\n\t\t</div>`);\n\n\t$avatar_group.find('.avatar-action').on('click', options.action);\n\treturn $avatar_group;\n};\n\nfrappe.ui.scroll = function (element, animate, additional_offset) {\n\tvar header_offset = $(\".navbar\").height() + $(\".page-head\").height();\n\tvar top = $(element).offset().top - header_offset - cint(additional_offset);\n\tif (animate) {\n\t\t$(\"html, body\").animate({ scrollTop: top });\n\t} else {\n\t\t$(window).scrollTop(top);\n\t}\n};\n\nfrappe.palette = [\n\t['--orange-avatar-bg', '--orange-avatar-color'],\n\t['--pink-avatar-bg', '--pink-avatar-color'],\n\t['--blue-avatar-bg', '--blue-avatar-color'],\n\t['--green-avatar-bg', '--green-avatar-color'],\n\t['--dark-green-avatar-bg', '--dark-green-avatar-color'],\n\t['--red-avatar-bg', '--red-avatar-color'],\n\t['--yellow-avatar-bg', '--yellow-avatar-color'],\n\t['--purple-avatar-bg', '--purple-avatar-color'],\n\t['--gray-avatar-bg', '--gray-avatar-color0']\n];\n\nfrappe.get_palette = function (txt) {\n\tvar idx = cint((parseInt(md5(txt).substr(4, 2), 16) + 1) / 5.33);\n\treturn frappe.palette[idx % 8];\n}\n\nfrappe.get_abbr = function (txt, max_length) {\n\tif (!txt) return \"\";\n\tvar abbr = \"\";\n\t$.each(txt.split(\" \"), function (i, w) {\n\t\tif (abbr.length >= (max_length || 2)) {\n\t\t\t// break\n\t\t\treturn false;\n\n\t\t} else if (!w.trim().length) {\n\t\t\t// continue\n\t\t\treturn true;\n\t\t}\n\t\tabbr += w.trim()[0];\n\t});\n\n\treturn abbr || \"?\";\n}\n\nfrappe.gravatars = {};\nfrappe.get_gravatar = function (email_id, size = 0) {\n\tvar param = size ? ('s=' + size) : 'd=retro';\n\tif (!frappe.gravatars[email_id]) {\n\t\t// TODO: check if gravatar exists\n\t\tfrappe.gravatars[email_id] = \"https://secure.gravatar.com/avatar/\" + md5(email_id) + \"?\" + param;\n\t}\n\treturn frappe.gravatars[email_id];\n}\n\n// string commons\n\nwindow.repl = function repl(s, dict) {\n\tif (s == null) return '';\n\tfor (var key in dict) {\n\t\ts = s.split(\"%(\" + key + \")s\").join(dict[key]);\n\t}\n\treturn s;\n}\n\nwindow.replace_all = function (s, t1, t2) {\n\treturn s.split(t1).join(t2);\n}\n\nwindow.strip_html = function(txt) {\n\treturn cstr(txt).replace(/<[^>]*>/g, \"\");\n}\n\nwindow.strip = function (s, chars) {\n\tif (s) {\n\t\ts = lstrip(s, chars);\n\t\ts = rstrip(s, chars);\n\t\treturn s;\n\t}\n};\n\nwindow.lstrip = function lstrip(s, chars) {\n\tif (!chars) chars = ['\\n', '\\t', ' '];\n\t// strip left\n\tlet first_char = s.substr(0, 1);\n\twhile (in_list(chars, first_char)) {\n\t\ts = s.substr(1);\n\t\tfirst_char = s.substr(0, 1);\n\t}\n\treturn s;\n}\n\nwindow.rstrip = function (s, chars) {\n\tif (!chars) chars = ['\\n', '\\t', ' '];\n\tlet last_char = s.substr(s.length - 1);\n\twhile (in_list(chars, last_char)) {\n\t\ts = s.substr(0, s.length - 1);\n\t\tlast_char = s.substr(s.length - 1);\n\t}\n\treturn s;\n}\n\nfrappe.get_cookie = function getCookie(name) {\n\treturn frappe.get_cookies()[name];\n}\n\nfrappe.get_cookies = function getCookies() {\n\tvar c = document.cookie, v = 0, cookies = {};\n\tif (document.cookie.match(/^\\s*\\$Version=(?:\"1\"|1);\\s*(.*)/)) {\n\t\tc = RegExp.$1;\n\t\tv = 1;\n\t}\n\tif (v === 0) {\n\t\tc.split(/[,;]/).map(function (cookie) {\n\t\t\tvar parts = cookie.split(/=/, 2),\n\t\t\t\tname = decodeURIComponent(parts[0].trimLeft()),\n\t\t\t\tvalue = parts.length > 1 ? decodeURIComponent(parts[1].trimRight()) : null;\n\t\t\tif (value && value.charAt(0) === '\"') {\n\t\t\t\tvalue = value.substr(1, value.length - 2);\n\t\t\t}\n\t\t\tcookies[name] = value;\n\t\t});\n\t} else {\n\t\tc.match(/(?:^|\\s+)([!#$%&'*+\\-.0-9A-Z^`a-z|~]+)=([!#$%&'*+\\-.0-9A-Z^`a-z|~]*|\"(?:[\\x20-\\x7E\\x80\\xFF]|\\\\[\\x00-\\x7F])*\")(?=\\s*[,;]|$)/g).map(function ($0, $1) {\n\t\t\tvar name = $0,\n\t\t\t\tvalue = $1.charAt(0) === '\"'\n\t\t\t\t\t? $1.substr(1, -1).replace(/\\\\(.)/g, \"$1\")\n\t\t\t\t\t: $1;\n\t\t\tcookies[name] = value;\n\t\t});\n\t}\n\treturn cookies;\n}\n\nfrappe.is_mobile = function () {\n\treturn $(document).width() < 768;\n}\n\nfrappe.utils.xss_sanitise = function (string, options) {\n\t// Reference - https://www.owasp.org/index.php/XSS_(Cross_Site_Scripting)_Prevention_Cheat_Sheet\n\tlet sanitised = string; // un-sanitised string.\n\tconst DEFAULT_OPTIONS = {\n\t\tstrategies: ['html', 'js'] // use all strategies.\n\t}\n\tconst HTML_ESCAPE_MAP = {\n\t\t'<': '&lt;',\n\t\t'>': '&gt;',\n\t\t'\"': '&quot;',\n\t\t\"'\": '&#x27;',\n\t\t'/': '&#x2F;'\n\t};\n\tconst REGEX_SCRIPT = /<script\\b[^<]*(?:(?!<\\/script>)<[^<]*)*<\\/script>/gi; // used in jQuery 1.7.2 src/ajax.js Line 14\n\tconst REGEX_ALERT = /confirm\\(.*\\)|alert\\(.*\\)|prompt\\(.*\\)/gi; // captures alert, confirm, prompt\n\toptions = Object.assign({}, DEFAULT_OPTIONS, options); // don't deep copy, immutable beauty.\n\n\t// Rule 3 - TODO: Check event handlers?\n\t// script and alert should be checked first or else it will be escaped\n\tif (options.strategies.includes('js')) {\n\t\tsanitised = sanitised.replace(REGEX_SCRIPT, \"\");\n\t\tsanitised = sanitised.replace(REGEX_ALERT, \"\");\n\t}\n\n\t// Rule 1\n\tif (options.strategies.includes('html')) {\n\t\tfor (let char in HTML_ESCAPE_MAP) {\n\t\t\tconst escape = HTML_ESCAPE_MAP[char];\n\t\t\tconst regex = new RegExp(char, \"g\");\n\t\t\tsanitised = sanitised.replace(regex, escape);\n\t\t}\n\t}\n\n\treturn sanitised;\n}\n\nfrappe.utils.sanitise_redirect = (url) => {\n\tconst is_external = (() => {\n\t\treturn (url) => {\n\t\t\tfunction domain(url) {\n\t\t\t\tlet base_domain = /^(?:https?:\\/\\/)?(?:[^@\\n]+@)?(?:www\\.)?([^:/\\n?]+)/img.exec(url);\n\t\t\t\treturn base_domain == null ? \"\" : base_domain[1];\n\t\t\t}\n\n\t\t\tfunction is_absolute(url) {\n\t\t\t\t// returns true for url that have a defined scheme\n\t\t\t\t// anything else, eg. internal urls return false\n\t\t\t\treturn /^(?:[a-z]+:)?\\/\\//i.test(url);\n\t\t\t}\n\n\t\t\t// check for base domain only if the url is absolute\n\t\t\t// return true for relative url (except protocol-relative urls)\n\t\t\treturn is_absolute(url) ? domain(location.href) !== domain(url) : false;\n\t\t}\n\t})();\n\n\tconst sanitise_javascript = ((url) => {\n\t\t// please do not ask how or why\n\t\tconst REGEX_SCRIPT = /j[\\s]*(&#x.{1,7})?a[\\s]*(&#x.{1,7})?v[\\s]*(&#x.{1,7})?a[\\s]*(&#x.{1,7})?s[\\s]*(&#x.{1,7})?c[\\s]*(&#x.{1,7})?r[\\s]*(&#x.{1,7})?i[\\s]*(&#x.{1,7})?p[\\s]*(&#x.{1,7})?t/gi;\n\n\t\treturn url.replace(REGEX_SCRIPT, \"\");\n\t});\n\n\turl = frappe.utils.strip_url(url);\n\n\treturn is_external(url) ? \"\" : sanitise_javascript(frappe.utils.xss_sanitise(url, { strategies: [\"js\"] }));\n};\n\nfrappe.utils.strip_url = (url) => {\n\t// strips invalid characters from the beginning of the URL\n\t// in our case, the url can start with either a protocol, //, or even #\n\t// so anything except those characters can be considered invalid\n\treturn url.replace(/^[^A-Za-z0-9(//)#]+/g, '');\n}\n\nfrappe.utils.new_auto_repeat_prompt = function (frm) {\n\tconst fields = [\n\t\t{\n\t\t\t'fieldname': 'frequency',\n\t\t\t'fieldtype': 'Select',\n\t\t\t'label': __('Frequency'),\n\t\t\t'reqd': 1,\n\t\t\t'options': [\n\t\t\t\t{ 'label': __('Daily'), 'value': 'Daily' },\n\t\t\t\t{ 'label': __('Weekly'), 'value': 'Weekly' },\n\t\t\t\t{ 'label': __('Monthly'), 'value': 'Monthly' },\n\t\t\t\t{ 'label': __('Quarterly'), 'value': 'Quarterly' },\n\t\t\t\t{ 'label': __('Half-yearly'), 'value': 'Half-yearly' },\n\t\t\t\t{ 'label': __('Yearly'), 'value': 'Yearly' }\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\t'fieldname': 'start_date',\n\t\t\t'fieldtype': 'Date',\n\t\t\t'label': __('Start Date'),\n\t\t\t'reqd': 1,\n\t\t\t'default': frappe.datetime.nowdate()\n\t\t},\n\t\t{\n\t\t\t'fieldname': 'end_date',\n\t\t\t'fieldtype': 'Date',\n\t\t\t'label': __('End Date')\n\t\t}\n\t];\n\tfrappe.prompt(fields, function (values) {\n\t\tfrappe.call({\n\t\t\tmethod: \"frappe.automation.doctype.auto_repeat.auto_repeat.make_auto_repeat\",\n\t\t\targs: {\n\t\t\t\t'doctype': frm.doc.doctype,\n\t\t\t\t'docname': frm.doc.name,\n\t\t\t\t'frequency': values['frequency'],\n\t\t\t\t'start_date': values['start_date'],\n\t\t\t\t'end_date': values['end_date']\n\t\t\t},\n\t\t\tcallback: function (r) {\n\t\t\t\tif (r.message) {\n\t\t\t\t\tfrappe.show_alert({\n\t\t\t\t\t\t'message': __(\"Auto Repeat created for this document\"),\n\t\t\t\t\t\t'indicator': 'green'\n\t\t\t\t\t});\n\t\t\t\t\tfrm.reload_doc();\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t},\n\t__('Auto Repeat'),\n\t__('Save')\n\t);\n}\n\nfrappe.utils.get_page_view_count = function (route) {\n\treturn frappe.call(\"frappe.website.doctype.web_page_view.web_page_view.get_page_view_count\", {\n\t\tpath: route\n\t});\n};","frappe.urllib = {\n\t// get argument from url\n\tget_arg: function(name) {\n\t\tname = name.replace(/[[]/, \"\\\\[\").replace(/[\\]]/,\"\\\\]\");\n\t\tvar regexS = \"[\\\\?&]\"+name+\"=([^&#]*)\";\n\t\tvar regex = new RegExp( regexS );\n\t\tvar results = regex.exec( window.location.href );\n\t\tif( results == null )\n\t\t\treturn \"\";\n\t\telse\n\t\t\treturn decodeURIComponent(results[1]);\n\t},\n\n\t// returns url dictionary\n\tget_dict: function() {\n\t\tvar d = {};\n\t\tvar t = window.location.href.split('?')[1];\n\t\tif(!t) return d;\n\n\t\tif(t.indexOf('#')!=-1) t = t.split('#')[0];\n\t\tif(!t) return d;\n\n\t\tt = t.split('&');\n\t\tfor(var i=0; i<t.length; i++) {\n\t\t\tvar a = t[i].split('=');\n\t\t\td[decodeURIComponent(a[0])] = decodeURIComponent(a[1]);\n\t\t}\n\t\treturn d;\n\t},\n\n\t// returns the base url with http + domain + path (-index.cgi or # or ?)\n\tget_base_url: function() {\n\t\t// var url= (frappe.base_url || window.location.href).split('#')[0].split('?')[0].split('desk')[0];\n\t\tvar url = (frappe.base_url || window.location.origin);\n\t\tif(url.substr(url.length-1, 1)=='/') url = url.substr(0, url.length-1);\n\t\treturn url;\n\t},\n\n\t// returns absolute url\n\tget_full_url: function(url) {\n\t\tif(url.indexOf(\"http://\")===0 || url.indexOf(\"https://\")===0) {\n\t\t\treturn url;\n\t\t}\n\t\treturn url.substr(0,1)===\"/\" ?\n\t\t\t(frappe.urllib.get_base_url() + url) :\n\t\t\t(frappe.urllib.get_base_url() + \"/\" + url);\n\t}\n};\n\nwindow.open_url_post = function open_url_post(URL, PARAMS, new_window) {\n\tif (window.cordova) {\n\t\tlet url = URL + 'api/method/' + PARAMS.cmd + frappe.utils.make_query_string(PARAMS, false);\n\t\twindow.location.href = url;\n\t} else {\n\t\t// call a url as POST\n\t\tvar temp=document.createElement(\"form\");\n\t\ttemp.action=URL;\n\t\ttemp.method=\"POST\";\n\t\ttemp.style.display=\"none\";\n\t\tif(new_window){\n\t\t\ttemp.target = '_blank';\n\t\t}\n\t\tPARAMS[\"csrf_token\"] = frappe.csrf_token;\n\t\tfor(var x in PARAMS) {\n\t\t\tvar opt=document.createElement(\"textarea\");\n\t\t\topt.name=x;\n\t\t\tvar val = PARAMS[x];\n\t\t\tif(typeof val!='string')\n\t\t\t\tval = JSON.stringify(val);\n\t\t\topt.value=val;\n\t\t\ttemp.appendChild(opt);\n\t\t}\n\t\tdocument.body.appendChild(temp);\n\t\ttemp.submit();\n\t\treturn temp;\n\t}\n};\n\nwindow.get_url_arg = frappe.urllib.get_arg;\nwindow.get_url_dict = frappe.urllib.get_dict;\n",";/*! showdown v 1.9.1 - 02-11-2019 */\r\n(function(){\r\n/**\n * Created by Tivie on 13-07-2015.\n */\n\nfunction getDefaultOpts (simple) {\n  'use strict';\n\n  var defaultOptions = {\n    omitExtraWLInCodeBlocks: {\n      defaultValue: false,\n      describe: 'Omit the default extra whiteline added to code blocks',\n      type: 'boolean'\n    },\n    noHeaderId: {\n      defaultValue: false,\n      describe: 'Turn on/off generated header id',\n      type: 'boolean'\n    },\n    prefixHeaderId: {\n      defaultValue: false,\n      describe: 'Add a prefix to the generated header ids. Passing a string will prefix that string to the header id. Setting to true will add a generic \\'section-\\' prefix',\n      type: 'string'\n    },\n    rawPrefixHeaderId: {\n      defaultValue: false,\n      describe: 'Setting this option to true will prevent showdown from modifying the prefix. This might result in malformed IDs (if, for instance, the \" char is used in the prefix)',\n      type: 'boolean'\n    },\n    ghCompatibleHeaderId: {\n      defaultValue: false,\n      describe: 'Generate header ids compatible with github style (spaces are replaced with dashes, a bunch of non alphanumeric chars are removed)',\n      type: 'boolean'\n    },\n    rawHeaderId: {\n      defaultValue: false,\n      describe: 'Remove only spaces, \\' and \" from generated header ids (including prefixes), replacing them with dashes (-). WARNING: This might result in malformed ids',\n      type: 'boolean'\n    },\n    headerLevelStart: {\n      defaultValue: false,\n      describe: 'The header blocks level start',\n      type: 'integer'\n    },\n    parseImgDimensions: {\n      defaultValue: false,\n      describe: 'Turn on/off image dimension parsing',\n      type: 'boolean'\n    },\n    simplifiedAutoLink: {\n      defaultValue: false,\n      describe: 'Turn on/off GFM autolink style',\n      type: 'boolean'\n    },\n    excludeTrailingPunctuationFromURLs: {\n      defaultValue: false,\n      describe: 'Excludes trailing punctuation from links generated with autoLinking',\n      type: 'boolean'\n    },\n    literalMidWordUnderscores: {\n      defaultValue: false,\n      describe: 'Parse midword underscores as literal underscores',\n      type: 'boolean'\n    },\n    literalMidWordAsterisks: {\n      defaultValue: false,\n      describe: 'Parse midword asterisks as literal asterisks',\n      type: 'boolean'\n    },\n    strikethrough: {\n      defaultValue: false,\n      describe: 'Turn on/off strikethrough support',\n      type: 'boolean'\n    },\n    tables: {\n      defaultValue: false,\n      describe: 'Turn on/off tables support',\n      type: 'boolean'\n    },\n    tablesHeaderId: {\n      defaultValue: false,\n      describe: 'Add an id to table headers',\n      type: 'boolean'\n    },\n    ghCodeBlocks: {\n      defaultValue: true,\n      describe: 'Turn on/off GFM fenced code blocks support',\n      type: 'boolean'\n    },\n    tasklists: {\n      defaultValue: false,\n      describe: 'Turn on/off GFM tasklist support',\n      type: 'boolean'\n    },\n    smoothLivePreview: {\n      defaultValue: false,\n      describe: 'Prevents weird effects in live previews due to incomplete input',\n      type: 'boolean'\n    },\n    smartIndentationFix: {\n      defaultValue: false,\n      description: 'Tries to smartly fix indentation in es6 strings',\n      type: 'boolean'\n    },\n    disableForced4SpacesIndentedSublists: {\n      defaultValue: false,\n      description: 'Disables the requirement of indenting nested sublists by 4 spaces',\n      type: 'boolean'\n    },\n    simpleLineBreaks: {\n      defaultValue: false,\n      description: 'Parses simple line breaks as <br> (GFM Style)',\n      type: 'boolean'\n    },\n    requireSpaceBeforeHeadingText: {\n      defaultValue: false,\n      description: 'Makes adding a space between `#` and the header text mandatory (GFM Style)',\n      type: 'boolean'\n    },\n    ghMentions: {\n      defaultValue: false,\n      description: 'Enables github @mentions',\n      type: 'boolean'\n    },\n    ghMentionsLink: {\n      defaultValue: 'https://github.com/{u}',\n      description: 'Changes the link generated by @mentions. Only applies if ghMentions option is enabled.',\n      type: 'string'\n    },\n    encodeEmails: {\n      defaultValue: true,\n      description: 'Encode e-mail addresses through the use of Character Entities, transforming ASCII e-mail addresses into its equivalent decimal entities',\n      type: 'boolean'\n    },\n    openLinksInNewWindow: {\n      defaultValue: false,\n      description: 'Open all links in new windows',\n      type: 'boolean'\n    },\n    backslashEscapesHTMLTags: {\n      defaultValue: false,\n      description: 'Support for HTML Tag escaping. ex: \\<div>foo\\</div>',\n      type: 'boolean'\n    },\n    emoji: {\n      defaultValue: false,\n      description: 'Enable emoji support. Ex: `this is a :smile: emoji`',\n      type: 'boolean'\n    },\n    underline: {\n      defaultValue: false,\n      description: 'Enable support for underline. Syntax is double or triple underscores: `__underline word__`. With this option enabled, underscores no longer parses into `<em>` and `<strong>`',\n      type: 'boolean'\n    },\n    completeHTMLDocument: {\n      defaultValue: false,\n      description: 'Outputs a complete html document, including `<html>`, `<head>` and `<body>` tags',\n      type: 'boolean'\n    },\n    metadata: {\n      defaultValue: false,\n      description: 'Enable support for document metadata (defined at the top of the document between `«««` and `»»»` or between `---` and `---`).',\n      type: 'boolean'\n    },\n    splitAdjacentBlockquotes: {\n      defaultValue: false,\n      description: 'Split adjacent blockquote blocks',\n      type: 'boolean'\n    }\n  };\n  if (simple === false) {\n    return JSON.parse(JSON.stringify(defaultOptions));\n  }\n  var ret = {};\n  for (var opt in defaultOptions) {\n    if (defaultOptions.hasOwnProperty(opt)) {\n      ret[opt] = defaultOptions[opt].defaultValue;\n    }\n  }\n  return ret;\n}\n\nfunction allOptionsOn () {\n  'use strict';\n  var options = getDefaultOpts(true),\n      ret = {};\n  for (var opt in options) {\n    if (options.hasOwnProperty(opt)) {\n      ret[opt] = true;\n    }\n  }\n  return ret;\n}\n\r\n/**\n * Created by Tivie on 06-01-2015.\n */\n\n// Private properties\nvar showdown = {},\n    parsers = {},\n    extensions = {},\n    globalOptions = getDefaultOpts(true),\n    setFlavor = 'vanilla',\n    flavor = {\n      github: {\n        omitExtraWLInCodeBlocks:              true,\n        simplifiedAutoLink:                   true,\n        excludeTrailingPunctuationFromURLs:   true,\n        literalMidWordUnderscores:            true,\n        strikethrough:                        true,\n        tables:                               true,\n        tablesHeaderId:                       true,\n        ghCodeBlocks:                         true,\n        tasklists:                            true,\n        disableForced4SpacesIndentedSublists: true,\n        simpleLineBreaks:                     true,\n        requireSpaceBeforeHeadingText:        true,\n        ghCompatibleHeaderId:                 true,\n        ghMentions:                           true,\n        backslashEscapesHTMLTags:             true,\n        emoji:                                true,\n        splitAdjacentBlockquotes:             true\n      },\n      original: {\n        noHeaderId:                           true,\n        ghCodeBlocks:                         false\n      },\n      ghost: {\n        omitExtraWLInCodeBlocks:              true,\n        parseImgDimensions:                   true,\n        simplifiedAutoLink:                   true,\n        excludeTrailingPunctuationFromURLs:   true,\n        literalMidWordUnderscores:            true,\n        strikethrough:                        true,\n        tables:                               true,\n        tablesHeaderId:                       true,\n        ghCodeBlocks:                         true,\n        tasklists:                            true,\n        smoothLivePreview:                    true,\n        simpleLineBreaks:                     true,\n        requireSpaceBeforeHeadingText:        true,\n        ghMentions:                           false,\n        encodeEmails:                         true\n      },\n      vanilla: getDefaultOpts(true),\n      allOn: allOptionsOn()\n    };\n\n/**\n * helper namespace\n * @type {{}}\n */\nshowdown.helper = {};\n\n/**\n * TODO LEGACY SUPPORT CODE\n * @type {{}}\n */\nshowdown.extensions = {};\n\n/**\n * Set a global option\n * @static\n * @param {string} key\n * @param {*} value\n * @returns {showdown}\n */\nshowdown.setOption = function (key, value) {\n  'use strict';\n  globalOptions[key] = value;\n  return this;\n};\n\n/**\n * Get a global option\n * @static\n * @param {string} key\n * @returns {*}\n */\nshowdown.getOption = function (key) {\n  'use strict';\n  return globalOptions[key];\n};\n\n/**\n * Get the global options\n * @static\n * @returns {{}}\n */\nshowdown.getOptions = function () {\n  'use strict';\n  return globalOptions;\n};\n\n/**\n * Reset global options to the default values\n * @static\n */\nshowdown.resetOptions = function () {\n  'use strict';\n  globalOptions = getDefaultOpts(true);\n};\n\n/**\n * Set the flavor showdown should use as default\n * @param {string} name\n */\nshowdown.setFlavor = function (name) {\n  'use strict';\n  if (!flavor.hasOwnProperty(name)) {\n    throw Error(name + ' flavor was not found');\n  }\n  showdown.resetOptions();\n  var preset = flavor[name];\n  setFlavor = name;\n  for (var option in preset) {\n    if (preset.hasOwnProperty(option)) {\n      globalOptions[option] = preset[option];\n    }\n  }\n};\n\n/**\n * Get the currently set flavor\n * @returns {string}\n */\nshowdown.getFlavor = function () {\n  'use strict';\n  return setFlavor;\n};\n\n/**\n * Get the options of a specified flavor. Returns undefined if the flavor was not found\n * @param {string} name Name of the flavor\n * @returns {{}|undefined}\n */\nshowdown.getFlavorOptions = function (name) {\n  'use strict';\n  if (flavor.hasOwnProperty(name)) {\n    return flavor[name];\n  }\n};\n\n/**\n * Get the default options\n * @static\n * @param {boolean} [simple=true]\n * @returns {{}}\n */\nshowdown.getDefaultOptions = function (simple) {\n  'use strict';\n  return getDefaultOpts(simple);\n};\n\n/**\n * Get or set a subParser\n *\n * subParser(name)       - Get a registered subParser\n * subParser(name, func) - Register a subParser\n * @static\n * @param {string} name\n * @param {function} [func]\n * @returns {*}\n */\nshowdown.subParser = function (name, func) {\n  'use strict';\n  if (showdown.helper.isString(name)) {\n    if (typeof func !== 'undefined') {\n      parsers[name] = func;\n    } else {\n      if (parsers.hasOwnProperty(name)) {\n        return parsers[name];\n      } else {\n        throw Error('SubParser named ' + name + ' not registered!');\n      }\n    }\n  }\n};\n\n/**\n * Gets or registers an extension\n * @static\n * @param {string} name\n * @param {object|function=} ext\n * @returns {*}\n */\nshowdown.extension = function (name, ext) {\n  'use strict';\n\n  if (!showdown.helper.isString(name)) {\n    throw Error('Extension \\'name\\' must be a string');\n  }\n\n  name = showdown.helper.stdExtName(name);\n\n  // Getter\n  if (showdown.helper.isUndefined(ext)) {\n    if (!extensions.hasOwnProperty(name)) {\n      throw Error('Extension named ' + name + ' is not registered!');\n    }\n    return extensions[name];\n\n    // Setter\n  } else {\n    // Expand extension if it's wrapped in a function\n    if (typeof ext === 'function') {\n      ext = ext();\n    }\n\n    // Ensure extension is an array\n    if (!showdown.helper.isArray(ext)) {\n      ext = [ext];\n    }\n\n    var validExtension = validate(ext, name);\n\n    if (validExtension.valid) {\n      extensions[name] = ext;\n    } else {\n      throw Error(validExtension.error);\n    }\n  }\n};\n\n/**\n * Gets all extensions registered\n * @returns {{}}\n */\nshowdown.getAllExtensions = function () {\n  'use strict';\n  return extensions;\n};\n\n/**\n * Remove an extension\n * @param {string} name\n */\nshowdown.removeExtension = function (name) {\n  'use strict';\n  delete extensions[name];\n};\n\n/**\n * Removes all extensions\n */\nshowdown.resetExtensions = function () {\n  'use strict';\n  extensions = {};\n};\n\n/**\n * Validate extension\n * @param {array} extension\n * @param {string} name\n * @returns {{valid: boolean, error: string}}\n */\nfunction validate (extension, name) {\n  'use strict';\n\n  var errMsg = (name) ? 'Error in ' + name + ' extension->' : 'Error in unnamed extension',\n      ret = {\n        valid: true,\n        error: ''\n      };\n\n  if (!showdown.helper.isArray(extension)) {\n    extension = [extension];\n  }\n\n  for (var i = 0; i < extension.length; ++i) {\n    var baseMsg = errMsg + ' sub-extension ' + i + ': ',\n        ext = extension[i];\n    if (typeof ext !== 'object') {\n      ret.valid = false;\n      ret.error = baseMsg + 'must be an object, but ' + typeof ext + ' given';\n      return ret;\n    }\n\n    if (!showdown.helper.isString(ext.type)) {\n      ret.valid = false;\n      ret.error = baseMsg + 'property \"type\" must be a string, but ' + typeof ext.type + ' given';\n      return ret;\n    }\n\n    var type = ext.type = ext.type.toLowerCase();\n\n    // normalize extension type\n    if (type === 'language') {\n      type = ext.type = 'lang';\n    }\n\n    if (type === 'html') {\n      type = ext.type = 'output';\n    }\n\n    if (type !== 'lang' && type !== 'output' && type !== 'listener') {\n      ret.valid = false;\n      ret.error = baseMsg + 'type ' + type + ' is not recognized. Valid values: \"lang/language\", \"output/html\" or \"listener\"';\n      return ret;\n    }\n\n    if (type === 'listener') {\n      if (showdown.helper.isUndefined(ext.listeners)) {\n        ret.valid = false;\n        ret.error = baseMsg + '. Extensions of type \"listener\" must have a property called \"listeners\"';\n        return ret;\n      }\n    } else {\n      if (showdown.helper.isUndefined(ext.filter) && showdown.helper.isUndefined(ext.regex)) {\n        ret.valid = false;\n        ret.error = baseMsg + type + ' extensions must define either a \"regex\" property or a \"filter\" method';\n        return ret;\n      }\n    }\n\n    if (ext.listeners) {\n      if (typeof ext.listeners !== 'object') {\n        ret.valid = false;\n        ret.error = baseMsg + '\"listeners\" property must be an object but ' + typeof ext.listeners + ' given';\n        return ret;\n      }\n      for (var ln in ext.listeners) {\n        if (ext.listeners.hasOwnProperty(ln)) {\n          if (typeof ext.listeners[ln] !== 'function') {\n            ret.valid = false;\n            ret.error = baseMsg + '\"listeners\" property must be an hash of [event name]: [callback]. listeners.' + ln +\n              ' must be a function but ' + typeof ext.listeners[ln] + ' given';\n            return ret;\n          }\n        }\n      }\n    }\n\n    if (ext.filter) {\n      if (typeof ext.filter !== 'function') {\n        ret.valid = false;\n        ret.error = baseMsg + '\"filter\" must be a function, but ' + typeof ext.filter + ' given';\n        return ret;\n      }\n    } else if (ext.regex) {\n      if (showdown.helper.isString(ext.regex)) {\n        ext.regex = new RegExp(ext.regex, 'g');\n      }\n      if (!(ext.regex instanceof RegExp)) {\n        ret.valid = false;\n        ret.error = baseMsg + '\"regex\" property must either be a string or a RegExp object, but ' + typeof ext.regex + ' given';\n        return ret;\n      }\n      if (showdown.helper.isUndefined(ext.replace)) {\n        ret.valid = false;\n        ret.error = baseMsg + '\"regex\" extensions must implement a replace string or function';\n        return ret;\n      }\n    }\n  }\n  return ret;\n}\n\n/**\n * Validate extension\n * @param {object} ext\n * @returns {boolean}\n */\nshowdown.validateExtension = function (ext) {\n  'use strict';\n\n  var validateExtension = validate(ext, null);\n  if (!validateExtension.valid) {\n    console.warn(validateExtension.error);\n    return false;\n  }\n  return true;\n};\n\r\n/**\n * showdownjs helper functions\n */\n\nif (!showdown.hasOwnProperty('helper')) {\n  showdown.helper = {};\n}\n\n/**\n * Check if var is string\n * @static\n * @param {string} a\n * @returns {boolean}\n */\nshowdown.helper.isString = function (a) {\n  'use strict';\n  return (typeof a === 'string' || a instanceof String);\n};\n\n/**\n * Check if var is a function\n * @static\n * @param {*} a\n * @returns {boolean}\n */\nshowdown.helper.isFunction = function (a) {\n  'use strict';\n  var getType = {};\n  return a && getType.toString.call(a) === '[object Function]';\n};\n\n/**\n * isArray helper function\n * @static\n * @param {*} a\n * @returns {boolean}\n */\nshowdown.helper.isArray = function (a) {\n  'use strict';\n  return Array.isArray(a);\n};\n\n/**\n * Check if value is undefined\n * @static\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is `undefined`, else `false`.\n */\nshowdown.helper.isUndefined = function (value) {\n  'use strict';\n  return typeof value === 'undefined';\n};\n\n/**\n * ForEach helper function\n * Iterates over Arrays and Objects (own properties only)\n * @static\n * @param {*} obj\n * @param {function} callback Accepts 3 params: 1. value, 2. key, 3. the original array/object\n */\nshowdown.helper.forEach = function (obj, callback) {\n  'use strict';\n  // check if obj is defined\n  if (showdown.helper.isUndefined(obj)) {\n    throw new Error('obj param is required');\n  }\n\n  if (showdown.helper.isUndefined(callback)) {\n    throw new Error('callback param is required');\n  }\n\n  if (!showdown.helper.isFunction(callback)) {\n    throw new Error('callback param must be a function/closure');\n  }\n\n  if (typeof obj.forEach === 'function') {\n    obj.forEach(callback);\n  } else if (showdown.helper.isArray(obj)) {\n    for (var i = 0; i < obj.length; i++) {\n      callback(obj[i], i, obj);\n    }\n  } else if (typeof (obj) === 'object') {\n    for (var prop in obj) {\n      if (obj.hasOwnProperty(prop)) {\n        callback(obj[prop], prop, obj);\n      }\n    }\n  } else {\n    throw new Error('obj does not seem to be an array or an iterable object');\n  }\n};\n\n/**\n * Standardidize extension name\n * @static\n * @param {string} s extension name\n * @returns {string}\n */\nshowdown.helper.stdExtName = function (s) {\n  'use strict';\n  return s.replace(/[_?*+\\/\\\\.^-]/g, '').replace(/\\s/g, '').toLowerCase();\n};\n\nfunction escapeCharactersCallback (wholeMatch, m1) {\n  'use strict';\n  var charCodeToEscape = m1.charCodeAt(0);\n  return '¨E' + charCodeToEscape + 'E';\n}\n\n/**\n * Callback used to escape characters when passing through String.replace\n * @static\n * @param {string} wholeMatch\n * @param {string} m1\n * @returns {string}\n */\nshowdown.helper.escapeCharactersCallback = escapeCharactersCallback;\n\n/**\n * Escape characters in a string\n * @static\n * @param {string} text\n * @param {string} charsToEscape\n * @param {boolean} afterBackslash\n * @returns {XML|string|void|*}\n */\nshowdown.helper.escapeCharacters = function (text, charsToEscape, afterBackslash) {\n  'use strict';\n  // First we have to escape the escape characters so that\n  // we can build a character class out of them\n  var regexString = '([' + charsToEscape.replace(/([\\[\\]\\\\])/g, '\\\\$1') + '])';\n\n  if (afterBackslash) {\n    regexString = '\\\\\\\\' + regexString;\n  }\n\n  var regex = new RegExp(regexString, 'g');\n  text = text.replace(regex, escapeCharactersCallback);\n\n  return text;\n};\n\n/**\n * Unescape HTML entities\n * @param txt\n * @returns {string}\n */\nshowdown.helper.unescapeHTMLEntities = function (txt) {\n  'use strict';\n\n  return txt\n    .replace(/&quot;/g, '\"')\n    .replace(/&lt;/g, '<')\n    .replace(/&gt;/g, '>')\n    .replace(/&amp;/g, '&');\n};\n\nvar rgxFindMatchPos = function (str, left, right, flags) {\n  'use strict';\n  var f = flags || '',\n      g = f.indexOf('g') > -1,\n      x = new RegExp(left + '|' + right, 'g' + f.replace(/g/g, '')),\n      l = new RegExp(left, f.replace(/g/g, '')),\n      pos = [],\n      t, s, m, start, end;\n\n  do {\n    t = 0;\n    while ((m = x.exec(str))) {\n      if (l.test(m[0])) {\n        if (!(t++)) {\n          s = x.lastIndex;\n          start = s - m[0].length;\n        }\n      } else if (t) {\n        if (!--t) {\n          end = m.index + m[0].length;\n          var obj = {\n            left: {start: start, end: s},\n            match: {start: s, end: m.index},\n            right: {start: m.index, end: end},\n            wholeMatch: {start: start, end: end}\n          };\n          pos.push(obj);\n          if (!g) {\n            return pos;\n          }\n        }\n      }\n    }\n  } while (t && (x.lastIndex = s));\n\n  return pos;\n};\n\n/**\n * matchRecursiveRegExp\n *\n * (c) 2007 Steven Levithan <stevenlevithan.com>\n * MIT License\n *\n * Accepts a string to search, a left and right format delimiter\n * as regex patterns, and optional regex flags. Returns an array\n * of matches, allowing nested instances of left/right delimiters.\n * Use the \"g\" flag to return all matches, otherwise only the\n * first is returned. Be careful to ensure that the left and\n * right format delimiters produce mutually exclusive matches.\n * Backreferences are not supported within the right delimiter\n * due to how it is internally combined with the left delimiter.\n * When matching strings whose format delimiters are unbalanced\n * to the left or right, the output is intentionally as a\n * conventional regex library with recursion support would\n * produce, e.g. \"<<x>\" and \"<x>>\" both produce [\"x\"] when using\n * \"<\" and \">\" as the delimiters (both strings contain a single,\n * balanced instance of \"<x>\").\n *\n * examples:\n * matchRecursiveRegExp(\"test\", \"\\\\(\", \"\\\\)\")\n * returns: []\n * matchRecursiveRegExp(\"<t<<e>><s>>t<>\", \"<\", \">\", \"g\")\n * returns: [\"t<<e>><s>\", \"\"]\n * matchRecursiveRegExp(\"<div id=\\\"x\\\">test</div>\", \"<div\\\\b[^>]*>\", \"</div>\", \"gi\")\n * returns: [\"test\"]\n */\nshowdown.helper.matchRecursiveRegExp = function (str, left, right, flags) {\n  'use strict';\n\n  var matchPos = rgxFindMatchPos (str, left, right, flags),\n      results = [];\n\n  for (var i = 0; i < matchPos.length; ++i) {\n    results.push([\n      str.slice(matchPos[i].wholeMatch.start, matchPos[i].wholeMatch.end),\n      str.slice(matchPos[i].match.start, matchPos[i].match.end),\n      str.slice(matchPos[i].left.start, matchPos[i].left.end),\n      str.slice(matchPos[i].right.start, matchPos[i].right.end)\n    ]);\n  }\n  return results;\n};\n\n/**\n *\n * @param {string} str\n * @param {string|function} replacement\n * @param {string} left\n * @param {string} right\n * @param {string} flags\n * @returns {string}\n */\nshowdown.helper.replaceRecursiveRegExp = function (str, replacement, left, right, flags) {\n  'use strict';\n\n  if (!showdown.helper.isFunction(replacement)) {\n    var repStr = replacement;\n    replacement = function () {\n      return repStr;\n    };\n  }\n\n  var matchPos = rgxFindMatchPos(str, left, right, flags),\n      finalStr = str,\n      lng = matchPos.length;\n\n  if (lng > 0) {\n    var bits = [];\n    if (matchPos[0].wholeMatch.start !== 0) {\n      bits.push(str.slice(0, matchPos[0].wholeMatch.start));\n    }\n    for (var i = 0; i < lng; ++i) {\n      bits.push(\n        replacement(\n          str.slice(matchPos[i].wholeMatch.start, matchPos[i].wholeMatch.end),\n          str.slice(matchPos[i].match.start, matchPos[i].match.end),\n          str.slice(matchPos[i].left.start, matchPos[i].left.end),\n          str.slice(matchPos[i].right.start, matchPos[i].right.end)\n        )\n      );\n      if (i < lng - 1) {\n        bits.push(str.slice(matchPos[i].wholeMatch.end, matchPos[i + 1].wholeMatch.start));\n      }\n    }\n    if (matchPos[lng - 1].wholeMatch.end < str.length) {\n      bits.push(str.slice(matchPos[lng - 1].wholeMatch.end));\n    }\n    finalStr = bits.join('');\n  }\n  return finalStr;\n};\n\n/**\n * Returns the index within the passed String object of the first occurrence of the specified regex,\n * starting the search at fromIndex. Returns -1 if the value is not found.\n *\n * @param {string} str string to search\n * @param {RegExp} regex Regular expression to search\n * @param {int} [fromIndex = 0] Index to start the search\n * @returns {Number}\n * @throws InvalidArgumentError\n */\nshowdown.helper.regexIndexOf = function (str, regex, fromIndex) {\n  'use strict';\n  if (!showdown.helper.isString(str)) {\n    throw 'InvalidArgumentError: first parameter of showdown.helper.regexIndexOf function must be a string';\n  }\n  if (regex instanceof RegExp === false) {\n    throw 'InvalidArgumentError: second parameter of showdown.helper.regexIndexOf function must be an instance of RegExp';\n  }\n  var indexOf = str.substring(fromIndex || 0).search(regex);\n  return (indexOf >= 0) ? (indexOf + (fromIndex || 0)) : indexOf;\n};\n\n/**\n * Splits the passed string object at the defined index, and returns an array composed of the two substrings\n * @param {string} str string to split\n * @param {int} index index to split string at\n * @returns {[string,string]}\n * @throws InvalidArgumentError\n */\nshowdown.helper.splitAtIndex = function (str, index) {\n  'use strict';\n  if (!showdown.helper.isString(str)) {\n    throw 'InvalidArgumentError: first parameter of showdown.helper.regexIndexOf function must be a string';\n  }\n  return [str.substring(0, index), str.substring(index)];\n};\n\n/**\n * Obfuscate an e-mail address through the use of Character Entities,\n * transforming ASCII characters into their equivalent decimal or hex entities.\n *\n * Since it has a random component, subsequent calls to this function produce different results\n *\n * @param {string} mail\n * @returns {string}\n */\nshowdown.helper.encodeEmailAddress = function (mail) {\n  'use strict';\n  var encode = [\n    function (ch) {\n      return '&#' + ch.charCodeAt(0) + ';';\n    },\n    function (ch) {\n      return '&#x' + ch.charCodeAt(0).toString(16) + ';';\n    },\n    function (ch) {\n      return ch;\n    }\n  ];\n\n  mail = mail.replace(/./g, function (ch) {\n    if (ch === '@') {\n      // this *must* be encoded. I insist.\n      ch = encode[Math.floor(Math.random() * 2)](ch);\n    } else {\n      var r = Math.random();\n      // roughly 10% raw, 45% hex, 45% dec\n      ch = (\n        r > 0.9 ? encode[2](ch) : r > 0.45 ? encode[1](ch) : encode[0](ch)\n      );\n    }\n    return ch;\n  });\n\n  return mail;\n};\n\n/**\n *\n * @param str\n * @param targetLength\n * @param padString\n * @returns {string}\n */\nshowdown.helper.padEnd = function padEnd (str, targetLength, padString) {\n  'use strict';\n  /*jshint bitwise: false*/\n  // eslint-disable-next-line space-infix-ops\n  targetLength = targetLength>>0; //floor if number or convert non-number to 0;\n  /*jshint bitwise: true*/\n  padString = String(padString || ' ');\n  if (str.length > targetLength) {\n    return String(str);\n  } else {\n    targetLength = targetLength - str.length;\n    if (targetLength > padString.length) {\n      padString += padString.repeat(targetLength / padString.length); //append to original to ensure we are longer than needed\n    }\n    return String(str) + padString.slice(0,targetLength);\n  }\n};\n\n/**\n * POLYFILLS\n */\n// use this instead of builtin is undefined for IE8 compatibility\nif (typeof console === 'undefined') {\n  console = {\n    warn: function (msg) {\n      'use strict';\n      alert(msg);\n    },\n    log: function (msg) {\n      'use strict';\n      alert(msg);\n    },\n    error: function (msg) {\n      'use strict';\n      throw msg;\n    }\n  };\n}\n\n/**\n * Common regexes.\n * We declare some common regexes to improve performance\n */\nshowdown.helper.regexes = {\n  asteriskDashAndColon: /([*_:~])/g\n};\n\n/**\n * EMOJIS LIST\n */\nshowdown.helper.emojis = {\n  '+1':'\\ud83d\\udc4d',\n  '-1':'\\ud83d\\udc4e',\n  '100':'\\ud83d\\udcaf',\n  '1234':'\\ud83d\\udd22',\n  '1st_place_medal':'\\ud83e\\udd47',\n  '2nd_place_medal':'\\ud83e\\udd48',\n  '3rd_place_medal':'\\ud83e\\udd49',\n  '8ball':'\\ud83c\\udfb1',\n  'a':'\\ud83c\\udd70\\ufe0f',\n  'ab':'\\ud83c\\udd8e',\n  'abc':'\\ud83d\\udd24',\n  'abcd':'\\ud83d\\udd21',\n  'accept':'\\ud83c\\ude51',\n  'aerial_tramway':'\\ud83d\\udea1',\n  'airplane':'\\u2708\\ufe0f',\n  'alarm_clock':'\\u23f0',\n  'alembic':'\\u2697\\ufe0f',\n  'alien':'\\ud83d\\udc7d',\n  'ambulance':'\\ud83d\\ude91',\n  'amphora':'\\ud83c\\udffa',\n  'anchor':'\\u2693\\ufe0f',\n  'angel':'\\ud83d\\udc7c',\n  'anger':'\\ud83d\\udca2',\n  'angry':'\\ud83d\\ude20',\n  'anguished':'\\ud83d\\ude27',\n  'ant':'\\ud83d\\udc1c',\n  'apple':'\\ud83c\\udf4e',\n  'aquarius':'\\u2652\\ufe0f',\n  'aries':'\\u2648\\ufe0f',\n  'arrow_backward':'\\u25c0\\ufe0f',\n  'arrow_double_down':'\\u23ec',\n  'arrow_double_up':'\\u23eb',\n  'arrow_down':'\\u2b07\\ufe0f',\n  'arrow_down_small':'\\ud83d\\udd3d',\n  'arrow_forward':'\\u25b6\\ufe0f',\n  'arrow_heading_down':'\\u2935\\ufe0f',\n  'arrow_heading_up':'\\u2934\\ufe0f',\n  'arrow_left':'\\u2b05\\ufe0f',\n  'arrow_lower_left':'\\u2199\\ufe0f',\n  'arrow_lower_right':'\\u2198\\ufe0f',\n  'arrow_right':'\\u27a1\\ufe0f',\n  'arrow_right_hook':'\\u21aa\\ufe0f',\n  'arrow_up':'\\u2b06\\ufe0f',\n  'arrow_up_down':'\\u2195\\ufe0f',\n  'arrow_up_small':'\\ud83d\\udd3c',\n  'arrow_upper_left':'\\u2196\\ufe0f',\n  'arrow_upper_right':'\\u2197\\ufe0f',\n  'arrows_clockwise':'\\ud83d\\udd03',\n  'arrows_counterclockwise':'\\ud83d\\udd04',\n  'art':'\\ud83c\\udfa8',\n  'articulated_lorry':'\\ud83d\\ude9b',\n  'artificial_satellite':'\\ud83d\\udef0',\n  'astonished':'\\ud83d\\ude32',\n  'athletic_shoe':'\\ud83d\\udc5f',\n  'atm':'\\ud83c\\udfe7',\n  'atom_symbol':'\\u269b\\ufe0f',\n  'avocado':'\\ud83e\\udd51',\n  'b':'\\ud83c\\udd71\\ufe0f',\n  'baby':'\\ud83d\\udc76',\n  'baby_bottle':'\\ud83c\\udf7c',\n  'baby_chick':'\\ud83d\\udc24',\n  'baby_symbol':'\\ud83d\\udebc',\n  'back':'\\ud83d\\udd19',\n  'bacon':'\\ud83e\\udd53',\n  'badminton':'\\ud83c\\udff8',\n  'baggage_claim':'\\ud83d\\udec4',\n  'baguette_bread':'\\ud83e\\udd56',\n  'balance_scale':'\\u2696\\ufe0f',\n  'balloon':'\\ud83c\\udf88',\n  'ballot_box':'\\ud83d\\uddf3',\n  'ballot_box_with_check':'\\u2611\\ufe0f',\n  'bamboo':'\\ud83c\\udf8d',\n  'banana':'\\ud83c\\udf4c',\n  'bangbang':'\\u203c\\ufe0f',\n  'bank':'\\ud83c\\udfe6',\n  'bar_chart':'\\ud83d\\udcca',\n  'barber':'\\ud83d\\udc88',\n  'baseball':'\\u26be\\ufe0f',\n  'basketball':'\\ud83c\\udfc0',\n  'basketball_man':'\\u26f9\\ufe0f',\n  'basketball_woman':'\\u26f9\\ufe0f&zwj;\\u2640\\ufe0f',\n  'bat':'\\ud83e\\udd87',\n  'bath':'\\ud83d\\udec0',\n  'bathtub':'\\ud83d\\udec1',\n  'battery':'\\ud83d\\udd0b',\n  'beach_umbrella':'\\ud83c\\udfd6',\n  'bear':'\\ud83d\\udc3b',\n  'bed':'\\ud83d\\udecf',\n  'bee':'\\ud83d\\udc1d',\n  'beer':'\\ud83c\\udf7a',\n  'beers':'\\ud83c\\udf7b',\n  'beetle':'\\ud83d\\udc1e',\n  'beginner':'\\ud83d\\udd30',\n  'bell':'\\ud83d\\udd14',\n  'bellhop_bell':'\\ud83d\\udece',\n  'bento':'\\ud83c\\udf71',\n  'biking_man':'\\ud83d\\udeb4',\n  'bike':'\\ud83d\\udeb2',\n  'biking_woman':'\\ud83d\\udeb4&zwj;\\u2640\\ufe0f',\n  'bikini':'\\ud83d\\udc59',\n  'biohazard':'\\u2623\\ufe0f',\n  'bird':'\\ud83d\\udc26',\n  'birthday':'\\ud83c\\udf82',\n  'black_circle':'\\u26ab\\ufe0f',\n  'black_flag':'\\ud83c\\udff4',\n  'black_heart':'\\ud83d\\udda4',\n  'black_joker':'\\ud83c\\udccf',\n  'black_large_square':'\\u2b1b\\ufe0f',\n  'black_medium_small_square':'\\u25fe\\ufe0f',\n  'black_medium_square':'\\u25fc\\ufe0f',\n  'black_nib':'\\u2712\\ufe0f',\n  'black_small_square':'\\u25aa\\ufe0f',\n  'black_square_button':'\\ud83d\\udd32',\n  'blonde_man':'\\ud83d\\udc71',\n  'blonde_woman':'\\ud83d\\udc71&zwj;\\u2640\\ufe0f',\n  'blossom':'\\ud83c\\udf3c',\n  'blowfish':'\\ud83d\\udc21',\n  'blue_book':'\\ud83d\\udcd8',\n  'blue_car':'\\ud83d\\ude99',\n  'blue_heart':'\\ud83d\\udc99',\n  'blush':'\\ud83d\\ude0a',\n  'boar':'\\ud83d\\udc17',\n  'boat':'\\u26f5\\ufe0f',\n  'bomb':'\\ud83d\\udca3',\n  'book':'\\ud83d\\udcd6',\n  'bookmark':'\\ud83d\\udd16',\n  'bookmark_tabs':'\\ud83d\\udcd1',\n  'books':'\\ud83d\\udcda',\n  'boom':'\\ud83d\\udca5',\n  'boot':'\\ud83d\\udc62',\n  'bouquet':'\\ud83d\\udc90',\n  'bowing_man':'\\ud83d\\ude47',\n  'bow_and_arrow':'\\ud83c\\udff9',\n  'bowing_woman':'\\ud83d\\ude47&zwj;\\u2640\\ufe0f',\n  'bowling':'\\ud83c\\udfb3',\n  'boxing_glove':'\\ud83e\\udd4a',\n  'boy':'\\ud83d\\udc66',\n  'bread':'\\ud83c\\udf5e',\n  'bride_with_veil':'\\ud83d\\udc70',\n  'bridge_at_night':'\\ud83c\\udf09',\n  'briefcase':'\\ud83d\\udcbc',\n  'broken_heart':'\\ud83d\\udc94',\n  'bug':'\\ud83d\\udc1b',\n  'building_construction':'\\ud83c\\udfd7',\n  'bulb':'\\ud83d\\udca1',\n  'bullettrain_front':'\\ud83d\\ude85',\n  'bullettrain_side':'\\ud83d\\ude84',\n  'burrito':'\\ud83c\\udf2f',\n  'bus':'\\ud83d\\ude8c',\n  'business_suit_levitating':'\\ud83d\\udd74',\n  'busstop':'\\ud83d\\ude8f',\n  'bust_in_silhouette':'\\ud83d\\udc64',\n  'busts_in_silhouette':'\\ud83d\\udc65',\n  'butterfly':'\\ud83e\\udd8b',\n  'cactus':'\\ud83c\\udf35',\n  'cake':'\\ud83c\\udf70',\n  'calendar':'\\ud83d\\udcc6',\n  'call_me_hand':'\\ud83e\\udd19',\n  'calling':'\\ud83d\\udcf2',\n  'camel':'\\ud83d\\udc2b',\n  'camera':'\\ud83d\\udcf7',\n  'camera_flash':'\\ud83d\\udcf8',\n  'camping':'\\ud83c\\udfd5',\n  'cancer':'\\u264b\\ufe0f',\n  'candle':'\\ud83d\\udd6f',\n  'candy':'\\ud83c\\udf6c',\n  'canoe':'\\ud83d\\udef6',\n  'capital_abcd':'\\ud83d\\udd20',\n  'capricorn':'\\u2651\\ufe0f',\n  'car':'\\ud83d\\ude97',\n  'card_file_box':'\\ud83d\\uddc3',\n  'card_index':'\\ud83d\\udcc7',\n  'card_index_dividers':'\\ud83d\\uddc2',\n  'carousel_horse':'\\ud83c\\udfa0',\n  'carrot':'\\ud83e\\udd55',\n  'cat':'\\ud83d\\udc31',\n  'cat2':'\\ud83d\\udc08',\n  'cd':'\\ud83d\\udcbf',\n  'chains':'\\u26d3',\n  'champagne':'\\ud83c\\udf7e',\n  'chart':'\\ud83d\\udcb9',\n  'chart_with_downwards_trend':'\\ud83d\\udcc9',\n  'chart_with_upwards_trend':'\\ud83d\\udcc8',\n  'checkered_flag':'\\ud83c\\udfc1',\n  'cheese':'\\ud83e\\uddc0',\n  'cherries':'\\ud83c\\udf52',\n  'cherry_blossom':'\\ud83c\\udf38',\n  'chestnut':'\\ud83c\\udf30',\n  'chicken':'\\ud83d\\udc14',\n  'children_crossing':'\\ud83d\\udeb8',\n  'chipmunk':'\\ud83d\\udc3f',\n  'chocolate_bar':'\\ud83c\\udf6b',\n  'christmas_tree':'\\ud83c\\udf84',\n  'church':'\\u26ea\\ufe0f',\n  'cinema':'\\ud83c\\udfa6',\n  'circus_tent':'\\ud83c\\udfaa',\n  'city_sunrise':'\\ud83c\\udf07',\n  'city_sunset':'\\ud83c\\udf06',\n  'cityscape':'\\ud83c\\udfd9',\n  'cl':'\\ud83c\\udd91',\n  'clamp':'\\ud83d\\udddc',\n  'clap':'\\ud83d\\udc4f',\n  'clapper':'\\ud83c\\udfac',\n  'classical_building':'\\ud83c\\udfdb',\n  'clinking_glasses':'\\ud83e\\udd42',\n  'clipboard':'\\ud83d\\udccb',\n  'clock1':'\\ud83d\\udd50',\n  'clock10':'\\ud83d\\udd59',\n  'clock1030':'\\ud83d\\udd65',\n  'clock11':'\\ud83d\\udd5a',\n  'clock1130':'\\ud83d\\udd66',\n  'clock12':'\\ud83d\\udd5b',\n  'clock1230':'\\ud83d\\udd67',\n  'clock130':'\\ud83d\\udd5c',\n  'clock2':'\\ud83d\\udd51',\n  'clock230':'\\ud83d\\udd5d',\n  'clock3':'\\ud83d\\udd52',\n  'clock330':'\\ud83d\\udd5e',\n  'clock4':'\\ud83d\\udd53',\n  'clock430':'\\ud83d\\udd5f',\n  'clock5':'\\ud83d\\udd54',\n  'clock530':'\\ud83d\\udd60',\n  'clock6':'\\ud83d\\udd55',\n  'clock630':'\\ud83d\\udd61',\n  'clock7':'\\ud83d\\udd56',\n  'clock730':'\\ud83d\\udd62',\n  'clock8':'\\ud83d\\udd57',\n  'clock830':'\\ud83d\\udd63',\n  'clock9':'\\ud83d\\udd58',\n  'clock930':'\\ud83d\\udd64',\n  'closed_book':'\\ud83d\\udcd5',\n  'closed_lock_with_key':'\\ud83d\\udd10',\n  'closed_umbrella':'\\ud83c\\udf02',\n  'cloud':'\\u2601\\ufe0f',\n  'cloud_with_lightning':'\\ud83c\\udf29',\n  'cloud_with_lightning_and_rain':'\\u26c8',\n  'cloud_with_rain':'\\ud83c\\udf27',\n  'cloud_with_snow':'\\ud83c\\udf28',\n  'clown_face':'\\ud83e\\udd21',\n  'clubs':'\\u2663\\ufe0f',\n  'cocktail':'\\ud83c\\udf78',\n  'coffee':'\\u2615\\ufe0f',\n  'coffin':'\\u26b0\\ufe0f',\n  'cold_sweat':'\\ud83d\\ude30',\n  'comet':'\\u2604\\ufe0f',\n  'computer':'\\ud83d\\udcbb',\n  'computer_mouse':'\\ud83d\\uddb1',\n  'confetti_ball':'\\ud83c\\udf8a',\n  'confounded':'\\ud83d\\ude16',\n  'confused':'\\ud83d\\ude15',\n  'congratulations':'\\u3297\\ufe0f',\n  'construction':'\\ud83d\\udea7',\n  'construction_worker_man':'\\ud83d\\udc77',\n  'construction_worker_woman':'\\ud83d\\udc77&zwj;\\u2640\\ufe0f',\n  'control_knobs':'\\ud83c\\udf9b',\n  'convenience_store':'\\ud83c\\udfea',\n  'cookie':'\\ud83c\\udf6a',\n  'cool':'\\ud83c\\udd92',\n  'policeman':'\\ud83d\\udc6e',\n  'copyright':'\\u00a9\\ufe0f',\n  'corn':'\\ud83c\\udf3d',\n  'couch_and_lamp':'\\ud83d\\udecb',\n  'couple':'\\ud83d\\udc6b',\n  'couple_with_heart_woman_man':'\\ud83d\\udc91',\n  'couple_with_heart_man_man':'\\ud83d\\udc68&zwj;\\u2764\\ufe0f&zwj;\\ud83d\\udc68',\n  'couple_with_heart_woman_woman':'\\ud83d\\udc69&zwj;\\u2764\\ufe0f&zwj;\\ud83d\\udc69',\n  'couplekiss_man_man':'\\ud83d\\udc68&zwj;\\u2764\\ufe0f&zwj;\\ud83d\\udc8b&zwj;\\ud83d\\udc68',\n  'couplekiss_man_woman':'\\ud83d\\udc8f',\n  'couplekiss_woman_woman':'\\ud83d\\udc69&zwj;\\u2764\\ufe0f&zwj;\\ud83d\\udc8b&zwj;\\ud83d\\udc69',\n  'cow':'\\ud83d\\udc2e',\n  'cow2':'\\ud83d\\udc04',\n  'cowboy_hat_face':'\\ud83e\\udd20',\n  'crab':'\\ud83e\\udd80',\n  'crayon':'\\ud83d\\udd8d',\n  'credit_card':'\\ud83d\\udcb3',\n  'crescent_moon':'\\ud83c\\udf19',\n  'cricket':'\\ud83c\\udfcf',\n  'crocodile':'\\ud83d\\udc0a',\n  'croissant':'\\ud83e\\udd50',\n  'crossed_fingers':'\\ud83e\\udd1e',\n  'crossed_flags':'\\ud83c\\udf8c',\n  'crossed_swords':'\\u2694\\ufe0f',\n  'crown':'\\ud83d\\udc51',\n  'cry':'\\ud83d\\ude22',\n  'crying_cat_face':'\\ud83d\\ude3f',\n  'crystal_ball':'\\ud83d\\udd2e',\n  'cucumber':'\\ud83e\\udd52',\n  'cupid':'\\ud83d\\udc98',\n  'curly_loop':'\\u27b0',\n  'currency_exchange':'\\ud83d\\udcb1',\n  'curry':'\\ud83c\\udf5b',\n  'custard':'\\ud83c\\udf6e',\n  'customs':'\\ud83d\\udec3',\n  'cyclone':'\\ud83c\\udf00',\n  'dagger':'\\ud83d\\udde1',\n  'dancer':'\\ud83d\\udc83',\n  'dancing_women':'\\ud83d\\udc6f',\n  'dancing_men':'\\ud83d\\udc6f&zwj;\\u2642\\ufe0f',\n  'dango':'\\ud83c\\udf61',\n  'dark_sunglasses':'\\ud83d\\udd76',\n  'dart':'\\ud83c\\udfaf',\n  'dash':'\\ud83d\\udca8',\n  'date':'\\ud83d\\udcc5',\n  'deciduous_tree':'\\ud83c\\udf33',\n  'deer':'\\ud83e\\udd8c',\n  'department_store':'\\ud83c\\udfec',\n  'derelict_house':'\\ud83c\\udfda',\n  'desert':'\\ud83c\\udfdc',\n  'desert_island':'\\ud83c\\udfdd',\n  'desktop_computer':'\\ud83d\\udda5',\n  'male_detective':'\\ud83d\\udd75\\ufe0f',\n  'diamond_shape_with_a_dot_inside':'\\ud83d\\udca0',\n  'diamonds':'\\u2666\\ufe0f',\n  'disappointed':'\\ud83d\\ude1e',\n  'disappointed_relieved':'\\ud83d\\ude25',\n  'dizzy':'\\ud83d\\udcab',\n  'dizzy_face':'\\ud83d\\ude35',\n  'do_not_litter':'\\ud83d\\udeaf',\n  'dog':'\\ud83d\\udc36',\n  'dog2':'\\ud83d\\udc15',\n  'dollar':'\\ud83d\\udcb5',\n  'dolls':'\\ud83c\\udf8e',\n  'dolphin':'\\ud83d\\udc2c',\n  'door':'\\ud83d\\udeaa',\n  'doughnut':'\\ud83c\\udf69',\n  'dove':'\\ud83d\\udd4a',\n  'dragon':'\\ud83d\\udc09',\n  'dragon_face':'\\ud83d\\udc32',\n  'dress':'\\ud83d\\udc57',\n  'dromedary_camel':'\\ud83d\\udc2a',\n  'drooling_face':'\\ud83e\\udd24',\n  'droplet':'\\ud83d\\udca7',\n  'drum':'\\ud83e\\udd41',\n  'duck':'\\ud83e\\udd86',\n  'dvd':'\\ud83d\\udcc0',\n  'e-mail':'\\ud83d\\udce7',\n  'eagle':'\\ud83e\\udd85',\n  'ear':'\\ud83d\\udc42',\n  'ear_of_rice':'\\ud83c\\udf3e',\n  'earth_africa':'\\ud83c\\udf0d',\n  'earth_americas':'\\ud83c\\udf0e',\n  'earth_asia':'\\ud83c\\udf0f',\n  'egg':'\\ud83e\\udd5a',\n  'eggplant':'\\ud83c\\udf46',\n  'eight_pointed_black_star':'\\u2734\\ufe0f',\n  'eight_spoked_asterisk':'\\u2733\\ufe0f',\n  'electric_plug':'\\ud83d\\udd0c',\n  'elephant':'\\ud83d\\udc18',\n  'email':'\\u2709\\ufe0f',\n  'end':'\\ud83d\\udd1a',\n  'envelope_with_arrow':'\\ud83d\\udce9',\n  'euro':'\\ud83d\\udcb6',\n  'european_castle':'\\ud83c\\udff0',\n  'european_post_office':'\\ud83c\\udfe4',\n  'evergreen_tree':'\\ud83c\\udf32',\n  'exclamation':'\\u2757\\ufe0f',\n  'expressionless':'\\ud83d\\ude11',\n  'eye':'\\ud83d\\udc41',\n  'eye_speech_bubble':'\\ud83d\\udc41&zwj;\\ud83d\\udde8',\n  'eyeglasses':'\\ud83d\\udc53',\n  'eyes':'\\ud83d\\udc40',\n  'face_with_head_bandage':'\\ud83e\\udd15',\n  'face_with_thermometer':'\\ud83e\\udd12',\n  'fist_oncoming':'\\ud83d\\udc4a',\n  'factory':'\\ud83c\\udfed',\n  'fallen_leaf':'\\ud83c\\udf42',\n  'family_man_woman_boy':'\\ud83d\\udc6a',\n  'family_man_boy':'\\ud83d\\udc68&zwj;\\ud83d\\udc66',\n  'family_man_boy_boy':'\\ud83d\\udc68&zwj;\\ud83d\\udc66&zwj;\\ud83d\\udc66',\n  'family_man_girl':'\\ud83d\\udc68&zwj;\\ud83d\\udc67',\n  'family_man_girl_boy':'\\ud83d\\udc68&zwj;\\ud83d\\udc67&zwj;\\ud83d\\udc66',\n  'family_man_girl_girl':'\\ud83d\\udc68&zwj;\\ud83d\\udc67&zwj;\\ud83d\\udc67',\n  'family_man_man_boy':'\\ud83d\\udc68&zwj;\\ud83d\\udc68&zwj;\\ud83d\\udc66',\n  'family_man_man_boy_boy':'\\ud83d\\udc68&zwj;\\ud83d\\udc68&zwj;\\ud83d\\udc66&zwj;\\ud83d\\udc66',\n  'family_man_man_girl':'\\ud83d\\udc68&zwj;\\ud83d\\udc68&zwj;\\ud83d\\udc67',\n  'family_man_man_girl_boy':'\\ud83d\\udc68&zwj;\\ud83d\\udc68&zwj;\\ud83d\\udc67&zwj;\\ud83d\\udc66',\n  'family_man_man_girl_girl':'\\ud83d\\udc68&zwj;\\ud83d\\udc68&zwj;\\ud83d\\udc67&zwj;\\ud83d\\udc67',\n  'family_man_woman_boy_boy':'\\ud83d\\udc68&zwj;\\ud83d\\udc69&zwj;\\ud83d\\udc66&zwj;\\ud83d\\udc66',\n  'family_man_woman_girl':'\\ud83d\\udc68&zwj;\\ud83d\\udc69&zwj;\\ud83d\\udc67',\n  'family_man_woman_girl_boy':'\\ud83d\\udc68&zwj;\\ud83d\\udc69&zwj;\\ud83d\\udc67&zwj;\\ud83d\\udc66',\n  'family_man_woman_girl_girl':'\\ud83d\\udc68&zwj;\\ud83d\\udc69&zwj;\\ud83d\\udc67&zwj;\\ud83d\\udc67',\n  'family_woman_boy':'\\ud83d\\udc69&zwj;\\ud83d\\udc66',\n  'family_woman_boy_boy':'\\ud83d\\udc69&zwj;\\ud83d\\udc66&zwj;\\ud83d\\udc66',\n  'family_woman_girl':'\\ud83d\\udc69&zwj;\\ud83d\\udc67',\n  'family_woman_girl_boy':'\\ud83d\\udc69&zwj;\\ud83d\\udc67&zwj;\\ud83d\\udc66',\n  'family_woman_girl_girl':'\\ud83d\\udc69&zwj;\\ud83d\\udc67&zwj;\\ud83d\\udc67',\n  'family_woman_woman_boy':'\\ud83d\\udc69&zwj;\\ud83d\\udc69&zwj;\\ud83d\\udc66',\n  'family_woman_woman_boy_boy':'\\ud83d\\udc69&zwj;\\ud83d\\udc69&zwj;\\ud83d\\udc66&zwj;\\ud83d\\udc66',\n  'family_woman_woman_girl':'\\ud83d\\udc69&zwj;\\ud83d\\udc69&zwj;\\ud83d\\udc67',\n  'family_woman_woman_girl_boy':'\\ud83d\\udc69&zwj;\\ud83d\\udc69&zwj;\\ud83d\\udc67&zwj;\\ud83d\\udc66',\n  'family_woman_woman_girl_girl':'\\ud83d\\udc69&zwj;\\ud83d\\udc69&zwj;\\ud83d\\udc67&zwj;\\ud83d\\udc67',\n  'fast_forward':'\\u23e9',\n  'fax':'\\ud83d\\udce0',\n  'fearful':'\\ud83d\\ude28',\n  'feet':'\\ud83d\\udc3e',\n  'female_detective':'\\ud83d\\udd75\\ufe0f&zwj;\\u2640\\ufe0f',\n  'ferris_wheel':'\\ud83c\\udfa1',\n  'ferry':'\\u26f4',\n  'field_hockey':'\\ud83c\\udfd1',\n  'file_cabinet':'\\ud83d\\uddc4',\n  'file_folder':'\\ud83d\\udcc1',\n  'film_projector':'\\ud83d\\udcfd',\n  'film_strip':'\\ud83c\\udf9e',\n  'fire':'\\ud83d\\udd25',\n  'fire_engine':'\\ud83d\\ude92',\n  'fireworks':'\\ud83c\\udf86',\n  'first_quarter_moon':'\\ud83c\\udf13',\n  'first_quarter_moon_with_face':'\\ud83c\\udf1b',\n  'fish':'\\ud83d\\udc1f',\n  'fish_cake':'\\ud83c\\udf65',\n  'fishing_pole_and_fish':'\\ud83c\\udfa3',\n  'fist_raised':'\\u270a',\n  'fist_left':'\\ud83e\\udd1b',\n  'fist_right':'\\ud83e\\udd1c',\n  'flags':'\\ud83c\\udf8f',\n  'flashlight':'\\ud83d\\udd26',\n  'fleur_de_lis':'\\u269c\\ufe0f',\n  'flight_arrival':'\\ud83d\\udeec',\n  'flight_departure':'\\ud83d\\udeeb',\n  'floppy_disk':'\\ud83d\\udcbe',\n  'flower_playing_cards':'\\ud83c\\udfb4',\n  'flushed':'\\ud83d\\ude33',\n  'fog':'\\ud83c\\udf2b',\n  'foggy':'\\ud83c\\udf01',\n  'football':'\\ud83c\\udfc8',\n  'footprints':'\\ud83d\\udc63',\n  'fork_and_knife':'\\ud83c\\udf74',\n  'fountain':'\\u26f2\\ufe0f',\n  'fountain_pen':'\\ud83d\\udd8b',\n  'four_leaf_clover':'\\ud83c\\udf40',\n  'fox_face':'\\ud83e\\udd8a',\n  'framed_picture':'\\ud83d\\uddbc',\n  'free':'\\ud83c\\udd93',\n  'fried_egg':'\\ud83c\\udf73',\n  'fried_shrimp':'\\ud83c\\udf64',\n  'fries':'\\ud83c\\udf5f',\n  'frog':'\\ud83d\\udc38',\n  'frowning':'\\ud83d\\ude26',\n  'frowning_face':'\\u2639\\ufe0f',\n  'frowning_man':'\\ud83d\\ude4d&zwj;\\u2642\\ufe0f',\n  'frowning_woman':'\\ud83d\\ude4d',\n  'middle_finger':'\\ud83d\\udd95',\n  'fuelpump':'\\u26fd\\ufe0f',\n  'full_moon':'\\ud83c\\udf15',\n  'full_moon_with_face':'\\ud83c\\udf1d',\n  'funeral_urn':'\\u26b1\\ufe0f',\n  'game_die':'\\ud83c\\udfb2',\n  'gear':'\\u2699\\ufe0f',\n  'gem':'\\ud83d\\udc8e',\n  'gemini':'\\u264a\\ufe0f',\n  'ghost':'\\ud83d\\udc7b',\n  'gift':'\\ud83c\\udf81',\n  'gift_heart':'\\ud83d\\udc9d',\n  'girl':'\\ud83d\\udc67',\n  'globe_with_meridians':'\\ud83c\\udf10',\n  'goal_net':'\\ud83e\\udd45',\n  'goat':'\\ud83d\\udc10',\n  'golf':'\\u26f3\\ufe0f',\n  'golfing_man':'\\ud83c\\udfcc\\ufe0f',\n  'golfing_woman':'\\ud83c\\udfcc\\ufe0f&zwj;\\u2640\\ufe0f',\n  'gorilla':'\\ud83e\\udd8d',\n  'grapes':'\\ud83c\\udf47',\n  'green_apple':'\\ud83c\\udf4f',\n  'green_book':'\\ud83d\\udcd7',\n  'green_heart':'\\ud83d\\udc9a',\n  'green_salad':'\\ud83e\\udd57',\n  'grey_exclamation':'\\u2755',\n  'grey_question':'\\u2754',\n  'grimacing':'\\ud83d\\ude2c',\n  'grin':'\\ud83d\\ude01',\n  'grinning':'\\ud83d\\ude00',\n  'guardsman':'\\ud83d\\udc82',\n  'guardswoman':'\\ud83d\\udc82&zwj;\\u2640\\ufe0f',\n  'guitar':'\\ud83c\\udfb8',\n  'gun':'\\ud83d\\udd2b',\n  'haircut_woman':'\\ud83d\\udc87',\n  'haircut_man':'\\ud83d\\udc87&zwj;\\u2642\\ufe0f',\n  'hamburger':'\\ud83c\\udf54',\n  'hammer':'\\ud83d\\udd28',\n  'hammer_and_pick':'\\u2692',\n  'hammer_and_wrench':'\\ud83d\\udee0',\n  'hamster':'\\ud83d\\udc39',\n  'hand':'\\u270b',\n  'handbag':'\\ud83d\\udc5c',\n  'handshake':'\\ud83e\\udd1d',\n  'hankey':'\\ud83d\\udca9',\n  'hatched_chick':'\\ud83d\\udc25',\n  'hatching_chick':'\\ud83d\\udc23',\n  'headphones':'\\ud83c\\udfa7',\n  'hear_no_evil':'\\ud83d\\ude49',\n  'heart':'\\u2764\\ufe0f',\n  'heart_decoration':'\\ud83d\\udc9f',\n  'heart_eyes':'\\ud83d\\ude0d',\n  'heart_eyes_cat':'\\ud83d\\ude3b',\n  'heartbeat':'\\ud83d\\udc93',\n  'heartpulse':'\\ud83d\\udc97',\n  'hearts':'\\u2665\\ufe0f',\n  'heavy_check_mark':'\\u2714\\ufe0f',\n  'heavy_division_sign':'\\u2797',\n  'heavy_dollar_sign':'\\ud83d\\udcb2',\n  'heavy_heart_exclamation':'\\u2763\\ufe0f',\n  'heavy_minus_sign':'\\u2796',\n  'heavy_multiplication_x':'\\u2716\\ufe0f',\n  'heavy_plus_sign':'\\u2795',\n  'helicopter':'\\ud83d\\ude81',\n  'herb':'\\ud83c\\udf3f',\n  'hibiscus':'\\ud83c\\udf3a',\n  'high_brightness':'\\ud83d\\udd06',\n  'high_heel':'\\ud83d\\udc60',\n  'hocho':'\\ud83d\\udd2a',\n  'hole':'\\ud83d\\udd73',\n  'honey_pot':'\\ud83c\\udf6f',\n  'horse':'\\ud83d\\udc34',\n  'horse_racing':'\\ud83c\\udfc7',\n  'hospital':'\\ud83c\\udfe5',\n  'hot_pepper':'\\ud83c\\udf36',\n  'hotdog':'\\ud83c\\udf2d',\n  'hotel':'\\ud83c\\udfe8',\n  'hotsprings':'\\u2668\\ufe0f',\n  'hourglass':'\\u231b\\ufe0f',\n  'hourglass_flowing_sand':'\\u23f3',\n  'house':'\\ud83c\\udfe0',\n  'house_with_garden':'\\ud83c\\udfe1',\n  'houses':'\\ud83c\\udfd8',\n  'hugs':'\\ud83e\\udd17',\n  'hushed':'\\ud83d\\ude2f',\n  'ice_cream':'\\ud83c\\udf68',\n  'ice_hockey':'\\ud83c\\udfd2',\n  'ice_skate':'\\u26f8',\n  'icecream':'\\ud83c\\udf66',\n  'id':'\\ud83c\\udd94',\n  'ideograph_advantage':'\\ud83c\\ude50',\n  'imp':'\\ud83d\\udc7f',\n  'inbox_tray':'\\ud83d\\udce5',\n  'incoming_envelope':'\\ud83d\\udce8',\n  'tipping_hand_woman':'\\ud83d\\udc81',\n  'information_source':'\\u2139\\ufe0f',\n  'innocent':'\\ud83d\\ude07',\n  'interrobang':'\\u2049\\ufe0f',\n  'iphone':'\\ud83d\\udcf1',\n  'izakaya_lantern':'\\ud83c\\udfee',\n  'jack_o_lantern':'\\ud83c\\udf83',\n  'japan':'\\ud83d\\uddfe',\n  'japanese_castle':'\\ud83c\\udfef',\n  'japanese_goblin':'\\ud83d\\udc7a',\n  'japanese_ogre':'\\ud83d\\udc79',\n  'jeans':'\\ud83d\\udc56',\n  'joy':'\\ud83d\\ude02',\n  'joy_cat':'\\ud83d\\ude39',\n  'joystick':'\\ud83d\\udd79',\n  'kaaba':'\\ud83d\\udd4b',\n  'key':'\\ud83d\\udd11',\n  'keyboard':'\\u2328\\ufe0f',\n  'keycap_ten':'\\ud83d\\udd1f',\n  'kick_scooter':'\\ud83d\\udef4',\n  'kimono':'\\ud83d\\udc58',\n  'kiss':'\\ud83d\\udc8b',\n  'kissing':'\\ud83d\\ude17',\n  'kissing_cat':'\\ud83d\\ude3d',\n  'kissing_closed_eyes':'\\ud83d\\ude1a',\n  'kissing_heart':'\\ud83d\\ude18',\n  'kissing_smiling_eyes':'\\ud83d\\ude19',\n  'kiwi_fruit':'\\ud83e\\udd5d',\n  'koala':'\\ud83d\\udc28',\n  'koko':'\\ud83c\\ude01',\n  'label':'\\ud83c\\udff7',\n  'large_blue_circle':'\\ud83d\\udd35',\n  'large_blue_diamond':'\\ud83d\\udd37',\n  'large_orange_diamond':'\\ud83d\\udd36',\n  'last_quarter_moon':'\\ud83c\\udf17',\n  'last_quarter_moon_with_face':'\\ud83c\\udf1c',\n  'latin_cross':'\\u271d\\ufe0f',\n  'laughing':'\\ud83d\\ude06',\n  'leaves':'\\ud83c\\udf43',\n  'ledger':'\\ud83d\\udcd2',\n  'left_luggage':'\\ud83d\\udec5',\n  'left_right_arrow':'\\u2194\\ufe0f',\n  'leftwards_arrow_with_hook':'\\u21a9\\ufe0f',\n  'lemon':'\\ud83c\\udf4b',\n  'leo':'\\u264c\\ufe0f',\n  'leopard':'\\ud83d\\udc06',\n  'level_slider':'\\ud83c\\udf9a',\n  'libra':'\\u264e\\ufe0f',\n  'light_rail':'\\ud83d\\ude88',\n  'link':'\\ud83d\\udd17',\n  'lion':'\\ud83e\\udd81',\n  'lips':'\\ud83d\\udc44',\n  'lipstick':'\\ud83d\\udc84',\n  'lizard':'\\ud83e\\udd8e',\n  'lock':'\\ud83d\\udd12',\n  'lock_with_ink_pen':'\\ud83d\\udd0f',\n  'lollipop':'\\ud83c\\udf6d',\n  'loop':'\\u27bf',\n  'loud_sound':'\\ud83d\\udd0a',\n  'loudspeaker':'\\ud83d\\udce2',\n  'love_hotel':'\\ud83c\\udfe9',\n  'love_letter':'\\ud83d\\udc8c',\n  'low_brightness':'\\ud83d\\udd05',\n  'lying_face':'\\ud83e\\udd25',\n  'm':'\\u24c2\\ufe0f',\n  'mag':'\\ud83d\\udd0d',\n  'mag_right':'\\ud83d\\udd0e',\n  'mahjong':'\\ud83c\\udc04\\ufe0f',\n  'mailbox':'\\ud83d\\udceb',\n  'mailbox_closed':'\\ud83d\\udcea',\n  'mailbox_with_mail':'\\ud83d\\udcec',\n  'mailbox_with_no_mail':'\\ud83d\\udced',\n  'man':'\\ud83d\\udc68',\n  'man_artist':'\\ud83d\\udc68&zwj;\\ud83c\\udfa8',\n  'man_astronaut':'\\ud83d\\udc68&zwj;\\ud83d\\ude80',\n  'man_cartwheeling':'\\ud83e\\udd38&zwj;\\u2642\\ufe0f',\n  'man_cook':'\\ud83d\\udc68&zwj;\\ud83c\\udf73',\n  'man_dancing':'\\ud83d\\udd7a',\n  'man_facepalming':'\\ud83e\\udd26&zwj;\\u2642\\ufe0f',\n  'man_factory_worker':'\\ud83d\\udc68&zwj;\\ud83c\\udfed',\n  'man_farmer':'\\ud83d\\udc68&zwj;\\ud83c\\udf3e',\n  'man_firefighter':'\\ud83d\\udc68&zwj;\\ud83d\\ude92',\n  'man_health_worker':'\\ud83d\\udc68&zwj;\\u2695\\ufe0f',\n  'man_in_tuxedo':'\\ud83e\\udd35',\n  'man_judge':'\\ud83d\\udc68&zwj;\\u2696\\ufe0f',\n  'man_juggling':'\\ud83e\\udd39&zwj;\\u2642\\ufe0f',\n  'man_mechanic':'\\ud83d\\udc68&zwj;\\ud83d\\udd27',\n  'man_office_worker':'\\ud83d\\udc68&zwj;\\ud83d\\udcbc',\n  'man_pilot':'\\ud83d\\udc68&zwj;\\u2708\\ufe0f',\n  'man_playing_handball':'\\ud83e\\udd3e&zwj;\\u2642\\ufe0f',\n  'man_playing_water_polo':'\\ud83e\\udd3d&zwj;\\u2642\\ufe0f',\n  'man_scientist':'\\ud83d\\udc68&zwj;\\ud83d\\udd2c',\n  'man_shrugging':'\\ud83e\\udd37&zwj;\\u2642\\ufe0f',\n  'man_singer':'\\ud83d\\udc68&zwj;\\ud83c\\udfa4',\n  'man_student':'\\ud83d\\udc68&zwj;\\ud83c\\udf93',\n  'man_teacher':'\\ud83d\\udc68&zwj;\\ud83c\\udfeb',\n  'man_technologist':'\\ud83d\\udc68&zwj;\\ud83d\\udcbb',\n  'man_with_gua_pi_mao':'\\ud83d\\udc72',\n  'man_with_turban':'\\ud83d\\udc73',\n  'tangerine':'\\ud83c\\udf4a',\n  'mans_shoe':'\\ud83d\\udc5e',\n  'mantelpiece_clock':'\\ud83d\\udd70',\n  'maple_leaf':'\\ud83c\\udf41',\n  'martial_arts_uniform':'\\ud83e\\udd4b',\n  'mask':'\\ud83d\\ude37',\n  'massage_woman':'\\ud83d\\udc86',\n  'massage_man':'\\ud83d\\udc86&zwj;\\u2642\\ufe0f',\n  'meat_on_bone':'\\ud83c\\udf56',\n  'medal_military':'\\ud83c\\udf96',\n  'medal_sports':'\\ud83c\\udfc5',\n  'mega':'\\ud83d\\udce3',\n  'melon':'\\ud83c\\udf48',\n  'memo':'\\ud83d\\udcdd',\n  'men_wrestling':'\\ud83e\\udd3c&zwj;\\u2642\\ufe0f',\n  'menorah':'\\ud83d\\udd4e',\n  'mens':'\\ud83d\\udeb9',\n  'metal':'\\ud83e\\udd18',\n  'metro':'\\ud83d\\ude87',\n  'microphone':'\\ud83c\\udfa4',\n  'microscope':'\\ud83d\\udd2c',\n  'milk_glass':'\\ud83e\\udd5b',\n  'milky_way':'\\ud83c\\udf0c',\n  'minibus':'\\ud83d\\ude90',\n  'minidisc':'\\ud83d\\udcbd',\n  'mobile_phone_off':'\\ud83d\\udcf4',\n  'money_mouth_face':'\\ud83e\\udd11',\n  'money_with_wings':'\\ud83d\\udcb8',\n  'moneybag':'\\ud83d\\udcb0',\n  'monkey':'\\ud83d\\udc12',\n  'monkey_face':'\\ud83d\\udc35',\n  'monorail':'\\ud83d\\ude9d',\n  'moon':'\\ud83c\\udf14',\n  'mortar_board':'\\ud83c\\udf93',\n  'mosque':'\\ud83d\\udd4c',\n  'motor_boat':'\\ud83d\\udee5',\n  'motor_scooter':'\\ud83d\\udef5',\n  'motorcycle':'\\ud83c\\udfcd',\n  'motorway':'\\ud83d\\udee3',\n  'mount_fuji':'\\ud83d\\uddfb',\n  'mountain':'\\u26f0',\n  'mountain_biking_man':'\\ud83d\\udeb5',\n  'mountain_biking_woman':'\\ud83d\\udeb5&zwj;\\u2640\\ufe0f',\n  'mountain_cableway':'\\ud83d\\udea0',\n  'mountain_railway':'\\ud83d\\ude9e',\n  'mountain_snow':'\\ud83c\\udfd4',\n  'mouse':'\\ud83d\\udc2d',\n  'mouse2':'\\ud83d\\udc01',\n  'movie_camera':'\\ud83c\\udfa5',\n  'moyai':'\\ud83d\\uddff',\n  'mrs_claus':'\\ud83e\\udd36',\n  'muscle':'\\ud83d\\udcaa',\n  'mushroom':'\\ud83c\\udf44',\n  'musical_keyboard':'\\ud83c\\udfb9',\n  'musical_note':'\\ud83c\\udfb5',\n  'musical_score':'\\ud83c\\udfbc',\n  'mute':'\\ud83d\\udd07',\n  'nail_care':'\\ud83d\\udc85',\n  'name_badge':'\\ud83d\\udcdb',\n  'national_park':'\\ud83c\\udfde',\n  'nauseated_face':'\\ud83e\\udd22',\n  'necktie':'\\ud83d\\udc54',\n  'negative_squared_cross_mark':'\\u274e',\n  'nerd_face':'\\ud83e\\udd13',\n  'neutral_face':'\\ud83d\\ude10',\n  'new':'\\ud83c\\udd95',\n  'new_moon':'\\ud83c\\udf11',\n  'new_moon_with_face':'\\ud83c\\udf1a',\n  'newspaper':'\\ud83d\\udcf0',\n  'newspaper_roll':'\\ud83d\\uddde',\n  'next_track_button':'\\u23ed',\n  'ng':'\\ud83c\\udd96',\n  'no_good_man':'\\ud83d\\ude45&zwj;\\u2642\\ufe0f',\n  'no_good_woman':'\\ud83d\\ude45',\n  'night_with_stars':'\\ud83c\\udf03',\n  'no_bell':'\\ud83d\\udd15',\n  'no_bicycles':'\\ud83d\\udeb3',\n  'no_entry':'\\u26d4\\ufe0f',\n  'no_entry_sign':'\\ud83d\\udeab',\n  'no_mobile_phones':'\\ud83d\\udcf5',\n  'no_mouth':'\\ud83d\\ude36',\n  'no_pedestrians':'\\ud83d\\udeb7',\n  'no_smoking':'\\ud83d\\udead',\n  'non-potable_water':'\\ud83d\\udeb1',\n  'nose':'\\ud83d\\udc43',\n  'notebook':'\\ud83d\\udcd3',\n  'notebook_with_decorative_cover':'\\ud83d\\udcd4',\n  'notes':'\\ud83c\\udfb6',\n  'nut_and_bolt':'\\ud83d\\udd29',\n  'o':'\\u2b55\\ufe0f',\n  'o2':'\\ud83c\\udd7e\\ufe0f',\n  'ocean':'\\ud83c\\udf0a',\n  'octopus':'\\ud83d\\udc19',\n  'oden':'\\ud83c\\udf62',\n  'office':'\\ud83c\\udfe2',\n  'oil_drum':'\\ud83d\\udee2',\n  'ok':'\\ud83c\\udd97',\n  'ok_hand':'\\ud83d\\udc4c',\n  'ok_man':'\\ud83d\\ude46&zwj;\\u2642\\ufe0f',\n  'ok_woman':'\\ud83d\\ude46',\n  'old_key':'\\ud83d\\udddd',\n  'older_man':'\\ud83d\\udc74',\n  'older_woman':'\\ud83d\\udc75',\n  'om':'\\ud83d\\udd49',\n  'on':'\\ud83d\\udd1b',\n  'oncoming_automobile':'\\ud83d\\ude98',\n  'oncoming_bus':'\\ud83d\\ude8d',\n  'oncoming_police_car':'\\ud83d\\ude94',\n  'oncoming_taxi':'\\ud83d\\ude96',\n  'open_file_folder':'\\ud83d\\udcc2',\n  'open_hands':'\\ud83d\\udc50',\n  'open_mouth':'\\ud83d\\ude2e',\n  'open_umbrella':'\\u2602\\ufe0f',\n  'ophiuchus':'\\u26ce',\n  'orange_book':'\\ud83d\\udcd9',\n  'orthodox_cross':'\\u2626\\ufe0f',\n  'outbox_tray':'\\ud83d\\udce4',\n  'owl':'\\ud83e\\udd89',\n  'ox':'\\ud83d\\udc02',\n  'package':'\\ud83d\\udce6',\n  'page_facing_up':'\\ud83d\\udcc4',\n  'page_with_curl':'\\ud83d\\udcc3',\n  'pager':'\\ud83d\\udcdf',\n  'paintbrush':'\\ud83d\\udd8c',\n  'palm_tree':'\\ud83c\\udf34',\n  'pancakes':'\\ud83e\\udd5e',\n  'panda_face':'\\ud83d\\udc3c',\n  'paperclip':'\\ud83d\\udcce',\n  'paperclips':'\\ud83d\\udd87',\n  'parasol_on_ground':'\\u26f1',\n  'parking':'\\ud83c\\udd7f\\ufe0f',\n  'part_alternation_mark':'\\u303d\\ufe0f',\n  'partly_sunny':'\\u26c5\\ufe0f',\n  'passenger_ship':'\\ud83d\\udef3',\n  'passport_control':'\\ud83d\\udec2',\n  'pause_button':'\\u23f8',\n  'peace_symbol':'\\u262e\\ufe0f',\n  'peach':'\\ud83c\\udf51',\n  'peanuts':'\\ud83e\\udd5c',\n  'pear':'\\ud83c\\udf50',\n  'pen':'\\ud83d\\udd8a',\n  'pencil2':'\\u270f\\ufe0f',\n  'penguin':'\\ud83d\\udc27',\n  'pensive':'\\ud83d\\ude14',\n  'performing_arts':'\\ud83c\\udfad',\n  'persevere':'\\ud83d\\ude23',\n  'person_fencing':'\\ud83e\\udd3a',\n  'pouting_woman':'\\ud83d\\ude4e',\n  'phone':'\\u260e\\ufe0f',\n  'pick':'\\u26cf',\n  'pig':'\\ud83d\\udc37',\n  'pig2':'\\ud83d\\udc16',\n  'pig_nose':'\\ud83d\\udc3d',\n  'pill':'\\ud83d\\udc8a',\n  'pineapple':'\\ud83c\\udf4d',\n  'ping_pong':'\\ud83c\\udfd3',\n  'pisces':'\\u2653\\ufe0f',\n  'pizza':'\\ud83c\\udf55',\n  'place_of_worship':'\\ud83d\\uded0',\n  'plate_with_cutlery':'\\ud83c\\udf7d',\n  'play_or_pause_button':'\\u23ef',\n  'point_down':'\\ud83d\\udc47',\n  'point_left':'\\ud83d\\udc48',\n  'point_right':'\\ud83d\\udc49',\n  'point_up':'\\u261d\\ufe0f',\n  'point_up_2':'\\ud83d\\udc46',\n  'police_car':'\\ud83d\\ude93',\n  'policewoman':'\\ud83d\\udc6e&zwj;\\u2640\\ufe0f',\n  'poodle':'\\ud83d\\udc29',\n  'popcorn':'\\ud83c\\udf7f',\n  'post_office':'\\ud83c\\udfe3',\n  'postal_horn':'\\ud83d\\udcef',\n  'postbox':'\\ud83d\\udcee',\n  'potable_water':'\\ud83d\\udeb0',\n  'potato':'\\ud83e\\udd54',\n  'pouch':'\\ud83d\\udc5d',\n  'poultry_leg':'\\ud83c\\udf57',\n  'pound':'\\ud83d\\udcb7',\n  'rage':'\\ud83d\\ude21',\n  'pouting_cat':'\\ud83d\\ude3e',\n  'pouting_man':'\\ud83d\\ude4e&zwj;\\u2642\\ufe0f',\n  'pray':'\\ud83d\\ude4f',\n  'prayer_beads':'\\ud83d\\udcff',\n  'pregnant_woman':'\\ud83e\\udd30',\n  'previous_track_button':'\\u23ee',\n  'prince':'\\ud83e\\udd34',\n  'princess':'\\ud83d\\udc78',\n  'printer':'\\ud83d\\udda8',\n  'purple_heart':'\\ud83d\\udc9c',\n  'purse':'\\ud83d\\udc5b',\n  'pushpin':'\\ud83d\\udccc',\n  'put_litter_in_its_place':'\\ud83d\\udeae',\n  'question':'\\u2753',\n  'rabbit':'\\ud83d\\udc30',\n  'rabbit2':'\\ud83d\\udc07',\n  'racehorse':'\\ud83d\\udc0e',\n  'racing_car':'\\ud83c\\udfce',\n  'radio':'\\ud83d\\udcfb',\n  'radio_button':'\\ud83d\\udd18',\n  'radioactive':'\\u2622\\ufe0f',\n  'railway_car':'\\ud83d\\ude83',\n  'railway_track':'\\ud83d\\udee4',\n  'rainbow':'\\ud83c\\udf08',\n  'rainbow_flag':'\\ud83c\\udff3\\ufe0f&zwj;\\ud83c\\udf08',\n  'raised_back_of_hand':'\\ud83e\\udd1a',\n  'raised_hand_with_fingers_splayed':'\\ud83d\\udd90',\n  'raised_hands':'\\ud83d\\ude4c',\n  'raising_hand_woman':'\\ud83d\\ude4b',\n  'raising_hand_man':'\\ud83d\\ude4b&zwj;\\u2642\\ufe0f',\n  'ram':'\\ud83d\\udc0f',\n  'ramen':'\\ud83c\\udf5c',\n  'rat':'\\ud83d\\udc00',\n  'record_button':'\\u23fa',\n  'recycle':'\\u267b\\ufe0f',\n  'red_circle':'\\ud83d\\udd34',\n  'registered':'\\u00ae\\ufe0f',\n  'relaxed':'\\u263a\\ufe0f',\n  'relieved':'\\ud83d\\ude0c',\n  'reminder_ribbon':'\\ud83c\\udf97',\n  'repeat':'\\ud83d\\udd01',\n  'repeat_one':'\\ud83d\\udd02',\n  'rescue_worker_helmet':'\\u26d1',\n  'restroom':'\\ud83d\\udebb',\n  'revolving_hearts':'\\ud83d\\udc9e',\n  'rewind':'\\u23ea',\n  'rhinoceros':'\\ud83e\\udd8f',\n  'ribbon':'\\ud83c\\udf80',\n  'rice':'\\ud83c\\udf5a',\n  'rice_ball':'\\ud83c\\udf59',\n  'rice_cracker':'\\ud83c\\udf58',\n  'rice_scene':'\\ud83c\\udf91',\n  'right_anger_bubble':'\\ud83d\\uddef',\n  'ring':'\\ud83d\\udc8d',\n  'robot':'\\ud83e\\udd16',\n  'rocket':'\\ud83d\\ude80',\n  'rofl':'\\ud83e\\udd23',\n  'roll_eyes':'\\ud83d\\ude44',\n  'roller_coaster':'\\ud83c\\udfa2',\n  'rooster':'\\ud83d\\udc13',\n  'rose':'\\ud83c\\udf39',\n  'rosette':'\\ud83c\\udff5',\n  'rotating_light':'\\ud83d\\udea8',\n  'round_pushpin':'\\ud83d\\udccd',\n  'rowing_man':'\\ud83d\\udea3',\n  'rowing_woman':'\\ud83d\\udea3&zwj;\\u2640\\ufe0f',\n  'rugby_football':'\\ud83c\\udfc9',\n  'running_man':'\\ud83c\\udfc3',\n  'running_shirt_with_sash':'\\ud83c\\udfbd',\n  'running_woman':'\\ud83c\\udfc3&zwj;\\u2640\\ufe0f',\n  'sa':'\\ud83c\\ude02\\ufe0f',\n  'sagittarius':'\\u2650\\ufe0f',\n  'sake':'\\ud83c\\udf76',\n  'sandal':'\\ud83d\\udc61',\n  'santa':'\\ud83c\\udf85',\n  'satellite':'\\ud83d\\udce1',\n  'saxophone':'\\ud83c\\udfb7',\n  'school':'\\ud83c\\udfeb',\n  'school_satchel':'\\ud83c\\udf92',\n  'scissors':'\\u2702\\ufe0f',\n  'scorpion':'\\ud83e\\udd82',\n  'scorpius':'\\u264f\\ufe0f',\n  'scream':'\\ud83d\\ude31',\n  'scream_cat':'\\ud83d\\ude40',\n  'scroll':'\\ud83d\\udcdc',\n  'seat':'\\ud83d\\udcba',\n  'secret':'\\u3299\\ufe0f',\n  'see_no_evil':'\\ud83d\\ude48',\n  'seedling':'\\ud83c\\udf31',\n  'selfie':'\\ud83e\\udd33',\n  'shallow_pan_of_food':'\\ud83e\\udd58',\n  'shamrock':'\\u2618\\ufe0f',\n  'shark':'\\ud83e\\udd88',\n  'shaved_ice':'\\ud83c\\udf67',\n  'sheep':'\\ud83d\\udc11',\n  'shell':'\\ud83d\\udc1a',\n  'shield':'\\ud83d\\udee1',\n  'shinto_shrine':'\\u26e9',\n  'ship':'\\ud83d\\udea2',\n  'shirt':'\\ud83d\\udc55',\n  'shopping':'\\ud83d\\udecd',\n  'shopping_cart':'\\ud83d\\uded2',\n  'shower':'\\ud83d\\udebf',\n  'shrimp':'\\ud83e\\udd90',\n  'signal_strength':'\\ud83d\\udcf6',\n  'six_pointed_star':'\\ud83d\\udd2f',\n  'ski':'\\ud83c\\udfbf',\n  'skier':'\\u26f7',\n  'skull':'\\ud83d\\udc80',\n  'skull_and_crossbones':'\\u2620\\ufe0f',\n  'sleeping':'\\ud83d\\ude34',\n  'sleeping_bed':'\\ud83d\\udecc',\n  'sleepy':'\\ud83d\\ude2a',\n  'slightly_frowning_face':'\\ud83d\\ude41',\n  'slightly_smiling_face':'\\ud83d\\ude42',\n  'slot_machine':'\\ud83c\\udfb0',\n  'small_airplane':'\\ud83d\\udee9',\n  'small_blue_diamond':'\\ud83d\\udd39',\n  'small_orange_diamond':'\\ud83d\\udd38',\n  'small_red_triangle':'\\ud83d\\udd3a',\n  'small_red_triangle_down':'\\ud83d\\udd3b',\n  'smile':'\\ud83d\\ude04',\n  'smile_cat':'\\ud83d\\ude38',\n  'smiley':'\\ud83d\\ude03',\n  'smiley_cat':'\\ud83d\\ude3a',\n  'smiling_imp':'\\ud83d\\ude08',\n  'smirk':'\\ud83d\\ude0f',\n  'smirk_cat':'\\ud83d\\ude3c',\n  'smoking':'\\ud83d\\udeac',\n  'snail':'\\ud83d\\udc0c',\n  'snake':'\\ud83d\\udc0d',\n  'sneezing_face':'\\ud83e\\udd27',\n  'snowboarder':'\\ud83c\\udfc2',\n  'snowflake':'\\u2744\\ufe0f',\n  'snowman':'\\u26c4\\ufe0f',\n  'snowman_with_snow':'\\u2603\\ufe0f',\n  'sob':'\\ud83d\\ude2d',\n  'soccer':'\\u26bd\\ufe0f',\n  'soon':'\\ud83d\\udd1c',\n  'sos':'\\ud83c\\udd98',\n  'sound':'\\ud83d\\udd09',\n  'space_invader':'\\ud83d\\udc7e',\n  'spades':'\\u2660\\ufe0f',\n  'spaghetti':'\\ud83c\\udf5d',\n  'sparkle':'\\u2747\\ufe0f',\n  'sparkler':'\\ud83c\\udf87',\n  'sparkles':'\\u2728',\n  'sparkling_heart':'\\ud83d\\udc96',\n  'speak_no_evil':'\\ud83d\\ude4a',\n  'speaker':'\\ud83d\\udd08',\n  'speaking_head':'\\ud83d\\udde3',\n  'speech_balloon':'\\ud83d\\udcac',\n  'speedboat':'\\ud83d\\udea4',\n  'spider':'\\ud83d\\udd77',\n  'spider_web':'\\ud83d\\udd78',\n  'spiral_calendar':'\\ud83d\\uddd3',\n  'spiral_notepad':'\\ud83d\\uddd2',\n  'spoon':'\\ud83e\\udd44',\n  'squid':'\\ud83e\\udd91',\n  'stadium':'\\ud83c\\udfdf',\n  'star':'\\u2b50\\ufe0f',\n  'star2':'\\ud83c\\udf1f',\n  'star_and_crescent':'\\u262a\\ufe0f',\n  'star_of_david':'\\u2721\\ufe0f',\n  'stars':'\\ud83c\\udf20',\n  'station':'\\ud83d\\ude89',\n  'statue_of_liberty':'\\ud83d\\uddfd',\n  'steam_locomotive':'\\ud83d\\ude82',\n  'stew':'\\ud83c\\udf72',\n  'stop_button':'\\u23f9',\n  'stop_sign':'\\ud83d\\uded1',\n  'stopwatch':'\\u23f1',\n  'straight_ruler':'\\ud83d\\udccf',\n  'strawberry':'\\ud83c\\udf53',\n  'stuck_out_tongue':'\\ud83d\\ude1b',\n  'stuck_out_tongue_closed_eyes':'\\ud83d\\ude1d',\n  'stuck_out_tongue_winking_eye':'\\ud83d\\ude1c',\n  'studio_microphone':'\\ud83c\\udf99',\n  'stuffed_flatbread':'\\ud83e\\udd59',\n  'sun_behind_large_cloud':'\\ud83c\\udf25',\n  'sun_behind_rain_cloud':'\\ud83c\\udf26',\n  'sun_behind_small_cloud':'\\ud83c\\udf24',\n  'sun_with_face':'\\ud83c\\udf1e',\n  'sunflower':'\\ud83c\\udf3b',\n  'sunglasses':'\\ud83d\\ude0e',\n  'sunny':'\\u2600\\ufe0f',\n  'sunrise':'\\ud83c\\udf05',\n  'sunrise_over_mountains':'\\ud83c\\udf04',\n  'surfing_man':'\\ud83c\\udfc4',\n  'surfing_woman':'\\ud83c\\udfc4&zwj;\\u2640\\ufe0f',\n  'sushi':'\\ud83c\\udf63',\n  'suspension_railway':'\\ud83d\\ude9f',\n  'sweat':'\\ud83d\\ude13',\n  'sweat_drops':'\\ud83d\\udca6',\n  'sweat_smile':'\\ud83d\\ude05',\n  'sweet_potato':'\\ud83c\\udf60',\n  'swimming_man':'\\ud83c\\udfca',\n  'swimming_woman':'\\ud83c\\udfca&zwj;\\u2640\\ufe0f',\n  'symbols':'\\ud83d\\udd23',\n  'synagogue':'\\ud83d\\udd4d',\n  'syringe':'\\ud83d\\udc89',\n  'taco':'\\ud83c\\udf2e',\n  'tada':'\\ud83c\\udf89',\n  'tanabata_tree':'\\ud83c\\udf8b',\n  'taurus':'\\u2649\\ufe0f',\n  'taxi':'\\ud83d\\ude95',\n  'tea':'\\ud83c\\udf75',\n  'telephone_receiver':'\\ud83d\\udcde',\n  'telescope':'\\ud83d\\udd2d',\n  'tennis':'\\ud83c\\udfbe',\n  'tent':'\\u26fa\\ufe0f',\n  'thermometer':'\\ud83c\\udf21',\n  'thinking':'\\ud83e\\udd14',\n  'thought_balloon':'\\ud83d\\udcad',\n  'ticket':'\\ud83c\\udfab',\n  'tickets':'\\ud83c\\udf9f',\n  'tiger':'\\ud83d\\udc2f',\n  'tiger2':'\\ud83d\\udc05',\n  'timer_clock':'\\u23f2',\n  'tipping_hand_man':'\\ud83d\\udc81&zwj;\\u2642\\ufe0f',\n  'tired_face':'\\ud83d\\ude2b',\n  'tm':'\\u2122\\ufe0f',\n  'toilet':'\\ud83d\\udebd',\n  'tokyo_tower':'\\ud83d\\uddfc',\n  'tomato':'\\ud83c\\udf45',\n  'tongue':'\\ud83d\\udc45',\n  'top':'\\ud83d\\udd1d',\n  'tophat':'\\ud83c\\udfa9',\n  'tornado':'\\ud83c\\udf2a',\n  'trackball':'\\ud83d\\uddb2',\n  'tractor':'\\ud83d\\ude9c',\n  'traffic_light':'\\ud83d\\udea5',\n  'train':'\\ud83d\\ude8b',\n  'train2':'\\ud83d\\ude86',\n  'tram':'\\ud83d\\ude8a',\n  'triangular_flag_on_post':'\\ud83d\\udea9',\n  'triangular_ruler':'\\ud83d\\udcd0',\n  'trident':'\\ud83d\\udd31',\n  'triumph':'\\ud83d\\ude24',\n  'trolleybus':'\\ud83d\\ude8e',\n  'trophy':'\\ud83c\\udfc6',\n  'tropical_drink':'\\ud83c\\udf79',\n  'tropical_fish':'\\ud83d\\udc20',\n  'truck':'\\ud83d\\ude9a',\n  'trumpet':'\\ud83c\\udfba',\n  'tulip':'\\ud83c\\udf37',\n  'tumbler_glass':'\\ud83e\\udd43',\n  'turkey':'\\ud83e\\udd83',\n  'turtle':'\\ud83d\\udc22',\n  'tv':'\\ud83d\\udcfa',\n  'twisted_rightwards_arrows':'\\ud83d\\udd00',\n  'two_hearts':'\\ud83d\\udc95',\n  'two_men_holding_hands':'\\ud83d\\udc6c',\n  'two_women_holding_hands':'\\ud83d\\udc6d',\n  'u5272':'\\ud83c\\ude39',\n  'u5408':'\\ud83c\\ude34',\n  'u55b6':'\\ud83c\\ude3a',\n  'u6307':'\\ud83c\\ude2f\\ufe0f',\n  'u6708':'\\ud83c\\ude37\\ufe0f',\n  'u6709':'\\ud83c\\ude36',\n  'u6e80':'\\ud83c\\ude35',\n  'u7121':'\\ud83c\\ude1a\\ufe0f',\n  'u7533':'\\ud83c\\ude38',\n  'u7981':'\\ud83c\\ude32',\n  'u7a7a':'\\ud83c\\ude33',\n  'umbrella':'\\u2614\\ufe0f',\n  'unamused':'\\ud83d\\ude12',\n  'underage':'\\ud83d\\udd1e',\n  'unicorn':'\\ud83e\\udd84',\n  'unlock':'\\ud83d\\udd13',\n  'up':'\\ud83c\\udd99',\n  'upside_down_face':'\\ud83d\\ude43',\n  'v':'\\u270c\\ufe0f',\n  'vertical_traffic_light':'\\ud83d\\udea6',\n  'vhs':'\\ud83d\\udcfc',\n  'vibration_mode':'\\ud83d\\udcf3',\n  'video_camera':'\\ud83d\\udcf9',\n  'video_game':'\\ud83c\\udfae',\n  'violin':'\\ud83c\\udfbb',\n  'virgo':'\\u264d\\ufe0f',\n  'volcano':'\\ud83c\\udf0b',\n  'volleyball':'\\ud83c\\udfd0',\n  'vs':'\\ud83c\\udd9a',\n  'vulcan_salute':'\\ud83d\\udd96',\n  'walking_man':'\\ud83d\\udeb6',\n  'walking_woman':'\\ud83d\\udeb6&zwj;\\u2640\\ufe0f',\n  'waning_crescent_moon':'\\ud83c\\udf18',\n  'waning_gibbous_moon':'\\ud83c\\udf16',\n  'warning':'\\u26a0\\ufe0f',\n  'wastebasket':'\\ud83d\\uddd1',\n  'watch':'\\u231a\\ufe0f',\n  'water_buffalo':'\\ud83d\\udc03',\n  'watermelon':'\\ud83c\\udf49',\n  'wave':'\\ud83d\\udc4b',\n  'wavy_dash':'\\u3030\\ufe0f',\n  'waxing_crescent_moon':'\\ud83c\\udf12',\n  'wc':'\\ud83d\\udebe',\n  'weary':'\\ud83d\\ude29',\n  'wedding':'\\ud83d\\udc92',\n  'weight_lifting_man':'\\ud83c\\udfcb\\ufe0f',\n  'weight_lifting_woman':'\\ud83c\\udfcb\\ufe0f&zwj;\\u2640\\ufe0f',\n  'whale':'\\ud83d\\udc33',\n  'whale2':'\\ud83d\\udc0b',\n  'wheel_of_dharma':'\\u2638\\ufe0f',\n  'wheelchair':'\\u267f\\ufe0f',\n  'white_check_mark':'\\u2705',\n  'white_circle':'\\u26aa\\ufe0f',\n  'white_flag':'\\ud83c\\udff3\\ufe0f',\n  'white_flower':'\\ud83d\\udcae',\n  'white_large_square':'\\u2b1c\\ufe0f',\n  'white_medium_small_square':'\\u25fd\\ufe0f',\n  'white_medium_square':'\\u25fb\\ufe0f',\n  'white_small_square':'\\u25ab\\ufe0f',\n  'white_square_button':'\\ud83d\\udd33',\n  'wilted_flower':'\\ud83e\\udd40',\n  'wind_chime':'\\ud83c\\udf90',\n  'wind_face':'\\ud83c\\udf2c',\n  'wine_glass':'\\ud83c\\udf77',\n  'wink':'\\ud83d\\ude09',\n  'wolf':'\\ud83d\\udc3a',\n  'woman':'\\ud83d\\udc69',\n  'woman_artist':'\\ud83d\\udc69&zwj;\\ud83c\\udfa8',\n  'woman_astronaut':'\\ud83d\\udc69&zwj;\\ud83d\\ude80',\n  'woman_cartwheeling':'\\ud83e\\udd38&zwj;\\u2640\\ufe0f',\n  'woman_cook':'\\ud83d\\udc69&zwj;\\ud83c\\udf73',\n  'woman_facepalming':'\\ud83e\\udd26&zwj;\\u2640\\ufe0f',\n  'woman_factory_worker':'\\ud83d\\udc69&zwj;\\ud83c\\udfed',\n  'woman_farmer':'\\ud83d\\udc69&zwj;\\ud83c\\udf3e',\n  'woman_firefighter':'\\ud83d\\udc69&zwj;\\ud83d\\ude92',\n  'woman_health_worker':'\\ud83d\\udc69&zwj;\\u2695\\ufe0f',\n  'woman_judge':'\\ud83d\\udc69&zwj;\\u2696\\ufe0f',\n  'woman_juggling':'\\ud83e\\udd39&zwj;\\u2640\\ufe0f',\n  'woman_mechanic':'\\ud83d\\udc69&zwj;\\ud83d\\udd27',\n  'woman_office_worker':'\\ud83d\\udc69&zwj;\\ud83d\\udcbc',\n  'woman_pilot':'\\ud83d\\udc69&zwj;\\u2708\\ufe0f',\n  'woman_playing_handball':'\\ud83e\\udd3e&zwj;\\u2640\\ufe0f',\n  'woman_playing_water_polo':'\\ud83e\\udd3d&zwj;\\u2640\\ufe0f',\n  'woman_scientist':'\\ud83d\\udc69&zwj;\\ud83d\\udd2c',\n  'woman_shrugging':'\\ud83e\\udd37&zwj;\\u2640\\ufe0f',\n  'woman_singer':'\\ud83d\\udc69&zwj;\\ud83c\\udfa4',\n  'woman_student':'\\ud83d\\udc69&zwj;\\ud83c\\udf93',\n  'woman_teacher':'\\ud83d\\udc69&zwj;\\ud83c\\udfeb',\n  'woman_technologist':'\\ud83d\\udc69&zwj;\\ud83d\\udcbb',\n  'woman_with_turban':'\\ud83d\\udc73&zwj;\\u2640\\ufe0f',\n  'womans_clothes':'\\ud83d\\udc5a',\n  'womans_hat':'\\ud83d\\udc52',\n  'women_wrestling':'\\ud83e\\udd3c&zwj;\\u2640\\ufe0f',\n  'womens':'\\ud83d\\udeba',\n  'world_map':'\\ud83d\\uddfa',\n  'worried':'\\ud83d\\ude1f',\n  'wrench':'\\ud83d\\udd27',\n  'writing_hand':'\\u270d\\ufe0f',\n  'x':'\\u274c',\n  'yellow_heart':'\\ud83d\\udc9b',\n  'yen':'\\ud83d\\udcb4',\n  'yin_yang':'\\u262f\\ufe0f',\n  'yum':'\\ud83d\\ude0b',\n  'zap':'\\u26a1\\ufe0f',\n  'zipper_mouth_face':'\\ud83e\\udd10',\n  'zzz':'\\ud83d\\udca4',\n\n  /* special emojis :P */\n  'octocat':  '<img alt=\":octocat:\" height=\"20\" width=\"20\" align=\"absmiddle\" src=\"https://assets-cdn.github.com/images/icons/emoji/octocat.png\">',\n  'showdown': '<span style=\"font-family: \\'Anonymous Pro\\', monospace; text-decoration: underline; text-decoration-style: dashed; text-decoration-color: #3e8b8a;text-underline-position: under;\">S</span>'\n};\n\r\n/**\n * Created by Estevao on 31-05-2015.\n */\n\n/**\n * Showdown Converter class\n * @class\n * @param {object} [converterOptions]\n * @returns {Converter}\n */\nshowdown.Converter = function (converterOptions) {\n  'use strict';\n\n  var\n      /**\n       * Options used by this converter\n       * @private\n       * @type {{}}\n       */\n      options = {},\n\n      /**\n       * Language extensions used by this converter\n       * @private\n       * @type {Array}\n       */\n      langExtensions = [],\n\n      /**\n       * Output modifiers extensions used by this converter\n       * @private\n       * @type {Array}\n       */\n      outputModifiers = [],\n\n      /**\n       * Event listeners\n       * @private\n       * @type {{}}\n       */\n      listeners = {},\n\n      /**\n       * The flavor set in this converter\n       */\n      setConvFlavor = setFlavor,\n\n      /**\n       * Metadata of the document\n       * @type {{parsed: {}, raw: string, format: string}}\n       */\n      metadata = {\n        parsed: {},\n        raw: '',\n        format: ''\n      };\n\n  _constructor();\n\n  /**\n   * Converter constructor\n   * @private\n   */\n  function _constructor () {\n    converterOptions = converterOptions || {};\n\n    for (var gOpt in globalOptions) {\n      if (globalOptions.hasOwnProperty(gOpt)) {\n        options[gOpt] = globalOptions[gOpt];\n      }\n    }\n\n    // Merge options\n    if (typeof converterOptions === 'object') {\n      for (var opt in converterOptions) {\n        if (converterOptions.hasOwnProperty(opt)) {\n          options[opt] = converterOptions[opt];\n        }\n      }\n    } else {\n      throw Error('Converter expects the passed parameter to be an object, but ' + typeof converterOptions +\n      ' was passed instead.');\n    }\n\n    if (options.extensions) {\n      showdown.helper.forEach(options.extensions, _parseExtension);\n    }\n  }\n\n  /**\n   * Parse extension\n   * @param {*} ext\n   * @param {string} [name='']\n   * @private\n   */\n  function _parseExtension (ext, name) {\n\n    name = name || null;\n    // If it's a string, the extension was previously loaded\n    if (showdown.helper.isString(ext)) {\n      ext = showdown.helper.stdExtName(ext);\n      name = ext;\n\n      // LEGACY_SUPPORT CODE\n      if (showdown.extensions[ext]) {\n        console.warn('DEPRECATION WARNING: ' + ext + ' is an old extension that uses a deprecated loading method.' +\n          'Please inform the developer that the extension should be updated!');\n        legacyExtensionLoading(showdown.extensions[ext], ext);\n        return;\n        // END LEGACY SUPPORT CODE\n\n      } else if (!showdown.helper.isUndefined(extensions[ext])) {\n        ext = extensions[ext];\n\n      } else {\n        throw Error('Extension \"' + ext + '\" could not be loaded. It was either not found or is not a valid extension.');\n      }\n    }\n\n    if (typeof ext === 'function') {\n      ext = ext();\n    }\n\n    if (!showdown.helper.isArray(ext)) {\n      ext = [ext];\n    }\n\n    var validExt = validate(ext, name);\n    if (!validExt.valid) {\n      throw Error(validExt.error);\n    }\n\n    for (var i = 0; i < ext.length; ++i) {\n      switch (ext[i].type) {\n\n        case 'lang':\n          langExtensions.push(ext[i]);\n          break;\n\n        case 'output':\n          outputModifiers.push(ext[i]);\n          break;\n      }\n      if (ext[i].hasOwnProperty('listeners')) {\n        for (var ln in ext[i].listeners) {\n          if (ext[i].listeners.hasOwnProperty(ln)) {\n            listen(ln, ext[i].listeners[ln]);\n          }\n        }\n      }\n    }\n\n  }\n\n  /**\n   * LEGACY_SUPPORT\n   * @param {*} ext\n   * @param {string} name\n   */\n  function legacyExtensionLoading (ext, name) {\n    if (typeof ext === 'function') {\n      ext = ext(new showdown.Converter());\n    }\n    if (!showdown.helper.isArray(ext)) {\n      ext = [ext];\n    }\n    var valid = validate(ext, name);\n\n    if (!valid.valid) {\n      throw Error(valid.error);\n    }\n\n    for (var i = 0; i < ext.length; ++i) {\n      switch (ext[i].type) {\n        case 'lang':\n          langExtensions.push(ext[i]);\n          break;\n        case 'output':\n          outputModifiers.push(ext[i]);\n          break;\n        default:// should never reach here\n          throw Error('Extension loader error: Type unrecognized!!!');\n      }\n    }\n  }\n\n  /**\n   * Listen to an event\n   * @param {string} name\n   * @param {function} callback\n   */\n  function listen (name, callback) {\n    if (!showdown.helper.isString(name)) {\n      throw Error('Invalid argument in converter.listen() method: name must be a string, but ' + typeof name + ' given');\n    }\n\n    if (typeof callback !== 'function') {\n      throw Error('Invalid argument in converter.listen() method: callback must be a function, but ' + typeof callback + ' given');\n    }\n\n    if (!listeners.hasOwnProperty(name)) {\n      listeners[name] = [];\n    }\n    listeners[name].push(callback);\n  }\n\n  function rTrimInputText (text) {\n    var rsp = text.match(/^\\s*/)[0].length,\n        rgx = new RegExp('^\\\\s{0,' + rsp + '}', 'gm');\n    return text.replace(rgx, '');\n  }\n\n  /**\n   * Dispatch an event\n   * @private\n   * @param {string} evtName Event name\n   * @param {string} text Text\n   * @param {{}} options Converter Options\n   * @param {{}} globals\n   * @returns {string}\n   */\n  this._dispatch = function dispatch (evtName, text, options, globals) {\n    if (listeners.hasOwnProperty(evtName)) {\n      for (var ei = 0; ei < listeners[evtName].length; ++ei) {\n        var nText = listeners[evtName][ei](evtName, text, this, options, globals);\n        if (nText && typeof nText !== 'undefined') {\n          text = nText;\n        }\n      }\n    }\n    return text;\n  };\n\n  /**\n   * Listen to an event\n   * @param {string} name\n   * @param {function} callback\n   * @returns {showdown.Converter}\n   */\n  this.listen = function (name, callback) {\n    listen(name, callback);\n    return this;\n  };\n\n  /**\n   * Converts a markdown string into HTML\n   * @param {string} text\n   * @returns {*}\n   */\n  this.makeHtml = function (text) {\n    //check if text is not falsy\n    if (!text) {\n      return text;\n    }\n\n    var globals = {\n      gHtmlBlocks:     [],\n      gHtmlMdBlocks:   [],\n      gHtmlSpans:      [],\n      gUrls:           {},\n      gTitles:         {},\n      gDimensions:     {},\n      gListLevel:      0,\n      hashLinkCounts:  {},\n      langExtensions:  langExtensions,\n      outputModifiers: outputModifiers,\n      converter:       this,\n      ghCodeBlocks:    [],\n      metadata: {\n        parsed: {},\n        raw: '',\n        format: ''\n      }\n    };\n\n    // This lets us use ¨ trema as an escape char to avoid md5 hashes\n    // The choice of character is arbitrary; anything that isn't\n    // magic in Markdown will work.\n    text = text.replace(/¨/g, '¨T');\n\n    // Replace $ with ¨D\n    // RegExp interprets $ as a special character\n    // when it's in a replacement string\n    text = text.replace(/\\$/g, '¨D');\n\n    // Standardize line endings\n    text = text.replace(/\\r\\n/g, '\\n'); // DOS to Unix\n    text = text.replace(/\\r/g, '\\n'); // Mac to Unix\n\n    // Stardardize line spaces\n    text = text.replace(/\\u00A0/g, '&nbsp;');\n\n    if (options.smartIndentationFix) {\n      text = rTrimInputText(text);\n    }\n\n    // Make sure text begins and ends with a couple of newlines:\n    text = '\\n\\n' + text + '\\n\\n';\n\n    // detab\n    text = showdown.subParser('detab')(text, options, globals);\n\n    /**\n     * Strip any lines consisting only of spaces and tabs.\n     * This makes subsequent regexs easier to write, because we can\n     * match consecutive blank lines with /\\n+/ instead of something\n     * contorted like /[ \\t]*\\n+/\n     */\n    text = text.replace(/^[ \\t]+$/mg, '');\n\n    //run languageExtensions\n    showdown.helper.forEach(langExtensions, function (ext) {\n      text = showdown.subParser('runExtension')(ext, text, options, globals);\n    });\n\n    // run the sub parsers\n    text = showdown.subParser('metadata')(text, options, globals);\n    text = showdown.subParser('hashPreCodeTags')(text, options, globals);\n    text = showdown.subParser('githubCodeBlocks')(text, options, globals);\n    text = showdown.subParser('hashHTMLBlocks')(text, options, globals);\n    text = showdown.subParser('hashCodeTags')(text, options, globals);\n    text = showdown.subParser('stripLinkDefinitions')(text, options, globals);\n    text = showdown.subParser('blockGamut')(text, options, globals);\n    text = showdown.subParser('unhashHTMLSpans')(text, options, globals);\n    text = showdown.subParser('unescapeSpecialChars')(text, options, globals);\n\n    // attacklab: Restore dollar signs\n    text = text.replace(/¨D/g, '$$');\n\n    // attacklab: Restore tremas\n    text = text.replace(/¨T/g, '¨');\n\n    // render a complete html document instead of a partial if the option is enabled\n    text = showdown.subParser('completeHTMLDocument')(text, options, globals);\n\n    // Run output modifiers\n    showdown.helper.forEach(outputModifiers, function (ext) {\n      text = showdown.subParser('runExtension')(ext, text, options, globals);\n    });\n\n    // update metadata\n    metadata = globals.metadata;\n    return text;\n  };\n\n  /**\n   * Converts an HTML string into a markdown string\n   * @param src\n   * @param [HTMLParser] A WHATWG DOM and HTML parser, such as JSDOM. If none is supplied, window.document will be used.\n   * @returns {string}\n   */\n  this.makeMarkdown = this.makeMd = function (src, HTMLParser) {\n\n    // replace \\r\\n with \\n\n    src = src.replace(/\\r\\n/g, '\\n');\n    src = src.replace(/\\r/g, '\\n'); // old macs\n\n    // due to an edge case, we need to find this: > <\n    // to prevent removing of non silent white spaces\n    // ex: <em>this is</em> <strong>sparta</strong>\n    src = src.replace(/>[ \\t]+</, '>¨NBSP;<');\n\n    if (!HTMLParser) {\n      if (window && window.document) {\n        HTMLParser = window.document;\n      } else {\n        throw new Error('HTMLParser is undefined. If in a webworker or nodejs environment, you need to provide a WHATWG DOM and HTML such as JSDOM');\n      }\n    }\n\n    var doc = HTMLParser.createElement('div');\n    doc.innerHTML = src;\n\n    var globals = {\n      preList: substitutePreCodeTags(doc)\n    };\n\n    // remove all newlines and collapse spaces\n    clean(doc);\n\n    // some stuff, like accidental reference links must now be escaped\n    // TODO\n    // doc.innerHTML = doc.innerHTML.replace(/\\[[\\S\\t ]]/);\n\n    var nodes = doc.childNodes,\n        mdDoc = '';\n\n    for (var i = 0; i < nodes.length; i++) {\n      mdDoc += showdown.subParser('makeMarkdown.node')(nodes[i], globals);\n    }\n\n    function clean (node) {\n      for (var n = 0; n < node.childNodes.length; ++n) {\n        var child = node.childNodes[n];\n        if (child.nodeType === 3) {\n          if (!/\\S/.test(child.nodeValue)) {\n            node.removeChild(child);\n            --n;\n          } else {\n            child.nodeValue = child.nodeValue.split('\\n').join(' ');\n            child.nodeValue = child.nodeValue.replace(/(\\s)+/g, '$1');\n          }\n        } else if (child.nodeType === 1) {\n          clean(child);\n        }\n      }\n    }\n\n    // find all pre tags and replace contents with placeholder\n    // we need this so that we can remove all indentation from html\n    // to ease up parsing\n    function substitutePreCodeTags (doc) {\n\n      var pres = doc.querySelectorAll('pre'),\n          presPH = [];\n\n      for (var i = 0; i < pres.length; ++i) {\n\n        if (pres[i].childElementCount === 1 && pres[i].firstChild.tagName.toLowerCase() === 'code') {\n          var content = pres[i].firstChild.innerHTML.trim(),\n              language = pres[i].firstChild.getAttribute('data-language') || '';\n\n          // if data-language attribute is not defined, then we look for class language-*\n          if (language === '') {\n            var classes = pres[i].firstChild.className.split(' ');\n            for (var c = 0; c < classes.length; ++c) {\n              var matches = classes[c].match(/^language-(.+)$/);\n              if (matches !== null) {\n                language = matches[1];\n                break;\n              }\n            }\n          }\n\n          // unescape html entities in content\n          content = showdown.helper.unescapeHTMLEntities(content);\n\n          presPH.push(content);\n          pres[i].outerHTML = '<precode language=\"' + language + '\" precodenum=\"' + i.toString() + '\"></precode>';\n        } else {\n          presPH.push(pres[i].innerHTML);\n          pres[i].innerHTML = '';\n          pres[i].setAttribute('prenum', i.toString());\n        }\n      }\n      return presPH;\n    }\n\n    return mdDoc;\n  };\n\n  /**\n   * Set an option of this Converter instance\n   * @param {string} key\n   * @param {*} value\n   */\n  this.setOption = function (key, value) {\n    options[key] = value;\n  };\n\n  /**\n   * Get the option of this Converter instance\n   * @param {string} key\n   * @returns {*}\n   */\n  this.getOption = function (key) {\n    return options[key];\n  };\n\n  /**\n   * Get the options of this Converter instance\n   * @returns {{}}\n   */\n  this.getOptions = function () {\n    return options;\n  };\n\n  /**\n   * Add extension to THIS converter\n   * @param {{}} extension\n   * @param {string} [name=null]\n   */\n  this.addExtension = function (extension, name) {\n    name = name || null;\n    _parseExtension(extension, name);\n  };\n\n  /**\n   * Use a global registered extension with THIS converter\n   * @param {string} extensionName Name of the previously registered extension\n   */\n  this.useExtension = function (extensionName) {\n    _parseExtension(extensionName);\n  };\n\n  /**\n   * Set the flavor THIS converter should use\n   * @param {string} name\n   */\n  this.setFlavor = function (name) {\n    if (!flavor.hasOwnProperty(name)) {\n      throw Error(name + ' flavor was not found');\n    }\n    var preset = flavor[name];\n    setConvFlavor = name;\n    for (var option in preset) {\n      if (preset.hasOwnProperty(option)) {\n        options[option] = preset[option];\n      }\n    }\n  };\n\n  /**\n   * Get the currently set flavor of this converter\n   * @returns {string}\n   */\n  this.getFlavor = function () {\n    return setConvFlavor;\n  };\n\n  /**\n   * Remove an extension from THIS converter.\n   * Note: This is a costly operation. It's better to initialize a new converter\n   * and specify the extensions you wish to use\n   * @param {Array} extension\n   */\n  this.removeExtension = function (extension) {\n    if (!showdown.helper.isArray(extension)) {\n      extension = [extension];\n    }\n    for (var a = 0; a < extension.length; ++a) {\n      var ext = extension[a];\n      for (var i = 0; i < langExtensions.length; ++i) {\n        if (langExtensions[i] === ext) {\n          langExtensions[i].splice(i, 1);\n        }\n      }\n      for (var ii = 0; ii < outputModifiers.length; ++i) {\n        if (outputModifiers[ii] === ext) {\n          outputModifiers[ii].splice(i, 1);\n        }\n      }\n    }\n  };\n\n  /**\n   * Get all extension of THIS converter\n   * @returns {{language: Array, output: Array}}\n   */\n  this.getAllExtensions = function () {\n    return {\n      language: langExtensions,\n      output: outputModifiers\n    };\n  };\n\n  /**\n   * Get the metadata of the previously parsed document\n   * @param raw\n   * @returns {string|{}}\n   */\n  this.getMetadata = function (raw) {\n    if (raw) {\n      return metadata.raw;\n    } else {\n      return metadata.parsed;\n    }\n  };\n\n  /**\n   * Get the metadata format of the previously parsed document\n   * @returns {string}\n   */\n  this.getMetadataFormat = function () {\n    return metadata.format;\n  };\n\n  /**\n   * Private: set a single key, value metadata pair\n   * @param {string} key\n   * @param {string} value\n   */\n  this._setMetadataPair = function (key, value) {\n    metadata.parsed[key] = value;\n  };\n\n  /**\n   * Private: set metadata format\n   * @param {string} format\n   */\n  this._setMetadataFormat = function (format) {\n    metadata.format = format;\n  };\n\n  /**\n   * Private: set metadata raw text\n   * @param {string} raw\n   */\n  this._setMetadataRaw = function (raw) {\n    metadata.raw = raw;\n  };\n};\n\r\n/**\n * Turn Markdown link shortcuts into XHTML <a> tags.\n */\nshowdown.subParser('anchors', function (text, options, globals) {\n  'use strict';\n\n  text = globals.converter._dispatch('anchors.before', text, options, globals);\n\n  var writeAnchorTag = function (wholeMatch, linkText, linkId, url, m5, m6, title) {\n    if (showdown.helper.isUndefined(title)) {\n      title = '';\n    }\n    linkId = linkId.toLowerCase();\n\n    // Special case for explicit empty url\n    if (wholeMatch.search(/\\(<?\\s*>? ?(['\"].*['\"])?\\)$/m) > -1) {\n      url = '';\n    } else if (!url) {\n      if (!linkId) {\n        // lower-case and turn embedded newlines into spaces\n        linkId = linkText.toLowerCase().replace(/ ?\\n/g, ' ');\n      }\n      url = '#' + linkId;\n\n      if (!showdown.helper.isUndefined(globals.gUrls[linkId])) {\n        url = globals.gUrls[linkId];\n        if (!showdown.helper.isUndefined(globals.gTitles[linkId])) {\n          title = globals.gTitles[linkId];\n        }\n      } else {\n        return wholeMatch;\n      }\n    }\n\n    //url = showdown.helper.escapeCharacters(url, '*_', false); // replaced line to improve performance\n    url = url.replace(showdown.helper.regexes.asteriskDashAndColon, showdown.helper.escapeCharactersCallback);\n\n    var result = '<a href=\"' + url + '\"';\n\n    if (title !== '' && title !== null) {\n      title = title.replace(/\"/g, '&quot;');\n      //title = showdown.helper.escapeCharacters(title, '*_', false); // replaced line to improve performance\n      title = title.replace(showdown.helper.regexes.asteriskDashAndColon, showdown.helper.escapeCharactersCallback);\n      result += ' title=\"' + title + '\"';\n    }\n\n    // optionLinksInNewWindow only applies\n    // to external links. Hash links (#) open in same page\n    if (options.openLinksInNewWindow && !/^#/.test(url)) {\n      // escaped _\n      result += ' rel=\"noopener noreferrer\" target=\"¨E95Eblank\"';\n    }\n\n    result += '>' + linkText + '</a>';\n\n    return result;\n  };\n\n  // First, handle reference-style links: [link text] [id]\n  text = text.replace(/\\[((?:\\[[^\\]]*]|[^\\[\\]])*)] ?(?:\\n *)?\\[(.*?)]()()()()/g, writeAnchorTag);\n\n  // Next, inline-style links: [link text](url \"optional title\")\n  // cases with crazy urls like ./image/cat1).png\n  text = text.replace(/\\[((?:\\[[^\\]]*]|[^\\[\\]])*)]()[ \\t]*\\([ \\t]?<([^>]*)>(?:[ \\t]*(([\"'])([^\"]*?)\\5))?[ \\t]?\\)/g,\n    writeAnchorTag);\n\n  // normal cases\n  text = text.replace(/\\[((?:\\[[^\\]]*]|[^\\[\\]])*)]()[ \\t]*\\([ \\t]?<?([\\S]+?(?:\\([\\S]*?\\)[\\S]*?)?)>?(?:[ \\t]*(([\"'])([^\"]*?)\\5))?[ \\t]?\\)/g,\n    writeAnchorTag);\n\n  // handle reference-style shortcuts: [link text]\n  // These must come last in case you've also got [link test][1]\n  // or [link test](/foo)\n  text = text.replace(/\\[([^\\[\\]]+)]()()()()()/g, writeAnchorTag);\n\n  // Lastly handle GithubMentions if option is enabled\n  if (options.ghMentions) {\n    text = text.replace(/(^|\\s)(\\\\)?(@([a-z\\d]+(?:[a-z\\d.-]+?[a-z\\d]+)*))/gmi, function (wm, st, escape, mentions, username) {\n      if (escape === '\\\\') {\n        return st + mentions;\n      }\n\n      //check if options.ghMentionsLink is a string\n      if (!showdown.helper.isString(options.ghMentionsLink)) {\n        throw new Error('ghMentionsLink option must be a string');\n      }\n      var lnk = options.ghMentionsLink.replace(/\\{u}/g, username),\n          target = '';\n      if (options.openLinksInNewWindow) {\n        target = ' rel=\"noopener noreferrer\" target=\"¨E95Eblank\"';\n      }\n      return st + '<a href=\"' + lnk + '\"' + target + '>' + mentions + '</a>';\n    });\n  }\n\n  text = globals.converter._dispatch('anchors.after', text, options, globals);\n  return text;\n});\n\r\n// url allowed chars [a-z\\d_.~:/?#[]@!$&'()*+,;=-]\n\nvar simpleURLRegex  = /([*~_]+|\\b)(((https?|ftp|dict):\\/\\/|www\\.)[^'\">\\s]+?\\.[^'\">\\s]+?)()(\\1)?(?=\\s|$)(?![\"<>])/gi,\n    simpleURLRegex2 = /([*~_]+|\\b)(((https?|ftp|dict):\\/\\/|www\\.)[^'\">\\s]+\\.[^'\">\\s]+?)([.!?,()\\[\\]])?(\\1)?(?=\\s|$)(?![\"<>])/gi,\n    delimUrlRegex   = /()<(((https?|ftp|dict):\\/\\/|www\\.)[^'\">\\s]+)()>()/gi,\n    simpleMailRegex = /(^|\\s)(?:mailto:)?([A-Za-z0-9!#$%&'*+-/=?^_`{|}~.]+@[-a-z0-9]+(\\.[-a-z0-9]+)*\\.[a-z]+)(?=$|\\s)/gmi,\n    delimMailRegex  = /<()(?:mailto:)?([-.\\w]+@[-a-z0-9]+(\\.[-a-z0-9]+)*\\.[a-z]+)>/gi,\n\n    replaceLink = function (options) {\n      'use strict';\n      return function (wm, leadingMagicChars, link, m2, m3, trailingPunctuation, trailingMagicChars) {\n        link = link.replace(showdown.helper.regexes.asteriskDashAndColon, showdown.helper.escapeCharactersCallback);\n        var lnkTxt = link,\n            append = '',\n            target = '',\n            lmc    = leadingMagicChars || '',\n            tmc    = trailingMagicChars || '';\n        if (/^www\\./i.test(link)) {\n          link = link.replace(/^www\\./i, 'http://www.');\n        }\n        if (options.excludeTrailingPunctuationFromURLs && trailingPunctuation) {\n          append = trailingPunctuation;\n        }\n        if (options.openLinksInNewWindow) {\n          target = ' rel=\"noopener noreferrer\" target=\"¨E95Eblank\"';\n        }\n        return lmc + '<a href=\"' + link + '\"' + target + '>' + lnkTxt + '</a>' + append + tmc;\n      };\n    },\n\n    replaceMail = function (options, globals) {\n      'use strict';\n      return function (wholeMatch, b, mail) {\n        var href = 'mailto:';\n        b = b || '';\n        mail = showdown.subParser('unescapeSpecialChars')(mail, options, globals);\n        if (options.encodeEmails) {\n          href = showdown.helper.encodeEmailAddress(href + mail);\n          mail = showdown.helper.encodeEmailAddress(mail);\n        } else {\n          href = href + mail;\n        }\n        return b + '<a href=\"' + href + '\">' + mail + '</a>';\n      };\n    };\n\nshowdown.subParser('autoLinks', function (text, options, globals) {\n  'use strict';\n\n  text = globals.converter._dispatch('autoLinks.before', text, options, globals);\n\n  text = text.replace(delimUrlRegex, replaceLink(options));\n  text = text.replace(delimMailRegex, replaceMail(options, globals));\n\n  text = globals.converter._dispatch('autoLinks.after', text, options, globals);\n\n  return text;\n});\n\nshowdown.subParser('simplifiedAutoLinks', function (text, options, globals) {\n  'use strict';\n\n  if (!options.simplifiedAutoLink) {\n    return text;\n  }\n\n  text = globals.converter._dispatch('simplifiedAutoLinks.before', text, options, globals);\n\n  if (options.excludeTrailingPunctuationFromURLs) {\n    text = text.replace(simpleURLRegex2, replaceLink(options));\n  } else {\n    text = text.replace(simpleURLRegex, replaceLink(options));\n  }\n  text = text.replace(simpleMailRegex, replaceMail(options, globals));\n\n  text = globals.converter._dispatch('simplifiedAutoLinks.after', text, options, globals);\n\n  return text;\n});\n\r\n/**\n * These are all the transformations that form block-level\n * tags like paragraphs, headers, and list items.\n */\nshowdown.subParser('blockGamut', function (text, options, globals) {\n  'use strict';\n\n  text = globals.converter._dispatch('blockGamut.before', text, options, globals);\n\n  // we parse blockquotes first so that we can have headings and hrs\n  // inside blockquotes\n  text = showdown.subParser('blockQuotes')(text, options, globals);\n  text = showdown.subParser('headers')(text, options, globals);\n\n  // Do Horizontal Rules:\n  text = showdown.subParser('horizontalRule')(text, options, globals);\n\n  text = showdown.subParser('lists')(text, options, globals);\n  text = showdown.subParser('codeBlocks')(text, options, globals);\n  text = showdown.subParser('tables')(text, options, globals);\n\n  // We already ran _HashHTMLBlocks() before, in Markdown(), but that\n  // was to escape raw HTML in the original Markdown source. This time,\n  // we're escaping the markup we've just created, so that we don't wrap\n  // <p> tags around block-level tags.\n  text = showdown.subParser('hashHTMLBlocks')(text, options, globals);\n  text = showdown.subParser('paragraphs')(text, options, globals);\n\n  text = globals.converter._dispatch('blockGamut.after', text, options, globals);\n\n  return text;\n});\n\r\nshowdown.subParser('blockQuotes', function (text, options, globals) {\n  'use strict';\n\n  text = globals.converter._dispatch('blockQuotes.before', text, options, globals);\n\n  // add a couple extra lines after the text and endtext mark\n  text = text + '\\n\\n';\n\n  var rgx = /(^ {0,3}>[ \\t]?.+\\n(.+\\n)*\\n*)+/gm;\n\n  if (options.splitAdjacentBlockquotes) {\n    rgx = /^ {0,3}>[\\s\\S]*?(?:\\n\\n)/gm;\n  }\n\n  text = text.replace(rgx, function (bq) {\n    // attacklab: hack around Konqueror 3.5.4 bug:\n    // \"----------bug\".replace(/^-/g,\"\") == \"bug\"\n    bq = bq.replace(/^[ \\t]*>[ \\t]?/gm, ''); // trim one level of quoting\n\n    // attacklab: clean up hack\n    bq = bq.replace(/¨0/g, '');\n\n    bq = bq.replace(/^[ \\t]+$/gm, ''); // trim whitespace-only lines\n    bq = showdown.subParser('githubCodeBlocks')(bq, options, globals);\n    bq = showdown.subParser('blockGamut')(bq, options, globals); // recurse\n\n    bq = bq.replace(/(^|\\n)/g, '$1  ');\n    // These leading spaces screw with <pre> content, so we need to fix that:\n    bq = bq.replace(/(\\s*<pre>[^\\r]+?<\\/pre>)/gm, function (wholeMatch, m1) {\n      var pre = m1;\n      // attacklab: hack around Konqueror 3.5.4 bug:\n      pre = pre.replace(/^  /mg, '¨0');\n      pre = pre.replace(/¨0/g, '');\n      return pre;\n    });\n\n    return showdown.subParser('hashBlock')('<blockquote>\\n' + bq + '\\n</blockquote>', options, globals);\n  });\n\n  text = globals.converter._dispatch('blockQuotes.after', text, options, globals);\n  return text;\n});\n\r\n/**\n * Process Markdown `<pre><code>` blocks.\n */\nshowdown.subParser('codeBlocks', function (text, options, globals) {\n  'use strict';\n\n  text = globals.converter._dispatch('codeBlocks.before', text, options, globals);\n\n  // sentinel workarounds for lack of \\A and \\Z, safari\\khtml bug\n  text += '¨0';\n\n  var pattern = /(?:\\n\\n|^)((?:(?:[ ]{4}|\\t).*\\n+)+)(\\n*[ ]{0,3}[^ \\t\\n]|(?=¨0))/g;\n  text = text.replace(pattern, function (wholeMatch, m1, m2) {\n    var codeblock = m1,\n        nextChar = m2,\n        end = '\\n';\n\n    codeblock = showdown.subParser('outdent')(codeblock, options, globals);\n    codeblock = showdown.subParser('encodeCode')(codeblock, options, globals);\n    codeblock = showdown.subParser('detab')(codeblock, options, globals);\n    codeblock = codeblock.replace(/^\\n+/g, ''); // trim leading newlines\n    codeblock = codeblock.replace(/\\n+$/g, ''); // trim trailing newlines\n\n    if (options.omitExtraWLInCodeBlocks) {\n      end = '';\n    }\n\n    codeblock = '<pre><code>' + codeblock + end + '</code></pre>';\n\n    return showdown.subParser('hashBlock')(codeblock, options, globals) + nextChar;\n  });\n\n  // strip sentinel\n  text = text.replace(/¨0/, '');\n\n  text = globals.converter._dispatch('codeBlocks.after', text, options, globals);\n  return text;\n});\n\r\n/**\n *\n *   *  Backtick quotes are used for <code></code> spans.\n *\n *   *  You can use multiple backticks as the delimiters if you want to\n *     include literal backticks in the code span. So, this input:\n *\n *         Just type ``foo `bar` baz`` at the prompt.\n *\n *       Will translate to:\n *\n *         <p>Just type <code>foo `bar` baz</code> at the prompt.</p>\n *\n *    There's no arbitrary limit to the number of backticks you\n *    can use as delimters. If you need three consecutive backticks\n *    in your code, use four for delimiters, etc.\n *\n *  *  You can use spaces to get literal backticks at the edges:\n *\n *         ... type `` `bar` `` ...\n *\n *       Turns to:\n *\n *         ... type <code>`bar`</code> ...\n */\nshowdown.subParser('codeSpans', function (text, options, globals) {\n  'use strict';\n\n  text = globals.converter._dispatch('codeSpans.before', text, options, globals);\n\n  if (typeof text === 'undefined') {\n    text = '';\n  }\n  text = text.replace(/(^|[^\\\\])(`+)([^\\r]*?[^`])\\2(?!`)/gm,\n    function (wholeMatch, m1, m2, m3) {\n      var c = m3;\n      c = c.replace(/^([ \\t]*)/g, '');\t// leading whitespace\n      c = c.replace(/[ \\t]*$/g, '');\t// trailing whitespace\n      c = showdown.subParser('encodeCode')(c, options, globals);\n      c = m1 + '<code>' + c + '</code>';\n      c = showdown.subParser('hashHTMLSpans')(c, options, globals);\n      return c;\n    }\n  );\n\n  text = globals.converter._dispatch('codeSpans.after', text, options, globals);\n  return text;\n});\n\r\n/**\n * Create a full HTML document from the processed markdown\n */\nshowdown.subParser('completeHTMLDocument', function (text, options, globals) {\n  'use strict';\n\n  if (!options.completeHTMLDocument) {\n    return text;\n  }\n\n  text = globals.converter._dispatch('completeHTMLDocument.before', text, options, globals);\n\n  var doctype = 'html',\n      doctypeParsed = '<!DOCTYPE HTML>\\n',\n      title = '',\n      charset = '<meta charset=\"utf-8\">\\n',\n      lang = '',\n      metadata = '';\n\n  if (typeof globals.metadata.parsed.doctype !== 'undefined') {\n    doctypeParsed = '<!DOCTYPE ' +  globals.metadata.parsed.doctype + '>\\n';\n    doctype = globals.metadata.parsed.doctype.toString().toLowerCase();\n    if (doctype === 'html' || doctype === 'html5') {\n      charset = '<meta charset=\"utf-8\">';\n    }\n  }\n\n  for (var meta in globals.metadata.parsed) {\n    if (globals.metadata.parsed.hasOwnProperty(meta)) {\n      switch (meta.toLowerCase()) {\n        case 'doctype':\n          break;\n\n        case 'title':\n          title = '<title>' +  globals.metadata.parsed.title + '</title>\\n';\n          break;\n\n        case 'charset':\n          if (doctype === 'html' || doctype === 'html5') {\n            charset = '<meta charset=\"' + globals.metadata.parsed.charset + '\">\\n';\n          } else {\n            charset = '<meta name=\"charset\" content=\"' + globals.metadata.parsed.charset + '\">\\n';\n          }\n          break;\n\n        case 'language':\n        case 'lang':\n          lang = ' lang=\"' + globals.metadata.parsed[meta] + '\"';\n          metadata += '<meta name=\"' + meta + '\" content=\"' + globals.metadata.parsed[meta] + '\">\\n';\n          break;\n\n        default:\n          metadata += '<meta name=\"' + meta + '\" content=\"' + globals.metadata.parsed[meta] + '\">\\n';\n      }\n    }\n  }\n\n  text = doctypeParsed + '<html' + lang + '>\\n<head>\\n' + title + charset + metadata + '</head>\\n<body>\\n' + text.trim() + '\\n</body>\\n</html>';\n\n  text = globals.converter._dispatch('completeHTMLDocument.after', text, options, globals);\n  return text;\n});\n\r\n/**\n * Convert all tabs to spaces\n */\nshowdown.subParser('detab', function (text, options, globals) {\n  'use strict';\n  text = globals.converter._dispatch('detab.before', text, options, globals);\n\n  // expand first n-1 tabs\n  text = text.replace(/\\t(?=\\t)/g, '    '); // g_tab_width\n\n  // replace the nth with two sentinels\n  text = text.replace(/\\t/g, '¨A¨B');\n\n  // use the sentinel to anchor our regex so it doesn't explode\n  text = text.replace(/¨B(.+?)¨A/g, function (wholeMatch, m1) {\n    var leadingText = m1,\n        numSpaces = 4 - leadingText.length % 4;  // g_tab_width\n\n    // there *must* be a better way to do this:\n    for (var i = 0; i < numSpaces; i++) {\n      leadingText += ' ';\n    }\n\n    return leadingText;\n  });\n\n  // clean up sentinels\n  text = text.replace(/¨A/g, '    ');  // g_tab_width\n  text = text.replace(/¨B/g, '');\n\n  text = globals.converter._dispatch('detab.after', text, options, globals);\n  return text;\n});\n\r\nshowdown.subParser('ellipsis', function (text, options, globals) {\n  'use strict';\n\n  text = globals.converter._dispatch('ellipsis.before', text, options, globals);\n\n  text = text.replace(/\\.\\.\\./g, '…');\n\n  text = globals.converter._dispatch('ellipsis.after', text, options, globals);\n\n  return text;\n});\n\r\n/**\n * Turn emoji codes into emojis\n *\n * List of supported emojis: https://github.com/showdownjs/showdown/wiki/Emojis\n */\nshowdown.subParser('emoji', function (text, options, globals) {\n  'use strict';\n\n  if (!options.emoji) {\n    return text;\n  }\n\n  text = globals.converter._dispatch('emoji.before', text, options, globals);\n\n  var emojiRgx = /:([\\S]+?):/g;\n\n  text = text.replace(emojiRgx, function (wm, emojiCode) {\n    if (showdown.helper.emojis.hasOwnProperty(emojiCode)) {\n      return showdown.helper.emojis[emojiCode];\n    }\n    return wm;\n  });\n\n  text = globals.converter._dispatch('emoji.after', text, options, globals);\n\n  return text;\n});\n\r\n/**\n * Smart processing for ampersands and angle brackets that need to be encoded.\n */\nshowdown.subParser('encodeAmpsAndAngles', function (text, options, globals) {\n  'use strict';\n  text = globals.converter._dispatch('encodeAmpsAndAngles.before', text, options, globals);\n\n  // Ampersand-encoding based entirely on Nat Irons's Amputator MT plugin:\n  // http://bumppo.net/projects/amputator/\n  text = text.replace(/&(?!#?[xX]?(?:[0-9a-fA-F]+|\\w+);)/g, '&amp;');\n\n  // Encode naked <'s\n  text = text.replace(/<(?![a-z\\/?$!])/gi, '&lt;');\n\n  // Encode <\n  text = text.replace(/</g, '&lt;');\n\n  // Encode >\n  text = text.replace(/>/g, '&gt;');\n\n  text = globals.converter._dispatch('encodeAmpsAndAngles.after', text, options, globals);\n  return text;\n});\n\r\n/**\n * Returns the string, with after processing the following backslash escape sequences.\n *\n * attacklab: The polite way to do this is with the new escapeCharacters() function:\n *\n *    text = escapeCharacters(text,\"\\\\\",true);\n *    text = escapeCharacters(text,\"`*_{}[]()>#+-.!\",true);\n *\n * ...but we're sidestepping its use of the (slow) RegExp constructor\n * as an optimization for Firefox.  This function gets called a LOT.\n */\nshowdown.subParser('encodeBackslashEscapes', function (text, options, globals) {\n  'use strict';\n  text = globals.converter._dispatch('encodeBackslashEscapes.before', text, options, globals);\n\n  text = text.replace(/\\\\(\\\\)/g, showdown.helper.escapeCharactersCallback);\n  text = text.replace(/\\\\([`*_{}\\[\\]()>#+.!~=|-])/g, showdown.helper.escapeCharactersCallback);\n\n  text = globals.converter._dispatch('encodeBackslashEscapes.after', text, options, globals);\n  return text;\n});\n\r\n/**\n * Encode/escape certain characters inside Markdown code runs.\n * The point is that in code, these characters are literals,\n * and lose their special Markdown meanings.\n */\nshowdown.subParser('encodeCode', function (text, options, globals) {\n  'use strict';\n\n  text = globals.converter._dispatch('encodeCode.before', text, options, globals);\n\n  // Encode all ampersands; HTML entities are not\n  // entities within a Markdown code span.\n  text = text\n    .replace(/&/g, '&amp;')\n  // Do the angle bracket song and dance:\n    .replace(/</g, '&lt;')\n    .replace(/>/g, '&gt;')\n  // Now, escape characters that are magic in Markdown:\n    .replace(/([*_{}\\[\\]\\\\=~-])/g, showdown.helper.escapeCharactersCallback);\n\n  text = globals.converter._dispatch('encodeCode.after', text, options, globals);\n  return text;\n});\n\r\n/**\n * Within tags -- meaning between < and > -- encode [\\ ` * _ ~ =] so they\n * don't conflict with their use in Markdown for code, italics and strong.\n */\nshowdown.subParser('escapeSpecialCharsWithinTagAttributes', function (text, options, globals) {\n  'use strict';\n  text = globals.converter._dispatch('escapeSpecialCharsWithinTagAttributes.before', text, options, globals);\n\n  // Build a regex to find HTML tags.\n  var tags     = /<\\/?[a-z\\d_:-]+(?:[\\s]+[\\s\\S]+?)?>/gi,\n      comments = /<!(--(?:(?:[^>-]|-[^>])(?:[^-]|-[^-])*)--)>/gi;\n\n  text = text.replace(tags, function (wholeMatch) {\n    return wholeMatch\n      .replace(/(.)<\\/?code>(?=.)/g, '$1`')\n      .replace(/([\\\\`*_~=|])/g, showdown.helper.escapeCharactersCallback);\n  });\n\n  text = text.replace(comments, function (wholeMatch) {\n    return wholeMatch\n      .replace(/([\\\\`*_~=|])/g, showdown.helper.escapeCharactersCallback);\n  });\n\n  text = globals.converter._dispatch('escapeSpecialCharsWithinTagAttributes.after', text, options, globals);\n  return text;\n});\n\r\n/**\n * Handle github codeblocks prior to running HashHTML so that\n * HTML contained within the codeblock gets escaped properly\n * Example:\n * ```ruby\n *     def hello_world(x)\n *       puts \"Hello, #{x}\"\n *     end\n * ```\n */\nshowdown.subParser('githubCodeBlocks', function (text, options, globals) {\n  'use strict';\n\n  // early exit if option is not enabled\n  if (!options.ghCodeBlocks) {\n    return text;\n  }\n\n  text = globals.converter._dispatch('githubCodeBlocks.before', text, options, globals);\n\n  text += '¨0';\n\n  text = text.replace(/(?:^|\\n)(?: {0,3})(```+|~~~+)(?: *)([^\\s`~]*)\\n([\\s\\S]*?)\\n(?: {0,3})\\1/g, function (wholeMatch, delim, language, codeblock) {\n    var end = (options.omitExtraWLInCodeBlocks) ? '' : '\\n';\n\n    // First parse the github code block\n    codeblock = showdown.subParser('encodeCode')(codeblock, options, globals);\n    codeblock = showdown.subParser('detab')(codeblock, options, globals);\n    codeblock = codeblock.replace(/^\\n+/g, ''); // trim leading newlines\n    codeblock = codeblock.replace(/\\n+$/g, ''); // trim trailing whitespace\n\n    codeblock = '<pre><code' + (language ? ' class=\"' + language + ' language-' + language + '\"' : '') + '>' + codeblock + end + '</code></pre>';\n\n    codeblock = showdown.subParser('hashBlock')(codeblock, options, globals);\n\n    // Since GHCodeblocks can be false positives, we need to\n    // store the primitive text and the parsed text in a global var,\n    // and then return a token\n    return '\\n\\n¨G' + (globals.ghCodeBlocks.push({text: wholeMatch, codeblock: codeblock}) - 1) + 'G\\n\\n';\n  });\n\n  // attacklab: strip sentinel\n  text = text.replace(/¨0/, '');\n\n  return globals.converter._dispatch('githubCodeBlocks.after', text, options, globals);\n});\n\r\nshowdown.subParser('hashBlock', function (text, options, globals) {\n  'use strict';\n  text = globals.converter._dispatch('hashBlock.before', text, options, globals);\n  text = text.replace(/(^\\n+|\\n+$)/g, '');\n  text = '\\n\\n¨K' + (globals.gHtmlBlocks.push(text) - 1) + 'K\\n\\n';\n  text = globals.converter._dispatch('hashBlock.after', text, options, globals);\n  return text;\n});\n\r\n/**\n * Hash and escape <code> elements that should not be parsed as markdown\n */\nshowdown.subParser('hashCodeTags', function (text, options, globals) {\n  'use strict';\n  text = globals.converter._dispatch('hashCodeTags.before', text, options, globals);\n\n  var repFunc = function (wholeMatch, match, left, right) {\n    var codeblock = left + showdown.subParser('encodeCode')(match, options, globals) + right;\n    return '¨C' + (globals.gHtmlSpans.push(codeblock) - 1) + 'C';\n  };\n\n  // Hash naked <code>\n  text = showdown.helper.replaceRecursiveRegExp(text, repFunc, '<code\\\\b[^>]*>', '</code>', 'gim');\n\n  text = globals.converter._dispatch('hashCodeTags.after', text, options, globals);\n  return text;\n});\n\r\nshowdown.subParser('hashElement', function (text, options, globals) {\n  'use strict';\n\n  return function (wholeMatch, m1) {\n    var blockText = m1;\n\n    // Undo double lines\n    blockText = blockText.replace(/\\n\\n/g, '\\n');\n    blockText = blockText.replace(/^\\n/, '');\n\n    // strip trailing blank lines\n    blockText = blockText.replace(/\\n+$/g, '');\n\n    // Replace the element text with a marker (\"¨KxK\" where x is its key)\n    blockText = '\\n\\n¨K' + (globals.gHtmlBlocks.push(blockText) - 1) + 'K\\n\\n';\n\n    return blockText;\n  };\n});\n\r\nshowdown.subParser('hashHTMLBlocks', function (text, options, globals) {\n  'use strict';\n  text = globals.converter._dispatch('hashHTMLBlocks.before', text, options, globals);\n\n  var blockTags = [\n        'pre',\n        'div',\n        'h1',\n        'h2',\n        'h3',\n        'h4',\n        'h5',\n        'h6',\n        'blockquote',\n        'table',\n        'dl',\n        'ol',\n        'ul',\n        'script',\n        'noscript',\n        'form',\n        'fieldset',\n        'iframe',\n        'math',\n        'style',\n        'section',\n        'header',\n        'footer',\n        'nav',\n        'article',\n        'aside',\n        'address',\n        'audio',\n        'canvas',\n        'figure',\n        'hgroup',\n        'output',\n        'video',\n        'p'\n      ],\n      repFunc = function (wholeMatch, match, left, right) {\n        var txt = wholeMatch;\n        // check if this html element is marked as markdown\n        // if so, it's contents should be parsed as markdown\n        if (left.search(/\\bmarkdown\\b/) !== -1) {\n          txt = left + globals.converter.makeHtml(match) + right;\n        }\n        return '\\n\\n¨K' + (globals.gHtmlBlocks.push(txt) - 1) + 'K\\n\\n';\n      };\n\n  if (options.backslashEscapesHTMLTags) {\n    // encode backslash escaped HTML tags\n    text = text.replace(/\\\\<(\\/?[^>]+?)>/g, function (wm, inside) {\n      return '&lt;' + inside + '&gt;';\n    });\n  }\n\n  // hash HTML Blocks\n  for (var i = 0; i < blockTags.length; ++i) {\n\n    var opTagPos,\n        rgx1     = new RegExp('^ {0,3}(<' + blockTags[i] + '\\\\b[^>]*>)', 'im'),\n        patLeft  = '<' + blockTags[i] + '\\\\b[^>]*>',\n        patRight = '</' + blockTags[i] + '>';\n    // 1. Look for the first position of the first opening HTML tag in the text\n    while ((opTagPos = showdown.helper.regexIndexOf(text, rgx1)) !== -1) {\n\n      // if the HTML tag is \\ escaped, we need to escape it and break\n\n\n      //2. Split the text in that position\n      var subTexts = showdown.helper.splitAtIndex(text, opTagPos),\n          //3. Match recursively\n          newSubText1 = showdown.helper.replaceRecursiveRegExp(subTexts[1], repFunc, patLeft, patRight, 'im');\n\n      // prevent an infinite loop\n      if (newSubText1 === subTexts[1]) {\n        break;\n      }\n      text = subTexts[0].concat(newSubText1);\n    }\n  }\n  // HR SPECIAL CASE\n  text = text.replace(/(\\n {0,3}(<(hr)\\b([^<>])*?\\/?>)[ \\t]*(?=\\n{2,}))/g,\n    showdown.subParser('hashElement')(text, options, globals));\n\n  // Special case for standalone HTML comments\n  text = showdown.helper.replaceRecursiveRegExp(text, function (txt) {\n    return '\\n\\n¨K' + (globals.gHtmlBlocks.push(txt) - 1) + 'K\\n\\n';\n  }, '^ {0,3}<!--', '-->', 'gm');\n\n  // PHP and ASP-style processor instructions (<?...?> and <%...%>)\n  text = text.replace(/(?:\\n\\n)( {0,3}(?:<([?%])[^\\r]*?\\2>)[ \\t]*(?=\\n{2,}))/g,\n    showdown.subParser('hashElement')(text, options, globals));\n\n  text = globals.converter._dispatch('hashHTMLBlocks.after', text, options, globals);\n  return text;\n});\n\r\n/**\n * Hash span elements that should not be parsed as markdown\n */\nshowdown.subParser('hashHTMLSpans', function (text, options, globals) {\n  'use strict';\n  text = globals.converter._dispatch('hashHTMLSpans.before', text, options, globals);\n\n  function hashHTMLSpan (html) {\n    return '¨C' + (globals.gHtmlSpans.push(html) - 1) + 'C';\n  }\n\n  // Hash Self Closing tags\n  text = text.replace(/<[^>]+?\\/>/gi, function (wm) {\n    return hashHTMLSpan(wm);\n  });\n\n  // Hash tags without properties\n  text = text.replace(/<([^>]+?)>[\\s\\S]*?<\\/\\1>/g, function (wm) {\n    return hashHTMLSpan(wm);\n  });\n\n  // Hash tags with properties\n  text = text.replace(/<([^>]+?)\\s[^>]+?>[\\s\\S]*?<\\/\\1>/g, function (wm) {\n    return hashHTMLSpan(wm);\n  });\n\n  // Hash self closing tags without />\n  text = text.replace(/<[^>]+?>/gi, function (wm) {\n    return hashHTMLSpan(wm);\n  });\n\n  /*showdown.helper.matchRecursiveRegExp(text, '<code\\\\b[^>]*>', '</code>', 'gi');*/\n\n  text = globals.converter._dispatch('hashHTMLSpans.after', text, options, globals);\n  return text;\n});\n\n/**\n * Unhash HTML spans\n */\nshowdown.subParser('unhashHTMLSpans', function (text, options, globals) {\n  'use strict';\n  text = globals.converter._dispatch('unhashHTMLSpans.before', text, options, globals);\n\n  for (var i = 0; i < globals.gHtmlSpans.length; ++i) {\n    var repText = globals.gHtmlSpans[i],\n        // limiter to prevent infinite loop (assume 10 as limit for recurse)\n        limit = 0;\n\n    while (/¨C(\\d+)C/.test(repText)) {\n      var num = RegExp.$1;\n      repText = repText.replace('¨C' + num + 'C', globals.gHtmlSpans[num]);\n      if (limit === 10) {\n        console.error('maximum nesting of 10 spans reached!!!');\n        break;\n      }\n      ++limit;\n    }\n    text = text.replace('¨C' + i + 'C', repText);\n  }\n\n  text = globals.converter._dispatch('unhashHTMLSpans.after', text, options, globals);\n  return text;\n});\n\r\n/**\n * Hash and escape <pre><code> elements that should not be parsed as markdown\n */\nshowdown.subParser('hashPreCodeTags', function (text, options, globals) {\n  'use strict';\n  text = globals.converter._dispatch('hashPreCodeTags.before', text, options, globals);\n\n  var repFunc = function (wholeMatch, match, left, right) {\n    // encode html entities\n    var codeblock = left + showdown.subParser('encodeCode')(match, options, globals) + right;\n    return '\\n\\n¨G' + (globals.ghCodeBlocks.push({text: wholeMatch, codeblock: codeblock}) - 1) + 'G\\n\\n';\n  };\n\n  // Hash <pre><code>\n  text = showdown.helper.replaceRecursiveRegExp(text, repFunc, '^ {0,3}<pre\\\\b[^>]*>\\\\s*<code\\\\b[^>]*>', '^ {0,3}</code>\\\\s*</pre>', 'gim');\n\n  text = globals.converter._dispatch('hashPreCodeTags.after', text, options, globals);\n  return text;\n});\n\r\nshowdown.subParser('headers', function (text, options, globals) {\n  'use strict';\n\n  text = globals.converter._dispatch('headers.before', text, options, globals);\n\n  var headerLevelStart = (isNaN(parseInt(options.headerLevelStart))) ? 1 : parseInt(options.headerLevelStart),\n\n      // Set text-style headers:\n      //\tHeader 1\n      //\t========\n      //\n      //\tHeader 2\n      //\t--------\n      //\n      setextRegexH1 = (options.smoothLivePreview) ? /^(.+)[ \\t]*\\n={2,}[ \\t]*\\n+/gm : /^(.+)[ \\t]*\\n=+[ \\t]*\\n+/gm,\n      setextRegexH2 = (options.smoothLivePreview) ? /^(.+)[ \\t]*\\n-{2,}[ \\t]*\\n+/gm : /^(.+)[ \\t]*\\n-+[ \\t]*\\n+/gm;\n\n  text = text.replace(setextRegexH1, function (wholeMatch, m1) {\n\n    var spanGamut = showdown.subParser('spanGamut')(m1, options, globals),\n        hID = (options.noHeaderId) ? '' : ' id=\"' + headerId(m1) + '\"',\n        hLevel = headerLevelStart,\n        hashBlock = '<h' + hLevel + hID + '>' + spanGamut + '</h' + hLevel + '>';\n    return showdown.subParser('hashBlock')(hashBlock, options, globals);\n  });\n\n  text = text.replace(setextRegexH2, function (matchFound, m1) {\n    var spanGamut = showdown.subParser('spanGamut')(m1, options, globals),\n        hID = (options.noHeaderId) ? '' : ' id=\"' + headerId(m1) + '\"',\n        hLevel = headerLevelStart + 1,\n        hashBlock = '<h' + hLevel + hID + '>' + spanGamut + '</h' + hLevel + '>';\n    return showdown.subParser('hashBlock')(hashBlock, options, globals);\n  });\n\n  // atx-style headers:\n  //  # Header 1\n  //  ## Header 2\n  //  ## Header 2 with closing hashes ##\n  //  ...\n  //  ###### Header 6\n  //\n  var atxStyle = (options.requireSpaceBeforeHeadingText) ? /^(#{1,6})[ \\t]+(.+?)[ \\t]*#*\\n+/gm : /^(#{1,6})[ \\t]*(.+?)[ \\t]*#*\\n+/gm;\n\n  text = text.replace(atxStyle, function (wholeMatch, m1, m2) {\n    var hText = m2;\n    if (options.customizedHeaderId) {\n      hText = m2.replace(/\\s?\\{([^{]+?)}\\s*$/, '');\n    }\n\n    var span = showdown.subParser('spanGamut')(hText, options, globals),\n        hID = (options.noHeaderId) ? '' : ' id=\"' + headerId(m2) + '\"',\n        hLevel = headerLevelStart - 1 + m1.length,\n        header = '<h' + hLevel + hID + '>' + span + '</h' + hLevel + '>';\n\n    return showdown.subParser('hashBlock')(header, options, globals);\n  });\n\n  function headerId (m) {\n    var title,\n        prefix;\n\n    // It is separate from other options to allow combining prefix and customized\n    if (options.customizedHeaderId) {\n      var match = m.match(/\\{([^{]+?)}\\s*$/);\n      if (match && match[1]) {\n        m = match[1];\n      }\n    }\n\n    title = m;\n\n    // Prefix id to prevent causing inadvertent pre-existing style matches.\n    if (showdown.helper.isString(options.prefixHeaderId)) {\n      prefix = options.prefixHeaderId;\n    } else if (options.prefixHeaderId === true) {\n      prefix = 'section-';\n    } else {\n      prefix = '';\n    }\n\n    if (!options.rawPrefixHeaderId) {\n      title = prefix + title;\n    }\n\n    if (options.ghCompatibleHeaderId) {\n      title = title\n        .replace(/ /g, '-')\n        // replace previously escaped chars (&, ¨ and $)\n        .replace(/&amp;/g, '')\n        .replace(/¨T/g, '')\n        .replace(/¨D/g, '')\n        // replace rest of the chars (&~$ are repeated as they might have been escaped)\n        // borrowed from github's redcarpet (some they should produce similar results)\n        .replace(/[&+$,\\/:;=?@\"#{}|^¨~\\[\\]`\\\\*)(%.!'<>]/g, '')\n        .toLowerCase();\n    } else if (options.rawHeaderId) {\n      title = title\n        .replace(/ /g, '-')\n        // replace previously escaped chars (&, ¨ and $)\n        .replace(/&amp;/g, '&')\n        .replace(/¨T/g, '¨')\n        .replace(/¨D/g, '$')\n        // replace \" and '\n        .replace(/[\"']/g, '-')\n        .toLowerCase();\n    } else {\n      title = title\n        .replace(/[^\\w]/g, '')\n        .toLowerCase();\n    }\n\n    if (options.rawPrefixHeaderId) {\n      title = prefix + title;\n    }\n\n    if (globals.hashLinkCounts[title]) {\n      title = title + '-' + (globals.hashLinkCounts[title]++);\n    } else {\n      globals.hashLinkCounts[title] = 1;\n    }\n    return title;\n  }\n\n  text = globals.converter._dispatch('headers.after', text, options, globals);\n  return text;\n});\n\r\n/**\n * Turn Markdown link shortcuts into XHTML <a> tags.\n */\nshowdown.subParser('horizontalRule', function (text, options, globals) {\n  'use strict';\n  text = globals.converter._dispatch('horizontalRule.before', text, options, globals);\n\n  var key = showdown.subParser('hashBlock')('<hr />', options, globals);\n  text = text.replace(/^ {0,2}( ?-){3,}[ \\t]*$/gm, key);\n  text = text.replace(/^ {0,2}( ?\\*){3,}[ \\t]*$/gm, key);\n  text = text.replace(/^ {0,2}( ?_){3,}[ \\t]*$/gm, key);\n\n  text = globals.converter._dispatch('horizontalRule.after', text, options, globals);\n  return text;\n});\n\r\n/**\n * Turn Markdown image shortcuts into <img> tags.\n */\nshowdown.subParser('images', function (text, options, globals) {\n  'use strict';\n\n  text = globals.converter._dispatch('images.before', text, options, globals);\n\n  var inlineRegExp      = /!\\[([^\\]]*?)][ \\t]*()\\([ \\t]?<?([\\S]+?(?:\\([\\S]*?\\)[\\S]*?)?)>?(?: =([*\\d]+[A-Za-z%]{0,4})x([*\\d]+[A-Za-z%]{0,4}))?[ \\t]*(?:([\"'])([^\"]*?)\\6)?[ \\t]?\\)/g,\n      crazyRegExp       = /!\\[([^\\]]*?)][ \\t]*()\\([ \\t]?<([^>]*)>(?: =([*\\d]+[A-Za-z%]{0,4})x([*\\d]+[A-Za-z%]{0,4}))?[ \\t]*(?:(?:([\"'])([^\"]*?)\\6))?[ \\t]?\\)/g,\n      base64RegExp      = /!\\[([^\\]]*?)][ \\t]*()\\([ \\t]?<?(data:.+?\\/.+?;base64,[A-Za-z0-9+/=\\n]+?)>?(?: =([*\\d]+[A-Za-z%]{0,4})x([*\\d]+[A-Za-z%]{0,4}))?[ \\t]*(?:([\"'])([^\"]*?)\\6)?[ \\t]?\\)/g,\n      referenceRegExp   = /!\\[([^\\]]*?)] ?(?:\\n *)?\\[([\\s\\S]*?)]()()()()()/g,\n      refShortcutRegExp = /!\\[([^\\[\\]]+)]()()()()()/g;\n\n  function writeImageTagBase64 (wholeMatch, altText, linkId, url, width, height, m5, title) {\n    url = url.replace(/\\s/g, '');\n    return writeImageTag (wholeMatch, altText, linkId, url, width, height, m5, title);\n  }\n\n  function writeImageTag (wholeMatch, altText, linkId, url, width, height, m5, title) {\n\n    var gUrls   = globals.gUrls,\n        gTitles = globals.gTitles,\n        gDims   = globals.gDimensions;\n\n    linkId = linkId.toLowerCase();\n\n    if (!title) {\n      title = '';\n    }\n    // Special case for explicit empty url\n    if (wholeMatch.search(/\\(<?\\s*>? ?(['\"].*['\"])?\\)$/m) > -1) {\n      url = '';\n\n    } else if (url === '' || url === null) {\n      if (linkId === '' || linkId === null) {\n        // lower-case and turn embedded newlines into spaces\n        linkId = altText.toLowerCase().replace(/ ?\\n/g, ' ');\n      }\n      url = '#' + linkId;\n\n      if (!showdown.helper.isUndefined(gUrls[linkId])) {\n        url = gUrls[linkId];\n        if (!showdown.helper.isUndefined(gTitles[linkId])) {\n          title = gTitles[linkId];\n        }\n        if (!showdown.helper.isUndefined(gDims[linkId])) {\n          width = gDims[linkId].width;\n          height = gDims[linkId].height;\n        }\n      } else {\n        return wholeMatch;\n      }\n    }\n\n    altText = altText\n      .replace(/\"/g, '&quot;')\n    //altText = showdown.helper.escapeCharacters(altText, '*_', false);\n      .replace(showdown.helper.regexes.asteriskDashAndColon, showdown.helper.escapeCharactersCallback);\n    //url = showdown.helper.escapeCharacters(url, '*_', false);\n    url = url.replace(showdown.helper.regexes.asteriskDashAndColon, showdown.helper.escapeCharactersCallback);\n    var result = '<img src=\"' + url + '\" alt=\"' + altText + '\"';\n\n    if (title && showdown.helper.isString(title)) {\n      title = title\n        .replace(/\"/g, '&quot;')\n      //title = showdown.helper.escapeCharacters(title, '*_', false);\n        .replace(showdown.helper.regexes.asteriskDashAndColon, showdown.helper.escapeCharactersCallback);\n      result += ' title=\"' + title + '\"';\n    }\n\n    if (width && height) {\n      width  = (width === '*') ? 'auto' : width;\n      height = (height === '*') ? 'auto' : height;\n\n      result += ' width=\"' + width + '\"';\n      result += ' height=\"' + height + '\"';\n    }\n\n    result += ' />';\n\n    return result;\n  }\n\n  // First, handle reference-style labeled images: ![alt text][id]\n  text = text.replace(referenceRegExp, writeImageTag);\n\n  // Next, handle inline images:  ![alt text](url =<width>x<height> \"optional title\")\n\n  // base64 encoded images\n  text = text.replace(base64RegExp, writeImageTagBase64);\n\n  // cases with crazy urls like ./image/cat1).png\n  text = text.replace(crazyRegExp, writeImageTag);\n\n  // normal cases\n  text = text.replace(inlineRegExp, writeImageTag);\n\n  // handle reference-style shortcuts: ![img text]\n  text = text.replace(refShortcutRegExp, writeImageTag);\n\n  text = globals.converter._dispatch('images.after', text, options, globals);\n  return text;\n});\n\r\nshowdown.subParser('italicsAndBold', function (text, options, globals) {\n  'use strict';\n\n  text = globals.converter._dispatch('italicsAndBold.before', text, options, globals);\n\n  // it's faster to have 3 separate regexes for each case than have just one\n  // because of backtracing, in some cases, it could lead to an exponential effect\n  // called \"catastrophic backtrace\". Ominous!\n\n  function parseInside (txt, left, right) {\n    /*\n    if (options.simplifiedAutoLink) {\n      txt = showdown.subParser('simplifiedAutoLinks')(txt, options, globals);\n    }\n    */\n    return left + txt + right;\n  }\n\n  // Parse underscores\n  if (options.literalMidWordUnderscores) {\n    text = text.replace(/\\b___(\\S[\\s\\S]*?)___\\b/g, function (wm, txt) {\n      return parseInside (txt, '<strong><em>', '</em></strong>');\n    });\n    text = text.replace(/\\b__(\\S[\\s\\S]*?)__\\b/g, function (wm, txt) {\n      return parseInside (txt, '<strong>', '</strong>');\n    });\n    text = text.replace(/\\b_(\\S[\\s\\S]*?)_\\b/g, function (wm, txt) {\n      return parseInside (txt, '<em>', '</em>');\n    });\n  } else {\n    text = text.replace(/___(\\S[\\s\\S]*?)___/g, function (wm, m) {\n      return (/\\S$/.test(m)) ? parseInside (m, '<strong><em>', '</em></strong>') : wm;\n    });\n    text = text.replace(/__(\\S[\\s\\S]*?)__/g, function (wm, m) {\n      return (/\\S$/.test(m)) ? parseInside (m, '<strong>', '</strong>') : wm;\n    });\n    text = text.replace(/_([^\\s_][\\s\\S]*?)_/g, function (wm, m) {\n      // !/^_[^_]/.test(m) - test if it doesn't start with __ (since it seems redundant, we removed it)\n      return (/\\S$/.test(m)) ? parseInside (m, '<em>', '</em>') : wm;\n    });\n  }\n\n  // Now parse asterisks\n  if (options.literalMidWordAsterisks) {\n    text = text.replace(/([^*]|^)\\B\\*\\*\\*(\\S[\\s\\S]*?)\\*\\*\\*\\B(?!\\*)/g, function (wm, lead, txt) {\n      return parseInside (txt, lead + '<strong><em>', '</em></strong>');\n    });\n    text = text.replace(/([^*]|^)\\B\\*\\*(\\S[\\s\\S]*?)\\*\\*\\B(?!\\*)/g, function (wm, lead, txt) {\n      return parseInside (txt, lead + '<strong>', '</strong>');\n    });\n    text = text.replace(/([^*]|^)\\B\\*(\\S[\\s\\S]*?)\\*\\B(?!\\*)/g, function (wm, lead, txt) {\n      return parseInside (txt, lead + '<em>', '</em>');\n    });\n  } else {\n    text = text.replace(/\\*\\*\\*(\\S[\\s\\S]*?)\\*\\*\\*/g, function (wm, m) {\n      return (/\\S$/.test(m)) ? parseInside (m, '<strong><em>', '</em></strong>') : wm;\n    });\n    text = text.replace(/\\*\\*(\\S[\\s\\S]*?)\\*\\*/g, function (wm, m) {\n      return (/\\S$/.test(m)) ? parseInside (m, '<strong>', '</strong>') : wm;\n    });\n    text = text.replace(/\\*([^\\s*][\\s\\S]*?)\\*/g, function (wm, m) {\n      // !/^\\*[^*]/.test(m) - test if it doesn't start with ** (since it seems redundant, we removed it)\n      return (/\\S$/.test(m)) ? parseInside (m, '<em>', '</em>') : wm;\n    });\n  }\n\n\n  text = globals.converter._dispatch('italicsAndBold.after', text, options, globals);\n  return text;\n});\n\r\n/**\n * Form HTML ordered (numbered) and unordered (bulleted) lists.\n */\nshowdown.subParser('lists', function (text, options, globals) {\n  'use strict';\n\n  /**\n   * Process the contents of a single ordered or unordered list, splitting it\n   * into individual list items.\n   * @param {string} listStr\n   * @param {boolean} trimTrailing\n   * @returns {string}\n   */\n  function processListItems (listStr, trimTrailing) {\n    // The $g_list_level global keeps track of when we're inside a list.\n    // Each time we enter a list, we increment it; when we leave a list,\n    // we decrement. If it's zero, we're not in a list anymore.\n    //\n    // We do this because when we're not inside a list, we want to treat\n    // something like this:\n    //\n    //    I recommend upgrading to version\n    //    8. Oops, now this line is treated\n    //    as a sub-list.\n    //\n    // As a single paragraph, despite the fact that the second line starts\n    // with a digit-period-space sequence.\n    //\n    // Whereas when we're inside a list (or sub-list), that line will be\n    // treated as the start of a sub-list. What a kludge, huh? This is\n    // an aspect of Markdown's syntax that's hard to parse perfectly\n    // without resorting to mind-reading. Perhaps the solution is to\n    // change the syntax rules such that sub-lists must start with a\n    // starting cardinal number; e.g. \"1.\" or \"a.\".\n    globals.gListLevel++;\n\n    // trim trailing blank lines:\n    listStr = listStr.replace(/\\n{2,}$/, '\\n');\n\n    // attacklab: add sentinel to emulate \\z\n    listStr += '¨0';\n\n    var rgx = /(\\n)?(^ {0,3})([*+-]|\\d+[.])[ \\t]+((\\[(x|X| )?])?[ \\t]*[^\\r]+?(\\n{1,2}))(?=\\n*(¨0| {0,3}([*+-]|\\d+[.])[ \\t]+))/gm,\n        isParagraphed = (/\\n[ \\t]*\\n(?!¨0)/.test(listStr));\n\n    // Since version 1.5, nesting sublists requires 4 spaces (or 1 tab) indentation,\n    // which is a syntax breaking change\n    // activating this option reverts to old behavior\n    if (options.disableForced4SpacesIndentedSublists) {\n      rgx = /(\\n)?(^ {0,3})([*+-]|\\d+[.])[ \\t]+((\\[(x|X| )?])?[ \\t]*[^\\r]+?(\\n{1,2}))(?=\\n*(¨0|\\2([*+-]|\\d+[.])[ \\t]+))/gm;\n    }\n\n    listStr = listStr.replace(rgx, function (wholeMatch, m1, m2, m3, m4, taskbtn, checked) {\n      checked = (checked && checked.trim() !== '');\n\n      var item = showdown.subParser('outdent')(m4, options, globals),\n          bulletStyle = '';\n\n      // Support for github tasklists\n      if (taskbtn && options.tasklists) {\n        bulletStyle = ' class=\"task-list-item\" style=\"list-style-type: none;\"';\n        item = item.replace(/^[ \\t]*\\[(x|X| )?]/m, function () {\n          var otp = '<input type=\"checkbox\" disabled style=\"margin: 0px 0.35em 0.25em -1.6em; vertical-align: middle;\"';\n          if (checked) {\n            otp += ' checked';\n          }\n          otp += '>';\n          return otp;\n        });\n      }\n\n      // ISSUE #312\n      // This input: - - - a\n      // causes trouble to the parser, since it interprets it as:\n      // <ul><li><li><li>a</li></li></li></ul>\n      // instead of:\n      // <ul><li>- - a</li></ul>\n      // So, to prevent it, we will put a marker (¨A)in the beginning of the line\n      // Kind of hackish/monkey patching, but seems more effective than overcomplicating the list parser\n      item = item.replace(/^([-*+]|\\d\\.)[ \\t]+[\\S\\n ]*/g, function (wm2) {\n        return '¨A' + wm2;\n      });\n\n      // m1 - Leading line or\n      // Has a double return (multi paragraph) or\n      // Has sublist\n      if (m1 || (item.search(/\\n{2,}/) > -1)) {\n        item = showdown.subParser('githubCodeBlocks')(item, options, globals);\n        item = showdown.subParser('blockGamut')(item, options, globals);\n      } else {\n        // Recursion for sub-lists:\n        item = showdown.subParser('lists')(item, options, globals);\n        item = item.replace(/\\n$/, ''); // chomp(item)\n        item = showdown.subParser('hashHTMLBlocks')(item, options, globals);\n\n        // Colapse double linebreaks\n        item = item.replace(/\\n\\n+/g, '\\n\\n');\n        if (isParagraphed) {\n          item = showdown.subParser('paragraphs')(item, options, globals);\n        } else {\n          item = showdown.subParser('spanGamut')(item, options, globals);\n        }\n      }\n\n      // now we need to remove the marker (¨A)\n      item = item.replace('¨A', '');\n      // we can finally wrap the line in list item tags\n      item =  '<li' + bulletStyle + '>' + item + '</li>\\n';\n\n      return item;\n    });\n\n    // attacklab: strip sentinel\n    listStr = listStr.replace(/¨0/g, '');\n\n    globals.gListLevel--;\n\n    if (trimTrailing) {\n      listStr = listStr.replace(/\\s+$/, '');\n    }\n\n    return listStr;\n  }\n\n  function styleStartNumber (list, listType) {\n    // check if ol and starts by a number different than 1\n    if (listType === 'ol') {\n      var res = list.match(/^ *(\\d+)\\./);\n      if (res && res[1] !== '1') {\n        return ' start=\"' + res[1] + '\"';\n      }\n    }\n    return '';\n  }\n\n  /**\n   * Check and parse consecutive lists (better fix for issue #142)\n   * @param {string} list\n   * @param {string} listType\n   * @param {boolean} trimTrailing\n   * @returns {string}\n   */\n  function parseConsecutiveLists (list, listType, trimTrailing) {\n    // check if we caught 2 or more consecutive lists by mistake\n    // we use the counterRgx, meaning if listType is UL we look for OL and vice versa\n    var olRgx = (options.disableForced4SpacesIndentedSublists) ? /^ ?\\d+\\.[ \\t]/gm : /^ {0,3}\\d+\\.[ \\t]/gm,\n        ulRgx = (options.disableForced4SpacesIndentedSublists) ? /^ ?[*+-][ \\t]/gm : /^ {0,3}[*+-][ \\t]/gm,\n        counterRxg = (listType === 'ul') ? olRgx : ulRgx,\n        result = '';\n\n    if (list.search(counterRxg) !== -1) {\n      (function parseCL (txt) {\n        var pos = txt.search(counterRxg),\n            style = styleStartNumber(list, listType);\n        if (pos !== -1) {\n          // slice\n          result += '\\n\\n<' + listType + style + '>\\n' + processListItems(txt.slice(0, pos), !!trimTrailing) + '</' + listType + '>\\n';\n\n          // invert counterType and listType\n          listType = (listType === 'ul') ? 'ol' : 'ul';\n          counterRxg = (listType === 'ul') ? olRgx : ulRgx;\n\n          //recurse\n          parseCL(txt.slice(pos));\n        } else {\n          result += '\\n\\n<' + listType + style + '>\\n' + processListItems(txt, !!trimTrailing) + '</' + listType + '>\\n';\n        }\n      })(list);\n    } else {\n      var style = styleStartNumber(list, listType);\n      result = '\\n\\n<' + listType + style + '>\\n' + processListItems(list, !!trimTrailing) + '</' + listType + '>\\n';\n    }\n\n    return result;\n  }\n\n  /** Start of list parsing **/\n  text = globals.converter._dispatch('lists.before', text, options, globals);\n  // add sentinel to hack around khtml/safari bug:\n  // http://bugs.webkit.org/show_bug.cgi?id=11231\n  text += '¨0';\n\n  if (globals.gListLevel) {\n    text = text.replace(/^(( {0,3}([*+-]|\\d+[.])[ \\t]+)[^\\r]+?(¨0|\\n{2,}(?=\\S)(?![ \\t]*(?:[*+-]|\\d+[.])[ \\t]+)))/gm,\n      function (wholeMatch, list, m2) {\n        var listType = (m2.search(/[*+-]/g) > -1) ? 'ul' : 'ol';\n        return parseConsecutiveLists(list, listType, true);\n      }\n    );\n  } else {\n    text = text.replace(/(\\n\\n|^\\n?)(( {0,3}([*+-]|\\d+[.])[ \\t]+)[^\\r]+?(¨0|\\n{2,}(?=\\S)(?![ \\t]*(?:[*+-]|\\d+[.])[ \\t]+)))/gm,\n      function (wholeMatch, m1, list, m3) {\n        var listType = (m3.search(/[*+-]/g) > -1) ? 'ul' : 'ol';\n        return parseConsecutiveLists(list, listType, false);\n      }\n    );\n  }\n\n  // strip sentinel\n  text = text.replace(/¨0/, '');\n  text = globals.converter._dispatch('lists.after', text, options, globals);\n  return text;\n});\n\r\n/**\n * Parse metadata at the top of the document\n */\nshowdown.subParser('metadata', function (text, options, globals) {\n  'use strict';\n\n  if (!options.metadata) {\n    return text;\n  }\n\n  text = globals.converter._dispatch('metadata.before', text, options, globals);\n\n  function parseMetadataContents (content) {\n    // raw is raw so it's not changed in any way\n    globals.metadata.raw = content;\n\n    // escape chars forbidden in html attributes\n    // double quotes\n    content = content\n      // ampersand first\n      .replace(/&/g, '&amp;')\n      // double quotes\n      .replace(/\"/g, '&quot;');\n\n    content = content.replace(/\\n {4}/g, ' ');\n    content.replace(/^([\\S ]+): +([\\s\\S]+?)$/gm, function (wm, key, value) {\n      globals.metadata.parsed[key] = value;\n      return '';\n    });\n  }\n\n  text = text.replace(/^\\s*«««+(\\S*?)\\n([\\s\\S]+?)\\n»»»+\\n/, function (wholematch, format, content) {\n    parseMetadataContents(content);\n    return '¨M';\n  });\n\n  text = text.replace(/^\\s*---+(\\S*?)\\n([\\s\\S]+?)\\n---+\\n/, function (wholematch, format, content) {\n    if (format) {\n      globals.metadata.format = format;\n    }\n    parseMetadataContents(content);\n    return '¨M';\n  });\n\n  text = text.replace(/¨M/g, '');\n\n  text = globals.converter._dispatch('metadata.after', text, options, globals);\n  return text;\n});\n\r\n/**\n * Remove one level of line-leading tabs or spaces\n */\nshowdown.subParser('outdent', function (text, options, globals) {\n  'use strict';\n  text = globals.converter._dispatch('outdent.before', text, options, globals);\n\n  // attacklab: hack around Konqueror 3.5.4 bug:\n  // \"----------bug\".replace(/^-/g,\"\") == \"bug\"\n  text = text.replace(/^(\\t|[ ]{1,4})/gm, '¨0'); // attacklab: g_tab_width\n\n  // attacklab: clean up hack\n  text = text.replace(/¨0/g, '');\n\n  text = globals.converter._dispatch('outdent.after', text, options, globals);\n  return text;\n});\n\r\n/**\n *\n */\nshowdown.subParser('paragraphs', function (text, options, globals) {\n  'use strict';\n\n  text = globals.converter._dispatch('paragraphs.before', text, options, globals);\n  // Strip leading and trailing lines:\n  text = text.replace(/^\\n+/g, '');\n  text = text.replace(/\\n+$/g, '');\n\n  var grafs = text.split(/\\n{2,}/g),\n      grafsOut = [],\n      end = grafs.length; // Wrap <p> tags\n\n  for (var i = 0; i < end; i++) {\n    var str = grafs[i];\n    // if this is an HTML marker, copy it\n    if (str.search(/¨(K|G)(\\d+)\\1/g) >= 0) {\n      grafsOut.push(str);\n\n    // test for presence of characters to prevent empty lines being parsed\n    // as paragraphs (resulting in undesired extra empty paragraphs)\n    } else if (str.search(/\\S/) >= 0) {\n      str = showdown.subParser('spanGamut')(str, options, globals);\n      str = str.replace(/^([ \\t]*)/g, '<p>');\n      str += '</p>';\n      grafsOut.push(str);\n    }\n  }\n\n  /** Unhashify HTML blocks */\n  end = grafsOut.length;\n  for (i = 0; i < end; i++) {\n    var blockText = '',\n        grafsOutIt = grafsOut[i],\n        codeFlag = false;\n    // if this is a marker for an html block...\n    // use RegExp.test instead of string.search because of QML bug\n    while (/¨(K|G)(\\d+)\\1/.test(grafsOutIt)) {\n      var delim = RegExp.$1,\n          num   = RegExp.$2;\n\n      if (delim === 'K') {\n        blockText = globals.gHtmlBlocks[num];\n      } else {\n        // we need to check if ghBlock is a false positive\n        if (codeFlag) {\n          // use encoded version of all text\n          blockText = showdown.subParser('encodeCode')(globals.ghCodeBlocks[num].text, options, globals);\n        } else {\n          blockText = globals.ghCodeBlocks[num].codeblock;\n        }\n      }\n      blockText = blockText.replace(/\\$/g, '$$$$'); // Escape any dollar signs\n\n      grafsOutIt = grafsOutIt.replace(/(\\n\\n)?¨(K|G)\\d+\\2(\\n\\n)?/, blockText);\n      // Check if grafsOutIt is a pre->code\n      if (/^<pre\\b[^>]*>\\s*<code\\b[^>]*>/.test(grafsOutIt)) {\n        codeFlag = true;\n      }\n    }\n    grafsOut[i] = grafsOutIt;\n  }\n  text = grafsOut.join('\\n');\n  // Strip leading and trailing lines:\n  text = text.replace(/^\\n+/g, '');\n  text = text.replace(/\\n+$/g, '');\n  return globals.converter._dispatch('paragraphs.after', text, options, globals);\n});\n\r\n/**\n * Run extension\n */\nshowdown.subParser('runExtension', function (ext, text, options, globals) {\n  'use strict';\n\n  if (ext.filter) {\n    text = ext.filter(text, globals.converter, options);\n\n  } else if (ext.regex) {\n    // TODO remove this when old extension loading mechanism is deprecated\n    var re = ext.regex;\n    if (!(re instanceof RegExp)) {\n      re = new RegExp(re, 'g');\n    }\n    text = text.replace(re, ext.replace);\n  }\n\n  return text;\n});\n\r\n/**\n * These are all the transformations that occur *within* block-level\n * tags like paragraphs, headers, and list items.\n */\nshowdown.subParser('spanGamut', function (text, options, globals) {\n  'use strict';\n\n  text = globals.converter._dispatch('spanGamut.before', text, options, globals);\n  text = showdown.subParser('codeSpans')(text, options, globals);\n  text = showdown.subParser('escapeSpecialCharsWithinTagAttributes')(text, options, globals);\n  text = showdown.subParser('encodeBackslashEscapes')(text, options, globals);\n\n  // Process anchor and image tags. Images must come first,\n  // because ![foo][f] looks like an anchor.\n  text = showdown.subParser('images')(text, options, globals);\n  text = showdown.subParser('anchors')(text, options, globals);\n\n  // Make links out of things like `<http://example.com/>`\n  // Must come after anchors, because you can use < and >\n  // delimiters in inline links like [this](<url>).\n  text = showdown.subParser('autoLinks')(text, options, globals);\n  text = showdown.subParser('simplifiedAutoLinks')(text, options, globals);\n  text = showdown.subParser('emoji')(text, options, globals);\n  text = showdown.subParser('underline')(text, options, globals);\n  text = showdown.subParser('italicsAndBold')(text, options, globals);\n  text = showdown.subParser('strikethrough')(text, options, globals);\n  text = showdown.subParser('ellipsis')(text, options, globals);\n\n  // we need to hash HTML tags inside spans\n  text = showdown.subParser('hashHTMLSpans')(text, options, globals);\n\n  // now we encode amps and angles\n  text = showdown.subParser('encodeAmpsAndAngles')(text, options, globals);\n\n  // Do hard breaks\n  if (options.simpleLineBreaks) {\n    // GFM style hard breaks\n    // only add line breaks if the text does not contain a block (special case for lists)\n    if (!/\\n\\n¨K/.test(text)) {\n      text = text.replace(/\\n+/g, '<br />\\n');\n    }\n  } else {\n    // Vanilla hard breaks\n    text = text.replace(/  +\\n/g, '<br />\\n');\n  }\n\n  text = globals.converter._dispatch('spanGamut.after', text, options, globals);\n  return text;\n});\n\r\nshowdown.subParser('strikethrough', function (text, options, globals) {\n  'use strict';\n\n  function parseInside (txt) {\n    if (options.simplifiedAutoLink) {\n      txt = showdown.subParser('simplifiedAutoLinks')(txt, options, globals);\n    }\n    return '<del>' + txt + '</del>';\n  }\n\n  if (options.strikethrough) {\n    text = globals.converter._dispatch('strikethrough.before', text, options, globals);\n    text = text.replace(/(?:~){2}([\\s\\S]+?)(?:~){2}/g, function (wm, txt) { return parseInside(txt); });\n    text = globals.converter._dispatch('strikethrough.after', text, options, globals);\n  }\n\n  return text;\n});\n\r\n/**\n * Strips link definitions from text, stores the URLs and titles in\n * hash references.\n * Link defs are in the form: ^[id]: url \"optional title\"\n */\nshowdown.subParser('stripLinkDefinitions', function (text, options, globals) {\n  'use strict';\n\n  var regex       = /^ {0,3}\\[(.+)]:[ \\t]*\\n?[ \\t]*<?([^>\\s]+)>?(?: =([*\\d]+[A-Za-z%]{0,4})x([*\\d]+[A-Za-z%]{0,4}))?[ \\t]*\\n?[ \\t]*(?:(\\n*)[\"|'(](.+?)[\"|')][ \\t]*)?(?:\\n+|(?=¨0))/gm,\n      base64Regex = /^ {0,3}\\[(.+)]:[ \\t]*\\n?[ \\t]*<?(data:.+?\\/.+?;base64,[A-Za-z0-9+/=\\n]+?)>?(?: =([*\\d]+[A-Za-z%]{0,4})x([*\\d]+[A-Za-z%]{0,4}))?[ \\t]*\\n?[ \\t]*(?:(\\n*)[\"|'(](.+?)[\"|')][ \\t]*)?(?:\\n\\n|(?=¨0)|(?=\\n\\[))/gm;\n\n  // attacklab: sentinel workarounds for lack of \\A and \\Z, safari\\khtml bug\n  text += '¨0';\n\n  var replaceFunc = function (wholeMatch, linkId, url, width, height, blankLines, title) {\n    linkId = linkId.toLowerCase();\n    if (url.match(/^data:.+?\\/.+?;base64,/)) {\n      // remove newlines\n      globals.gUrls[linkId] = url.replace(/\\s/g, '');\n    } else {\n      globals.gUrls[linkId] = showdown.subParser('encodeAmpsAndAngles')(url, options, globals);  // Link IDs are case-insensitive\n    }\n\n    if (blankLines) {\n      // Oops, found blank lines, so it's not a title.\n      // Put back the parenthetical statement we stole.\n      return blankLines + title;\n\n    } else {\n      if (title) {\n        globals.gTitles[linkId] = title.replace(/\"|'/g, '&quot;');\n      }\n      if (options.parseImgDimensions && width && height) {\n        globals.gDimensions[linkId] = {\n          width:  width,\n          height: height\n        };\n      }\n    }\n    // Completely remove the definition from the text\n    return '';\n  };\n\n  // first we try to find base64 link references\n  text = text.replace(base64Regex, replaceFunc);\n\n  text = text.replace(regex, replaceFunc);\n\n  // attacklab: strip sentinel\n  text = text.replace(/¨0/, '');\n\n  return text;\n});\n\r\nshowdown.subParser('tables', function (text, options, globals) {\n  'use strict';\n\n  if (!options.tables) {\n    return text;\n  }\n\n  var tableRgx       = /^ {0,3}\\|?.+\\|.+\\n {0,3}\\|?[ \\t]*:?[ \\t]*(?:[-=]){2,}[ \\t]*:?[ \\t]*\\|[ \\t]*:?[ \\t]*(?:[-=]){2,}[\\s\\S]+?(?:\\n\\n|¨0)/gm,\n      //singeColTblRgx = /^ {0,3}\\|.+\\|\\n {0,3}\\|[ \\t]*:?[ \\t]*(?:[-=]){2,}[ \\t]*:?[ \\t]*\\|[ \\t]*\\n(?: {0,3}\\|.+\\|\\n)+(?:\\n\\n|¨0)/gm;\n      singeColTblRgx = /^ {0,3}\\|.+\\|[ \\t]*\\n {0,3}\\|[ \\t]*:?[ \\t]*(?:[-=]){2,}[ \\t]*:?[ \\t]*\\|[ \\t]*\\n( {0,3}\\|.+\\|[ \\t]*\\n)*(?:\\n|¨0)/gm;\n\n  function parseStyles (sLine) {\n    if (/^:[ \\t]*--*$/.test(sLine)) {\n      return ' style=\"text-align:left;\"';\n    } else if (/^--*[ \\t]*:[ \\t]*$/.test(sLine)) {\n      return ' style=\"text-align:right;\"';\n    } else if (/^:[ \\t]*--*[ \\t]*:$/.test(sLine)) {\n      return ' style=\"text-align:center;\"';\n    } else {\n      return '';\n    }\n  }\n\n  function parseHeaders (header, style) {\n    var id = '';\n    header = header.trim();\n    // support both tablesHeaderId and tableHeaderId due to error in documentation so we don't break backwards compatibility\n    if (options.tablesHeaderId || options.tableHeaderId) {\n      id = ' id=\"' + header.replace(/ /g, '_').toLowerCase() + '\"';\n    }\n    header = showdown.subParser('spanGamut')(header, options, globals);\n\n    return '<th' + id + style + '>' + header + '</th>\\n';\n  }\n\n  function parseCells (cell, style) {\n    var subText = showdown.subParser('spanGamut')(cell, options, globals);\n    return '<td' + style + '>' + subText + '</td>\\n';\n  }\n\n  function buildTable (headers, cells) {\n    var tb = '<table>\\n<thead>\\n<tr>\\n',\n        tblLgn = headers.length;\n\n    for (var i = 0; i < tblLgn; ++i) {\n      tb += headers[i];\n    }\n    tb += '</tr>\\n</thead>\\n<tbody>\\n';\n\n    for (i = 0; i < cells.length; ++i) {\n      tb += '<tr>\\n';\n      for (var ii = 0; ii < tblLgn; ++ii) {\n        tb += cells[i][ii];\n      }\n      tb += '</tr>\\n';\n    }\n    tb += '</tbody>\\n</table>\\n';\n    return tb;\n  }\n\n  function parseTable (rawTable) {\n    var i, tableLines = rawTable.split('\\n');\n\n    for (i = 0; i < tableLines.length; ++i) {\n      // strip wrong first and last column if wrapped tables are used\n      if (/^ {0,3}\\|/.test(tableLines[i])) {\n        tableLines[i] = tableLines[i].replace(/^ {0,3}\\|/, '');\n      }\n      if (/\\|[ \\t]*$/.test(tableLines[i])) {\n        tableLines[i] = tableLines[i].replace(/\\|[ \\t]*$/, '');\n      }\n      // parse code spans first, but we only support one line code spans\n      tableLines[i] = showdown.subParser('codeSpans')(tableLines[i], options, globals);\n    }\n\n    var rawHeaders = tableLines[0].split('|').map(function (s) { return s.trim();}),\n        rawStyles = tableLines[1].split('|').map(function (s) { return s.trim();}),\n        rawCells = [],\n        headers = [],\n        styles = [],\n        cells = [];\n\n    tableLines.shift();\n    tableLines.shift();\n\n    for (i = 0; i < tableLines.length; ++i) {\n      if (tableLines[i].trim() === '') {\n        continue;\n      }\n      rawCells.push(\n        tableLines[i]\n          .split('|')\n          .map(function (s) {\n            return s.trim();\n          })\n      );\n    }\n\n    if (rawHeaders.length < rawStyles.length) {\n      return rawTable;\n    }\n\n    for (i = 0; i < rawStyles.length; ++i) {\n      styles.push(parseStyles(rawStyles[i]));\n    }\n\n    for (i = 0; i < rawHeaders.length; ++i) {\n      if (showdown.helper.isUndefined(styles[i])) {\n        styles[i] = '';\n      }\n      headers.push(parseHeaders(rawHeaders[i], styles[i]));\n    }\n\n    for (i = 0; i < rawCells.length; ++i) {\n      var row = [];\n      for (var ii = 0; ii < headers.length; ++ii) {\n        if (showdown.helper.isUndefined(rawCells[i][ii])) {\n\n        }\n        row.push(parseCells(rawCells[i][ii], styles[ii]));\n      }\n      cells.push(row);\n    }\n\n    return buildTable(headers, cells);\n  }\n\n  text = globals.converter._dispatch('tables.before', text, options, globals);\n\n  // find escaped pipe characters\n  text = text.replace(/\\\\(\\|)/g, showdown.helper.escapeCharactersCallback);\n\n  // parse multi column tables\n  text = text.replace(tableRgx, parseTable);\n\n  // parse one column tables\n  text = text.replace(singeColTblRgx, parseTable);\n\n  text = globals.converter._dispatch('tables.after', text, options, globals);\n\n  return text;\n});\n\r\nshowdown.subParser('underline', function (text, options, globals) {\n  'use strict';\n\n  if (!options.underline) {\n    return text;\n  }\n\n  text = globals.converter._dispatch('underline.before', text, options, globals);\n\n  if (options.literalMidWordUnderscores) {\n    text = text.replace(/\\b___(\\S[\\s\\S]*?)___\\b/g, function (wm, txt) {\n      return '<u>' + txt + '</u>';\n    });\n    text = text.replace(/\\b__(\\S[\\s\\S]*?)__\\b/g, function (wm, txt) {\n      return '<u>' + txt + '</u>';\n    });\n  } else {\n    text = text.replace(/___(\\S[\\s\\S]*?)___/g, function (wm, m) {\n      return (/\\S$/.test(m)) ? '<u>' + m + '</u>' : wm;\n    });\n    text = text.replace(/__(\\S[\\s\\S]*?)__/g, function (wm, m) {\n      return (/\\S$/.test(m)) ? '<u>' + m + '</u>' : wm;\n    });\n  }\n\n  // escape remaining underscores to prevent them being parsed by italic and bold\n  text = text.replace(/(_)/g, showdown.helper.escapeCharactersCallback);\n\n  text = globals.converter._dispatch('underline.after', text, options, globals);\n\n  return text;\n});\n\r\n/**\n * Swap back in all the special characters we've hidden.\n */\nshowdown.subParser('unescapeSpecialChars', function (text, options, globals) {\n  'use strict';\n  text = globals.converter._dispatch('unescapeSpecialChars.before', text, options, globals);\n\n  text = text.replace(/¨E(\\d+)E/g, function (wholeMatch, m1) {\n    var charCodeToReplace = parseInt(m1);\n    return String.fromCharCode(charCodeToReplace);\n  });\n\n  text = globals.converter._dispatch('unescapeSpecialChars.after', text, options, globals);\n  return text;\n});\n\r\nshowdown.subParser('makeMarkdown.blockquote', function (node, globals) {\n  'use strict';\n\n  var txt = '';\n  if (node.hasChildNodes()) {\n    var children = node.childNodes,\n        childrenLength = children.length;\n\n    for (var i = 0; i < childrenLength; ++i) {\n      var innerTxt = showdown.subParser('makeMarkdown.node')(children[i], globals);\n\n      if (innerTxt === '') {\n        continue;\n      }\n      txt += innerTxt;\n    }\n  }\n  // cleanup\n  txt = txt.trim();\n  txt = '> ' + txt.split('\\n').join('\\n> ');\n  return txt;\n});\n\r\nshowdown.subParser('makeMarkdown.codeBlock', function (node, globals) {\n  'use strict';\n\n  var lang = node.getAttribute('language'),\n      num  = node.getAttribute('precodenum');\n  return '```' + lang + '\\n' + globals.preList[num] + '\\n```';\n});\n\r\nshowdown.subParser('makeMarkdown.codeSpan', function (node) {\n  'use strict';\n\n  return '`' + node.innerHTML + '`';\n});\n\r\nshowdown.subParser('makeMarkdown.emphasis', function (node, globals) {\n  'use strict';\n\n  var txt = '';\n  if (node.hasChildNodes()) {\n    txt += '*';\n    var children = node.childNodes,\n        childrenLength = children.length;\n    for (var i = 0; i < childrenLength; ++i) {\n      txt += showdown.subParser('makeMarkdown.node')(children[i], globals);\n    }\n    txt += '*';\n  }\n  return txt;\n});\n\r\nshowdown.subParser('makeMarkdown.header', function (node, globals, headerLevel) {\n  'use strict';\n\n  var headerMark = new Array(headerLevel + 1).join('#'),\n      txt = '';\n\n  if (node.hasChildNodes()) {\n    txt = headerMark + ' ';\n    var children = node.childNodes,\n        childrenLength = children.length;\n\n    for (var i = 0; i < childrenLength; ++i) {\n      txt += showdown.subParser('makeMarkdown.node')(children[i], globals);\n    }\n  }\n  return txt;\n});\n\r\nshowdown.subParser('makeMarkdown.hr', function () {\n  'use strict';\n\n  return '---';\n});\n\r\nshowdown.subParser('makeMarkdown.image', function (node) {\n  'use strict';\n\n  var txt = '';\n  if (node.hasAttribute('src')) {\n    txt += '![' + node.getAttribute('alt') + '](';\n    txt += '<' + node.getAttribute('src') + '>';\n    if (node.hasAttribute('width') && node.hasAttribute('height')) {\n      txt += ' =' + node.getAttribute('width') + 'x' + node.getAttribute('height');\n    }\n\n    if (node.hasAttribute('title')) {\n      txt += ' \"' + node.getAttribute('title') + '\"';\n    }\n    txt += ')';\n  }\n  return txt;\n});\n\r\nshowdown.subParser('makeMarkdown.links', function (node, globals) {\n  'use strict';\n\n  var txt = '';\n  if (node.hasChildNodes() && node.hasAttribute('href')) {\n    var children = node.childNodes,\n        childrenLength = children.length;\n    txt = '[';\n    for (var i = 0; i < childrenLength; ++i) {\n      txt += showdown.subParser('makeMarkdown.node')(children[i], globals);\n    }\n    txt += '](';\n    txt += '<' + node.getAttribute('href') + '>';\n    if (node.hasAttribute('title')) {\n      txt += ' \"' + node.getAttribute('title') + '\"';\n    }\n    txt += ')';\n  }\n  return txt;\n});\n\r\nshowdown.subParser('makeMarkdown.list', function (node, globals, type) {\n  'use strict';\n\n  var txt = '';\n  if (!node.hasChildNodes()) {\n    return '';\n  }\n  var listItems       = node.childNodes,\n      listItemsLenght = listItems.length,\n      listNum = node.getAttribute('start') || 1;\n\n  for (var i = 0; i < listItemsLenght; ++i) {\n    if (typeof listItems[i].tagName === 'undefined' || listItems[i].tagName.toLowerCase() !== 'li') {\n      continue;\n    }\n\n    // define the bullet to use in list\n    var bullet = '';\n    if (type === 'ol') {\n      bullet = listNum.toString() + '. ';\n    } else {\n      bullet = '- ';\n    }\n\n    // parse list item\n    txt += bullet + showdown.subParser('makeMarkdown.listItem')(listItems[i], globals);\n    ++listNum;\n  }\n\n  // add comment at the end to prevent consecutive lists to be parsed as one\n  txt += '\\n<!-- -->\\n';\n  return txt.trim();\n});\n\r\nshowdown.subParser('makeMarkdown.listItem', function (node, globals) {\n  'use strict';\n\n  var listItemTxt = '';\n\n  var children = node.childNodes,\n      childrenLenght = children.length;\n\n  for (var i = 0; i < childrenLenght; ++i) {\n    listItemTxt += showdown.subParser('makeMarkdown.node')(children[i], globals);\n  }\n  // if it's only one liner, we need to add a newline at the end\n  if (!/\\n$/.test(listItemTxt)) {\n    listItemTxt += '\\n';\n  } else {\n    // it's multiparagraph, so we need to indent\n    listItemTxt = listItemTxt\n      .split('\\n')\n      .join('\\n    ')\n      .replace(/^ {4}$/gm, '')\n      .replace(/\\n\\n+/g, '\\n\\n');\n  }\n\n  return listItemTxt;\n});\n\r\n\n\nshowdown.subParser('makeMarkdown.node', function (node, globals, spansOnly) {\n  'use strict';\n\n  spansOnly = spansOnly || false;\n\n  var txt = '';\n\n  // edge case of text without wrapper paragraph\n  if (node.nodeType === 3) {\n    return showdown.subParser('makeMarkdown.txt')(node, globals);\n  }\n\n  // HTML comment\n  if (node.nodeType === 8) {\n    return '<!--' + node.data + '-->\\n\\n';\n  }\n\n  // process only node elements\n  if (node.nodeType !== 1) {\n    return '';\n  }\n\n  var tagName = node.tagName.toLowerCase();\n\n  switch (tagName) {\n\n    //\n    // BLOCKS\n    //\n    case 'h1':\n      if (!spansOnly) { txt = showdown.subParser('makeMarkdown.header')(node, globals, 1) + '\\n\\n'; }\n      break;\n    case 'h2':\n      if (!spansOnly) { txt = showdown.subParser('makeMarkdown.header')(node, globals, 2) + '\\n\\n'; }\n      break;\n    case 'h3':\n      if (!spansOnly) { txt = showdown.subParser('makeMarkdown.header')(node, globals, 3) + '\\n\\n'; }\n      break;\n    case 'h4':\n      if (!spansOnly) { txt = showdown.subParser('makeMarkdown.header')(node, globals, 4) + '\\n\\n'; }\n      break;\n    case 'h5':\n      if (!spansOnly) { txt = showdown.subParser('makeMarkdown.header')(node, globals, 5) + '\\n\\n'; }\n      break;\n    case 'h6':\n      if (!spansOnly) { txt = showdown.subParser('makeMarkdown.header')(node, globals, 6) + '\\n\\n'; }\n      break;\n\n    case 'p':\n      if (!spansOnly) { txt = showdown.subParser('makeMarkdown.paragraph')(node, globals) + '\\n\\n'; }\n      break;\n\n    case 'blockquote':\n      if (!spansOnly) { txt = showdown.subParser('makeMarkdown.blockquote')(node, globals) + '\\n\\n'; }\n      break;\n\n    case 'hr':\n      if (!spansOnly) { txt = showdown.subParser('makeMarkdown.hr')(node, globals) + '\\n\\n'; }\n      break;\n\n    case 'ol':\n      if (!spansOnly) { txt = showdown.subParser('makeMarkdown.list')(node, globals, 'ol') + '\\n\\n'; }\n      break;\n\n    case 'ul':\n      if (!spansOnly) { txt = showdown.subParser('makeMarkdown.list')(node, globals, 'ul') + '\\n\\n'; }\n      break;\n\n    case 'precode':\n      if (!spansOnly) { txt = showdown.subParser('makeMarkdown.codeBlock')(node, globals) + '\\n\\n'; }\n      break;\n\n    case 'pre':\n      if (!spansOnly) { txt = showdown.subParser('makeMarkdown.pre')(node, globals) + '\\n\\n'; }\n      break;\n\n    case 'table':\n      if (!spansOnly) { txt = showdown.subParser('makeMarkdown.table')(node, globals) + '\\n\\n'; }\n      break;\n\n    //\n    // SPANS\n    //\n    case 'code':\n      txt = showdown.subParser('makeMarkdown.codeSpan')(node, globals);\n      break;\n\n    case 'em':\n    case 'i':\n      txt = showdown.subParser('makeMarkdown.emphasis')(node, globals);\n      break;\n\n    case 'strong':\n    case 'b':\n      txt = showdown.subParser('makeMarkdown.strong')(node, globals);\n      break;\n\n    case 'del':\n      txt = showdown.subParser('makeMarkdown.strikethrough')(node, globals);\n      break;\n\n    case 'a':\n      txt = showdown.subParser('makeMarkdown.links')(node, globals);\n      break;\n\n    case 'img':\n      txt = showdown.subParser('makeMarkdown.image')(node, globals);\n      break;\n\n    default:\n      txt = node.outerHTML + '\\n\\n';\n  }\n\n  // common normalization\n  // TODO eventually\n\n  return txt;\n});\n\r\nshowdown.subParser('makeMarkdown.paragraph', function (node, globals) {\n  'use strict';\n\n  var txt = '';\n  if (node.hasChildNodes()) {\n    var children = node.childNodes,\n        childrenLength = children.length;\n    for (var i = 0; i < childrenLength; ++i) {\n      txt += showdown.subParser('makeMarkdown.node')(children[i], globals);\n    }\n  }\n\n  // some text normalization\n  txt = txt.trim();\n\n  return txt;\n});\n\r\nshowdown.subParser('makeMarkdown.pre', function (node, globals) {\n  'use strict';\n\n  var num  = node.getAttribute('prenum');\n  return '<pre>' + globals.preList[num] + '</pre>';\n});\n\r\nshowdown.subParser('makeMarkdown.strikethrough', function (node, globals) {\n  'use strict';\n\n  var txt = '';\n  if (node.hasChildNodes()) {\n    txt += '~~';\n    var children = node.childNodes,\n        childrenLength = children.length;\n    for (var i = 0; i < childrenLength; ++i) {\n      txt += showdown.subParser('makeMarkdown.node')(children[i], globals);\n    }\n    txt += '~~';\n  }\n  return txt;\n});\n\r\nshowdown.subParser('makeMarkdown.strong', function (node, globals) {\n  'use strict';\n\n  var txt = '';\n  if (node.hasChildNodes()) {\n    txt += '**';\n    var children = node.childNodes,\n        childrenLength = children.length;\n    for (var i = 0; i < childrenLength; ++i) {\n      txt += showdown.subParser('makeMarkdown.node')(children[i], globals);\n    }\n    txt += '**';\n  }\n  return txt;\n});\n\r\nshowdown.subParser('makeMarkdown.table', function (node, globals) {\n  'use strict';\n\n  var txt = '',\n      tableArray = [[], []],\n      headings   = node.querySelectorAll('thead>tr>th'),\n      rows       = node.querySelectorAll('tbody>tr'),\n      i, ii;\n  for (i = 0; i < headings.length; ++i) {\n    var headContent = showdown.subParser('makeMarkdown.tableCell')(headings[i], globals),\n        allign = '---';\n\n    if (headings[i].hasAttribute('style')) {\n      var style = headings[i].getAttribute('style').toLowerCase().replace(/\\s/g, '');\n      switch (style) {\n        case 'text-align:left;':\n          allign = ':---';\n          break;\n        case 'text-align:right;':\n          allign = '---:';\n          break;\n        case 'text-align:center;':\n          allign = ':---:';\n          break;\n      }\n    }\n    tableArray[0][i] = headContent.trim();\n    tableArray[1][i] = allign;\n  }\n\n  for (i = 0; i < rows.length; ++i) {\n    var r = tableArray.push([]) - 1,\n        cols = rows[i].getElementsByTagName('td');\n\n    for (ii = 0; ii < headings.length; ++ii) {\n      var cellContent = ' ';\n      if (typeof cols[ii] !== 'undefined') {\n        cellContent = showdown.subParser('makeMarkdown.tableCell')(cols[ii], globals);\n      }\n      tableArray[r].push(cellContent);\n    }\n  }\n\n  var cellSpacesCount = 3;\n  for (i = 0; i < tableArray.length; ++i) {\n    for (ii = 0; ii < tableArray[i].length; ++ii) {\n      var strLen = tableArray[i][ii].length;\n      if (strLen > cellSpacesCount) {\n        cellSpacesCount = strLen;\n      }\n    }\n  }\n\n  for (i = 0; i < tableArray.length; ++i) {\n    for (ii = 0; ii < tableArray[i].length; ++ii) {\n      if (i === 1) {\n        if (tableArray[i][ii].slice(-1) === ':') {\n          tableArray[i][ii] = showdown.helper.padEnd(tableArray[i][ii].slice(-1), cellSpacesCount - 1, '-') + ':';\n        } else {\n          tableArray[i][ii] = showdown.helper.padEnd(tableArray[i][ii], cellSpacesCount, '-');\n        }\n      } else {\n        tableArray[i][ii] = showdown.helper.padEnd(tableArray[i][ii], cellSpacesCount);\n      }\n    }\n    txt += '| ' + tableArray[i].join(' | ') + ' |\\n';\n  }\n\n  return txt.trim();\n});\n\r\nshowdown.subParser('makeMarkdown.tableCell', function (node, globals) {\n  'use strict';\n\n  var txt = '';\n  if (!node.hasChildNodes()) {\n    return '';\n  }\n  var children = node.childNodes,\n      childrenLength = children.length;\n\n  for (var i = 0; i < childrenLength; ++i) {\n    txt += showdown.subParser('makeMarkdown.node')(children[i], globals, true);\n  }\n  return txt.trim();\n});\n\r\nshowdown.subParser('makeMarkdown.txt', function (node) {\n  'use strict';\n\n  var txt = node.nodeValue;\n\n  // multiple spaces are collapsed\n  txt = txt.replace(/ +/g, ' ');\n\n  // replace the custom ¨NBSP; with a space\n  txt = txt.replace(/¨NBSP;/g, ' ');\n\n  // \", <, > and & should replace escaped html entities\n  txt = showdown.helper.unescapeHTMLEntities(txt);\n\n  // escape markdown magic characters\n  // emphasis, strong and strikethrough - can appear everywhere\n  // we also escape pipe (|) because of tables\n  // and escape ` because of code blocks and spans\n  txt = txt.replace(/([*_~|`])/g, '\\\\$1');\n\n  // escape > because of blockquotes\n  txt = txt.replace(/^(\\s*)>/g, '\\\\$1>');\n\n  // hash character, only troublesome at the beginning of a line because of headers\n  txt = txt.replace(/^#/gm, '\\\\#');\n\n  // horizontal rules\n  txt = txt.replace(/^(\\s*)([-=]{3,})(\\s*)$/, '$1\\\\$2$3');\n\n  // dot, because of ordered lists, only troublesome at the beginning of a line when preceded by an integer\n  txt = txt.replace(/^( {0,3}\\d+)\\./gm, '$1\\\\.');\n\n  // +, * and -, at the beginning of a line becomes a list, so we need to escape them also (asterisk was already escaped)\n  txt = txt.replace(/^( {0,3})([+-])/gm, '$1\\\\$2');\n\n  // images and links, ] followed by ( is problematic, so we escape it\n  txt = txt.replace(/]([\\s]*)\\(/g, '\\\\]$1\\\\(');\n\n  // reference URIs must also be escaped\n  txt = txt.replace(/^ {0,3}\\[([\\S \\t]*?)]:/gm, '\\\\[$1]:');\n\n  return txt;\n});\n\r\nvar root = this;\n\n// AMD Loader\nif (typeof define === 'function' && define.amd) {\n  define(function () {\n    'use strict';\n    return showdown;\n  });\n\n// CommonJS/nodeJS Loader\n} else if (typeof module !== 'undefined' && module.exports) {\n  module.exports = showdown;\n\n// Regular Browser loader\n} else {\n  root.showdown = showdown;\n}\n}).call(this);\r\n\n//# sourceMappingURL=showdown.js.map\r\n","// Copyright (c) 2015, Frappe Technologies Pvt. Ltd. and Contributors\n// MIT License. See license.txt\n\nimport './datatype';\n\nif (!window.frappe) window.frappe = {};\n\nfunction flt(v, decimals, number_format) {\n\tif (v == null || v == '') return 0;\n\n\tif (!(typeof v === \"number\" || String(parseFloat(v)) == v)) {\n\t\t// cases in which this block should not run\n\t\t// 1. 'v' is already a number\n\t\t// 2. v is already parsed but in string form\n\t\t// if (typeof v !== \"number\") {\n\n\t\tv = v + \"\";\n\n\t\t// strip currency symbol if exists\n\t\tif (v.indexOf(\" \") != -1) {\n\t\t\t// using slice(1).join(\" \") because space could also be a group separator\n\t\t\tvar parts = v.split(\" \");\n\t\t\tv = isNaN(parseFloat(parts[0])) ? parts.slice(parts.length - 1).join(\" \") : v;\n\t\t}\n\n\t\tv = strip_number_groups(v, number_format);\n\n\t\tv = parseFloat(v);\n\t\tif (isNaN(v))\n\t\t\tv = 0;\n\t}\n\n\tv = parseFloat(v);\n\tif (decimals != null)\n\t\treturn _round(v, decimals);\n\treturn v;\n}\n\nfunction strip_number_groups(v, number_format) {\n\tif (!number_format) number_format = get_number_format();\n\tvar info = get_number_format_info(number_format);\n\n\t// strip groups (,)\n\tvar group_regex = new RegExp(info.group_sep === \".\" ? \"\\\\.\" : info.group_sep, \"g\");\n\tv = v.replace(group_regex, \"\");\n\n\t// replace decimal separator with (.)\n\tif (info.decimal_str !== \".\" && info.decimal_str !== \"\") {\n\t\tvar decimal_regex = new RegExp(info.decimal_str, \"g\");\n\t\tv = v.replace(decimal_regex, \".\");\n\t}\n\n\treturn v;\n}\n\n\nfrappe.number_format_info = {\n\t\"#,###.##\": { decimal_str: \".\", group_sep: \",\" },\n\t\"#.###,##\": { decimal_str: \",\", group_sep: \".\" },\n\t\"# ###.##\": { decimal_str: \".\", group_sep: \" \" },\n\t\"# ###,##\": { decimal_str: \",\", group_sep: \" \" },\n\t\"#'###.##\": { decimal_str: \".\", group_sep: \"'\" },\n\t\"#, ###.##\": { decimal_str: \".\", group_sep: \", \" },\n\t\"#,##,###.##\": { decimal_str: \".\", group_sep: \",\" },\n\t\"#,###.###\": { decimal_str: \".\", group_sep: \",\" },\n\t\"#.###\": { decimal_str: \"\", group_sep: \".\" },\n\t\"#,###\": { decimal_str: \"\", group_sep: \",\" },\n}\n\nwindow.format_number = function (v, format, decimals) {\n\tif (!format) {\n\t\tformat = get_number_format();\n\t\tif (decimals == null) decimals = cint(frappe.defaults.get_default(\"float_precision\")) || 3;\n\t}\n\n\tvar info = get_number_format_info(format);\n\n\t// Fix the decimal first, toFixed will auto fill trailing zero.\n\tif (decimals == null) decimals = info.precision;\n\n\tv = flt(v, decimals, format);\n\n\tlet is_negative = false;\n\tif (v < 0) is_negative = true;\n\tv = Math.abs(v);\n\n\tv = v.toFixed(decimals);\n\n\tvar part = v.split('.');\n\n\t// get group position and parts\n\tvar group_position = info.group_sep ? 3 : 0;\n\n\tif (group_position) {\n\t\tvar integer = part[0];\n\t\tvar str = '';\n\t\tvar offset = integer.length % group_position;\n\t\tfor (var i = integer.length; i >= 0; i--) {\n\t\t\tvar l = replace_all(str, info.group_sep, \"\").length;\n\t\t\tif (format == \"#,##,###.##\" && str.indexOf(\",\") != -1) { // INR\n\t\t\t\tgroup_position = 2;\n\t\t\t\tl += 1;\n\t\t\t}\n\n\t\t\tstr += integer.charAt(i);\n\n\t\t\tif (l && !((l + 1) % group_position) && i != 0) {\n\t\t\t\tstr += info.group_sep;\n\t\t\t}\n\t\t}\n\t\tpart[0] = str.split(\"\").reverse().join(\"\");\n\t}\n\tif (part[0] + \"\" == \"\") {\n\t\tpart[0] = \"0\";\n\t}\n\n\t// join decimal\n\tpart[1] = (part[1] && info.decimal_str) ? (info.decimal_str + part[1]) : \"\";\n\n\t// join\n\treturn (is_negative ? \"-\" : \"\") + part[0] + part[1];\n};\n\nfunction format_currency(v, currency, decimals) {\n\tvar format = get_number_format(currency);\n\tvar symbol = get_currency_symbol(currency);\n\tif(decimals === undefined) {\n\t\tdecimals = frappe.boot.sysdefaults.currency_precision || null;\n\t}\n\n\tif (symbol)\n\t\treturn symbol + \" \" + format_number(v, format, decimals);\n\telse\n\t\treturn format_number(v, format, decimals);\n}\n\nfunction get_currency_symbol(currency) {\n\tif (frappe.boot) {\n\t\tif (frappe.boot.sysdefaults && frappe.boot.sysdefaults.hide_currency_symbol == \"Yes\")\n\t\t\treturn null;\n\n\t\tif (!currency)\n\t\t\tcurrency = frappe.boot.sysdefaults.currency;\n\n\t\treturn frappe.model.get_value(\":Currency\", currency, \"symbol\") || currency;\n\t} else {\n\t\t// load in template\n\t\treturn frappe.currency_symbols[currency];\n\t}\n}\n\nfunction get_number_format(currency) {\n\treturn (frappe.boot && frappe.boot.sysdefaults && frappe.boot.sysdefaults.number_format) || \"#,###.##\";\n}\n\nfunction get_number_format_info(format) {\n\tvar info = frappe.number_format_info[format];\n\n\tif (!info) {\n\t\tinfo = { decimal_str: \".\", group_sep: \",\" };\n\t}\n\n\t// get the precision from the number format\n\tinfo.precision = format.split(info.decimal_str).slice(1)[0].length;\n\n\treturn info;\n}\n\nfunction _round(num, precision) {\n\tvar is_negative = num < 0 ? true : false;\n\tvar d = cint(precision);\n\tvar m = Math.pow(10, d);\n\tvar n = +(d ? Math.abs(num) * m : Math.abs(num)).toFixed(8); // Avoid rounding errors\n\tvar i = Math.floor(n), f = n - i;\n\tvar r = ((!precision && f == 0.5) ? ((i % 2 == 0) ? i : i + 1) : Math.round(n));\n\tr = d ? r / m : r;\n\treturn is_negative ? -r : r;\n\n}\n\nfunction roundNumber(num, precision) {\n\t// backward compatibility\n\treturn _round(num, precision);\n}\n\nfunction precision(fieldname, doc) {\n\tif (cur_frm) {\n\t\tif (!doc) doc = cur_frm.doc;\n\t\tvar df = frappe.meta.get_docfield(doc.doctype, fieldname, doc.parent || doc.name);\n\t\tif (!df) console.log(fieldname + \": could not find docfield in method precision()\");\n\t\treturn frappe.meta.get_field_precision(df, doc);\n\t} else {\n\t\treturn frappe.boot.sysdefaults.float_precision\n\t}\n}\n\nfunction in_list(list, item) {\n\treturn list.includes(item);\n}\n\nfunction remainder(numerator, denominator, precision) {\n\tprecision = cint(precision);\n\tvar multiplier = Math.pow(10, precision);\n\tif (precision) {\n\t\tvar _remainder = ((numerator * multiplier) % (denominator * multiplier)) / multiplier;\n\t} else {\n\t\tvar _remainder = numerator % denominator;\n\t}\n\n\treturn flt(_remainder, precision);\n}\n\nfunction round_based_on_smallest_currency_fraction(value, currency, precision) {\n\tvar smallest_currency_fraction_value = flt(frappe.model.get_value(\":Currency\",\n\t\tcurrency, \"smallest_currency_fraction_value\"))\n\n\tif (smallest_currency_fraction_value) {\n\t\tvar remainder_val = remainder(value, smallest_currency_fraction_value, precision);\n\t\tif (remainder_val > (smallest_currency_fraction_value / 2)) {\n\t\t\tvalue += (smallest_currency_fraction_value - remainder_val);\n\t\t} else {\n\t\t\tvalue -= remainder_val;\n\t\t}\n\t} else {\n\t\tvalue = _round(value);\n\t}\n\treturn value;\n}\n\nfunction fmt_money(v, format){\n\t// deprecated!\n\t// for backward compatibility\n\treturn format_currency(v, format);\n}\n\n\nObject.assign(window, {\n\tflt,\n\tcint,\n\tstrip_number_groups,\n\tformat_currency,\n\tfmt_money,\n\tget_currency_symbol,\n\tget_number_format,\n\tget_number_format_info,\n\t_round,\n\troundNumber,\n\tprecision,\n\tremainder,\n\tround_based_on_smallest_currency_fraction,\n\tin_list\n});","// Copyright (c) 2015, Frappe Technologies Pvt. Ltd. and Contributors\n// MIT License. See license.txt\n\nimport showdown from 'showdown';\n\nfrappe.provide(\"frappe.tools\");\n\nfrappe.tools.downloadify = function(data, roles, title) {\n\tif(roles && roles.length && !has_common(roles, roles)) {\n\t\tfrappe.msgprint(__(\"Export not allowed. You need {0} role to export.\", [frappe.utils.comma_or(roles)]));\n\t\treturn;\n\t}\n\n\tvar filename = title + \".csv\";\n\tvar csv_data = frappe.tools.to_csv(data);\n\tvar a = document.createElement('a');\n\n\tif (\"download\" in a) {\n\t\t// Used Blob object, because it can handle large files\n\t\tvar blob_object = new Blob([csv_data], { type: 'text/csv;charset=UTF-8' });\n\t\ta.href = URL.createObjectURL(blob_object);\n\t\ta.download = filename;\n\n\t} else {\n\t\t// use old method\n\t\ta.href = 'data:attachment/csv,' + encodeURIComponent(csv_data);\n\t\ta.download = filename;\n\t\ta.target = \"_blank\";\n\t}\n\n\tdocument.body.appendChild(a);\n\ta.click();\n\n\tdocument.body.removeChild(a);\n};\n\nfrappe.markdown = function(txt) {\n\tif(!frappe.md2html) {\n\t\tfrappe.md2html = new showdown.Converter();\n\t}\n\n\twhile(txt.substr(0,1)===\"\\n\") {\n\t\ttxt = txt.substr(1);\n\t}\n\n\t// remove leading tab (if they exist in the first line)\n\tvar whitespace_len = 0,\n\t\tfirst_line = txt.split(\"\\n\")[0];\n\n\twhile([\"\\n\", \"\\t\"].indexOf(first_line.substr(0,1))!== -1) {\n\t\twhitespace_len++;\n\t\tfirst_line = first_line.substr(1);\n\t}\n\n\tif(whitespace_len && whitespace_len != first_line.length) {\n\t\tvar txt1 = [];\n\t\t$.each(txt.split(\"\\n\"), function(i, t) {\n\t\t\ttxt1.push(t.substr(whitespace_len));\n\t\t});\n\t\ttxt = txt1.join(\"\\n\");\n\t}\n\n\treturn frappe.md2html.makeHtml(txt);\n};\n\nfrappe.tools.to_csv = function(data) {\n\tvar res = [];\n\t$.each(data, function(i, row) {\n\t\trow = $.map(row, function(col) {\n\t\t\tif (col === null || col === undefined) col = '';\n\t\t\treturn typeof col === \"string\" ? ('\"' + $('<i>').html(col.replace(/\"/g, '\"\"')).text() + '\"') : col;\n\t\t});\n\t\tres.push(row.join(\",\"));\n\t});\n\treturn res.join(\"\\n\");\n};","// Copyright (c) 2015, Frappe Technologies Pvt. Ltd. and Contributors\n// MIT License. See license.txt\n\nfrappe.provide('frappe.datetime');\n\nfrappe.defaultDateFormat = \"YYYY-MM-DD\";\nfrappe.defaultTimeFormat = \"HH:mm:ss\";\nfrappe.defaultDatetimeFormat = frappe.defaultDateFormat + \" \" + frappe.defaultTimeFormat;\nmoment.defaultFormat = frappe.defaultDateFormat;\n\nfrappe.provide(\"frappe.datetime\");\n\n$.extend(frappe.datetime, {\n\tconvert_to_user_tz: function(date, format) {\n\t\t// format defaults to true\n\t\tif(frappe.sys_defaults.time_zone) {\n\t\t\tvar date_obj = moment.tz(date, frappe.sys_defaults.time_zone).local();\n\t\t} else {\n\t\t\tvar date_obj = moment(date);\n\t\t}\n\n\t\treturn (format===false) ? date_obj : date_obj.format(frappe.defaultDatetimeFormat);\n\t},\n\n\tconvert_to_system_tz: function(date, format) {\n\t\t// format defaults to true\n\n\t\tif(frappe.sys_defaults.time_zone) {\n\t\t\tvar date_obj = moment(date).tz(frappe.sys_defaults.time_zone);\n\t\t} else {\n\t\t\tvar date_obj = moment(date);\n\t\t}\n\n\t\treturn (format===false) ? date_obj : date_obj.format(frappe.defaultDatetimeFormat);\n\t},\n\n\tis_timezone_same: function() {\n\t\tif(frappe.sys_defaults.time_zone) {\n\t\t\treturn moment().tz(frappe.sys_defaults.time_zone).utcOffset() === moment().utcOffset();\n\t\t} else {\n\t\t\treturn true;\n\t\t}\n\t},\n\n\tstr_to_obj: function(d) {\n\t\treturn moment(d, frappe.defaultDatetimeFormat)._d;\n\t},\n\n\tobj_to_str: function(d) {\n\t\treturn moment(d).locale(\"en\").format();\n\t},\n\n\tobj_to_user: function(d) {\n\t\treturn moment(d).format(frappe.datetime.get_user_date_fmt().toUpperCase());\n\t},\n\n\tget_diff: function(d1, d2) {\n\t\treturn moment(d1).diff(d2, \"days\");\n\t},\n\n\tget_hour_diff: function(d1, d2) {\n\t\treturn moment(d1).diff(d2, \"hours\");\n\t},\n\n\tget_day_diff: function(d1, d2) {\n\t\treturn moment(d1).diff(d2, \"days\");\n\t},\n\n\tadd_days: function(d, days) {\n\t\treturn moment(d).add(days, \"days\").format();\n\t},\n\n\tadd_months: function(d, months) {\n\t\treturn moment(d).add(months, \"months\").format();\n\t},\n\n\tweek_start: function() {\n\t\treturn moment().startOf(\"week\").format();\n\t},\n\n\tweek_end: function() {\n\t\treturn moment().endOf(\"week\").format();\n\t},\n\n\tmonth_start: function() {\n\t\treturn moment().startOf(\"month\").format();\n\t},\n\n\tmonth_end: function() {\n\t\treturn moment().endOf(\"month\").format();\n\t},\n\n\tquarter_start: function() {\n\t\treturn moment().startOf(\"quarter\").format();\n\t},\n\n\tquarter_end: function() {\n\t\treturn moment().endOf(\"quarter\").format();\n\t},\n\n\tyear_start: function(){\n\t\treturn moment().startOf(\"year\").format();\n\t},\n\n\tyear_end: function(){\n\t\treturn moment().endOf(\"year\").format();\n\t},\n\n\tget_user_time_fmt: function() {\n\t\treturn frappe.sys_defaults && frappe.sys_defaults.time_format || \"HH:mm:ss\";\n\t},\n\n\tget_user_date_fmt: function() {\n\t\treturn frappe.sys_defaults && frappe.sys_defaults.date_format || \"yyyy-mm-dd\";\n\t},\n\n\tget_user_fmt: function() {  // For backwards compatibility only\n\t\treturn frappe.sys_defaults && frappe.sys_defaults.date_format || \"yyyy-mm-dd\";\n\t},\n\n\tstr_to_user: function(val, only_time = false) {\n\t\tif(!val) return \"\";\n\n\t\tvar user_time_fmt = frappe.datetime.get_user_time_fmt();\n\t\tif(only_time) {\n\t\t\treturn moment(val, frappe.defaultTimeFormat)\n\t\t\t\t.format(user_time_fmt);\n\t\t}\n\n\t\tvar user_date_fmt = frappe.datetime.get_user_date_fmt().toUpperCase();\n\t\tif(typeof val !== \"string\" || val.indexOf(\" \")===-1) {\n\t\t\treturn moment(val).format(user_date_fmt);\n\t\t} else {\n\t\t\treturn moment(val, \"YYYY-MM-DD HH:mm:ss\").format(user_date_fmt + \" \" + user_time_fmt);\n\t\t}\n\t},\n\n\tget_datetime_as_string: function(d) {\n\t\treturn moment(d).format(\"YYYY-MM-DD HH:mm:ss\");\n\t},\n\n\tuser_to_str: function(val, only_time = false) {\n\n\t\tvar user_time_fmt = frappe.datetime.get_user_time_fmt();\n\t\tif(only_time) {\n\t\t\treturn moment(val, user_time_fmt)\n\t\t\t\t.format(frappe.defaultTimeFormat);\n\t\t}\n\n\t\tvar user_fmt = frappe.datetime.get_user_date_fmt().toUpperCase();\n\t\tvar system_fmt = \"YYYY-MM-DD\";\n\n\t\tif(val.indexOf(\" \")!==-1) {\n\t\t\tuser_fmt += \" \" + user_time_fmt;\n\t\t\tsystem_fmt += \" HH:mm:ss\";\n\t\t}\n\n\t\t// user_fmt.replace(\"YYYY\", \"YY\")? user might only input 2 digits of the year, which should also be parsed\n\t\treturn moment(val, [user_fmt.replace(\"YYYY\", \"YY\"),\n\t\t\tuser_fmt]).locale(\"en\").format(system_fmt);\n\t},\n\n\tuser_to_obj: function(d) {\n\t\treturn frappe.datetime.str_to_obj(frappe.datetime.user_to_str(d));\n\t},\n\n\tglobal_date_format: function(d) {\n\t\tvar m = moment(d);\n\t\tif(m._f && m._f.indexOf(\"HH\")!== -1) {\n\t\t\treturn m.format(\"Do MMMM YYYY, h:mma\")\n\t\t} else {\n\t\t\treturn m.format('Do MMMM YYYY');\n\t\t}\n\t},\n\n\tnow_date: function(as_obj = false) {\n\t\treturn frappe.datetime._date(frappe.defaultDateFormat, as_obj);\n\t},\n\n\tnow_time: function(as_obj = false) {\n\t\treturn frappe.datetime._date(frappe.defaultTimeFormat, as_obj);\n\t},\n\n\tnow_datetime: function(as_obj = false) {\n\t\treturn frappe.datetime._date(frappe.defaultDatetimeFormat, as_obj);\n\t},\n\n\t_date: function(format, as_obj = false) {\n\t\tconst time_zone = frappe.sys_defaults && frappe.sys_defaults.time_zone;\n\t\tlet date;\n\t\tif (time_zone) {\n\t\t\tdate = moment.tz(time_zone);\n\t\t} else {\n\t\t\tdate = moment();\n\t\t}\n\t\tif (as_obj) {\n\t\t\treturn frappe.datetime.moment_to_date_obj(date);\n\t\t} else {\n\t\t\treturn date.format(format);\n\t\t}\n\t},\n\n\tmoment_to_date_obj: function(moment) {\n\t\tconst date_obj = new Date();\n\t\tconst date_array = moment.toArray();\n\t\tdate_obj.setFullYear(date_array[0]);\n\t\tdate_obj.setMonth(date_array[1]);\n\t\tdate_obj.setDate(date_array[2]);\n\t\tdate_obj.setHours(date_array[3]);\n\t\tdate_obj.setMinutes(date_array[4]);\n\t\tdate_obj.setSeconds(date_array[5]);\n\t\tdate_obj.setMilliseconds(date_array[6]);\n\t\treturn date_obj;\n\t},\n\n\tnowdate: function() {\n\t\treturn frappe.datetime.now_date();\n\t},\n\n\tget_today: function() {\n\t\treturn frappe.datetime.now_date();\n\t},\n\n\tget_time: (timestamp) => {\n\t\t// return time with AM/PM\n\t\treturn moment(timestamp).format('hh:mm A');\n\t},\n\n\tvalidate: function(d) {\n\t\treturn moment(d, [\n\t\t\tfrappe.defaultDateFormat,\n\t\t\tfrappe.defaultDatetimeFormat,\n\t\t\tfrappe.defaultTimeFormat\n\t\t], true).isValid();\n\t},\n\n\tget_first_day_of_the_week_index() {\n\t\tconst first_day_of_the_week = frappe.sys_defaults.first_day_of_the_week || \"Sunday\";\n\t\treturn moment.weekdays().indexOf(first_day_of_the_week);\n\t}\n\n});\n\n// Proxy for dateutil and get_today\nObject.defineProperties(window, {\n\t'dateutil': {\n\t\tget: function() {\n\t\t\tconsole.warn('Please use `frappe.datetime` instead of `dateutil`. It will be deprecated soon.');\n\t\t\treturn frappe.datetime;\n\t\t},\n\t\tconfigurable: true\n\t},\n\t'date': {\n\t\tget: function() {\n\t\t\tconsole.warn('Please use `frappe.datetime` instead of `date`. It will be deprecated soon.');\n\t\t\treturn frappe.datetime;\n\t\t},\n\t\tconfigurable: true\n\t},\n\t'get_today': {\n\t\tget: function() {\n\t\t\tconsole.warn('Please use `frappe.datetime.get_today` instead of `get_today`. It will be deprecated soon.');\n\t\t\treturn frappe.datetime.get_today;\n\t\t},\n\t\tconfigurable: true\n\t}\n});\n","// Copyright (c) 2015, Frappe Technologies Pvt. Ltd. and Contributors\n// MIT License. See license.txt\n\nwindow.cstr = function(s) {\n\tif(s==null)return '';\n\treturn s+'';\n};\n\nwindow.cint = function(v, def) {\n\tif (v === true)\n\t\treturn 1;\n\tif (v === false)\n\t\treturn 0;\n\tv = v + '';\n\tif (v !== \"0\") v = lstrip(v, ['0']);\n\tv = parseInt(v); // eslint-ignore-line\n\tif (isNaN(v)) v = def === undefined ? 0 : def;\n\treturn v;\n};\n\n// to title case\nwindow.toTitle = function(str){\n\tvar word_in = str.split(\" \");\n\tvar word_out = [];\n\n\tfor(var w in word_in){\n\t\tword_out[w] = word_in[w].charAt(0).toUpperCase() + word_in[w].slice(1);\n\t}\n\n\treturn word_out.join(\" \");\n};\n\nwindow.is_null = function(v) {\n\tif(v===null || v===undefined || cstr(v).trim()===\"\") return true;\n};\n\nwindow.copy_dict = function(d) {\n\tvar n = {};\n\tfor(var k in d) n[k] = d[k];\n\treturn n;\n};\n\nwindow.validate_email = function(txt) {\n\treturn frappe.utils.validate_type(txt, \"email\");\n};\n\nwindow.validate_phone = function(txt) {\n\treturn frappe.utils.validate_type(txt, \"phone\");\n};\n\nwindow.validate_name = function(txt) {\n\treturn frappe.utils.validate_type(txt, \"name\");\n};\n\nwindow.validate_url = function(txt) {\n\treturn frappe.utils.validate_type(txt, \"url\");\n};\n\nwindow.nth = function(number) {\n\tnumber = cint(number);\n\tvar s = 'th';\n\tif((number+'').substr(-1)=='1') s = 'st';\n\tif((number+'').substr(-1)=='2') s = 'nd';\n\tif((number+'').substr(-1)=='3') s = 'rd';\n\treturn number+s;\n};\n\nwindow.has_words = function(list, item) {\n\tif(!item) return true;\n\tif(!list) return false;\n\tfor(var i=0, j=list.length; i<j; i++) {\n\t\tif(item.indexOf(list[i])!=-1)\n\t\t\treturn true;\n\t}\n\treturn false;\n};\n\nwindow.has_common = function(list1, list2) {\n\tif(!list1 || !list2) return false;\n\tfor(var i=0, j=list1.length; i<j; i++) {\n\t\tif(in_list(list2, list1[i]))return true;\n\t}\n\treturn false;\n};\n","// Copyright (c) 2015, Frappe Technologies Pvt. Ltd. and Contributors\n// MIT License. See license.txt\n\nfrappe.provide(\"frappe.help\");\n\nfrappe.help.youtube_id = {};\n\nfrappe.help.has_help = function (doctype) {\n\treturn frappe.help.youtube_id[doctype];\n}\n\nfrappe.help.show = function (doctype) {\n\tif (frappe.help.youtube_id[doctype]) {\n\t\tfrappe.help.show_video(frappe.help.youtube_id[doctype]);\n\t}\n}\n\nfrappe.help.show_video = function (youtube_id, title) {\n\tif (frappe.utils.is_url(youtube_id)) {\n\t\tconst expression = '(?:youtube.com/(?:[^/]+/.+/|(?:v|e(?:mbed)?)/|.*[?&]v=)|youtu.be/)([^\"&?\\\\s]{11})';\n\t\tyoutube_id = youtube_id.match(expression)[1];\n\t}\n\n\t// (frappe.help_feedback_link || \"\")\n\tlet dialog = new frappe.ui.Dialog({\n\t\ttitle: title || __(\"Help\"),\n\t\tsize: 'large'\n\t});\n\n\tlet video = $(`<div class=\"video-player\" data-plyr-provider=\"youtube\" data-plyr-embed-id=\"${youtube_id}\"></div>`);\n\tvideo.appendTo(dialog.body);\n\n\tdialog.show();\n\tdialog.$wrapper.addClass(\"video-modal\");\n\n\tlet plyr = new frappe.Plyr(video[0], {\n\t\thideControls: true,\n\t\tresetOnEnd: true,\n\t});\n\n\tdialog.onhide = () => {\n\t\tplyr.destroy();\n\t};\n}\n\n$(\"body\").on(\"click\", \"a.help-link\", function () {\n\tvar doctype = $(this).attr(\"data-doctype\");\n\tdoctype && frappe.help.show(doctype);\n});\n","frappe.provide('frappe.help.help_links');\n\nfrappe.help.help_links['data-import-tool'] = [\n\t{ label: 'Importing and Exporting Data', url: 'https://frappe.github.io/erpnext/user/manual/en/setting-up/data/data-import-tool.html' },\n]\n\nfrappe.help.help_links['modules/Setup'] = [\n\t{ label: 'Users and Permissions', url: 'http://frappe.github.io/erpnext/user/manual/en/setting-up/users-and-permissions/' },\n\t{ label: 'Settings', url: 'http://frappe.github.io/erpnext/user/manual/en/setting-up/settings/' },\n\t{ label: 'Data Management', url: 'http://frappe.github.io/erpnext/user/manual/en/setting-up/data/' },\n\t{ label: 'Email', url: 'http://frappe.github.io/erpnext/user/manual/en/setting-up/email/' },\n\t{ label: 'Printing', url: 'http://frappe.github.io/erpnext/user/manual/en/setting-up/print/' },\n]\n\nfrappe.help.help_links['List/User'] = [\n\t{ label: 'Adding Users', url: 'https://frappe.github.io/erpnext/user/manual/en/setting-up/users-and-permissions/adding-users' },\n\t{ label: 'Rename User', url: 'https://frappe.github.io/erpnext/user/manual/en/setting-up/articles/rename-user' },\n]\n\nfrappe.help.help_links['permission-manager'] = [\n\t{ label: 'Role Permissions Manager', url: 'https://frappe.github.io/erpnext/user/manual/en/setting-up/users-and-permissions/role-based-permissions' },\n]\n\nfrappe.help.help_links['user-permissions'] = [\n\t{ label: 'User Permissions', url: 'https://frappe.github.io/erpnext/user/manual/en/setting-up/users-and-permissions/user-permissions' },\n]\n\nfrappe.help.help_links['Form/System Settings'] = [\n\t{ label: 'System Settings', url: 'https://frappe.github.io/erpnext/user/manual/en/setting-up/settings/system-settings' },\n]\n\nfrappe.help.help_links['List/Email Account'] = [\n\t{ label: 'Email Account', url: 'https://frappe.github.io/erpnext/user/manual/en/setting-up/email/email-account' },\n]\n\nfrappe.help.help_links['List/Notification'] = [\n\t{ label: 'Notification', url: 'https://frappe.github.io/erpnext/user/manual/en/setting-up/email/email-alerts' },\n]\n\nfrappe.help.help_links['Form/Print Settings'] = [\n\t{ label: 'Print Settings', url: 'https://frappe.github.io/erpnext/user/manual/en/setting-up/print/print-settings' },\n]\n\nfrappe.help.help_links['print-format-builder'] = [\n\t{ label: 'Print Format Builder', url: 'https://frappe.github.io/erpnext/user/manual/en/setting-up/print/print-format-builder' },\n]\n\n","frappe.provide('frappe.contacts')\n\n$.extend(frappe.contacts, {\n\tclear_address_and_contact: function(frm) {\n\t\t$(frm.fields_dict['address_html'].wrapper).html(\"\");\n\t\tfrm.fields_dict['contact_html'] && $(frm.fields_dict['contact_html'].wrapper).html(\"\");\n\t},\n\n\trender_address_and_contact: function(frm) {\n\t\t// render address\n\t\tif(frm.fields_dict['address_html'] && \"addr_list\" in frm.doc.__onload) {\n\t\t\t$(frm.fields_dict['address_html'].wrapper)\n\t\t\t\t.html(frappe.render_template(\"address_list\",\n\t\t\t\t\tfrm.doc.__onload))\n\t\t\t\t.find(\".btn-address\").on(\"click\", function() {\n\t\t\t\t\tfrappe.new_doc(\"Address\");\n\t\t\t\t});\n\t\t}\n\n\t\t// render contact\n\t\tif(frm.fields_dict['contact_html'] && \"contact_list\" in frm.doc.__onload) {\n\t\t\t$(frm.fields_dict['contact_html'].wrapper)\n\t\t\t\t.html(frappe.render_template(\"contact_list\",\n\t\t\t\t\tfrm.doc.__onload))\n\t\t\t\t.find(\".btn-contact\").on(\"click\", function() {\n\t\t\t\t\tfrappe.new_doc(\"Contact\");\n\t\t\t\t}\n\t\t\t);\n\t\t}\n\t},\n\tget_last_doc: function(frm) {\n\t\tconst reverse_routes = frappe.route_history.slice().reverse();\n\t\tconst last_route = reverse_routes.find(route => {\n\t\t\treturn route[0] === 'Form' && route[1] !== frm.doctype\n\t\t})\n\t\tlet doctype = last_route && last_route[1];\n\t\tlet docname = last_route && last_route[2];\n\n\t\tif (last_route && last_route.length > 3)\n\t\t\tdocname = last_route.slice(2).join(\"/\");\n\n\t\treturn {\n\t\t\tdoctype,\n\t\t\tdocname\n\t\t}\n\t}\n})","frappe.preview_email = function(template, args, header, with_container=false, only_html=false) {\n\treturn frappe\n\t\t.call({\n\t\t\tmethod: 'frappe.email.email_body.get_email_html',\n\t\t\targs: {\n\t\t\t\tsubject: 'Test',\n\t\t\t\ttemplate,\n\t\t\t\targs,\n\t\t\t\theader,\n\t\t\t\twith_container\n\t\t\t}\n\t\t})\n\t\t.then(r => {\n\t\t\tvar html = r.message;\n\t\t\thtml = html.replace(/embed=/, 'src=');\n\t\t\tif (only_html) {\n\t\t\t\treturn html;\n\t\t\t}\n\t\t\tvar d = frappe.msgprint({\n\t\t\t\tmessage:\n\t\t\t\t\t'<iframe width=\"100%\" height=\"600px\" style=\"border: none;\"></iframe>',\n\t\t\t\twide: true\n\t\t\t});\n\n\t\t\tsetTimeout(() => {\n\t\t\t\td.$wrapper\n\t\t\t\t\t.find('iframe')\n\t\t\t\t\t.contents()\n\t\t\t\t\t.find('html')\n\t\t\t\t\t.html(html);\n\t\t\t\td.$wrapper.find('.modal-dialog').css('width', '70%');\n\t\t\t}, 1000);\n\t\t});\n};\n","frappe.provide('frappe.file_manager');\n\nfrappe.file_manager = function() {\n\tlet files_to_move = [];\n\tlet\told_folder = null;\n\tlet new_folder = null;\n\n\tfunction cut(files, old_folder_) {\n\t\tfiles_to_move = files;\n\t\told_folder = old_folder_;\n\t}\n\n\tfunction paste(new_folder_) {\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tif (files_to_move.length === 0 || !old_folder) {\n\t\t\t\treset();\n\t\t\t\tresolve();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tnew_folder = new_folder_;\n\n\t\t\tfrappe.call({\n\t\t\t\tmethod:\"frappe.core.doctype.file.file.move_file\",\n\t\t\t\targs: {\n\t\t\t\t\tfile_list: files_to_move,\n\t\t\t\t\tnew_parent: new_folder,\n\t\t\t\t\told_parent: old_folder\n\t\t\t\t},\n\t\t\t\tcallback: r => {\n\t\t\t\t\treset();\n\t\t\t\t\tresolve(r);\n\t\t\t\t}\n\t\t\t}).fail(reject);\n\t\t});\n\t}\n\n\tfunction reset() {\n\t\tfiles_to_move = [];\n\t\told_folder = null;\n\t\tnew_folder = null;\n\t}\n\n\treturn {\n\t\tcut,\n\t\tpaste,\n\t\tget can_paste() {\n\t\t\treturn Boolean(files_to_move.length > 0 && old_folder);\n\t\t},\n\t\tget old_folder() {\n\t\t\treturn old_folder;\n\t\t},\n\t\tget files_to_move() {\n\t\t\treturn files_to_move;\n\t\t}\n\t};\n}();\n","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nexport default {\n\tname: \"ProgressRing\",\n\tprops: {\n\t\tprimary: String,\n\t\tsecondary: String,\n\t\tradius: Number,\n\t\tprogress: Number,\n\t\tstroke: Number\n\t},\n\tdata() {\n\t\tconst normalizedRadius = this.radius - this.stroke * 2;\n\t\tconst circumference = normalizedRadius * 2 * Math.PI;\n\n\t\treturn {\n\t\t\tnormalizedRadius,\n\t\t\tcircumference\n\t\t};\n\t},\n\tcomputed: {\n\t\tstrokeDashoffset() {\n\t\t\treturn (\n\t\t\t\tthis.circumference - (this.progress / 100) * this.circumference\n\t\t\t);\n\t\t}\n\t}\n};\n","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport ProgressRing from './ProgressRing.vue';\nexport default {\n\tname: 'FilePreview',\n\tprops: ['file'],\n\tcomponents: {\n\t\tProgressRing\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tsrc: null\n\t\t}\n\t},\n\tmounted() {\n\t\tif (this.is_image) {\n\t\t\tif (window.FileReader) {\n\t\t\t\tlet fr = new FileReader();\n\t\t\t\tfr.onload = () => this.src = fr.result;\n\t\t\t\tfr.readAsDataURL(this.file.file_obj);\n\t\t\t}\n\t\t}\n\t},\n\tfilters: {\n\t\tfile_size(value) {\n\t\t\treturn frappe.form.formatters.FileSize(value);\n\t\t},\n\t\tfile_name(value) {\n\t\t\treturn value;\n\t\t\t// return frappe.utils.file_name_ellipsis(value, 9);\n\t\t}\n\t},\n\tcomputed: {\n\t\tprivate_icon() {\n\t\t\treturn frappe.utils.icon(this.is_private ? 'lock' : 'unlock');\n\t\t},\n\t\tis_private() {\n\t\t\treturn this.file.doc ? this.file.doc.is_private : this.file.private;\n\t\t},\n\t\tuploaded() {\n\t\t\treturn this.file.total && this.file.total === this.file.progress && !this.file.failed;\n\t\t},\n\t\tis_image() {\n\t\t\treturn this.file.file_obj.type.startsWith('image');\n\t\t},\n\t\tprogress() {\n\t\t\tlet value = Math.round((this.file.progress * 100) / this.file.total);\n\t\t\tif (isNaN(value)) {\n\t\t\t\tvalue = 0;\n\t\t\t}\n\t\t\treturn value;\n\t\t}\n\t}\n}\n","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nexport default {\n\tname: \"TreeNode\",\n\tprops: [\"node\", \"selected_node\"],\n\tcomponents: {\n\t\tTreeNode: () => frappe.ui.components.TreeNode\n\t},\n\tcomputed: {\n\t\ticon() {\n\t\t\tlet icons = {\n\t\t\t\topen: frappe.utils.icon(\"folder-open\", \"md\"),\n\t\t\t\tclosed: frappe.utils.icon(\"folder-normal\", \"md\"),\n\t\t\t\tleaf: frappe.utils.icon(\"primitive-dot\", \"xs\"),\n\t\t\t\tsearch: frappe.utils.icon(\"search\")\n\t\t\t};\n\n\t\t\tif (this.node.by_search) return icons.search;\n\t\t\tif (this.node.is_leaf) return icons.leaf;\n\t\t\tif (this.node.open) return icons.open;\n\t\t\treturn icons.closed;\n\t\t}\n\t}\n};\n","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport TreeNode from \"./TreeNode.vue\";\n\nexport default {\n\tname: \"FileBrowser\",\n\tcomponents: {\n\t\tTreeNode\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tnode: {\n\t\t\t\tlabel: __(\"Home\"),\n\t\t\t\tvalue: \"Home\",\n\t\t\t\tchildren: [],\n\t\t\t\tchildren_start: 0,\n\t\t\t\tchildren_loading: false,\n\t\t\t\tis_leaf: false,\n\t\t\t\tfetching: false,\n\t\t\t\tfetched: false,\n\t\t\t\topen: false,\n\t\t\t\tfiltered: true\n\t\t\t},\n\t\t\tselected_node: {},\n\t\t\tsearch_text: \"\",\n\t\t\tpage_length: 10\n\t\t};\n\t},\n\tmounted() {\n\t\tthis.toggle_node(this.node);\n\t},\n\tmethods: {\n\t\ttoggle_node(node) {\n\t\t\tif (!node.fetched && !node.is_leaf) {\n\t\t\t\tnode.fetching = true;\n\t\t\t\tnode.children_start = 0;\n\t\t\t\tnode.children_loading = false;\n\t\t\t\tthis.get_files_in_folder(node.value, 0).then(\n\t\t\t\t\t({ files, has_more }) => {\n\t\t\t\t\t\tnode.open = true;\n\t\t\t\t\t\tnode.children = files;\n\t\t\t\t\t\tnode.fetched = true;\n\t\t\t\t\t\tnode.fetching = false;\n\t\t\t\t\t\tnode.children_start += this.page_length;\n\t\t\t\t\t\tnode.has_more_children = has_more;\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\tnode.open = !node.open;\n\t\t\t\tthis.select_node(node);\n\t\t\t}\n\t\t},\n\t\tload_more(node) {\n\t\t\tif (node.has_more_children) {\n\t\t\t\tlet start = node.children_start;\n\t\t\t\tnode.children_loading = true;\n\t\t\t\tthis.get_files_in_folder(node.value, start).then(\n\t\t\t\t\t({ files, has_more }) => {\n\t\t\t\t\t\tnode.children = node.children.concat(files);\n\t\t\t\t\t\tnode.children_start += this.page_length;\n\t\t\t\t\t\tnode.has_more_children = has_more;\n\t\t\t\t\t\tnode.children_loading = false;\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t}\n\t\t},\n\t\tselect_node(node) {\n\t\t\tif (node.is_leaf) {\n\t\t\t\tthis.selected_node = node;\n\t\t\t}\n\t\t},\n\t\tget_files_in_folder(folder, start) {\n\t\t\treturn frappe\n\t\t\t\t.call(\"frappe.core.doctype.file.file.get_files_in_folder\", {\n\t\t\t\t\tfolder,\n\t\t\t\t\tstart,\n\t\t\t\t\tpage_length: this.page_length\n\t\t\t\t})\n\t\t\t\t.then(r => {\n\t\t\t\t\tlet { files = [], has_more = false } = r.message || {};\n\t\t\t\t\tfiles.sort((a, b) => {\n\t\t\t\t\t\tif (a.is_folder && b.is_folder) {\n\t\t\t\t\t\t\treturn a.modified < b.modified ? -1 : 1;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (a.is_folder) {\n\t\t\t\t\t\t\treturn -1;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (b.is_folder) {\n\t\t\t\t\t\t\treturn 1;\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn 0;\n\t\t\t\t\t});\n\t\t\t\t\tfiles = files.map(file => this.make_file_node(file));\n\t\t\t\t\treturn { files, has_more };\n\t\t\t\t});\n\t\t},\n\t\tsearch_by_name: frappe.utils.debounce(function() {\n\t\t\tif (this.search_text === \"\") {\n\t\t\t\tthis.node = this.folder_node;\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.search_text.length < 3) return;\n\t\t\tfrappe\n\t\t\t\t.call(\n\t\t\t\t\t\"frappe.core.doctype.file.file.get_files_by_search_text\",\n\t\t\t\t\t{\n\t\t\t\t\t\ttext: this.search_text\n\t\t\t\t\t}\n\t\t\t\t)\n\t\t\t\t.then(r => {\n\t\t\t\t\tlet files = r.message || [];\n\t\t\t\t\tfiles = files.map(file => this.make_file_node(file));\n\t\t\t\t\tif (!this.folder_node) {\n\t\t\t\t\t\tthis.folder_node = this.node;\n\t\t\t\t\t}\n\t\t\t\t\tthis.node = {\n\t\t\t\t\t\tlabel: __(\"Search Results\"),\n\t\t\t\t\t\tvalue: \"\",\n\t\t\t\t\t\tchildren: files,\n\t\t\t\t\t\tby_search: true,\n\t\t\t\t\t\topen: true,\n\t\t\t\t\t\tfiltered: true\n\t\t\t\t\t};\n\t\t\t\t});\n\t\t}, 300),\n\t\tmake_file_node(file) {\n\t\t\tlet filename = file.file_name || file.name;\n\t\t\tlet label = frappe.utils.file_name_ellipsis(filename, 40);\n\t\t\treturn {\n\t\t\t\tlabel: label,\n\t\t\t\tfilename: filename,\n\t\t\t\tfile_url: file.file_url,\n\t\t\t\tvalue: file.name,\n\t\t\t\tis_leaf: !file.is_folder,\n\t\t\t\tfetched: !file.is_folder, // fetched if node is leaf\n\t\t\t\tchildren: [],\n\t\t\t\tchildren_loading: false,\n\t\t\t\tchildren_start: 0,\n\t\t\t\topen: false,\n\t\t\t\tfetching: false,\n\t\t\t\tfiltered: true\n\t\t\t};\n\t\t}\n\t}\n};\n","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nexport default {\n\tname: 'WebLink',\n\tdata() {\n\t\treturn {\n\t\t\turl: '',\n\t\t}\n\t}\n}\n","/* global gapi:false, google:false */\nexport default class GoogleDrivePicker {\n\tconstructor({\n\t\tpickerCallback,\n\t\tenabled,\n\t\tappId,\n\t\tdeveloperKey,\n\t\tclientId\n\t} = {}) {\n\t\tthis.scope = ['https://www.googleapis.com/auth/drive.readonly'];\n\t\tthis.pickerApiLoaded = false;\n\t\tthis.enabled = enabled;\n\t\tthis.appId = appId;\n\t\tthis.pickerCallback = pickerCallback;\n\t\tthis.developerKey = developerKey;\n\t\tthis.clientId = clientId;\n\t}\n\n\tloadPicker() {\n\t\t// load the google API library\n\t\t$.ajax({\n\t\t\tmethod: \"GET\",\n\t\t\turl: \"https://apis.google.com/js/api.js\",\n\t\t\tdataType: \"script\",\n\t\t\tcache: true\n\t\t}).done(this.loadGapi.bind(this));\n\t}\n\n\tloadGapi() {\n\t\t// load auth and picker libraries\n\t\tif (!frappe.boot.user.google_drive_token) {\n\t\t\tgapi.load('auth', this.onAuthApiLoad.bind(this));\n\t\t}\n\n\t\tgapi.load('picker', this.onPickerApiLoad.bind(this));\n\t}\n\n\tonAuthApiLoad() {\n\t\tgapi.auth.authorize({\n\t\t\t'client_id': this.clientId,\n\t\t\t'scope': this.scope,\n\t\t\t'immediate': false\n\t\t}, this.handleAuthResult.bind(this));\n\t}\n\n\thandleAuthResult(authResult) {\n\t\tlet error_map = {\n\t\t\t\"popup_closed_by_user\": __(\"Google Authentication was closed abruptly by the user\")\n\t\t};\n\n\t\tif (authResult && !authResult.error) {\n\t\t\tfrappe.boot.user.google_drive_token = authResult.access_token;\n\t\t\tthis.createPicker();\n\t\t} else {\n\t\t\tlet error = error_map[authResult.error] || __(\"Google Authentication Error\");\n\t\t\tfrappe.throw(error);\n\t\t}\n\t}\n\n\tonPickerApiLoad() {\n\t\tthis.pickerApiLoaded = true;\n\t\tthis.createPicker();\n\t}\n\n\tcreatePicker() {\n\t\t// Create and render a Picker object for searching images.\n\t\tif (this.pickerApiLoaded && frappe.boot.user.google_drive_token) {\n\t\t\tthis.view = new google.picker.DocsView(google.picker.ViewId.DOCS)\n\t\t\t\t.setParent('root') // show the root folder by default\n\t\t\t\t.setIncludeFolders(true); // also show folders, not just files\n\n\t\t\tthis.picker = new google.picker.PickerBuilder()\n\t\t\t\t.setAppId(this.appId)\n\t\t\t\t.setDeveloperKey(this.developerKey)\n\t\t\t\t.setOAuthToken(frappe.boot.user.google_drive_token)\n\t\t\t\t.addView(this.view)\n\t\t\t\t.setLocale(frappe.boot.lang)\n\t\t\t\t.setCallback(this.pickerCallback)\n\t\t\t\t.build();\n\n\t\t\tthis.picker.setVisible(true);\n\t\t\tthis.setupHide();\n\t\t}\n\t}\n\n\tsetupHide() {\n\t\tlet bg = $(\".picker-dialog-bg\");\n\n\t\tfor (let el of bg) {\n\t\t\tel.onclick = () => {\n\t\t\t\tthis.picker.setVisible(false);\n\t\t\t\tthis.picker.Ob({\n\t\t\t\t\taction: google.picker.Action.CANCEL\n\t\t\t\t});\n\t\t\t};\n\t\t}\n\t}\n}\n","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport FilePreview from './FilePreview.vue';\nimport FileBrowser from './FileBrowser.vue';\nimport WebLink from './WebLink.vue';\nimport GoogleDrivePicker from '../../integrations/google_drive_picker';\n\nexport default {\n\tname: 'FileUploader',\n\tprops: {\n\t\tshow_upload_button: {\n\t\t\tdefault: true\n\t\t},\n\t\tdisable_file_browser: {\n\t\t\tdefault: false\n\t\t},\n\t\tallow_multiple: {\n\t\t\tdefault: true\n\t\t},\n\t\tas_dataurl: {\n\t\t\tdefault: false\n\t\t},\n\t\tdoctype: {\n\t\t\tdefault: null\n\t\t},\n\t\tdocname: {\n\t\t\tdefault: null\n\t\t},\n\t\tfieldname: {\n\t\t\tdefault: null\n\t\t},\n\t\tfolder: {\n\t\t\tdefault: 'Home'\n\t\t},\n\t\tmethod: {\n\t\t\tdefault: null\n\t\t},\n\t\ton_success: {\n\t\t\tdefault: null\n\t\t},\n\t\tmake_attachments_public: {\n\t\t\tdefault: null,\n\t\t},\n\t\trestrictions: {\n\t\t\tdefault: () => ({\n\t\t\t\tmax_file_size: null, // 2048 -> 2KB\n\t\t\t\tmax_number_of_files: null,\n\t\t\t\tallowed_file_types: [] // ['image/*', 'video/*', '.jpg', '.gif', '.pdf']\n\t\t\t})\n\t\t},\n\t\tupload_notes: {\n\t\t\tdefault: null // \"Images or video, upto 2MB\"\n\t\t}\n\t},\n\tcomponents: {\n\t\tFilePreview,\n\t\tFileBrowser,\n\t\tWebLink\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tfiles: [],\n\t\t\tis_dragging: false,\n\t\t\tcurrently_uploading: -1,\n\t\t\tshow_file_browser: false,\n\t\t\tshow_web_link: false,\n\t\t\tclose_dialog: false,\n\t\t\tallow_take_photo: false,\n\t\t\tgoogle_drive_settings: {\n\t\t\t\tenabled: false\n\t\t\t}\n\t\t}\n\t},\n\tcreated() {\n\t\tthis.allow_take_photo = window.navigator.mediaDevices;\n\t\tif (frappe.user_id !== \"Guest\") {\n\t\t\tfrappe.call({\n\t\t\t\t// method only available after login\n\t\t\t\tmethod: \"frappe.integrations.doctype.google_settings.google_settings.get_file_picker_settings\",\n\t\t\t\tcallback: (resp) => {\n\t\t\t\t\tif (!resp.exc) {\n\t\t\t\t\t\tthis.google_drive_settings = resp.message;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t},\n\twatch: {\n\t\tfiles(newvalue, oldvalue) {\n\t\t\tif (!this.allow_multiple && newvalue.length > 1) {\n\t\t\t\tthis.files = [newvalue[newvalue.length - 1]];\n\t\t\t}\n\t\t}\n\t},\n\tcomputed: {\n\t\tupload_complete() {\n\t\t\treturn this.files.length > 0\n\t\t\t\t&& this.files.every(\n\t\t\t\t\tfile => file.total !== 0 && file.progress === file.total);\n\t\t}\n\t},\n\tmethods: {\n\t\tdragover() {\n\t\t\tthis.is_dragging = true;\n\t\t},\n\t\tdragleave() {\n\t\t\tthis.is_dragging = false;\n\t\t},\n\t\tdropfiles(e) {\n\t\t\tthis.is_dragging = false;\n\t\t\tthis.add_files(e.dataTransfer.files);\n\t\t},\n\t\tbrowse_files() {\n\t\t\tthis.$refs.file_input.click();\n\t\t},\n\t\ton_file_input(e) {\n\t\t\tthis.add_files(this.$refs.file_input.files);\n\t\t},\n\t\tremove_file(file) {\n\t\t\tthis.files = this.files.filter(f => f !== file);\n\t\t},\n\t\ttoggle_all_private() {\n\t\t\tlet flag;\n\t\t\tlet private_values = this.files.filter(file => file.private);\n\t\t\tif (private_values.length < this.files.length) {\n\t\t\t\t// there are some private and some public\n\t\t\t\t// set all to private\n\t\t\t\tflag = true;\n\t\t\t} else {\n\t\t\t\t// all are private, set all to public\n\t\t\t\tflag = false;\n\t\t\t}\n\t\t\tthis.files = this.files.map(file => {\n\t\t\t\tfile.private = flag;\n\t\t\t\treturn file;\n\t\t\t});\n\t\t},\n\t\tadd_files(file_array) {\n\t\t\tlet files = Array.from(file_array)\n\t\t\t\t.filter(this.check_restrictions)\n\t\t\t\t.map(file => {\n\t\t\t\t\tlet is_image = file.type.startsWith('image');\n\t\t\t\t\treturn {\n\t\t\t\t\t\tfile_obj: file,\n\t\t\t\t\t\tname: file.name,\n\t\t\t\t\t\tdoc: null,\n\t\t\t\t\t\tprogress: 0,\n\t\t\t\t\t\ttotal: 0,\n\t\t\t\t\t\tfailed: false,\n\t\t\t\t\t\tuploading: false,\n\t\t\t\t\t\tprivate: !this.make_attachments_public,\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\tthis.files = this.files.concat(files);\n\t\t},\n\t\tcheck_restrictions(file) {\n\t\t\tlet { max_file_size, allowed_file_types } = this.restrictions;\n\n\t\t\tlet mime_type = file.type;\n\t\t\tlet extension = '.' + file.name.split('.').pop();\n\n\t\t\tlet is_correct_type = true;\n\t\t\tlet valid_file_size = true;\n\n\t\t\tif (allowed_file_types.length) {\n\t\t\t\tis_correct_type = allowed_file_types.some((type) => {\n\t\t\t\t\t// is this is a mime-type\n\t\t\t\t\tif (type.includes('/')) {\n\t\t\t\t\t\tif (!file.type) return false;\n\t\t\t\t\t\treturn file.type.match(type);\n\t\t\t\t\t}\n\n\t\t\t\t\t// otherwise this is likely an extension\n\t\t\t\t\tif (type[0] === '.') {\n\t\t\t\t\t\treturn file.name.endsWith(type);\n\t\t\t\t\t}\n\t\t\t\t\treturn false;\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tif (max_file_size && file.size != null) {\n\t\t\t\tvalid_file_size = file.size < max_file_size;\n\t\t\t}\n\n\t\t\tif (!is_correct_type) {\n\t\t\t\tconsole.warn('File skipped because of invalid file type', file);\n\t\t\t}\n\t\t\tif (!valid_file_size) {\n\t\t\t\tconsole.warn('File skipped because of invalid file size', file.size, file);\n\t\t\t}\n\n\t\t\treturn is_correct_type && valid_file_size;\n\t\t},\n\t\tupload_files() {\n\t\t\tif (this.show_file_browser) {\n\t\t\t\treturn this.upload_via_file_browser();\n\t\t\t}\n\t\t\tif (this.show_web_link) {\n\t\t\t\treturn this.upload_via_web_link();\n\t\t\t}\n\t\t\tif (this.as_dataurl) {\n\t\t\t\treturn this.return_as_dataurl();\n\t\t\t}\n\t\t\treturn frappe.run_serially(\n\t\t\t\tthis.files.map(\n\t\t\t\t\t(file, i) =>\n\t\t\t\t\t\t() => this.upload_file(file, i)\n\t\t\t\t)\n\t\t\t);\n\t\t},\n\t\tupload_via_file_browser() {\n\t\t\tlet selected_file = this.$refs.file_browser.selected_node;\n\t\t\tif (!selected_file.value) {\n\t\t\t\tfrappe.msgprint(__('Click on a file to select it.'));\n\t\t\t\treturn Promise.reject();\n\t\t\t}\n\n\t\t\treturn this.upload_file({\n\t\t\t\tfile_url: selected_file.file_url\n\t\t\t});\n\t\t},\n\t\tupload_via_web_link() {\n\t\t\tlet file_url = this.$refs.web_link.url;\n\t\t\tif (!file_url) {\n\t\t\t\tfrappe.msgprint(__('Invalid URL'));\n\t\t\t\treturn Promise.reject();\n\t\t\t}\n\t\t\tfile_url = decodeURI(file_url)\n\t\t\treturn this.upload_file({\n\t\t\t\tfile_url\n\t\t\t});\n\t\t},\n\t\treturn_as_dataurl() {\n\t\t\tlet promises = this.files.map(file =>\n\t\t\t\tfrappe.dom.file_to_base64(file.file_obj)\n\t\t\t\t\t.then(dataurl => {\n\t\t\t\t\t\tfile.dataurl = dataurl;\n\t\t\t\t\t\tthis.on_success && this.on_success(file);\n\t\t\t\t\t})\n\t\t\t);\n\t\t\treturn Promise.all(promises);\n\t\t},\n\t\tupload_file(file, i) {\n\t\t\tthis.currently_uploading = i;\n\n\t\t\treturn new Promise((resolve, reject) => {\n\t\t\t\tlet xhr = new XMLHttpRequest();\n\t\t\t\txhr.upload.addEventListener('loadstart', (e) => {\n\t\t\t\t\tfile.uploading = true;\n\t\t\t\t})\n\t\t\t\txhr.upload.addEventListener('progress', (e) => {\n\t\t\t\t\tif (e.lengthComputable) {\n\t\t\t\t\t\tfile.progress = e.loaded;\n\t\t\t\t\t\tfile.total = e.total;\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\txhr.upload.addEventListener('load', (e) => {\n\t\t\t\t\tfile.uploading = false;\n\t\t\t\t\tresolve();\n\t\t\t\t})\n\t\t\t\txhr.addEventListener('error', (e) => {\n\t\t\t\t\tfile.failed = true;\n\t\t\t\t\treject();\n\t\t\t\t})\n\t\t\t\txhr.onreadystatechange = () => {\n\t\t\t\t\tif (xhr.readyState == XMLHttpRequest.DONE) {\n\t\t\t\t\t\tif (xhr.status === 200) {\n\t\t\t\t\t\t\tlet r = null;\n\t\t\t\t\t\t\tlet file_doc = null;\n\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\tr = JSON.parse(xhr.responseText);\n\t\t\t\t\t\t\t\tif (r.message.doctype === 'File') {\n\t\t\t\t\t\t\t\t\tfile_doc = r.message;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} catch(e) {\n\t\t\t\t\t\t\t\tr = xhr.responseText;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tfile.doc = file_doc;\n\n\t\t\t\t\t\t\tif (this.on_success) {\n\t\t\t\t\t\t\t\tthis.on_success(file_doc, r);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else if (xhr.status === 403) {\n\t\t\t\t\t\t\tlet response = JSON.parse(xhr.responseText);\n\t\t\t\t\t\t\tfrappe.msgprint({\n\t\t\t\t\t\t\t\ttitle: __('Not permitted'),\n\t\t\t\t\t\t\t\tindicator: 'red',\n\t\t\t\t\t\t\t\tmessage: response._error_message\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tfile.failed = true;\n\t\t\t\t\t\t\tlet error = null;\n\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\terror = JSON.parse(xhr.responseText);\n\t\t\t\t\t\t\t} catch(e) {\n\t\t\t\t\t\t\t\t// pass\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tfrappe.request.cleanup({}, error);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\txhr.open('POST', '/api/method/upload_file', true);\n\t\t\t\txhr.setRequestHeader('Accept', 'application/json');\n\t\t\t\txhr.setRequestHeader('X-Frappe-CSRF-Token', frappe.csrf_token);\n\n\t\t\t\tlet form_data = new FormData();\n\t\t\t\tif (file.file_obj) {\n\t\t\t\t\tform_data.append('file', file.file_obj, file.name);\n\t\t\t\t}\n\t\t\t\tform_data.append('is_private', +file.private);\n\t\t\t\tform_data.append('folder', this.folder);\n\n\t\t\t\tif (file.file_url) {\n\t\t\t\t\tform_data.append('file_url', file.file_url);\n\t\t\t\t}\n\n\t\t\t\tif (file.file_name) {\n\t\t\t\t\tform_data.append('file_name', file.file_name);\n\t\t\t\t}\n\n\t\t\t\tif (this.doctype && this.docname) {\n\t\t\t\t\tform_data.append('doctype', this.doctype);\n\t\t\t\t\tform_data.append('docname', this.docname);\n\t\t\t\t}\n\n\t\t\t\tif (this.fieldname) {\n\t\t\t\t\tform_data.append('fieldname', this.fieldname);\n\t\t\t\t}\n\n\t\t\t\tif (this.method) {\n\t\t\t\t\tform_data.append('method', this.method);\n\t\t\t\t}\n\n\t\t\t\txhr.send(form_data);\n\t\t\t});\n\t\t},\n\t\tcapture_image() {\n\t\t\tconst capture = new frappe.ui.Capture({\n\t\t\t\tanimate: false,\n\t\t\t\terror: true\n\t\t\t});\n\t\t\tcapture.show();\n\t\t\tcapture.submit(data_urls => {\n\t\t\t\tdata_urls.forEach(data_url => {\n\t\t\t\t\tlet filename = `capture_${frappe.datetime.now_datetime().replaceAll(/[: -]/g, '_')}.png`;\n\t\t\t\t\tthis.url_to_file(data_url, filename, 'image/png').then((file) =>\n\t\t\t\t\t\tthis.add_files([file])\n\t\t\t\t\t);\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\tshow_google_drive_picker() {\n\t\t\tthis.close_dialog = true;\n\t\t\tlet google_drive = new GoogleDrivePicker({\n\t\t\t\tpickerCallback: data => this.google_drive_callback(data),\n\t\t\t\t...this.google_drive_settings\n\t\t\t});\n\t\t\tgoogle_drive.loadPicker();\n\t\t},\n\t\tgoogle_drive_callback(data) {\n\t\t\tif (data.action == google.picker.Action.PICKED) {\n\t\t\t\tthis.upload_file({\n\t\t\t\t\tfile_url: data.docs[0].url,\n\t\t\t\t\tfile_name: data.docs[0].name\n\t\t\t\t});\n\t\t\t} else if (data.action == google.picker.Action.CANCEL) {\n\t\t\t\tcur_frm.attachments.new_attachment()\n\t\t\t}\n\t\t},\n\t\turl_to_file(url, filename, mime_type) {\n\t\t\treturn fetch(url)\n\t\t\t\t\t.then(res => res.arrayBuffer())\n\t\t\t\t\t.then(buffer => new File([buffer], filename, { type: mime_type }));\n\t\t},\n\t}\n}\n","import FileUploaderComponent from './FileUploader.vue';\n\nexport default class FileUploader {\n\tconstructor({\n\t\twrapper,\n\t\tmethod,\n\t\ton_success,\n\t\tdoctype,\n\t\tdocname,\n\t\tfieldname,\n\t\tfiles,\n\t\tfolder,\n\t\trestrictions,\n\t\tupload_notes,\n\t\tallow_multiple,\n\t\tas_dataurl,\n\t\tdisable_file_browser,\n\t\tfrm,\n\t\tmake_attachments_public,\n\t} = {}) {\n\n\t\tfrm && frm.attachments.max_reached(true);\n\n\t\tif (!wrapper) {\n\t\t\tthis.make_dialog();\n\t\t} else {\n\t\t\tthis.wrapper = wrapper.get ? wrapper.get(0) : wrapper;\n\t\t}\n\n\t\tthis.$fileuploader = new Vue({\n\t\t\tel: this.wrapper,\n\t\t\trender: h => h(FileUploaderComponent, {\n\t\t\t\tprops: {\n\t\t\t\t\tshow_upload_button: !Boolean(this.dialog),\n\t\t\t\t\tdoctype,\n\t\t\t\t\tdocname,\n\t\t\t\t\tfieldname,\n\t\t\t\t\tmethod,\n\t\t\t\t\tfolder,\n\t\t\t\t\ton_success,\n\t\t\t\t\trestrictions,\n\t\t\t\t\tupload_notes,\n\t\t\t\t\tallow_multiple,\n\t\t\t\t\tas_dataurl,\n\t\t\t\t\tdisable_file_browser,\n\t\t\t\t\tmake_attachments_public,\n\t\t\t\t}\n\t\t\t})\n\t\t});\n\n\t\tthis.uploader = this.$fileuploader.$children[0];\n\n\t\tthis.uploader.$watch('files', (files) => {\n\t\t\tlet all_private = files.every(file => file.private);\n\t\t\tif (this.dialog) {\n\t\t\t\tthis.dialog.set_secondary_action_label(all_private ? __('Set all public') : __('Set all private'));\n\t\t\t}\n\t\t}, { deep: true });\n\n\t\tif (files && files.length) {\n\t\t\tthis.uploader.add_files(files);\n\t\t}\n\n\t\tthis.uploader.$watch('close_dialog', (close_dialog) => {\n\t\t\tif (close_dialog) {\n\t\t\t\tthis.dialog && this.dialog.hide();\n\t\t\t}\n\t\t});\n\t}\n\n\tupload_files() {\n\t\tthis.dialog && this.dialog.get_primary_btn().prop('disabled', true);\n\t\treturn this.uploader.upload_files()\n\t\t\t.then(() => {\n\t\t\t\tthis.dialog && this.dialog.hide();\n\t\t\t});\n\t}\n\n\tmake_dialog() {\n\t\tthis.dialog = new frappe.ui.Dialog({\n\t\t\ttitle: __('Upload'),\n\t\t\tprimary_action_label: __('Upload'),\n\t\t\tprimary_action: () => this.upload_files(),\n\t\t\tsecondary_action_label: __('Set all private'),\n\t\t\tsecondary_action: () => {\n\t\t\t\tthis.uploader.toggle_all_private();\n\t\t\t}\n\t\t});\n\n\t\tthis.wrapper = this.dialog.body;\n\t\tthis.dialog.show();\n\t\tthis.dialog.$wrapper.on('hidden.bs.modal', function() {\n\t\t\t$(this).data('bs.modal', null);\n\t\t\t$(this).remove();\n\t\t});\n\t}\n}\n","// Copyright (c) 2015, Frappe Technologies Pvt. Ltd. and Contributors\n// MIT License. See license.txt\n\nimport FileUploader from './file_uploader';\n\nfrappe.provide('frappe.ui');\nfrappe.ui.FileUploader = FileUploader;\n","// Copyright (c) 2015, Frappe Technologies Pvt. Ltd. and Contributors\n// MIT License. See license.txt\n\nfrappe.provide('frappe.ui');\n\nfrappe.ui.Tree = class {\n\tconstructor({\n\t\tparent, label, root_value, icon_set, toolbar, expandable, with_skeleton=1, \t// eslint-disable-line\n\n\t\targs, method, get_label, on_render, on_click \t\t// eslint-disable-line\n\t}) {\n\t\t$.extend(this, arguments[0]);\n\t\tif (root_value == null) {\n\t\t\tthis.root_value = label;\n\t\t}\n\t\tthis.setup_treenode_class();\n\t\tthis.nodes = {};\n\t\tthis.wrapper = $('<div class=\"tree\">').appendTo(this.parent);\n\t\tif (with_skeleton) this.wrapper.addClass('with-skeleton');\n\n\t\tif (!icon_set) {\n\t\t\tthis.icon_set = {\n\t\t\t\topen: frappe.utils.icon('folder-open', 'md'),\n\t\t\t\tclosed: frappe.utils.icon('folder-normal', 'md'),\n\t\t\t\tleaf: frappe.utils.icon('primitive-dot', 'xs')\n\t\t\t};\n\t\t}\n\n\t\tthis.setup_root_node();\n\t}\n\n\tget_nodes(value, is_root) {\n\t\tvar args = Object.assign({}, this.args);\n\t\targs.parent = value;\n\t\targs.is_root = is_root;\n\n\t\treturn new Promise(resolve => {\n\t\t\tfrappe.call({\n\t\t\t\tmethod: this.method,\n\t\t\t\targs: args,\n\t\t\t\tcallback: (r) => {\n\t\t\t\t\tthis.on_get_node && this.on_get_node(r.message);\n\t\t\t\t\tresolve(r.message);\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t}\n\n\tget_all_nodes(value, is_root, label) {\n\t\tvar args = Object.assign({}, this.args);\n\t\targs.label = label || value;\n\t\targs.parent = value;\n\t\targs.is_root = is_root;\n\n\t\targs.tree_method = this.method;\n\n\t\treturn new Promise(resolve => {\n\t\t\tfrappe.call({\n\t\t\t\tmethod: 'frappe.desk.treeview.get_all_nodes',\n\t\t\t\targs: args,\n\t\t\t\tcallback: (r) => {\n\t\t\t\t\tthis.on_get_node && this.on_get_node(r.message, true);\n\t\t\t\t\tresolve(r.message);\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t}\n\n\tsetup_treenode_class() {\n\t\tlet tree = this;\n\t\tthis.TreeNode = class {\n\t\t\tconstructor({\n\t\t\t\tparent, label, parent_label, expandable, is_root, data // eslint-disable-line\n\t\t\t}) {\n\t\t\t\t$.extend(this, arguments[0]);\n\t\t\t\tthis.loaded = 0;\n\t\t\t\tthis.expanded = 0;\n\t\t\t\tif(this.parent_label){\n\t\t\t\t\tthis.parent_node = tree.nodes[this.parent_label];\n\t\t\t\t}\n\n\t\t\t\ttree.nodes[this.label] = this;\n\t\t\t\ttree.make_node_element(this);\n\t\t\t\ttree.on_render && tree.on_render(this);\n\t\t\t}\n\t\t}\n\t}\n\n\tsetup_root_node() {\n\t\tthis.root_node = new this.TreeNode({\n\t\t\tparent: this.wrapper,\n\t\t\tlabel: this.label,\n\t\t\tparent_label: null,\n\t\t\texpandable: true,\n\t\t\tis_root: true,\n\t\t\tdata: {\n\t\t\t\tvalue: this.root_value\n\t\t\t}\n\t\t});\n\t\tthis.expand_node(this.root_node, false);\n\t}\n\n\trefresh() {\n\t\tthis.selected_node.parent_node &&\n\t\t\tthis.load_children(this.selected_node.parent_node, true);\n\t}\n\n\tmake_node_element(node) {\n\t\tnode.$tree_link = $('<span class=\"tree-link\">')\n\t\t\t.attr('data-label', node.label)\n\t\t\t.data('node', node)\n\t\t\t.appendTo(node.parent);\n\n\t\tnode.$ul = $('<ul class=\"tree-children\">')\n\t\t\t.hide().appendTo(node.parent);\n\n\t\tthis.make_icon_and_label(node);\n\t\tif(this.toolbar) {\n\t\t\tnode.$toolbar = this.get_toolbar(node).insertAfter(node.$tree_link);\n\t\t}\n\t}\n\n\tadd_node(node, data) {\n\t\tvar $li = $('<li class=\"tree-node\">');\n\n\t\treturn new this.TreeNode({\n\t\t\tparent: $li.appendTo(node.$ul),\n\t\t\tparent_label: node.label,\n\t\t\tlabel: data.value,\n\t\t\ttitle: data.title,\n\t\t\texpandable: data.expandable,\n\t\t\tdata: data\n\t\t});\n\t}\n\n\treload_node(node) {\n\t\treturn this.load_children(node);\n\t}\n\n\ttoggle() {\n\t\tthis.get_selected_node().toggle();\n\t}\n\n\tget_selected_node() {\n\t\treturn this.selected_node;\n\t}\n\n\tset_selected_node(node) {\n\t\tthis.selected_node = node;\n\t}\n\n\tload_children(node, deep=false) {\n\t\tconst value = node.data.value,\n\t\t\tis_root = node.is_root;\n\n\t\treturn deep\n\t\t\t? frappe.run_serially([\n\t\t\t\t() => this.get_all_nodes(value, is_root, node.label),\n\t\t\t\tdata_list => this.render_children_of_all_nodes(data_list),\n\t\t\t\t() => this.set_selected_node(node),\n\t\t\t])\n\t\t\t: frappe.run_serially([\n\t\t\t\t() => this.get_nodes(value, is_root),\n\t\t\t\tdata_set => this.render_node_children(node, data_set),\n\t\t\t\t() => this.set_selected_node(node),\n\t\t\t]);\n\t}\n\n\trender_children_of_all_nodes(data_list) {\n\t\tdata_list.map(d => this.render_node_children(this.nodes[d.parent], d.data));\n\t}\n\n\trender_node_children(node, data_set) {\n\t\tnode.$ul.empty();\n\t\tif (data_set) {\n\t\t\t$.each(data_set, (i, data) => {\n\t\t\t\tvar child_node = this.add_node(node, data);\n\t\t\t\tchild_node.$tree_link\n\t\t\t\t\t.data('node-data', data)\n\t\t\t\t\t.data('node', child_node);\n\t\t\t});\n\t\t}\n\n\t\tnode.expanded = false;\n\n\t\t// As children loaded\n\t\tnode.loaded = true;\n\t\tthis.expand_node(node);\n\t}\n\n\ton_node_click(node) {\n\t\tthis.expand_node(node);\n\t\tfrappe.dom.activate(this.wrapper, node.$tree_link, 'tree-link');\n\t\tif(node.$toolbar) this.show_toolbar(node);\n\t}\n\n\texpand_node(node, click = true) {\n\t\tthis.set_selected_node(node);\n\n\t\tif(click) {\n\t\t\tthis.on_click && this.on_click(node);\n\t\t}\n\n\t\tif(node.expandable) {\n\t\t\tthis.toggle_node(node);\n\t\t}\n\t\tthis.select_link(node);\n\n\t\tnode.expanded = !node.expanded;\n\t\tnode.parent.toggleClass('opened', node.expanded);\n\t}\n\n\ttoggle_node(node) {\n\t\tif(node.expandable && this.get_nodes && !node.loaded) {\n\t\t\treturn this.load_children(node);\n\t\t}\n\n\t\t// expand children\n\t\tif(node.$ul) {\n\t\t\tif(node.$ul.children().length) {\n\t\t\t\tnode.$ul.toggle(!node.expanded);\n\t\t\t}\n\n\t\t\t// open close icon\n\t\t\tif(this.icon_set) {\n\t\t\t\tif(!node.expanded) {\n\t\t\t\t\tnode.$tree_link.find('.icon').parent().html(this.icon_set.open);\n\t\t\t\t} else {\n\t\t\t\t\tnode.$tree_link.find('.icon').parent().addClass('node-parent').html(this.icon_set.closed);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tselect_link(node) {\n\t\tthis.wrapper.find('.selected')\n\t\t\t.removeClass('selected');\n\t\tnode.$tree_link.toggleClass('selected');\n\t}\n\n\tshow_toolbar(node) {\n\t\tif(this.cur_toolbar)\n\t\t\t$(this.cur_toolbar).hide();\n\t\tthis.cur_toolbar = node.$toolbar;\n\t\tnode.$toolbar.show();\n\t}\n\n\tget_node_label(node) {\n\t\tif(this.get_label) {\n\t\t\treturn this.get_label(node);\n\t\t}\n\t\tif (node.title && node.title != node.label) {\n\t\t\treturn __(node.title) + ` <span class='text-muted'>(${node.label})</span>`;\n\t\t} else {\n\t\t\treturn __(node.title || node.label);\n\t\t}\n\t}\n\n\tmake_icon_and_label(node) {\n\t\tlet icon_html = '';\n\t\tif(this.icon_set) {\n\t\t\tif(node.expandable) {\n\t\t\t\ticon_html = `<span class=\"node-parent\">${this.icon_set.closed}</span>`;\n\t\t\t} else {\n\t\t\t\ticon_html = `<span>${this.icon_set.leaf}</span>`;\n\t\t\t}\n\t\t}\n\n\t\t$(icon_html).appendTo(node.$tree_link);\n\t\t$(`<a class=\"tree-label\"> ${this.get_node_label(node)}</a>`).appendTo(node.$tree_link);\n\n\t\tnode.$tree_link.on('click', () => {\n\t\t\tsetTimeout(() => {this.on_node_click(node);}, 100);\n\t\t});\n\n\t\tnode.$tree_link.hover(\n\t\t\tfunction() {\n\t\t\t\t$(this).parent().addClass('hover-active');\n\t\t\t},\n\t\t\tfunction() {\n\t\t\t\t$(this).parent().removeClass('hover-active');\n\t\t\t},\n\t\t);\n\t}\n\n\tget_toolbar(node) {\n\t\tlet $toolbar = $('<span class=\"tree-node-toolbar btn-group\"></span>').hide();\n\n\t\tObject.keys(this.toolbar).map(key => {\n\t\t\tlet obj = this.toolbar[key];\n\t\t\tif(!obj.label) return;\n\t\t\tif(obj.condition && !obj.condition(node)) return;\n\n\t\t\tvar label = obj.get_label ? obj.get_label() : obj.label;\n\t\t\tvar $link = $(\"<button class='btn btn-default btn-xs'></button>\")\n\t\t\t\t.html(label)\n\t\t\t\t.addClass('tree-toolbar-button ' + (obj.btnClass || ''))\n\t\t\t\t.appendTo($toolbar);\n\t\t\t$link.on('click', () => {\n\t\t\t\tobj.click(node);\n\t\t\t});\n\t\t});\n\n\t\treturn $toolbar;\n\t}\n}\n","// Copyright (c) 2015, Frappe Technologies Pvt. Ltd. and Contributors\n// MIT License. See license.txt\n\n// page container\nfrappe.provide('frappe.pages');\nfrappe.provide('frappe.views');\n\nwindow.cur_page = null;\nfrappe.views.Container = Class.extend({\n\t_intro: \"Container contains pages inside `#container` and manages \\\n\t\t\tpage creation, switching\",\n\tinit: function() {\n\t\tthis.container = $('#body').get(0);\n\t\tthis.page = null; // current page\n\t\tthis.pagewidth = $(this.container).width();\n\t\tthis.pagemargin = 50;\n\n\t\tvar me = this;\n\n\t\t$(document).on(\"page-change\", function() {\n\t\t\t// set data-route in body\n\t\t\tvar route_str = frappe.get_route_str();\n\t\t\t$(\"body\").attr(\"data-route\", route_str);\n\t\t\t$(\"body\").attr(\"data-sidebar\", me.has_sidebar() ? 1 : 0);\n\t\t});\n\n\t\t$(document).bind('rename', function(event, dt, old_name, new_name) {\n\t\t\tfrappe.breadcrumbs.rename(dt, old_name, new_name);\n\t\t});\n\t},\n\tadd_page: function(label) {\n\t\tvar page = $('<div class=\"content page-container\"></div>')\n\t\t\t.attr('id', \"page-\" + label)\n\t\t\t.attr(\"data-page-route\", label)\n\t\t\t.hide()\n\t\t\t.appendTo(this.container).get(0);\n\t\tpage.label = label;\n\t\tfrappe.pages[label] = page;\n\n\t\treturn page;\n\t},\n\tchange_to: function(label) {\n\t\tcur_page = this;\n\t\tif(this.page && this.page.label === label) {\n\t\t\t$(this.page).trigger('show');\n\t\t}\n\n\t\tvar me = this;\n\t\tif(label.tagName) {\n\t\t\t// if sent the div, get the table\n\t\t\tvar page = label;\n\t\t} else {\n\t\t\tvar page = frappe.pages[label];\n\t\t}\n\t\tif(!page) {\n\t\t\tconsole.log(__('Page not found')+ ': ' + label);\n\t\t\treturn;\n\t\t}\n\n\t\t// hide dialog\n\t\tif(window.cur_dialog && cur_dialog.display && !cur_dialog.keep_open) {\n\t\t\tif (!cur_dialog.minimizable) {\n\t\t\t\tcur_dialog.hide();\n\t\t\t} else if (!cur_dialog.is_minimized) {\n\t\t\t\tcur_dialog.toggle_minimize();\n\t\t\t}\n\t\t}\n\n\t\t// hide current\n\t\tif(this.page && this.page != page) {\n\t\t\t$(this.page).hide();\n\t\t\t$(this.page).trigger('hide');\n\t\t}\n\n\t\t// show new\n\t\tif(!this.page || this.page != page) {\n\t\t\tthis.page = page;\n\t\t\t// $(this.page).fadeIn(300);\n\t\t\t$(this.page).show();\n\t\t}\n\n\t\t$(document).trigger(\"page-change\");\n\n\t\tthis.page._route = frappe.router.get_sub_path();\n\t\t$(this.page).trigger('show');\n\t\t!this.page.disable_scroll_to_top && frappe.utils.scroll_to(0);\n\t\tfrappe.breadcrumbs.update();\n\n\t\treturn this.page;\n\t},\n\thas_sidebar: function() {\n\t\tvar flag = 0;\n\t\tvar route_str = frappe.get_route_str();\n\t\t// check in frappe.ui.pages\n\t\tflag = frappe.ui.pages[route_str] && !frappe.ui.pages[route_str].single_column;\n\n\t\t// sometimes frappe.ui.pages is updated later,\n\t\t// so check the dom directly\n\t\tif(!flag) {\n\t\t\tvar page_route = route_str.split('/').slice(0, 2).join('/');\n\t\t\tflag = $(`.page-container[data-page-route=\"${page_route}\"] .layout-side-section`).length ? 1 : 0;\n\t\t}\n\n\t\treturn flag;\n\t},\n});\n\n\n","// Copyright (c) 2015, Frappe Technologies Pvt. Ltd. and Contributors\n// MIT License. See license.txt\n\nfrappe.breadcrumbs = {\n\tall: {},\n\n\tpreferred: {\n\t\t\"File\": \"\",\n\t\t\"Dashboard\": \"Customization\",\n\t\t\"Dashboard Chart\": \"Customization\",\n\t\t\"Dashboard Chart Source\": \"Customization\"\n\t},\n\n\tmodule_map: {\n\t\t'Core': 'Settings',\n\t\t'Email': 'Settings',\n\t\t'Custom': 'Settings',\n\t\t'Workflow': 'Settings',\n\t\t'Printing': 'Settings',\n\t\t'Setup': 'Settings',\n\t\t'Event Streaming': 'Tools',\n\t\t'Automation': 'Tools',\n\t},\n\n\tset_doctype_module(doctype, module) {\n\t\tlocalStorage[\"preferred_breadcrumbs:\" + doctype] = module;\n\t},\n\n\tget_doctype_module(doctype) {\n\t\treturn localStorage[\"preferred_breadcrumbs:\" + doctype];\n\t},\n\n\tadd(module, doctype, type) {\n\t\tlet obj;\n\t\tif (typeof module === 'object') {\n\t\t\tobj = module;\n\t\t} else {\n\t\t\tobj = {\n\t\t\t\tmodule:module,\n\t\t\t\tdoctype:doctype,\n\t\t\t\ttype:type\n\t\t\t}\n\t\t}\n\n\t\tthis.all[frappe.breadcrumbs.current_page()] = obj;\n\t\tthis.update();\n\t},\n\n\tcurrent_page() {\n\t\treturn frappe.get_route_str();\n\t},\n\n\tupdate() {\n\t\tvar breadcrumbs = this.all[frappe.breadcrumbs.current_page()];\n\n\t\tthis.clear();\n\t\tif (!breadcrumbs) return this.toggle(false);\n\n\t\tif (breadcrumbs.type === 'Custom') {\n\t\t\tthis.set_custom_breadcrumbs(breadcrumbs);\n\t\t} else {\n\t\t\t// workspace\n\t\t\tthis.set_workspace_breadcrumb(breadcrumbs);\n\n\t\t\t// form / print\n\t\t\tlet view = frappe.get_route()[0];\n\t\t\tview = view ? view.toLowerCase() : null;\n\t\t\tif (breadcrumbs.doctype && [\"print\", \"form\"].includes(view)) {\n\t\t\t\tthis.set_list_breadcrumb(breadcrumbs);\n\t\t\t\tthis.set_form_breadcrumb(breadcrumbs, view);\n\t\t\t} else if (breadcrumbs.doctype && view === 'list') {\n\t\t\t\tthis.set_list_breadcrumb(breadcrumbs);\n\t\t\t} else if (breadcrumbs.doctype && view == 'dashboard-view') {\n\t\t\t\tthis.set_list_breadcrumb(breadcrumbs);\n\t\t\t\tthis.set_dashboard_breadcrumb(breadcrumbs);\n\t\t\t}\n\t\t}\n\n\t\tthis.toggle(true);\n\t},\n\n\tset_custom_breadcrumbs(breadcrumbs) {\n\t\tconst html = `<li><a href=\"${breadcrumbs.route}\">${breadcrumbs.label}</a></li>`;\n\t\tthis.$breadcrumbs.append(html);\n\t},\n\n\tset_workspace_breadcrumb(breadcrumbs) {\n\t\t// get preferred module for breadcrumbs, based on sent via module\n\n\t\tif (!breadcrumbs.workspace) {\n\t\t\tthis.set_workspace(breadcrumbs);\n\t\t}\n\n\t\tif (breadcrumbs.workspace) {\n\t\t\tif (!breadcrumbs.module_info.blocked && frappe.visible_modules.includes(breadcrumbs.module_info.module)) {\n\t\t\t\t$(`<li><a href=\"/app/${frappe.router.slug(breadcrumbs.workspace)}\">${__(breadcrumbs.workspace)}</a></li>`)\n\t\t\t\t\t.appendTo(this.$breadcrumbs);\n\t\t\t}\n\t\t}\n\n\t},\n\n\tset_workspace(breadcrumbs) {\n\t\t// try and get module from doctype or other settings\n\t\t// then get the workspace for that module\n\n\t\tthis.setup_modules();\n\t\tvar from_module = this.get_doctype_module(breadcrumbs.doctype);\n\n\t\tif (from_module) {\n\t\t\tbreadcrumbs.module = from_module;\n\t\t} else if (this.preferred[breadcrumbs.doctype]!==undefined) {\n\t\t\t// get preferred module for breadcrumbs\n\t\t\tbreadcrumbs.module = this.preferred[breadcrumbs.doctype];\n\t\t}\n\n\t\tif (breadcrumbs.module) {\n\t\t\tif (this.module_map[breadcrumbs.module]) {\n\t\t\t\tbreadcrumbs.module = this.module_map[breadcrumbs.module];\n\t\t\t}\n\n\t\t\tbreadcrumbs.module_info = frappe.get_module(breadcrumbs.module);\n\n\t\t\t// set workspace\n\t\t\tif (breadcrumbs.module_info && frappe.boot.module_page_map[breadcrumbs.module]) {\n\t\t\t\tbreadcrumbs.workspace = frappe.boot.module_page_map[breadcrumbs.module];\n\t\t\t}\n\t\t}\n\t},\n\n\tset_list_breadcrumb(breadcrumbs) {\n\t\tconst doctype = breadcrumbs.doctype;\n\t\tconst doctype_meta = frappe.get_doc('DocType', doctype);\n\t\tif ((doctype===\"User\" && !frappe.user.has_role('System Manager'))\n\t\t\t|| (doctype_meta && doctype_meta.issingle)) {\n\t\t\t// no user listview for non-system managers and single doctypes\n\t\t} else {\n\t\t\tlet route;\n\t\t\tconst doctype_route = frappe.router.slug(frappe.router.doctype_layout || doctype);\n\t\t\tif (frappe.boot.treeviews.indexOf(doctype) !== -1) {\n\t\t\t\tlet view = frappe.model.user_settings[doctype].last_view || 'Tree';\n\t\t\t\troute = `${doctype_route}/view/${view}`;\n\t\t\t} else {\n\t\t\t\troute = doctype_route;\n\t\t\t}\n\t\t\t$(`<li><a href=\"/app/${route}\">${__(doctype)}</a></li>`)\n\t\t\t\t.appendTo(this.$breadcrumbs);\n\t\t}\n\t},\n\n\tset_form_breadcrumb(breadcrumbs, view) {\n\t\tconst doctype = breadcrumbs.doctype;\n\t\tconst docname = frappe.get_route().slice(2).join(\"/\");\n\t\tlet form_route = `/app/${frappe.router.slug(doctype)}/${docname}`;\n\t\t$(`<li><a href=\"${form_route}\">${__(docname)}</a></li>`)\n\t\t\t.appendTo(this.$breadcrumbs);\n\n\t\tif (view === \"form\") {\n\t\t\tlet last_crumb = this.$breadcrumbs.find('li').last();\n\t\t\tlast_crumb.addClass('disabled');\n\t\t\tlast_crumb.css(\"cursor\", \"copy\");\n\t\t\tlast_crumb.click((event) => {\n\t\t\t\tevent.stopImmediatePropagation();\n\t\t\t\tfrappe.utils.copy_to_clipboard(last_crumb.text());\n\t\t\t});\n\t\t}\n\n\t},\n\n\tset_dashboard_breadcrumb(breadcrumbs) {\n\t\tconst doctype = breadcrumbs.doctype;\n\t\tconst docname = frappe.get_route()[1];\n\t\tlet dashboard_route = `/app/${frappe.router.slug(doctype)}/${docname}`;\n\t\t$(`<li><a href=\"${dashboard_route}\">${__(docname)}</a></li>`)\n\t\t\t.appendTo(this.$breadcrumbs);\n\t},\n\n\tsetup_modules() {\n\t\tif (!frappe.visible_modules) {\n\t\t\tfrappe.visible_modules = $.map(frappe.boot.allowed_workspaces, (m) => {\n\t\t\t\treturn m.module;\n\t\t\t});\n\t\t}\n\t},\n\n\trename(doctype, old_name, new_name) {\n\t\tvar old_route_str = [\"Form\", doctype, old_name].join(\"/\");\n\t\tvar new_route_str = [\"Form\", doctype, new_name].join(\"/\");\n\t\tthis.all[new_route_str] = this.all[old_route_str];\n\t\tdelete frappe.breadcrumbs.all[old_route_str];\n\t\tthis.update();\n\t},\n\n\tclear() {\n\t\tthis.$breadcrumbs = $(\"#navbar-breadcrumbs\").empty();\n\t},\n\n\ttoggle(show) {\n\t\tif (show) {\n\t\t\t$(\"body\").addClass(\"no-breadcrumbs\");\n\t\t} else {\n\t\t\t$(\"body\").removeClass(\"no-breadcrumbs\");\n\t\t}\n\t}\n\n}\n\n","// Copyright (c) 2015, Frappe Technologies Pvt. Ltd. and Contributors\n// MIT License. See license.txt\n\nfrappe.provide('frappe.pages');\nfrappe.provide('frappe.views');\n\nfrappe.views.Factory = class Factory {\n\tconstructor(opts) {\n\t\t$.extend(this, opts);\n\t}\n\n\tshow() {\n\t\tvar page_name = frappe.get_route_str(),\n\t\t\tme = this;\n\n\t\tif (frappe.pages[page_name]) {\n\t\t\tfrappe.container.change_to(page_name);\n\t\t\tif(me.on_show) {\n\t\t\t\tme.on_show();\n\t\t\t}\n\t\t} else {\n\t\t\tvar route = frappe.get_route();\n\t\t\tif(route[1]) {\n\t\t\t\tme.make(route);\n\t\t\t} else {\n\t\t\t\tfrappe.show_not_found(route);\n\t\t\t}\n\t\t}\n\t}\n\n\tmake_page(double_column, page_name) {\n\t\treturn frappe.make_page(double_column, page_name);\n\t}\n}\n\nfrappe.make_page = function(double_column, page_name) {\n\tif(!page_name) {\n\t\tvar page_name = frappe.get_route_str();\n\t}\n\tvar page = frappe.container.add_page(page_name);\n\n\tfrappe.ui.make_app_page({\n\t\tparent: page,\n\t\tsingle_column: !double_column\n\t});\n\tfrappe.container.change_to(page_name);\n\treturn page;\n}\n","// Copyright (c) 2015, Frappe Technologies Pvt. Ltd. and Contributors\n// MIT License. See license.txt\n\nfrappe.provide('frappe.views.pageview');\nfrappe.provide(\"frappe.standard_pages\");\n\nfrappe.views.pageview = {\n\twith_page: function(name, callback) {\n\t\tif (frappe.standard_pages[name]) {\n\t\t\tif (!frappe.pages[name]) {\n\t\t\t\tfrappe.standard_pages[name]();\n\t\t\t}\n\t\t\tcallback();\n\t\t\treturn;\n\t\t}\n\n\t\tif ((locals.Page && locals.Page[name] && locals.Page[name].script) || name==window.page_name) {\n\t\t\t// already loaded\n\t\t\tcallback();\n\t\t} else if (localStorage[\"_page:\" + name] && frappe.boot.developer_mode!=1) {\n\t\t\t// cached in local storage\n\t\t\tfrappe.model.sync(JSON.parse(localStorage[\"_page:\" + name]));\n\t\t\tcallback();\n\t\t} else if (name) {\n\t\t\t// get fresh\n\t\t\treturn frappe.call({\n\t\t\t\tmethod: 'frappe.desk.desk_page.getpage',\n\t\t\t\targs: {'name':name },\n\t\t\t\tcallback: function(r) {\n\t\t\t\t\tif (!r.docs._dynamic_page) {\n\t\t\t\t\t\tlocalStorage[\"_page:\" + name] = JSON.stringify(r.docs);\n\t\t\t\t\t}\n\t\t\t\t\tcallback();\n\t\t\t\t},\n\t\t\t\tfreeze: true,\n\t\t\t});\n\t\t}\n\t},\n\n\tshow: function(name) {\n\t\tif (!name) {\n\t\t\tname = (frappe.boot ? frappe.boot.home_page : window.page_name);\n\t\t}\n\t\tfrappe.model.with_doctype(\"Page\", function() {\n\t\t\tfrappe.views.pageview.with_page(name, function(r) {\n\t\t\t\tif (r && r.exc) {\n\t\t\t\t\tif (!r['403'])\n\t\t\t\t\t\tfrappe.show_not_found(name);\n\t\t\t\t} else if (!frappe.pages[name]) {\n\t\t\t\t\tnew frappe.views.Page(name);\n\t\t\t\t}\n\t\t\t\tfrappe.container.change_to(name);\n\t\t\t});\n\t\t});\n\t}\n};\n\nfrappe.views.Page = class Page {\n\tconstructor(name) {\n\t\tthis.name = name;\n\t\tvar me = this;\n\n\t\t// web home page\n\t\tif (name==window.page_name) {\n\t\t\tthis.wrapper = document.getElementById('page-' + name);\n\t\t\tthis.wrapper.label = document.title || window.page_name;\n\t\t\tthis.wrapper.page_name = window.page_name;\n\t\t\tfrappe.pages[window.page_name] = this.wrapper;\n\t\t} else {\n\t\t\tthis.pagedoc = locals.Page[this.name];\n\t\t\tif (!this.pagedoc) {\n\t\t\t\tfrappe.show_not_found(name);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.wrapper = frappe.container.add_page(this.name);\n\t\t\tthis.wrapper.page_name = this.pagedoc.name;\n\n\t\t\t// set content, script and style\n\t\t\tif (this.pagedoc.content)\n\t\t\t\tthis.wrapper.innerHTML = this.pagedoc.content;\n\t\t\tfrappe.dom.eval(this.pagedoc.__script || this.pagedoc.script || '');\n\t\t\tfrappe.dom.set_style(this.pagedoc.style || '');\n\n\t\t\t// set breadcrumbs\n\t\t\tfrappe.breadcrumbs.add(this.pagedoc.module || null);\n\t\t}\n\n\t\tthis.trigger_page_event('on_page_load');\n\n\t\t// set events\n\t\t$(this.wrapper).on('show', function() {\n\t\t\twindow.cur_frm = null;\n\t\t\tme.trigger_page_event('on_page_show');\n\t\t\tme.trigger_page_event('refresh');\n\t\t});\n\t}\n\n\ttrigger_page_event(eventname) {\n\t\tvar me = this;\n\t\tif (me.wrapper[eventname]) {\n\t\t\tme.wrapper[eventname](me.wrapper);\n\t\t}\n\t}\n};\n\nfrappe.show_not_found = function(page_name) {\n\tfrappe.show_message_page({\n\t\tpage_name: page_name,\n\t\tmessage: __(\"Sorry! I could not find what you were looking for.\"),\n\t\timg: \"/assets/frappe/images/ui/bubble-tea-sorry.svg\"\n\t});\n};\n\nfrappe.show_not_permitted = function(page_name) {\n\tfrappe.show_message_page({\n\t\tpage_name: page_name,\n\t\tmessage: __(\"Sorry! You are not permitted to view this page.\"),\n\t\timg: \"/assets/frappe/images/ui/bubble-tea-sorry.svg\",\n\t\t// icon: \"octicon octicon-circle-slash\"\n\t});\n};\n\nfrappe.show_message_page = function(opts) {\n\t// opts can include `page_name`, `message`, `icon` or `img`\n\tif (!opts.page_name) {\n\t\topts.page_name = frappe.get_route_str();\n\t}\n\n\tif (opts.icon) {\n\t\topts.img = repl('<span class=\"%(icon)s message-page-icon\"></span> ', opts);\n\t} else if (opts.img) {\n\t\topts.img = repl('<img src=\"%(img)s\" class=\"message-page-image\">', opts);\n\t}\n\n\tvar page = frappe.pages[opts.page_name] || frappe.container.add_page(opts.page_name);\n\t$(page).html(\n\t\trepl('<div class=\"page message-page\">\\\n\t\t\t<div class=\"text-center message-page-content\">\\\n\t\t\t\t%(img)s\\\n\t\t\t\t<p class=\"lead\">%(message)s</p>\\\n\t\t\t\t<a class=\"btn btn-default btn-sm btn-home\" href=\"#\">%(home)s</a>\\\n\t\t\t</div>\\\n\t\t</div>', {\n\t\t\t\timg: opts.img || \"\",\n\t\t\t\tmessage: opts.message || \"\",\n\t\t\t\thome: __(\"Home\")\n\t\t\t})\n\t);\n\n\tfrappe.container.change_to(opts.page_name);\n};\n","// Copyright (c) 2015, Frappe Technologies Pvt. Ltd. and Contributors\n// MIT License. See license.txt\nfrappe.provide('frappe.search');\nfrappe.provide('frappe.tags');\n\nfrappe.search.AwesomeBar = Class.extend({\n\tsetup: function(element) {\n\t\tvar me = this;\n\n\t\t$('.search-bar').removeClass('hidden');\n\t\tvar $input = $(element);\n\t\tvar input = $input.get(0);\n\n\t\tthis.options = [];\n\t\tthis.global_results = [];\n\n\t\tvar awesomplete = new Awesomplete(input, {\n\t\t\tminChars: 0,\n\t\t\tmaxItems: 99,\n\t\t\tautoFirst: true,\n\t\t\tlist: [],\n\t\t\tfilter: function(text, term) {\n\t\t\t\treturn true;\n\t\t\t},\n\t\t\tdata: function(item, input) {\n\t\t\t\treturn {\n\t\t\t\t\tlabel: (item.index || \"\"),\n\t\t\t\t\tvalue: item.value\n\t\t\t\t};\n\t\t\t},\n\t\t\titem: function(item, term) {\n\t\t\t\tvar d = this.get_item(item.value);\n\t\t\t\tvar name = __(d.label || d.value);\n\t\t\t\tvar html = '<span>' + name + '</span>';\n\t\t\t\tif(d.description && d.value!==d.description) {\n\t\t\t\t\thtml += '<br><span class=\"text-muted ellipsis\">' + __(d.description) + '</span>';\n\t\t\t\t}\n\t\t\t\treturn $('<li></li>')\n\t\t\t\t\t.data('item.autocomplete', d)\n\t\t\t\t\t.html(`<a style=\"font-weight:normal\">${html}</a>`)\n\t\t\t\t\t.get(0);\n\t\t\t},\n\t\t\tsort: function(a, b) {\n\t\t\t\treturn (b.label - a.label);\n\t\t\t}\n\t\t});\n\n\t\t// Added to aid UI testing of global search\n\t\tinput.awesomplete = awesomplete;\n\n\t\tthis.awesomplete = awesomplete;\n\n\t\t$input.on(\"input\", frappe.utils.debounce(function(e) {\n\t\t\tvar value = e.target.value;\n\t\t\tvar txt = value.trim().replace(/\\s\\s+/g, ' ');\n\t\t\tvar last_space = txt.lastIndexOf(' ');\n\t\t\tme.global_results = [];\n\n\t\t\tme.options = [];\n\n\t\t\tif (txt && txt.length > 1) {\n\t\t\t\tif (last_space !== -1) {\n\t\t\t\t\tme.set_specifics(txt.slice(0, last_space), txt.slice(last_space+1));\n\t\t\t\t}\n\t\t\t\tme.add_defaults(txt);\n\t\t\t\tme.options = me.options.concat(me.build_options(txt));\n\t\t\t\tme.options = me.options.concat(me.global_results);\n\t\t\t} else {\n\t\t\t\tme.options = me.options.concat(\n\t\t\t\t\tme.deduplicate(frappe.search.utils.get_recent_pages(txt || \"\")));\n\t\t\t\tme.options = me.options.concat(frappe.search.utils.get_frequent_links());\n\t\t\t}\n\t\t\tme.add_help();\n\n\t\t\tawesomplete.list = me.deduplicate(me.options);\n\n\t\t}, 100));\n\n\t\tvar open_recent = function() {\n\t\t\tif (!this.autocomplete_open) {\n\t\t\t\t$(this).trigger(\"input\");\n\t\t\t}\n\t\t};\n\t\t$input.on(\"focus\", open_recent);\n\n\t\t$input.on(\"awesomplete-open\", function(e) {\n\t\t\tme.autocomplete_open = e.target;\n\t\t});\n\n\t\t$input.on(\"awesomplete-close\", function(e) {\n\t\t\tme.autocomplete_open = false;\n\t\t});\n\n\t\t$input.on(\"awesomplete-select\", function(e) {\n\t\t\tvar o = e.originalEvent;\n\t\t\tvar value = o.text.value;\n\t\t\tvar item = awesomplete.get_item(value);\n\n\t\t\tif(item.route_options) {\n\t\t\t\tfrappe.route_options = item.route_options;\n\t\t\t}\n\n\t\t\tif(item.onclick) {\n\t\t\t\titem.onclick(item.match);\n\t\t\t} else {\n\t\t\t\tfrappe.set_route(item.route);\n\t\t\t}\n\t\t\t$input.val(\"\");\n\t\t});\n\n\t\t$input.on(\"awesomplete-selectcomplete\", function(e) {\n\t\t\t$input.val(\"\");\n\t\t});\n\n\t\t$input.on(\"keydown\", null, 'esc', function() {\n\t\t\t$input.blur();\n\t\t});\n\t\tfrappe.search.utils.setup_recent();\n\t\tfrappe.tags.utils.fetch_tags();\n\t},\n\n\tadd_help: function() {\n\t\tthis.options.push({\n\t\t\tvalue: __(\"Help on Search\"),\n\t\t\tindex: -10,\n\t\t\tdefault: \"Help\",\n\t\t\tonclick: function() {\n\t\t\t\tvar txt = '<table class=\"table table-bordered\">\\\n\t\t\t\t\t<tr><td style=\"width: 50%\">'+__('Create a new record')+'</td><td>'+\n\t\t\t\t\t\t__(\"new type of document\")+'</td></tr>\\\n\t\t\t\t\t<tr><td>'+__(\"List a document type\")+'</td><td>'+\n\t\t\t\t\t\t__(\"document type..., e.g. customer\")+'</td></tr>\\\n\t\t\t\t\t<tr><td>'+__(\"Search in a document type\")+'</td><td>'+\n\t\t\t\t\t\t__(\"text in document type\")+'</td></tr>\\\n\t\t\t\t\t<tr><td>'+__(\"Tags\")+'</td><td>'+\n\t\t\t\t\t\t__(\"tag name..., e.g. #tag\")+'</td></tr>\\\n\t\t\t\t\t<tr><td>'+__(\"Open a module or tool\")+'</td><td>'+\n\t\t\t\t\t\t__(\"module name...\")+'</td></tr>\\\n\t\t\t\t\t<tr><td>'+__(\"Calculate\")+'</td><td>'+\n\t\t\t\t\t\t__(\"e.g. (55 + 434) / 4 or =Math.sin(Math.PI/2)...\")+'</td></tr>\\\n\t\t\t\t</table>';\n\t\t\t\tfrappe.msgprint(txt, __(\"Search Help\"));\n\t\t\t}\n\t\t});\n\t},\n\n\tset_specifics: function(txt, end_txt) {\n\t\tvar me = this;\n\t\tvar results = this.build_options(txt);\n\t\tresults.forEach(function(r) {\n\t\t\tif(r.type && (r.type).toLowerCase().indexOf(end_txt.toLowerCase()) === 0) {\n\t\t\t\tme.options.push(r);\n\t\t\t}\n\t\t});\n\t},\n\n\tadd_defaults: function(txt) {\n\t\tthis.make_global_search(txt);\n\t\tthis.make_search_in_current(txt);\n\t\tthis.make_calculator(txt);\n\t\tthis.make_random(txt);\n\t},\n\n\tbuild_options: function(txt) {\n\t\tvar options = frappe.search.utils.get_creatables(txt).concat(\n\t\t\tfrappe.search.utils.get_search_in_list(txt),\n\t\t\tfrappe.search.utils.get_doctypes(txt),\n\t\t\tfrappe.search.utils.get_reports(txt),\n\t\t\tfrappe.search.utils.get_pages(txt),\n\t\t\tfrappe.search.utils.get_workspaces(txt),\n\t\t\tfrappe.search.utils.get_dashboards(txt),\n\t\t\tfrappe.search.utils.get_recent_pages(txt || \"\"),\n\t\t\tfrappe.search.utils.get_executables(txt)\n\t\t);\n\t\tif (txt.charAt(0) === \"#\") {\n\t\t\toptions = frappe.tags.utils.get_tags(txt);\n\t\t}\n\t\tvar out = this.deduplicate(options);\n\t\treturn out.sort(function(a, b) {\n\t\t\treturn b.index - a.index;\n\t\t});\n\t},\n\n\tdeduplicate: function(options) {\n\t\tvar out = [], routes = [];\n\t\toptions.forEach(function(option) {\n\t\t\tif(option.route) {\n\t\t\t\tif (\n\t\t\t\t\toption.route[0] === \"List\" &&\n\t\t\t\t\toption.route[2] !== 'Report' &&\n\t\t\t\t\toption.route[2] !== 'Inbox'\n\t\t\t\t) {\n\t\t\t\t\toption.route.splice(2);\n\t\t\t\t}\n\n\t\t\t\tvar str_route = (typeof option.route==='string') ?\n\t\t\t\t\toption.route : option.route.join('/');\n\t\t\t\tif(routes.indexOf(str_route)===-1) {\n\t\t\t\t\tout.push(option);\n\t\t\t\t\troutes.push(str_route);\n\t\t\t\t} else {\n\t\t\t\t\tvar old = routes.indexOf(str_route);\n\t\t\t\t\tif(out[old].index < option.index && !option.recent) {\n\t\t\t\t\t\tout[old] = option;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tout.push(option);\n\t\t\t\troutes.push(\"\");\n\t\t\t}\n\t\t});\n\t\treturn out;\n\t},\n\n\tset_global_results: function(global_results, txt) {\n\t\tthis.global_results = this.global_results.concat(global_results);\n\t},\n\n\tmake_global_search: function(txt) {\n\t\t// let search_text = $(this.awesomplete.ul).find('.search-text');\n\n\t\t// if (txt.charAt(0) === \"#\" || !txt) {\n\t\t// \tsearch_text && search_text.remove();\n\t\t// \treturn;\n\t\t// }\n\n\t\t// if (!search_text.length) {\n\t\t// \tsearch_text = $(this.awesomplete.ul).prepend(`\n\t\t// \t\t<div class=\"search-text\">\n\t\t// \t\t\t<span class=\"search-text\"></span>\n\t\t// \t\t<div>`\n\t\t// \t).find(\".search-text\");\n\t\t// }\n\n\t\t// search_text.html(`\n\t\t// \t<span class=\"flex justify-between\">\n\t\t// \t\t<span class=\"ellipsis\">Search for ${frappe.utils.xss_sanitise(txt).bold()}</span>\n\t\t// \t\t<kbd>↵</kbd>\n\t\t// \t</span>\n\t\t// `);\n\n\t\t// search_text.click(() => {\n\t\t// \tfrappe.searchdialog.search.init_search(txt, \"global_search\");\n\t\t// });\n\n\t\t// REDESIGN TODO: Remove this as a selectable option\n\t\tif (txt.charAt(0) === \"#\") {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.options.push({\n\t\t\tlabel: `\n\t\t\t\t<span class=\"flex justify-between text-medium\">\n\t\t\t\t\t<span class=\"ellipsis\">${ __('Search for {0}', [frappe.utils.xss_sanitise(txt).bold()])}</span>\n\t\t\t\t\t<kbd>↵</kbd>\n\t\t\t\t</span>\n\t\t\t`,\n\t\t\tvalue: __(\"Search for {0}\", [txt]),\n\t\t\tmatch: txt,\n\t\t\tindex: 100,\n\t\t\tdefault: \"Search\",\n\t\t\tonclick: function() {\n\t\t\t\tfrappe.searchdialog.search.init_search(txt, \"global_search\");\n\t\t\t}\n\t\t});\n\t},\n\n\tmake_search_in_current: function(txt) {\n\t\tvar route = frappe.get_route();\n\t\tif(route[0]===\"List\" && txt.indexOf(\" in\") === -1) {\n\t\t\t// search in title field\n\t\t\tvar meta = frappe.get_meta(frappe.container.page.list_view.doctype);\n\t\t\tvar search_field = meta.title_field || \"name\";\n\t\t\tvar options = {};\n\t\t\toptions[search_field] = [\"like\", \"%\" + txt + \"%\"];\n\t\t\tthis.options.push({\n\t\t\t\tlabel: __('Find {0} in {1}', [txt.bold(), __(route[1]).bold()]),\n\t\t\t\tvalue: __('Find {0} in {1}', [txt, __(route[1])]),\n\t\t\t\troute_options: options,\n\t\t\t\tonclick: function() {\n\t\t\t\t\tcur_list.show();\n\t\t\t\t},\n\t\t\t\tindex: 90,\n\t\t\t\tdefault: \"Current\",\n\t\t\t\tmatch: txt\n\t\t\t});\n\t\t}\n\t},\n\n\tmake_calculator: function(txt) {\n\t\tvar first = txt.substr(0,1);\n\t\tif(first==parseInt(first) || first===\"(\" || first===\"=\") {\n\t\t\tif(first===\"=\") {\n\t\t\t\ttxt = txt.substr(1);\n\t\t\t}\n\t\t\ttry {\n\t\t\t\tvar val = eval(txt);\n\t\t\t\tvar formatted_value = __('{0} = {1}', [txt, (val + '').bold()]);\n\t\t\t\tthis.options.push({\n\t\t\t\t\tlabel: formatted_value,\n\t\t\t\t\tvalue: __('{0} = {1}', [txt, val]),\n\t\t\t\t\tmatch: val,\n\t\t\t\t\tindex: 80,\n\t\t\t\t\tdefault: \"Calculator\",\n\t\t\t\t\tonclick: function() {\n\t\t\t\t\t\tfrappe.msgprint(formatted_value, \"Result\");\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t} catch(e) {\n\t\t\t\t// pass\n\t\t\t}\n\t\t}\n\t},\n\n\tmake_random: function(txt) {\n\t\tif(txt.toLowerCase().includes('random')) {\n\t\t\tthis.options.push({\n\t\t\t\tlabel: \"Generate Random Password\",\n\t\t\t\tvalue: frappe.utils.get_random(16),\n\t\t\t\tonclick: function() {\n\t\t\t\t\tfrappe.msgprint(frappe.utils.get_random(16), \"Result\");\n\t\t\t\t}\n\t\t\t})\n\t\t}\n\t}\n});\n","frappe.provide('frappe.search');\n\nfrappe.ui.Notifications = class Notifications {\n\tconstructor() {\n\t\tthis.tabs = {};\n\t\tthis.notification_settings = frappe.boot.notification_settings;\n\t\tthis.make();\n\t}\n\n\tmake() {\n\t\tthis.dropdown = $('.navbar').find('.dropdown-notifications').removeClass('hidden');\n\t\tthis.dropdown_list = this.dropdown.find('.notifications-list');\n\t\tthis.header_items = this.dropdown_list.find('.header-items');\n\t\tthis.header_actions = this.dropdown_list.find('.header-actions');\n\t\tthis.body = this.dropdown_list.find('.notification-list-body');\n\t\tthis.panel_events = this.dropdown_list.find('.panel-events');\n\t\tthis.panel_notifications = this.dropdown_list.find('.panel-notifications');\n\n\t\tthis.user = frappe.session.user;\n\n\t\tthis.setup_headers();\n\t\tthis.setup_dropdown_events();\n\t}\n\n\tsetup_headers() {\n\t\t// Add header actions\n\t\t$(`<span class=\"notification-settings pull-right\" data-action=\"go_to_settings\">\n\t\t\t${frappe.utils.icon('setting-gear')}\n\t\t</span>`)\n\t\t\t.on('click', (e) => {\n\t\t\t\te.stopImmediatePropagation();\n\t\t\t\tthis.dropdown.dropdown('hide');\n\t\t\t\tfrappe.set_route('Form', 'Notification Settings', frappe.session.user);\n\t\t\t}).appendTo(this.header_actions)\n\t\t\t.attr('title', __(\"Notification Settings\"))\n\t\t\t.tooltip({ delay: { \"show\": 600, \"hide\": 100}, trigger: \"hover\"  });\n\n\t\t$(`<span class=\"mark-all-read pull-right\" data-action=\"mark_all_as_read\">\n\t\t\t${frappe.utils.icon('mark-as-read')}\n\t\t</span>`)\n\t\t\t.on('click', (e) => this.mark_all_as_read(e))\n\t\t\t.appendTo(this.header_actions)\n\t\t\t.attr('title', __(\"Mark all as read\"))\n\t\t\t.tooltip({ delay: { \"show\": 600, \"hide\": 100 }, trigger: \"hover\" });\n\n\t\tthis.categories = [\n\t\t\t{\n\t\t\t\tlabel: __(\"Notifications\"),\n\t\t\t\tid: \"notifications\",\n\t\t\t\tview: NotificationsView,\n\t\t\t\tel: this.panel_notifications,\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabel: __(\"Today's Events\"),\n\t\t\t\tid: \"todays_events\",\n\t\t\t\tview: EventsView,\n\t\t\t\tel: this.panel_events,\n\t\t\t}\n\t\t];\n\n\t\tlet get_headers_html = (item) => {\n\t\t\tlet active = item.id == \"notifications\" ? 'active' : '';\n\n\t\t\tlet html = `<li class=\"notifications-category ${active}\"\n\t\t\t\t\tid=\"${item.id}\"\n\t\t\t\t\tdata-toggle=\"collapse\"\n\t\t\t\t>${item.label}</li>`;\n\n\t\t\treturn html;\n\t\t};\n\n\t\tlet navitem = $(`<ul class=\"notification-item-tabs nav nav-tabs\" role=\"tablist\"></ul>`);\n\t\tthis.categories = this.categories.map(item => {\n\t\t\titem.$tab = $(get_headers_html(item));\n\t\t\titem.$tab.on('click', (e) => {\n\t\t\t\te.stopImmediatePropagation();\n\t\t\t\tthis.switch_tab(item);\n\t\t\t});\n\t\t\tnavitem.append(item.$tab);\n\n\t\t\treturn item;\n\t\t});\n\t\tnavitem.appendTo(this.header_items);\n\t\tthis.categories.forEach(category => {\n\t\t\tthis.make_tab_view(category);\n\t\t});\n\t\tthis.switch_tab(this.categories[0]);\n\t}\n\n\tswitch_tab(item) {\n\t\t// Set active tab\n\t\tthis.categories.forEach((item) => {\n\t\t\titem.$tab.removeClass(\"active\");\n\t\t});\n\n\t\titem.$tab.addClass(\"active\");\n\n\t\t// Hide other tabs\n\t\tObject.keys(this.tabs).forEach(tab_name => this.tabs[tab_name].hide());\n\t\tthis.tabs[item.id].show();\n\t}\n\n\tmake_tab_view(item) {\n\t\tlet tabView = new item.view(\n\t\t\titem.el,\n\t\t\tthis.dropdown,\n\t\t\tthis.notification_settings\n\t\t);\n\t\tthis.tabs[item.id] = tabView;\n\t}\n\n\tmark_all_as_read(e) {\n\t\te.stopImmediatePropagation();\n\t\tthis.dropdown_list.find('.unread').removeClass('unread');\n\t\tfrappe.call(\n\t\t\t'frappe.desk.doctype.notification_log.notification_log.mark_all_as_read',\n\t\t);\n\t}\n\n\tsetup_dropdown_events() {\n\t\tthis.dropdown.on('hide.bs.dropdown', e => {\n\t\t\tlet hide = $(e.currentTarget).data('closable');\n\t\t\t$(e.currentTarget).data('closable', true);\n\t\t\treturn hide;\n\t\t});\n\n\t\tthis.dropdown.on('click', e => {\n\t\t\t$(e.currentTarget).data('closable', true);\n\t\t});\n\t}\n};\n\n\nfrappe.ui.notifications = {\n\tget_notification_config() {\n\t\treturn frappe.xcall('frappe.desk.notifications.get_notification_info').then(r => {\n\t\t\tfrappe.ui.notifications.config = r;\n\t\t\treturn r;\n\t\t});\n\t},\n\n\tshow_open_count_list(doctype) {\n\t\tif (!frappe.ui.notifications.config) {\n\t\t\tthis.get_notification_config().then(() => {\n\t\t\t\tthis.route_to_list_with_filters(doctype);\n\t\t\t});\n\t\t} else {\n\t\t\tthis.route_to_list_with_filters(doctype);\n\t\t}\n\t},\n\n\troute_to_list_with_filters(doctype) {\n\t\tlet filters = frappe.ui.notifications.config['conditions'][doctype];\n\t\tif (filters && $.isPlainObject(filters)) {\n\t\t\tif (!frappe.route_options) {\n\t\t\t\tfrappe.route_options = {};\n\t\t\t}\n\t\t\t$.extend(frappe.route_options, filters);\n\t\t}\n\t\tfrappe.set_route('List', doctype);\n\t}\n};\n\nclass BaseNotificationsView {\n\tconstructor(wrapper, parent, settings) {\n\t\t// wrapper, max_length\n\t\tthis.wrapper = wrapper;\n\t\tthis.parent = parent;\n\t\tthis.settings = settings;\n\t\tthis.max_length = 20;\n\t\tthis.container = $(`<div></div>`).appendTo(this.wrapper);\n\t\tthis.make();\n\t}\n\n\tshow() {\n\t\tthis.container.show();\n\t}\n\n\thide() {\n\t\tthis.container.hide();\n\t}\n}\n\nclass NotificationsView extends BaseNotificationsView {\n\tmake() {\n\t\tthis.notifications_icon = this.parent.find('.notifications-icon');\n\t\tthis.notifications_icon.attr(\"title\", __('Notifications')).tooltip(\n\t\t\t{ delay: { \"show\": 600, \"hide\": 100},  trigger: \"hover\" }\n\t\t);\n\n\t\tthis.setup_notification_listeners();\n\t\tthis.get_notifications_list(this.max_length).then(list => {\n\t\t\tthis.dropdown_items = list;\n\t\t\tthis.render_notifications_dropdown();\n\t\t\tif (this.settings.seen == 0 && this.dropdown_items.length > 0) {\n\t\t\t\tthis.toggle_notification_icon(false);\n\t\t\t}\n\t\t});\n\n\t}\n\n\tupdate_dropdown() {\n\t\tthis.get_notifications_list(1).then(r => {\n\t\t\tlet new_item = r[0];\n\t\t\tthis.dropdown_items.unshift(new_item);\n\t\t\tif (this.dropdown_items.length > this.max_length) {\n\t\t\t\tthis.container\n\t\t\t\t\t.find('.recent-notification')\n\t\t\t\t\t.last()\n\t\t\t\t\t.remove();\n\t\t\t\tthis.dropdown_items.pop();\n\t\t\t}\n\n\t\t\tthis.insert_into_dropdown();\n\t\t});\n\t}\n\n\tchange_activity_status() {\n\t\tif (this.container.find('.activity-status')) {\n\t\t\tthis.container.find('.activity-status').replaceWith(\n\t\t\t\t`<a class=\"recent-item text-center text-muted\"\n\t\t\t\t\thref=\"/app/List/Notification Log\">\n\t\t\t\t\t<div class=\"full-log-btn\">${__('View Full Log')}</div>\n\t\t\t\t</a>`\n\t\t\t);\n\t\t}\n\t}\n\n\tmark_as_read(docname, $el) {\n\t\tfrappe.call(\n\t\t\t'frappe.desk.doctype.notification_log.notification_log.mark_as_read',\n\t\t\t{ docname: docname }\n\t\t).then(() => {\n\t\t\t$el.removeClass('unread');\n\t\t});\n\t}\n\n\tinsert_into_dropdown() {\n\t\tlet new_item = this.dropdown_items[0];\n\t\tlet new_item_html = this.get_dropdown_item_html(new_item);\n\t\t$(new_item_html).prependTo(this.container);\n\t\tthis.change_activity_status();\n\t}\n\n\tget_dropdown_item_html(field) {\n\t\tlet doc_link = this.get_item_link(field);\n\n\t\tlet read_class = field.read ? '' : 'unread';\n\t\tlet message = field.subject;\n\n\t\tlet title = message.match(/<b class=\"subject-title\">(.*?)<\\/b>/);\n\t\tmessage = title ? message.replace(title[1], frappe.ellipsis(strip_html(title[1]), 100)) : message;\n\n\t\tlet timestamp = frappe.datetime.comment_when(field.creation);\n\t\tlet message_html = `<div class=\"message\">\n\t\t\t<div>${message}</div>\n\t\t\t<div class=\"notification-timestamp text-muted\">\n\t\t\t\t${timestamp}\n\t\t\t</div>\n\t\t</div>`;\n\n\t\tlet user = field.from_user;\n\t\tlet user_avatar = frappe.avatar(user, 'avatar-medium user-avatar');\n\n\t\tlet item_html =\n\t\t\t$(`<a class=\"recent-item notification-item ${read_class}\"\n\t\t\t\thref=\"${doc_link}\"\n\t\t\t\tdata-name=\"${field.name}\"\n\t\t\t>\n\t\t\t\t<div class=\"notification-body\">\n\t\t\t\t\t${user_avatar}\n\t\t\t\t\t${message_html}\n\t\t\t\t</div>\n\t\t\t\t<div class=\"mark-as-read\" title=\"${__(\"Mark as Read\")}\">\n\t\t\t\t</div>\n\t\t\t</a>`);\n\n\t\tif (!field.read) {\n\t\t\tlet mark_btn = item_html.find(\".mark-as-read\");\n\t\t\tmark_btn.tooltip({ delay: { \"show\": 600, \"hide\": 100 }, trigger: \"hover\" });\n\t\t\tmark_btn.on('click', (e) => {\n\t\t\t\te.preventDefault();\n\t\t\t\te.stopImmediatePropagation();\n\t\t\t\tthis.mark_as_read(field.name, item_html);\n\t\t\t});\n\n\t\t\titem_html.on('click', () => {\n\t\t\t\tthis.mark_as_read(field.name, item_html);\n\t\t\t});\n\t\t}\n\n\t\treturn item_html;\n\t}\n\n\trender_notifications_dropdown() {\n\t\tif (this.settings && !this.settings.enabled) {\n\t\t\tthis.container.html(`<li class=\"recent-item notification-item\">\n\t\t\t\t<span class=\"text-muted\">\n\t\t\t\t\t${__('Notifications Disabled')}\n\t\t\t\t</span></li>`);\n\t\t} else {\n\t\t\tif (this.dropdown_items.length) {\n\t\t\t\tthis.container.empty();\n\t\t\t\tthis.dropdown_items.forEach(field => {\n\t\t\t\t\tthis.container.append(this.get_dropdown_item_html(field));\n\t\t\t\t});\n\t\t\t\tthis.container.append(`<a class=\"list-footer\"\n\t\t\t\t\thref=\"/app/List/Notification Log\">\n\t\t\t\t\t\t<div class=\"full-log-btn\">${__('See all Activity')}</div>\n\t\t\t\t\t</a>`);\n\t\t\t} else {\n\t\t\t\tthis.container.append($(`<div class=\"notification-null-state\">\n\t\t\t\t\t<div class=\"text-center\">\n\t\t\t\t\t\t<img src=\"/assets/frappe/images/ui-states/notification-empty-state.svg\" alt=\"Generic Empty State\" class=\"null-state\">\n\t\t\t\t\t\t<div class=\"title\">${__('No New notifications')}</div>\n\t\t\t\t\t\t<div class=\"subtitle\">\n\t\t\t\t\t\t\t${__('Looks like you haven’t received any notifications.')}\n\t\t\t\t\t</div></div></div>`));\n\t\t\t}\n\t\t}\n\t}\n\n\tget_notifications_list(limit) {\n\t\treturn frappe.db.get_list('Notification Log', {\n\t\t\tfields: [\"*\"],\n\t\t\tlimit: limit,\n\t\t\torder_by: 'creation desc'\n\t\t});\n\t}\n\n\tget_item_link(notification_doc) {\n\t\tconst link_doctype =\n\t\t\tnotification_doc.type == 'Alert' ? 'Notification Log' : notification_doc.document_type;\n\t\tconst link_docname =\n\t\t\tnotification_doc.type == 'Alert' ? notification_doc.name : notification_doc.document_name;\n\t\treturn frappe.utils.get_form_link(\n\t\t\tlink_doctype,\n\t\t\tlink_docname\n\t\t);\n\t}\n\n\ttoggle_notification_icon(seen) {\n\t\tthis.notifications_icon.find('.notifications-seen').toggle(seen);\n\t\tthis.notifications_icon.find('.notifications-unseen').toggle(!seen);\n\t}\n\n\ttoggle_seen(flag) {\n\t\tfrappe.call(\n\t\t\t'frappe.desk.doctype.notification_settings.notification_settings.set_seen_value',\n\t\t\t{\n\t\t\t\tvalue: cint(flag),\n\t\t\t\tuser: frappe.session.user\n\t\t\t}\n\t\t);\n\t}\n\n\tsetup_notification_listeners() {\n\t\tfrappe.realtime.on('notification', () => {\n\t\t\tthis.toggle_notification_icon(false);\n\t\t\tthis.update_dropdown();\n\t\t});\n\n\t\tfrappe.realtime.on('indicator_hide', () => {\n\t\t\tthis.toggle_notification_icon(true);\n\t\t});\n\n\t\tthis.parent.on('show.bs.dropdown', () => {\n\t\t\tthis.toggle_seen(true);\n\t\t\tif (this.notifications_icon.find('.notifications-unseen').is(':visible')) {\n\t\t\t\tthis.toggle_notification_icon(true);\n\t\t\t\tfrappe.call(\n\t\t\t\t\t'frappe.desk.doctype.notification_log.notification_log.trigger_indicator_hide'\n\t\t\t\t);\n\t\t\t}\n\t\t});\n\n\t}\n}\n\nclass EventsView extends BaseNotificationsView {\n\tmake() {\n\t\tlet today = frappe.datetime.get_today();\n\t\tfrappe.xcall('frappe.desk.doctype.event.event.get_events', {\n\t\t\tstart: today,\n\t\t\tend: today\n\t\t}).then(event_list => {\n\t\t\tthis.render_events_html(event_list);\n\t\t});\n\t}\n\n\trender_events_html(event_list) {\n\t\tlet html = '';\n\t\tif (event_list.length) {\n\t\t\tlet get_event_html = (event) => {\n\t\t\t\tlet time = __(\"All Day\");\n\t\t\t\tif (!event.all_day) {\n\t\t\t\t\tlet start_time = frappe.datetime.get_time(event.starts_on);\n\t\t\t\t\tlet days_diff = frappe.datetime.get_day_diff(event.ends_on, event.starts_on);\n\t\t\t\t\tlet end_time = frappe.datetime.get_time(event.ends_on);\n\t\t\t\t\tif (days_diff > 1) {\n\t\t\t\t\t\tend_time = __(\"Rest of the day\");\n\t\t\t\t\t}\n\t\t\t\t\ttime = `${start_time} - ${end_time}`;\n\t\t\t\t}\n\n\t\t\t\t// REDESIGN-TODO: Add Participants to get_events query\n\t\t\t\tlet particpants = '';\n\t\t\t\tif (event.particpants) {\n\t\t\t\t\tparticpants = frappe.avatar_group(event.particpants, 3);\n\t\t\t\t}\n\n\t\t\t\t// REDESIGN-TODO: Add location to calendar field\n\t\t\t\tlet location = '';\n\t\t\t\tif (event.location) {\n\t\t\t\t\tlocation = `, ${event.location}`;\n\t\t\t\t}\n\n\t\t\t\treturn `<a class=\"recent-item event\" href=\"/app/event/${event.name}\">\n\t\t\t\t\t<div class=\"event-border\" style=\"border-color: ${event.color}\"></div>\n\t\t\t\t\t<div class=\"event-item\">\n\t\t\t\t\t\t<div class=\"event-subject\">${event.subject}</div>\n\t\t\t\t\t\t<div class=\"event-time\">${time}${location}</div>\n\t\t\t\t\t\t${particpants}\n\t\t\t\t\t</div>\n\t\t\t\t</a>`;\n\t\t\t};\n\t\t\thtml = event_list.map(get_event_html).join('');\n\t\t} else {\n\t\t\thtml = `\n\t\t\t\t<div class=\"notification-null-state\">\n\t\t\t\t\t<div class=\"text-center\">\n\t\t\t\t\t<img src=\"/assets/frappe/images/ui-states/event-empty-state.svg\" alt=\"Generic Empty State\" class=\"null-state\">\n\t\t\t\t\t<div class=\"title\">${__('No Upcoming Events')}</div>\n\t\t\t\t\t<div class=\"subtitle\">\n\t\t\t\t\t\t${__('There are no upcoming events for you.')}\n\t\t\t\t</div></div></div>\n\t\t\t`;\n\t\t}\n\n\t\tthis.container.html(html);\n\t}\n}\n","frappe.provide(\"frappe.search\");\n\nfrappe.search.SearchDialog = class {\n\tconstructor(opts) {\n\t\t$.extend(this, opts);\n\t\tthis.make();\n\t}\n\n\tmake() {\n\t\tthis.search_dialog = new frappe.ui.Dialog({\n\t\t\tminimizable: true,\n\t\t\tsize: \"large\"\n\t\t});\n\t\tthis.set_header();\n\t\tthis.$wrapper = $(this.search_dialog.$wrapper).addClass(\n\t\t\t\"search-dialog\"\n\t\t);\n\t\tthis.$body = $(this.search_dialog.body);\n\t\tthis.$input = this.$wrapper.find(\".search-input\");\n\t\tthis.setup();\n\t}\n\n\tset_header() {\n\t\tthis.search_dialog.header\n\t\t\t.addClass(\"search-header\")\n\t\t\t.find(\".title-section\")\n\t\t\t.html(\n\t\t\t\t`<div class=\"input-group text-muted\">\n\t\t\t\t\t<input type=\"text\" class=\"form-control search-input\">\n\t\t\t\t</div>\n\t\t\t\t<span class=\"search-icon\">\n\t\t\t\t\t${frappe.utils.icon(\"search\")}\n\t\t\t\t</span>`\n\t\t\t);\n\t}\n\n\tsetup() {\n\t\tthis.modal_state = 0;\n\t\tthis.current_keyword = \"\";\n\t\tthis.more_count = 20;\n\t\tthis.full_lists = {};\n\t\tthis.nav_lists = {};\n\t\tthis.init_search_objects();\n\t\tthis.bind_input();\n\t\tthis.bind_events();\n\t}\n\n\tinit_search_objects() {\n\t\tthis.searches = {\n\t\t\tglobal_search: {\n\t\t\t\tinput_placeholder: __(\"Search\"),\n\t\t\t\tempty_state_text: __(\"Search for anything\"),\n\t\t\t\tno_results_status: () => __(\"No Results found\"),\n\t\t\t\tget_results: (keywords, callback) => {\n\t\t\t\t\tlet start = 0,\n\t\t\t\t\t\tlimit = 1000;\n\t\t\t\t\tlet results = frappe.search.utils.get_nav_results(keywords);\n\t\t\t\t\tfrappe.search.utils\n\t\t\t\t\t\t.get_global_results(keywords, start, limit)\n\t\t\t\t\t\t.then(\n\t\t\t\t\t\t\tglobal_results => {\n\t\t\t\t\t\t\t\tresults = results.concat(global_results);\n\t\t\t\t\t\t\t\tcallback(results, keywords);\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\terr => {\n\t\t\t\t\t\t\t\t// eslint-disable-next-line no-console\n\t\t\t\t\t\t\t\tconsole.error(err);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t},\n\t\t\ttags: {\n\t\t\t\tinput_placeholder: __(\"Search\"),\n\t\t\t\tempty_state_text: __(\"Search for anything\"),\n\t\t\t\tno_results_status: keyword =>\n\t\t\t\t\t\"<div>\" +\n\t\t\t\t\t__(\"No documents found tagged with {0}\", [keyword]) +\n\t\t\t\t\t\"</div>\",\n\t\t\t\tget_results: (keywords, callback) => {\n\t\t\t\t\tvar results = frappe.search.utils.get_nav_results(keywords);\n\t\t\t\t\tfrappe.tags.utils.get_tag_results(keywords).then(\n\t\t\t\t\t\tglobal_results => {\n\t\t\t\t\t\t\tresults = results.concat(global_results);\n\t\t\t\t\t\t\tcallback(results, keywords);\n\t\t\t\t\t\t},\n\t\t\t\t\t\terr => {\n\t\t\t\t\t\t\t// eslint-disable-next-line no-console\n\t\t\t\t\t\t\tconsole.error(err);\n\t\t\t\t\t\t}\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t}\n\n\tupdate($r) {\n\t\tthis.$wrapper.find(\".loading-state\").addClass(\"hide\");\n\t\tthis.$body.append($r);\n\t\tif (this.$body.find(\".search-results\").length > 1) {\n\t\t\tthis.$body\n\t\t\t\t.find(\".search-results\")\n\t\t\t\t.first()\n\t\t\t\t.addClass(\"hide\");\n\t\t\t$r.removeClass(\"hide\");\n\t\t\tthis.$body\n\t\t\t\t.find(\".search-results\")\n\t\t\t\t.first()\n\t\t\t\t.remove();\n\t\t} else {\n\t\t\t$r.removeClass(\"hide\");\n\t\t}\n\t}\n\n\tput_placeholder(status_text) {\n\t\tvar $placeholder = $(`<div class=\"row search-results hide\">\n\t\t\t<div class=\"empty-state\">\n\t\t\t\t<div class=\"text-center\">\n\t\t\t\t\t<img src=\"/assets/frappe/images/ui-states/search-empty-state.svg\"\n\t\t\t\t\t\talt=\"Generic Empty State\"\n\t\t\t\t\t\tclass=\"null-state\"\n\t\t\t\t\t>\n\t\t\t\t\t<div class=\"empty-state-text\">${status_text}</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>`);\n\t\tthis.update($placeholder);\n\t}\n\n\tbind_input() {\n\t\tthis.$input.on(\"input\", e => {\n\t\t\tconst $el = $(e.currentTarget);\n\t\t\tclearTimeout($el.data(\"timeout\"));\n\t\t\t$el.data(\n\t\t\t\t\"timeout\",\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tif (this.$input.val() === this.current_keyword) return;\n\t\t\t\t\tlet keywords = this.$input.val();\n\t\t\t\t\tif (keywords.length > 1) {\n\t\t\t\t\t\tthis.get_results(keywords);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.current_keyword = \"\";\n\t\t\t\t\t\tthis.put_placeholder(this.search.empty_state_text);\n\t\t\t\t\t}\n\t\t\t\t}, 300)\n\t\t\t);\n\t\t});\n\t}\n\n\tbind_events() {\n\t\t// Sidebar\n\t\tthis.$body.on(\"click\", \".list-link\", e => {\n\t\t\tconst $link = $(e.currentTarget);\n\t\t\tthis.$body\n\t\t\t\t.find(\".search-sidebar\")\n\t\t\t\t.find(\".list-link\")\n\t\t\t\t.removeClass(\"active selected\");\n\t\t\t$link.addClass(\"active selected\");\n\t\t\tconst type = $link.attr(\"data-category\");\n\t\t\tthis.$body\n\t\t\t\t.find(\".results-area\")\n\t\t\t\t.empty()\n\t\t\t\t.html(this.full_lists[type]);\n\t\t\tthis.$body\n\t\t\t\t.find(\".module-section-link\")\n\t\t\t\t.first()\n\t\t\t\t.focus();\n\t\t});\n\n\t\t// Summary more links\n\t\tthis.$body.on(\"click\", \".section-more\", e => {\n\t\t\tconst $section = $(e.currentTarget);\n\t\t\tconst type = $section.attr(\"data-category\");\n\t\t\tthis.$body\n\t\t\t\t.find(\".search-sidebar\")\n\t\t\t\t.find('*[data-category=\"' + type + '\"]')\n\t\t\t\t.trigger(\"click\");\n\t\t});\n\n\t\t// Back-links (mobile-view)\n\t\tthis.$body.on(\"click\", \".all-results-link\", () => {\n\t\t\tthis.$body\n\t\t\t\t.find(\".search-sidebar\")\n\t\t\t\t.find('*[data-category=\"All Results\"]')\n\t\t\t\t.trigger(\"click\");\n\t\t});\n\n\t\t// Full list more links\n\t\tthis.$body.on(\"click\", \".list-more\", e => {\n\t\t\tconst $el = $(e.currentTarget);\n\t\t\tconst type = $el.attr(\"data-category\");\n\t\t\tconst fetch_type = $el.attr(\"data-search\");\n\t\t\tvar current_count = this.$body.find(\".result\").length;\n\t\t\tif (fetch_type === \"Global\") {\n\t\t\t\tfrappe.search.utils\n\t\t\t\t\t.get_global_results(\n\t\t\t\t\t\tthis.current_keyword,\n\t\t\t\t\t\tcurrent_count,\n\t\t\t\t\t\tthis.more_count,\n\t\t\t\t\t\ttype\n\t\t\t\t\t)\n\t\t\t\t\t.then(\n\t\t\t\t\t\tdoctype_results => {\n\t\t\t\t\t\t\tdoctype_results.length &&\n\t\t\t\t\t\t\t\tthis.add_more_results(doctype_results);\n\t\t\t\t\t\t},\n\t\t\t\t\t\terr => {\n\t\t\t\t\t\t\t// eslint-disable-next-line no-console\n\t\t\t\t\t\t\tconsole.error(err);\n\t\t\t\t\t\t}\n\t\t\t\t\t);\n\t\t\t} else {\n\t\t\t\tlet results = this.nav_lists[type].slice(0, this.more_count);\n\t\t\t\tthis.nav_lists[type].splice(0, this.more_count);\n\t\t\t\tthis.add_more_results([{ title: type, results: results }]);\n\t\t\t}\n\t\t});\n\n\t\t// Switch to global search link\n\t\tthis.$body.on(\"click\", \".switch-to-global-search\", () => {\n\t\t\tthis.search = this.searches[\"global_search\"];\n\t\t\tthis.$input.attr(\"placeholder\", this.search.input_placeholder);\n\t\t\tthis.put_placeholder(this.search.empty_state_text);\n\t\t\tthis.get_results(this.current_keyword);\n\t\t});\n\t}\n\n\tinit_search(keywords, search_type) {\n\t\tthis.search = this.searches[search_type];\n\t\tthis.$input.attr(\"placeholder\", this.search.input_placeholder);\n\t\tthis.put_placeholder(this.search.empty_state_text);\n\t\tthis.get_results(keywords);\n\t\tthis.search_dialog.show();\n\t\tthis.$input.val(keywords);\n\t\tsetTimeout(() => this.$input.select(), 500);\n\t}\n\n\tget_results(keywords) {\n\t\tthis.current_keyword = keywords;\n\t\tif (this.$body.find(\".empty-state\").length > 0) {\n\t\t\tthis.put_placeholder(__(\"Searching ...\"));\n\t\t} else {\n\t\t\tthis.$wrapper.find(\".loading-state\").removeClass(\"hide\");\n\t\t}\n\n\t\tif (this.current_keyword.charAt(0) === \"#\") {\n\t\t\tthis.search = this.searches[\"tags\"];\n\t\t} else {\n\t\t\tthis.search = this.searches[\"global_search\"];\n\t\t}\n\n\t\tthis.search.get_results(keywords, this.parse_results.bind(this));\n\t}\n\n\tparse_results(result_sets, keyword) {\n\t\tresult_sets = result_sets.filter(function(set) {\n\t\t\treturn set.results.length > 0;\n\t\t});\n\t\tif (result_sets.length > 0) {\n\t\t\tthis.render_data(result_sets);\n\t\t} else {\n\t\t\tthis.put_placeholder(this.search.no_results_status(keyword));\n\t\t}\n\t}\n\n\trender_data(result_sets) {\n\t\tlet $search_results = $(frappe.render_template(\"search\")).addClass(\n\t\t\t\"hide\"\n\t\t);\n\t\tlet $sidebar = $search_results.find(\".search-sidebar\").empty();\n\t\tlet sidebar_item_html =\n\t\t\t'<li class=\"search-sidebar-item standard-sidebar-item list-link\" data-category=\"{0}\">' +\n\t\t\t'<a><span class=\"ellipsis\">{1}</span></a></li>';\n\n\t\tthis.modal_state = 0;\n\t\tthis.full_lists = {\n\t\t\t\"All Results\": $('<div class=\"results-summary\"></div>')\n\t\t};\n\t\tthis.nav_lists = {};\n\n\t\tresult_sets.forEach(set => {\n\t\t\t$sidebar.append($(__(sidebar_item_html, [set.title, __(set.title)])));\n\t\t\tthis.add_section_to_summary(set.title, set.results);\n\t\t\tthis.full_lists[set.title] = this.render_full_list(\n\t\t\t\tset.title,\n\t\t\t\tset.results,\n\t\t\t\tset.fetch_type\n\t\t\t);\n\t\t});\n\n\t\tif (result_sets.length > 1) {\n\t\t\t$sidebar.prepend($(__(sidebar_item_html, ['All Results', __('All Results')])));\n\t\t}\n\n\t\tthis.update($search_results.clone());\n\t\tthis.$body\n\t\t\t.find(\".list-link\")\n\t\t\t.first()\n\t\t\t.trigger(\"click\");\n\t}\n\n\trender_full_list(type, results, fetch_type) {\n\t\tlet max_length = 20;\n\n\t\tlet $results_list = $(`<div class=\"results-summary\">\n\t\t\t<div class=\"result-section full-list ${type}-section col-sm-12\">\n\t\t\t\t<div class=\"result-title\"> ${ __(type) }</div>\n\t\t\t\t<div class=\"result-body\">\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>`);\n\n\t\tresults.slice(0, max_length).forEach(result => {\n\t\t\t$results_list\n\t\t\t\t.find(\".result-body\")\n\t\t\t\t.append(this.render_result(type, result));\n\t\t});\n\n\t\tif (results.length > 0) {\n\t\t\tif (fetch_type === \"Nav\") this.nav_lists[type] = results;\n\n\t\t\tif (results.length > max_length) {\n\t\t\t\t$(`<a class=\"list-more\" data-search=\"${fetch_type}\"\n\t\t\t\t\tdata-category=\"${type}\" data-count=\"${max_length}\">\n\t\t\t\t\t\t${__(\"More\")}\n\t\t\t\t</a>`).appendTo($results_list.find(\".result-body\"));\n\t\t\t}\n\t\t}\n\t\treturn $results_list;\n\t}\n\n\tadd_section_to_summary(type, results) {\n\t\tlet section_length = 4;\n\t\tlet more_html = \"\";\n\t\tlet get_result_html = result => this.render_result(type, result);\n\n\t\tif (results.length > section_length) {\n\t\t\tmore_html = `<div>\n\t\t\t\t<a class=\"section-more\" data-category=\"${type}\">${__(\"More\")}</a>\n\t\t\t</div>`;\n\t\t}\n\n\t\tlet $result_section = $(`<div class=\"col-sm-12 result-section\" data-type=\"${type}\">\n\t\t\t<div class=\"result-title\">${__(type)}</div>\n\t\t\t<div class=\"result-body\">\n\t\t\t\t${more_html}\n\t\t\t</div>\n\t\t</div>`).appendTo(this.full_lists[\"All Results\"]);\n\n\t\t$result_section\n\t\t\t.find(\".result-body\")\n\t\t\t.prepend(results.slice(0, section_length).map(get_result_html));\n\t}\n\n\tget_link(result) {\n\t\tlet link = \"\";\n\t\tif (result.route) {\n\t\t\tlink = `href=\"/app/${result.route.join(\"/\")}\"`;\n\t\t} else if (result.data_path) {\n\t\t\tlink = `data-path=${result.data_path}\"`;\n\t\t}\n\t\treturn link;\n\t}\n\n\trender_result(type, result) {\n\t\tlet image_html = \"\";\n\t\tif (result.image !== undefined) {\n\t\t\tlet avatar_html = frappe.get_avatar(\n\t\t\t\t\"avatar-medium\",\n\t\t\t\tresult.label,\n\t\t\t\tresult.image\n\t\t\t);\n\t\t\timage_html = `<a ${this.get_link(result)}>\n\t\t\t\t<div class=\"result-image\">\n\t\t\t\t\t${avatar_html}\n\t\t\t\t</div>\n\t\t\t</a>`;\n\t\t}\n\n\t\tlet link_html = `<a ${this.get_link(\n\t\t\tresult\n\t\t)} class=\"result-section-link\">${result.label}</a>`;\n\t\tlet title_html = !result.description\n\t\t\t? link_html\n\t\t\t: `<b>${link_html}</b><div class=\"description\"> ${\n\t\t\t\tresult.description\n\t\t\t} </div>`;\n\n\t\tlet result_text = `<div class=\"result-text\">\n\t\t\t${title_html}\n\t\t</div>`;\n\n\t\tlet $result = $(`<div class=\"result ${type}-result\">\n\t\t\t${image_html}\n\t\t\t${result_text}\n\t\t\t${result.subtypes || \"\"}\n\t\t</div>`);\n\n\t\tif (!result.description) {\n\t\t\tthis.handle_result_click(result, $result);\n\t\t}\n\n\t\treturn $result;\n\t}\n\n\thandle_result_click(result, $result) {\n\t\tif (result.route_options) {\n\t\t\tfrappe.route_options = result.route_options;\n\t\t}\n\t\t$result.on(\"click\", () => {\n\t\t\t// this.toggle_minimize();\n\t\t\tif (result.onclick) {\n\t\t\t\tresult.onclick(result.match);\n\t\t\t} else {\n\t\t\t\tvar previous_hash = window.location.hash;\n\t\t\t\tfrappe.set_route(result.route);\n\t\t\t\t// hashchange didn't fire!\n\t\t\t\tif (window.location.hash == previous_hash) {\n\t\t\t\t\tfrappe.router.route();\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\n\tadd_more_results(results_set) {\n\t\tlet more_results = $('<div class=\"more-results last\"></div>');\n\t\tif (results_set[0].results) {\n\t\t\tresults_set[0].results.forEach(result => {\n\t\t\t\tmore_results.append(\n\t\t\t\t\tthis.render_result(results_set[0].title, result)\n\t\t\t\t);\n\t\t\t});\n\t\t}\n\t\tthis.$body.find(\".list-more\").before(more_results);\n\n\t\tif (results_set[0].results.length < this.more_count) {\n\t\t\t// hide more button and add a result count\n\t\t\tthis.$body.find(\".list-more\").hide();\n\t\t\tlet no_of_results = this.$body.find(\".result\").length;\n\t\t\tlet no_of_results_cue = $(\n\t\t\t\t'<div class=\"results-status\">' +\n\t\t\t\t\tno_of_results +\n\t\t\t\t\t\" results found</div>\"\n\t\t\t);\n\t\t\tthis.$body.find(\".more-results:last\").append(no_of_results_cue);\n\t\t}\n\t\tthis.$body.find(\".more-results.last\").slideDown(200, function() {});\n\t}\n};\n","// Copyright (c) 2019, Frappe Technologies Pvt. Ltd. and Contributors\n// MIT License. See license.txt\n\nfrappe.provide(\"frappe.tags\");\n\nfrappe.tags.utils = {\n\tget_tags: function(txt) {\n\t\ttxt = txt.slice(1);\n\t\tlet out = [];\n\n\t\tfor (let i in frappe.tags.tags) {\n\t\t\tlet tag = frappe.tags.tags[i];\n\t\t\tlet level = frappe.search.utils.fuzzy_search(txt, tag);\n\t\t\tif (level) {\n\t\t\t\tout.push({\n\t\t\t\t\ttype: \"Tag\",\n\t\t\t\t\tlabel: __(\"#{0}\", [frappe.search.utils.bolden_match_part(__(tag), txt)]),\n\t\t\t\t\tvalue: __(\"#{0}\", [__(tag)]),\n\t\t\t\t\tindex: 1 + level,\n\t\t\t\t\tmatch: tag,\n\t\t\t\t\tonclick() {\n\t\t\t\t\t\t// Use Global Search Dialog for tag search too.\n\t\t\t\t\t\tfrappe.searchdialog.search.init_search(\"#\".concat(tag), \"tags\");\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\treturn out;\n\t},\n\n\tfetch_tags() {\n\t\tfrappe.call({\n\t\t\tmethod: \"frappe.desk.doctype.tag.tag.get_tags_list_for_awesomebar\",\n\t\t\tcallback: function(r) {\n\t\t\t\tif (r && r.message) {\n\t\t\t\t\tfrappe.tags.tags = $.extend([], r.message);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t},\n\n\tget_tag_results: function(tag) {\n\t\tfunction get_results_sets(data) {\n\t\t\tvar results_sets = [], result, set;\n\t\t\tfunction get_existing_set(doctype) {\n\t\t\t\treturn results_sets.find(function(set) {\n\t\t\t\t\treturn set.title === doctype;\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tfunction make_description(content) {\n\t\t\t\tvar field_length = 110;\n\t\t\t\tvar field_value = null;\n\t\t\t\tif (content.length > field_length) {\n\t\t\t\t\tfield_value = content.slice(0, field_length) + \"...\";\n\t\t\t\t} else {\n\t\t\t\t\tvar length = content.length;\n\t\t\t\t\tfield_value = content.slice(0, length) + \"...\";\n\t\t\t\t}\n\t\t\t\treturn field_value;\n\t\t\t}\n\n\t\t\tdata.forEach(function(d) {\n\t\t\t\t// more properties\n\t\t\t\tvar description = \"\";\n\t\t\t\tif (d.content) {\n\t\t\t\t\tdescription = make_description(d.content);\n\t\t\t\t}\n\t\t\t\tresult = {\n\t\t\t\t\tlabel: d.name,\n\t\t\t\t\tvalue: d.name,\n\t\t\t\t\tdescription: description,\n\t\t\t\t\troute: ['Form', d.doctype, d.name],\n\n\t\t\t\t};\n\t\t\t\tset = get_existing_set(d.doctype);\n\t\t\t\tif (set) {\n\t\t\t\t\tset.results.push(result);\n\t\t\t\t} else {\n\t\t\t\t\tset = {\n\t\t\t\t\t\ttitle: d.doctype,\n\t\t\t\t\t\tresults: [result],\n\t\t\t\t\t\tfetch_type: \"Global\"\n\t\t\t\t\t};\n\t\t\t\t\tresults_sets.push(set);\n\t\t\t\t}\n\n\t\t\t});\n\t\t\treturn results_sets;\n\t\t}\n\t\treturn new Promise(function(resolve) {\n\t\t\tfrappe.call({\n\t\t\t\tmethod: \"frappe.desk.doctype.tag.tag.get_documents_for_tag\",\n\t\t\t\targs: {\n\t\t\t\t\ttag: tag\n\t\t\t\t},\n\t\t\t\tcallback: function(r) {\n\t\t\t\t\tif (r.message) {\n\t\t\t\t\t\tresolve(get_results_sets(r.message));\n\t\t\t\t\t} else {\n\t\t\t\t\t\tresolve([]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t},\n};\n","frappe.provide('frappe.search');\n\nfrappe.search.utils = {\n\tsetup_recent: function() {\n\t\tthis.recent = JSON.parse(frappe.boot.user.recent || \"[]\") || [];\n\t},\n\n\tget_recent_pages: function(keywords) {\n\t\tif (keywords === null) keywords = '';\n\t\tvar me = this, values = [], options = [];\n\n\t\tfunction find(list, keywords, process) {\n\t\t\tlist.forEach(function(item, i) {\n\t\t\t\tvar _item = ($.isArray(item)) ? item[0] : item;\n\t\t\t\t_item = __(_item || '').toLowerCase().replace(/-/g, \" \");\n\n\t\t\t\tif(keywords===_item || _item.indexOf(keywords) !== -1) {\n\t\t\t\t\tvar option = process(item);\n\n\t\t\t\t\tif(option) {\n\t\t\t\t\t\tif($.isPlainObject(option)) {\n\t\t\t\t\t\t\toption = [option];\n\t\t\t\t\t\t}\n\t\t\t\t\t\toption.forEach(function(o) {\n\t\t\t\t\t\t\to.match = item; o.recent = true;\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\toptions = option.concat(options);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\tme.recent.forEach(function(doctype, i) {\n\t\t\tvalues.push([doctype[1], ['Form', doctype[0], doctype[1]]]);\n\t\t});\n\n\t\tvalues = values.reverse();\n\n\t\tfrappe.route_history.forEach(function(route, i) {\n\t\t\tif(route[0]==='Form') {\n\t\t\t\tvalues.push([route[2], route]);\n\t\t\t} else if(['List', 'Tree', 'Workspaces', 'query-report'].includes(route[0]) || route[2]==='Report') {\n\t\t\t\tif(route[1]) {\n\t\t\t\t\tvalues.push([route[1], route]);\n\t\t\t\t}\n\t\t\t} else if(route[0]) {\n\t\t\t\tvalues.push([frappe.route_titles[route.join('/')] || route[0], route]);\n\t\t\t}\n\t\t});\n\n\t\tfind(values, keywords, function(match) {\n\t\t\tvar out = {\n\t\t\t\troute: match[1]\n\t\t\t};\n\t\t\tif (match[1][0]==='Form') {\n\t\t\t\tif (match[1].length > 2 && match[1][1] !== match[1][2]) {\n\t\t\t\t\tout.label = __(match[1][1]) + \" \" + match[1][2].bold();\n\t\t\t\t\tout.value = __(match[1][1]) + \" \" + match[1][2];\n\t\t\t\t} else {\n\t\t\t\t\tout.label = __(match[1][1]).bold();\n\t\t\t\t\tout.value = __(match[1][1]);\n\t\t\t\t}\n\t\t\t} else if (['List', 'Tree', 'Workspaces', 'query-report'].includes(match[1][0]) && (match[1].length > 1)) {\n\t\t\t\tvar type = match[1][0], label = type;\n\t\t\t\tif (type==='Workspaces') label = 'Workspace';\n\t\t\t\telse if (type==='query-report' || match[1][2] ==='Report') label = 'Report';\n\t\t\t\tout.label = __(`{0} ${label}`, [__(match[1][1]).bold()]);\n\t\t\t\tout.value = __(`{0} ${label}`, [__(match[1][1])]);\n\n\t\t\t} else if (match[0]) {\n\t\t\t\tout.label = match[0].bold();\n\t\t\t\tout.value = match[0];\n\t\t\t} else {\n\t\t\t\t// eslint-disable-next-line\n\t\t\t\tconsole.log('Illegal match', match);\n\t\t\t}\n\t\t\tout.index = 80;\n\t\t\treturn out;\n\t\t});\n\n\t\treturn options;\n\t},\n\n\tget_frequent_links() {\n\t\tlet options = [];\n\t\tfrappe.boot.frequently_visited_links.forEach(link => {\n\t\t\tconst label = frappe.utils.get_route_label(link.route);\n\t\t\toptions.push({\n\t\t\t\t'route': link.route,\n\t\t\t\t'label': label,\n\t\t\t\t'value': label,\n\t\t\t\t'index': link.count,\n\t\t\t});\n\t\t});\n\t\tif (!options.length) {\n\t\t\treturn this.get_recent_pages('');\n\t\t}\n\t\treturn options;\n\t},\n\n\tget_search_in_list: function(keywords) {\n\t\tvar me = this;\n\t\tvar out = [];\n\t\tif(in_list(keywords.split(\" \"), \"in\") && (keywords.slice(-2) !== \"in\")) {\n\t\t\tvar parts = keywords.split(\" in \");\n\t\t\tfrappe.boot.user.can_read.forEach(function(item) {\n\t\t\t\tif(frappe.boot.user.can_search.includes(item)) {\n\t\t\t\t\tvar level = me.fuzzy_search(parts[1], item);\n\t\t\t\t\tif(level) {\n\t\t\t\t\t\tout.push({\n\t\t\t\t\t\t\ttype: \"In List\",\n\t\t\t\t\t\t\tlabel: __('Find {0} in {1}', [__(parts[0]), me.bolden_match_part(__(item), parts[1])]),\n\t\t\t\t\t\t\tvalue: __('Find {0} in {1}', [__(parts[0]), __(item)]),\n\t\t\t\t\t\t\troute_options: {\"name\": [\"like\", \"%\" + parts[0] + \"%\"]},\n\t\t\t\t\t\t\tindex: 1 + level,\n\t\t\t\t\t\t\troute: [\"List\", item]\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\treturn out;\n\t},\n\n\tget_creatables: function(keywords) {\n\t\tvar me = this;\n\t\tvar out = [];\n\t\tvar firstKeyword = keywords.split(\" \")[0];\n\t\tif(firstKeyword.toLowerCase() === __(\"new\")) {\n\t\t\tfrappe.boot.user.can_create.forEach(function(item) {\n\t\t\t\tvar level = me.fuzzy_search(keywords.substr(4), item);\n\t\t\t\tif(level) {\n\t\t\t\t\tout.push({\n\t\t\t\t\t\ttype: \"New\",\n\t\t\t\t\t\tlabel: __(\"New {0}\", [me.bolden_match_part(__(item), keywords.substr(4))]),\n\t\t\t\t\t\tvalue: __(\"New {0}\", [__(item)]),\n\t\t\t\t\t\tindex: 1 + level,\n\t\t\t\t\t\tmatch: item,\n\t\t\t\t\t\tonclick: function() {\n\t\t\t\t\t\t\tfrappe.new_doc(item, true);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\treturn out;\n\t},\n\n\tget_doctypes: function(keywords) {\n\t\tvar me = this;\n\t\tvar out = [];\n\n\t\tvar level, target;\n\t\tvar option = function(type, route, order) {\n\t\t\t// check to skip extra list in the text\n\t\t\t// eg. Price List List should be only Price List\n\t\t\tlet skip_list = type === 'List' && target.endsWith('List');\n\t\t\tlet label_without_type = me.bolden_match_part(__(target), keywords);\n\t\t\tif (skip_list) {\n\t\t\t\tvar label = label_without_type;\n\t\t\t} else {\n\t\t\t\tlabel = __(`{0} ${skip_list ? '' : type}`, [label_without_type]);\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\ttype: type,\n\t\t\t\tlabel: label,\n\t\t\t\tvalue: __(`{0} ${type}`, [target]),\n\t\t\t\tindex: level + order,\n\t\t\t\tmatch: target,\n\t\t\t\troute: route,\n\t\t\t};\n\t\t};\n\t\tfrappe.boot.user.can_read.forEach(function(item) {\n\t\t\tlevel = me.fuzzy_search(keywords, item);\n\t\t\tif (level) {\n\t\t\t\ttarget = item;\n\t\t\t\tif (in_list(frappe.boot.single_types, item)) {\n\t\t\t\t\tout.push(option(\"\", [\"Form\", item, item], 0.05));\n\n\t\t\t\t} else if (frappe.boot.user.can_search.includes(item)) {\n\t\t\t\t\t// include 'making new' option\n\t\t\t\t\tif (in_list(frappe.boot.user.can_create, item)) {\n\t\t\t\t\t\tvar match = item;\n\t\t\t\t\t\tout.push({\n\t\t\t\t\t\t\ttype: \"New\",\n\t\t\t\t\t\t\tlabel: __(\"New {0}\", [me.bolden_match_part(__(item), keywords)]),\n\t\t\t\t\t\t\tvalue: __(\"New {0}\", [__(item)]),\n\t\t\t\t\t\t\tindex: level + 0.015,\n\t\t\t\t\t\t\tmatch: item,\n\t\t\t\t\t\t\tonclick: function() {\n\t\t\t\t\t\t\t\tfrappe.new_doc(match, true);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\tif (in_list(frappe.boot.treeviews, item)) {\n\t\t\t\t\t\tout.push(option(\"Tree\", [\"Tree\", item], 0.05));\n\n\t\t\t\t\t} else {\n\t\t\t\t\t\tout.push(option(\"List\", [\"List\", item], 0.05));\n\t\t\t\t\t\tif (frappe.model.can_get_report(item)) {\n\t\t\t\t\t\t\tout.push(option(\"Report\", [\"List\", item, \"Report\"], 0.04));\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\treturn out;\n\t},\n\n\tget_reports: function(keywords) {\n\t\tvar me = this;\n\t\tvar out = [];\n\t\tvar route;\n\t\tObject.keys(frappe.boot.user.all_reports).forEach(function(item) {\n\t\t\tvar level = me.fuzzy_search(keywords, item);\n\t\t\tif(level > 0) {\n\t\t\t\tvar report = frappe.boot.user.all_reports[item];\n\t\t\t\tif(report.report_type == \"Report Builder\")\n\t\t\t\t\troute = [\"List\", report.ref_doctype, \"Report\", item];\n\t\t\t\telse\n\t\t\t\t\troute = [\"query-report\",  item];\n\t\t\t\tout.push({\n\t\t\t\t\ttype: \"Report\",\n\t\t\t\t\tlabel: __(\"Report {0}\" , [me.bolden_match_part(__(item), keywords)]),\n\t\t\t\t\tvalue: __(\"Report {0}\" , [__(item)]),\n\t\t\t\t\tindex: level,\n\t\t\t\t\troute: route\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t\treturn out;\n\t},\n\n\tget_pages: function(keywords) {\n\t\tvar me = this;\n\t\tvar out = [];\n\t\tthis.pages = {};\n\t\t$.each(frappe.boot.page_info, function(name, p) {\n\t\t\tme.pages[p.title] = p;\n\t\t\tp.name = name;\n\t\t});\n\t\tObject.keys(this.pages).forEach(function(item) {\n\t\t\tif(item == \"Hub\" || item == \"hub\") return;\n\t\t\tvar level = me.fuzzy_search(keywords, item);\n\t\t\tif(level) {\n\t\t\t\tvar page = me.pages[item];\n\t\t\t\tout.push({\n\t\t\t\t\ttype: \"Page\",\n\t\t\t\t\tlabel: __(\"Open {0}\", [me.bolden_match_part(__(item), keywords)]),\n\t\t\t\t\tvalue: __(\"Open {0}\", [__(item)]),\n\t\t\t\t\tmatch: item,\n\t\t\t\t\tindex: level,\n\t\t\t\t\troute: [page.route || page.name]\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t\tvar target = 'Calendar';\n\t\tif(__('calendar').indexOf(keywords.toLowerCase()) === 0) {\n\t\t\tout.push({\n\t\t\t\ttype: \"Calendar\",\n\t\t\t\tvalue: __(\"Open {0}\", [__(target)]),\n\t\t\t\tindex: me.fuzzy_search(keywords, 'Calendar'),\n\t\t\t\tmatch: target,\n\t\t\t\troute: ['List', 'Event', target],\n\t\t\t});\n\t\t}\n\t\ttarget = 'Hub';\n\t\tif(__('hub').indexOf(keywords.toLowerCase()) === 0) {\n\t\t\tout.push({\n\t\t\t\ttype: \"Hub\",\n\t\t\t\tvalue: __(\"Open {0}\", [__(target)]),\n\t\t\t\tindex: me.fuzzy_search(keywords, 'Hub'),\n\t\t\t\tmatch: target,\n\t\t\t\troute: [target, 'Item'],\n\t\t\t});\n\t\t}\n\t\tif(__('email inbox').indexOf(keywords.toLowerCase()) === 0) {\n\t\t\tout.push({\n\t\t\t\ttype: \"Inbox\",\n\t\t\t\tvalue: __(\"Open {0}\", [__('Email Inbox')]),\n\t\t\t\tindex: me.fuzzy_search(keywords, 'email inbox'),\n\t\t\t\tmatch: target,\n\t\t\t\troute: ['List', 'Communication', 'Inbox'],\n\t\t\t});\n\t\t}\n\t\treturn out;\n\t},\n\n\tget_workspaces: function(keywords) {\n\t\tvar me = this;\n\t\tvar out = [];\n\t\tfrappe.boot.allowed_workspaces.forEach(function(item) {\n\t\t\tvar level = me.fuzzy_search(keywords, item.name);\n\t\t\tif (level > 0) {\n\t\t\t\tvar ret = {\n\t\t\t\t\ttype: \"Workspace\",\n\t\t\t\t\tlabel: __(\"Open {0}\", [me.bolden_match_part(__(item.name), keywords)]),\n\t\t\t\t\tvalue: __(\"Open {0}\", [__(item.name)]),\n\t\t\t\t\tindex: level,\n\t\t\t\t\troute: [frappe.router.slug(item.name)]\n\t\t\t\t};\n\n\t\t\t\tout.push(ret);\n\t\t\t}\n\t\t});\n\t\treturn out;\n\t},\n\n\tget_dashboards: function(keywords) {\n\t\tvar me = this;\n\t\tvar out = [];\n\t\tfrappe.boot.dashboards.forEach(function(item) {\n\t\t\tvar level = me.fuzzy_search(keywords, item.name);\n\t\t\tif (level > 0) {\n\t\t\t\tvar ret = {\n\t\t\t\t\ttype: \"Dashboard\",\n\t\t\t\t\tlabel: __(\"{0} Dashboard\", [me.bolden_match_part(__(item.name), keywords)]),\n\t\t\t\t\tvalue: __(\"{0} Dashboard\", [__(item.name)]),\n\t\t\t\t\tindex: level,\n\t\t\t\t\troute: [\"dashboard-view\", item.name]\n\t\t\t\t};\n\n\t\t\t\tout.push(ret);\n\t\t\t}\n\t\t});\n\t\treturn out;\n\t},\n\n\tget_global_results: function(keywords, start, limit, doctype = \"\") {\n\t\tvar me = this;\n\t\tfunction get_results_sets(data) {\n\t\t\tvar results_sets = [], result, set;\n\t\t\tfunction get_existing_set(doctype) {\n\t\t\t\treturn results_sets.find(function(set) {\n\t\t\t\t\treturn set.title === doctype;\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tfunction make_description(content, doc_name) {\n\t\t\t\tvar parts = content.split(\" ||| \");\n\t\t\t\tvar result_max_length = 300;\n\t\t\t\tvar field_length = 120;\n\t\t\t\tvar fields = [];\n\t\t\t\tvar result_current_length = 0;\n\t\t\t\tvar field_text = \"\";\n\t\t\t\tfor(var i = 0; i < parts.length; i++) {\n\t\t\t\t\tvar part = parts[i];\n\t\t\t\t\tif(part.toLowerCase().indexOf(keywords) !== -1) {\n\t\t\t\t\t\t// If the field contains the keyword\n\t\t\t\t\t\tif(part.indexOf(' &&& ') !== -1) {\n\t\t\t\t\t\t\tvar colon_index = part.indexOf(' &&& ');\n\t\t\t\t\t\t\tvar field_value = part.slice(colon_index + 5);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tvar colon_index = part.indexOf(' : ');\n\t\t\t\t\t\t\tvar field_value = part.slice(colon_index + 3);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(field_value.length > field_length) {\n\t\t\t\t\t\t\t// If field value exceeds field_length, find the keyword in it\n\t\t\t\t\t\t\t// and trim field value by half the field_length at both sides\n\t\t\t\t\t\t\t// ellipsify if necessary\n\t\t\t\t\t\t\tvar field_data = \"\";\n\t\t\t\t\t\t\tvar index = field_value.indexOf(keywords);\n\t\t\t\t\t\t\tfield_data += index < field_length/2 ? field_value.slice(0, index)\n\t\t\t\t\t\t\t\t: '...' + field_value.slice(index - field_length/2, index);\n\t\t\t\t\t\t\tfield_data += field_value.slice(index, index + field_length/2);\n\t\t\t\t\t\t\tfield_data += index + field_length/2 < field_value.length ? \"...\" : \"\";\n\t\t\t\t\t\t\tfield_value = field_data;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar field_name = part.slice(0, colon_index);\n\n\t\t\t\t\t\t// Find remaining result_length and add field length to result_current_length\n\t\t\t\t\t\tvar remaining_length = result_max_length - result_current_length;\n\t\t\t\t\t\tresult_current_length += field_name.length + field_value.length + 2;\n\t\t\t\t\t\tif(result_current_length < result_max_length) {\n\t\t\t\t\t\t\t// We have room, push the entire field\n\t\t\t\t\t\t\tfield_text = '<span class=\"field-name text-muted\">' +\n\t\t\t\t\t\t\t\tme.bolden_match_part(field_name, keywords) + ': </span> ' +\n\t\t\t\t\t\t\t\tme.bolden_match_part(field_value, keywords);\n\t\t\t\t\t\t\tif(fields.indexOf(field_text) === -1 && doc_name !== field_value) {\n\t\t\t\t\t\t\t\tfields.push(field_text);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// Not enough room\n\t\t\t\t\t\t\tif(field_name.length < remaining_length){\n\t\t\t\t\t\t\t\t// Ellipsify (trim at word end) and push\n\t\t\t\t\t\t\t\tremaining_length -= field_name.length;\n\t\t\t\t\t\t\t\tfield_text = '<span class=\"field-name text-muted\">' +\n\t\t\t\t\t\t\t\t\tme.bolden_match_part(field_name, keywords) + ': </span> ';\n\t\t\t\t\t\t\t\tfield_value = field_value.slice(0, remaining_length);\n\t\t\t\t\t\t\t\tfield_value = field_value.slice(0, field_value.lastIndexOf(' ')) + ' ...';\n\t\t\t\t\t\t\t\tfield_text += me.bolden_match_part(field_value, keywords);\n\t\t\t\t\t\t\t\tfields.push(field_text);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t// No room for even the field name, skip\n\t\t\t\t\t\t\t\tfields.push('...');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn fields.join(', ');\n\t\t\t}\n\n\t\t\tdata.forEach(function(d) {\n\t\t\t\t// more properties\n\t\t\t\tresult = {\n\t\t\t\t\tlabel: d.name,\n\t\t\t\t\tvalue: d.name,\n\t\t\t\t\tdescription: make_description(d.content, d.name),\n\t\t\t\t\troute: ['Form', d.doctype, d.name],\n\t\t\t\t};\n\t\t\t\tif(d.image || d.image === null){\n\t\t\t\t\tresult.image = d.image;\n\t\t\t\t}\n\t\t\t\tset = get_existing_set(d.doctype);\n\t\t\t\tif(set) {\n\t\t\t\t\tset.results.push(result);\n\t\t\t\t} else {\n\t\t\t\t\tset = {\n\t\t\t\t\t\ttitle: d.doctype,\n\t\t\t\t\t\tresults: [result],\n\t\t\t\t\t\tfetch_type: \"Global\"\n\t\t\t\t\t};\n\t\t\t\t\tresults_sets.push(set);\n\t\t\t\t}\n\n\t\t\t});\n\t\t\treturn results_sets;\n\t\t}\n\t\treturn new Promise(function(resolve, reject) {\n\t\t\tfrappe.call({\n\t\t\t\tmethod: \"frappe.utils.global_search.search\",\n\t\t\t\targs: {\n\t\t\t\t\ttext: keywords,\n\t\t\t\t\tstart: start,\n\t\t\t\t\tlimit: limit,\n\t\t\t\t\tdoctype: doctype\n\t\t\t\t},\n\t\t\t\tcallback: function(r) {\n\t\t\t\t\tif(r.message) {\n\t\t\t\t\t\tresolve(get_results_sets(r.message));\n\t\t\t\t\t} else {\n\t\t\t\t\t\tresolve([]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t},\n\n\tget_nav_results: function(keywords) {\n\t\tfunction sort_uniques(array) {\n\t\t\tvar routes = [], out = [];\n\t\t\tarray.forEach(function(d) {\n\t\t\t\tif(d.route) {\n\t\t\t\t\tif(d.route[0] === \"List\" && d.route[2]) {\n\t\t\t\t\t\td.route.splice(2);\n\t\t\t\t\t}\n\t\t\t\t\tvar str_route = d.route.join('/');\n\t\t\t\t\tif(routes.indexOf(str_route) === -1) {\n\t\t\t\t\t\troutes.push(str_route);\n\t\t\t\t\t\tout.push(d);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tvar old = routes.indexOf(str_route);\n\t\t\t\t\t\tif(out[old].index > d.index) {\n\t\t\t\t\t\t\tout[old] = d;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tout.push(d);\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn out.sort(function(a, b) {\n\t\t\t\treturn b.index - a.index;\n\t\t\t});\n\t\t}\n\t\tvar lists = [], setup = [];\n\t\tvar all_doctypes = sort_uniques(this.get_doctypes(keywords));\n\t\tall_doctypes.forEach(function(d) {\n\t\t\tif(d.type === \"\") {\n\t\t\t\tsetup.push(d);\n\t\t\t} else {\n\t\t\t\tlists.push(d);\n\t\t\t}\n\t\t});\n\t\tvar in_keyword = keywords.split(\" in \")[0];\n\t\treturn [{\n\t\t\ttitle: __(\"Recents\"),\n\t\t\tfetch_type: \"Nav\",\n\t\t\tresults: sort_uniques(this.get_recent_pages(keywords))\n\t\t},\n\t\t{\n\t\t\ttitle: __(\"Create a new ...\"),\n\t\t\tfetch_type: \"Nav\",\n\t\t\tresults: sort_uniques(this.get_creatables(keywords))\n\t\t},\n\t\t{\n\t\t\ttitle: __(\"Lists\"),\n\t\t\tfetch_type: \"Nav\",\n\t\t\tresults: lists\n\t\t},\n\t\t{\n\t\t\ttitle: __(\"Reports\"),\n\t\t\tfetch_type: \"Nav\",\n\t\t\tresults: sort_uniques(this.get_reports(keywords))\n\t\t},\n\t\t{\n\t\t\ttitle: __(\"Administration\"),\n\t\t\tfetch_type: \"Nav\",\n\t\t\tresults: sort_uniques(this.get_pages(keywords))\n\t\t},\n\t\t{\n\t\t\ttitle: __(\"Workspace\"),\n\t\t\tfetch_type: \"Nav\",\n\t\t\tresults: sort_uniques(this.get_workspaces(keywords))\n\t\t},\n\t\t{\n\t\t\ttitle: __(\"Dashboard\"),\n\t\t\tfetch_type: \"Nav\",\n\t\t\tresults: sort_uniques(this.get_dashboards(keywords))\n\t\t},\n\t\t{\n\t\t\ttitle: __(\"Setup\"),\n\t\t\tfetch_type: \"Nav\",\n\t\t\tresults: setup\n\t\t},\n\t\t{\n\t\t\ttitle: __(\"Find '{0}' in ...\", [in_keyword]),\n\t\t\tfetch_type: \"Nav\",\n\t\t\tresults: sort_uniques(this.get_search_in_list(keywords))\n\t\t}];\n\t},\n\n\tfuzzy_search: function(keywords, _item) {\n\t\t// Returns 10 for case-perfect contain, 0 for not found\n\t\t//  \t9 for perfect contain,\n\t\t//  \t0 - 6 for fuzzy contain\n\n\t\t// **Specific use-case step**\n\t\tkeywords = keywords || '';\n\t\tvar item = __(_item || '');\n\t\tvar item_without_hyphen = item.replace(/-/g, \" \");\n\n\t\tvar item_length = item.length;\n\t\tvar query_length = keywords.length;\n\t\tvar length_ratio = query_length / item_length;\n\t\tvar max_skips = 3, max_mismatch_len = 2;\n\n\t\tif (query_length > item_length) {\n\t\t\treturn 0;\n\t\t}\n\n\t\t// check for perfect string matches or\n\t\t// matches that start with the keyword\n\t\tif ([item, item_without_hyphen].includes(keywords)\n\t\t\t\t|| [item, item_without_hyphen].some((txt) => txt.toLowerCase().indexOf(keywords) === 0)) {\n\t\t\treturn 10 + length_ratio;\n\t\t}\n\n\t\tif (item.indexOf(keywords) !== -1 && keywords !== keywords.toLowerCase()) {\n\t\t\treturn 9 + length_ratio;\n\t\t}\n\n\t\titem = item.toLowerCase();\n\t\tkeywords = keywords.toLowerCase();\n\n\t\tif (item.indexOf(keywords) !== -1) {\n\t\t\treturn 8 + length_ratio;\n\t\t}\n\n\t\tvar skips = 0, mismatches = 0;\n\t\touter: for (var i = 0, j = 0; i < query_length; i++) {\n\t\t\tif (mismatches !== 0) skips++;\n\t\t\tif (skips > max_skips) return 0;\n\t\t\tvar k_ch = keywords.charCodeAt(i);\n\t\t\tmismatches = 0;\n\t\t\twhile (j < item_length) {\n\t\t\t\tif (item.charCodeAt(j++) === k_ch) {\n\t\t\t\t\tcontinue outer;\n\t\t\t\t}\n\t\t\t\tif(++mismatches > max_mismatch_len)  return 0 ;\n\t\t\t}\n\t\t\treturn 0;\n\t\t}\n\n\t\t// Since indexOf didn't pass, there will be atleast 1 skip\n\t\t// hence no divide by zero, but just to be safe\n\t\tif((skips + mismatches) > 0) {\n\t\t\treturn (5 + length_ratio)/(skips + mismatches);\n\t\t} else {\n\t\t\treturn 0;\n\t\t}\n\t},\n\n\tbolden_match_part: function(str, subseq) {\n\t\tvar rendered = \"\";\n\t\tif(this.fuzzy_search(subseq, str) === 0) {\n\t\t\treturn str;\n\t\t} else if(this.fuzzy_search(subseq, str) > 6) {\n\t\t\tvar regEx = new RegExp(\"(\"+ subseq +\")\", \"ig\");\n\t\t\treturn str.replace(regEx, '<mark>$1</mark>');\n\t\t} else {\n\t\t\tvar str_orig = str;\n\t\t\tvar str = str.toLowerCase();\n\t\t\tvar str_len = str.length;\n\t\t\tvar subseq = subseq.toLowerCase();\n\n\t\t\touter: for(var i = 0, j = 0; i < subseq.length; i++) {\n\t\t\t\tvar sub_ch = subseq.charCodeAt(i);\n\t\t\t\twhile(j < str_len) {\n\t\t\t\t\tif(str.charCodeAt(j) === sub_ch) {\n\t\t\t\t\t\tvar str_char = str_orig.charAt(j);\n\t\t\t\t\t\tif(str_char === str_char.toLowerCase()) {\n\t\t\t\t\t\t\trendered += '<mark>' + subseq.charAt(i) + '</mark>';\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\trendered += '<mark>' + subseq.charAt(i).toUpperCase() + '</mark>';\n\t\t\t\t\t\t}\n\t\t\t\t\t\tj++;\n\t\t\t\t\t\tcontinue outer;\n\t\t\t\t\t}\n\t\t\t\t\trendered += str_orig.charAt(j);\n\t\t\t\t\tj++;\n\t\t\t\t}\n\t\t\t\treturn str_orig;\n\t\t\t}\n\t\t\trendered += str_orig.slice(j);\n\t\t\treturn rendered;\n\t\t}\n\n\t},\n\n\tget_executables(keywords) {\n\t\tlet results = [];\n\t\tthis.searchable_functions.forEach(item => {\n\t\t\tconst target = item.label.toLowerCase();\n\t\t\tconst txt = keywords.toLowerCase();\n\t\t\tif (txt === target || target.indexOf(txt) === 0) {\n\t\t\t\tresults.push({\n\t\t\t\t\ttype: \"Executable\",\n\t\t\t\t\tvalue:  this.bolden_match_part(__(item.label), txt),\n\t\t\t\t\tindex: this.fuzzy_search(txt, target),\n\t\t\t\t\tmatch: item.label,\n\t\t\t\t\tonclick: () => item.action.apply(this, item.args)\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t\treturn results;\n\t},\n\tmake_function_searchable(_function, label=null, args=null) {\n\t\tif (typeof _function !== 'function') {\n\t\t\tthrow new Error('First argument should be a function');\n\t\t}\n\n\t\tthis.searchable_functions.push({\n\t\t\t'label': label || _function.name,\n\t\t\t'action': _function,\n\t\t\t'args': args,\n\t\t});\n\t},\n\tsearchable_functions: [],\n};\n","frappe.provide('frappe.ui.misc');\nfrappe.ui.misc.about = function() {\n\tif(!frappe.ui.misc.about_dialog) {\n\t\tvar d = new frappe.ui.Dialog({title: __('Frappe Framework')});\n\n\t\t$(d.body).html(repl(\"<div>\\\n\t\t<p>\"+__(\"Open Source Applications for the Web\")+\"</p>  \\\n\t\t<p><i class='fa fa-globe fa-fw'></i>\\\n\t\t\tWebsite: <a href='https://frappeframework.com' target='_blank'>https://frappeframework.com</a></p>\\\n\t\t<p><i class='fa fa-github fa-fw'></i>\\\n\t\t\tSource: <a href='https://github.com/frappe' target='_blank'>https://github.com/frappe</a></p>\\\n\t\t<p><i class='fa fa-linkedin fa-fw'></i>\\\n\t\t\tLinkedin: <a href='https://linkedin.com/company/frappe-tech' target='_blank'>https://linkedin.com/company/frappe-tech</a></p>\\\n\t\t<p><i class='fa fa-facebook fa-fw'></i>\\\n\t\t\tFacebook: <a href='https://facebook.com/erpnext' target='_blank'>https://facebook.com/erpnext</a></p>\\\n\t\t<p><i class='fa fa-twitter fa-fw'></i>\\\n\t\t\tTwitter: <a href='https://twitter.com/erpnext' target='_blank'>https://twitter.com/erpnext</a></p>\\\n\t\t<hr>\\\n\t\t<h4>Installed Apps</h4>\\\n\t\t<div id='about-app-versions'>Loading versions...</div>\\\n\t\t<hr>\\\n\t\t<p class='text-muted'>&copy; Frappe Technologies Pvt. Ltd and contributors </p> \\\n\t\t</div>\", frappe.app));\n\n\t\tfrappe.ui.misc.about_dialog = d;\n\n\t\tfrappe.ui.misc.about_dialog.on_page_show = function() {\n\t\t\tif(!frappe.versions) {\n\t\t\t\tfrappe.call({\n\t\t\t\t\tmethod: \"frappe.utils.change_log.get_versions\",\n\t\t\t\t\tcallback: function(r) {\n\t\t\t\t\t\tshow_versions(r.message);\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t} else {\n\t\t\t\tshow_versions(frappe.versions);\n\t\t\t}\n\t\t};\n\n\t\tvar show_versions = function(versions) {\n\t\t\tvar $wrap = $(\"#about-app-versions\").empty();\n\t\t\t$.each(Object.keys(versions).sort(), function(i, key) {\n\t\t\t\tvar v = versions[key];\n\t\t\t\tif(v.branch) {\n\t\t\t\t\tvar text = $.format('<p><b>{0}:</b> v{1} ({2})<br></p>',\n\t\t\t\t\t\t[v.title, v.branch_version || v.version, v.branch])\n\t\t\t\t} else {\n\t\t\t\t\tvar text = $.format('<p><b>{0}:</b> v{1}<br></p>',\n\t\t\t\t\t\t[v.title, v.version])\n\t\t\t\t}\n\t\t\t\t$(text).appendTo($wrap);\n\t\t\t});\n\n\t\t\tfrappe.versions = versions;\n\t\t}\n\n\t}\n\n\tfrappe.ui.misc.about_dialog.show();\n\n}\n","// Copyright (c) 2015, Frappe Technologies Pvt. Ltd. and Contributors\n// MIT License. See license.txt\n\nfrappe.provide(\"frappe.ui.toolbar\");\nfrappe.provide('frappe.search');\n\nfrappe.ui.toolbar.Toolbar = class {\n\tconstructor () {\n\t\t$('header').replaceWith(frappe.render_template(\"navbar\", {\n\t\t\tavatar: frappe.avatar(frappe.session.user, 'avatar-medium'),\n\t\t\tnavbar_settings: frappe.boot.navbar_settings\n\t\t}));\n\t\t$('.dropdown-toggle').dropdown();\n\n\t\tthis.setup_awesomebar();\n\t\tthis.setup_notifications();\n\t\tthis.setup_help();\n\t\tthis.make();\n\t}\n\n\tmake () {\n\t\tthis.bind_events();\n\t\t$(document).trigger('toolbar_setup');\n\t}\n\n\tbind_events () {\n\t\t// clear all custom menus on page change\n\t\t$(document).on(\"page-change\", function() {\n\t\t\t$(\"header .navbar .custom-menu\").remove();\n\t\t});\n\n\t\t//focus search-modal on show in mobile view\n\t\t$('#search-modal').on('shown.bs.modal', function() {\n\t\t\tvar search_modal = $(this);\n\t\t\tsetTimeout(function() {\n\t\t\t\tsearch_modal.find('#modal-search').focus();\n\t\t\t}, 300);\n\t\t});\n\t\t$('.navbar-toggle-full-width').click(() => {\n\t\t\tfrappe.ui.toolbar.toggle_full_width();\n\t\t});\n\t}\n\n\n\tsetup_help () {\n\t\tif (!frappe.boot.desk_settings.notifications) {\n\t\t\t// hide the help section\n\t\t\t$('.navbar .vertical-bar').removeClass('d-sm-block');\n\t\t\t$('.dropdown-help').removeClass('d-lg-block');\n\t\t\treturn;\n\t\t}\n\t\tfrappe.provide('frappe.help');\n\t\tfrappe.help.show_results = show_results;\n\n\t\tthis.search = new frappe.search.SearchDialog();\n\t\tfrappe.provide('frappe.searchdialog');\n\t\tfrappe.searchdialog.search = this.search;\n\n\t\t$(\".dropdown-help .dropdown-toggle\").on(\"click\", function() {\n\t\t\t$(\".dropdown-help input\").focus();\n\t\t});\n\n\t\t$(\".dropdown-help .dropdown-menu\").on(\"click\", \"input, button\", function(e) {\n\t\t\te.stopPropagation();\n\t\t});\n\n\t\t$(\"#input-help\").on(\"keydown\", function(e) {\n\t\t\tif(e.which == 13) {\n\t\t\t\t$(this).val(\"\");\n\t\t\t}\n\t\t});\n\n\t\t$(document).on(\"page-change\", function () {\n\t\t\tvar $help_links = $(\".dropdown-help #help-links\");\n\t\t\t$help_links.html(\"\");\n\n\t\t\tvar route = frappe.get_route_str();\n\t\t\tvar breadcrumbs = route.split(\"/\");\n\n\t\t\tvar links = [];\n\t\t\tfor (var i = 0; i < breadcrumbs.length; i++) {\n\t\t\t\tvar r = route.split(\"/\", i + 1);\n\t\t\t\tvar key = r.join(\"/\");\n\t\t\t\tvar help_links = frappe.help.help_links[key] || [];\n\t\t\t\tlinks = $.merge(links, help_links);\n\t\t\t}\n\n\t\t\tif(links.length === 0) {\n\t\t\t\t$help_links.next().hide();\n\t\t\t} else {\n\t\t\t\t$help_links.next().show();\n\t\t\t}\n\n\t\t\tfor (var i = 0; i < links.length; i++) {\n\t\t\t\tvar link = links[i];\n\t\t\t\tvar url = link.url;\n\t\t\t\t$(\"<a>\", {\n\t\t\t\t\thref: url,\n\t\t\t\t\tclass: \"dropdown-item\",\n\t\t\t\t\ttext: __(link.label),\n\t\t\t\t\ttarget: \"_blank\"\n\t\t\t\t}).appendTo($help_links);\n\t\t\t}\n\n\t\t\t$('.dropdown-help .dropdown-menu').on('click', 'a', show_results);\n\t\t});\n\n\t\tvar $result_modal = frappe.get_modal(\"\", \"\");\n\t\t$result_modal.addClass(\"help-modal\");\n\n\t\t$(document).on(\"click\", \".help-modal a\", show_results);\n\n\t\tfunction show_results(e) {\n\t\t\t//edit links\n\t\t\tvar href = e.target.href;\n\t\t\tif(href.indexOf('blob') > 0) {\n\t\t\t\twindow.open(href, '_blank');\n\t\t\t}\n\t\t\tvar path = $(e.target).attr(\"data-path\");\n\t\t\tif(path) {\n\t\t\t\te.preventDefault();\n\t\t\t}\n\t\t}\n\t}\n\n\tsetup_awesomebar() {\n\t\tif (frappe.boot.desk_settings.search_bar) {\n\t\t\tlet awesome_bar = new frappe.search.AwesomeBar();\n\t\t\tawesome_bar.setup(\"#navbar-search\");\n\n\t\t\t// TODO: Remove this in v14\n\t\t\tfrappe.search.utils.make_function_searchable(function() {\n\t\t\t\tfrappe.set_route(\"List\", \"Client Script\");\n\t\t\t}, __(\"Custom Script List\"));\n\n\t\t}\n\t}\n\n\tsetup_notifications () {\n\t\tif (frappe.boot.desk_settings.notifications && frappe.session.user !== 'Guest') {\n\t\t\tthis.notifications = new frappe.ui.Notifications();\n\t\t}\n\t}\n\n};\n\n$.extend(frappe.ui.toolbar, {\n\tadd_dropdown_button: function(parent, label, click, icon) {\n\t\tvar menu = frappe.ui.toolbar.get_menu(parent);\n\t\tif(menu.find(\"li:not(.custom-menu)\").length && !menu.find(\".divider\").length) {\n\t\t\tfrappe.ui.toolbar.add_menu_divider(menu);\n\t\t}\n\n\t\treturn $('<li class=\"custom-menu\"><a><i class=\"fa-fw '\n\t\t\t+icon+'\"></i> '+label+'</a></li>')\n\t\t\t.insertBefore(menu.find(\".divider\"))\n\t\t\t.find(\"a\")\n\t\t\t.click(function() {\n\t\t\t\tclick.apply(this);\n\t\t\t});\n\t},\n\tget_menu: function(label) {\n\t\treturn $(\"#navbar-\" + label.toLowerCase());\n\t},\n\tadd_menu_divider: function(menu) {\n\t\tmenu = typeof menu == \"string\" ?\n\t\t\tfrappe.ui.toolbar.get_menu(menu) : menu;\n\n\t\t$('<li class=\"divider custom-menu\"></li>').prependTo(menu);\n\t},\n\tadd_icon_link(route, icon, index, class_name) {\n\t\tlet parent_element = $(\".navbar-right\").get(0);\n\t\tlet new_element = $(`<li class=\"${class_name}\">\n\t\t\t<a class=\"btn\" href=\"${route}\" title=\"${frappe.utils.to_title_case(class_name, true)}\" aria-haspopup=\"true\" aria-expanded=\"true\">\n\t\t\t\t<div>\n\t\t\t\t\t<i class=\"octicon ${icon}\"></i>\n\t\t\t\t</div>\n\t\t\t</a>\n\t\t</li>`).get(0);\n\n\t\tparent_element.insertBefore(new_element, parent_element.children[index]);\n\t},\n\ttoggle_full_width() {\n\t\tlet fullwidth = JSON.parse(localStorage.container_fullwidth || 'false');\n\t\tfullwidth = !fullwidth;\n\t\tlocalStorage.container_fullwidth = fullwidth;\n\t\tfrappe.ui.toolbar.set_fullwidth_if_enabled();\n\t\t$(document.body).trigger('toggleFullWidth');\n\t},\n\tset_fullwidth_if_enabled() {\n\t\tlet fullwidth = JSON.parse(localStorage.container_fullwidth || 'false');\n\t\t$(document.body).toggleClass('full-width', fullwidth);\n\t},\n\tshow_shortcuts (e) {\n\t\te.preventDefault();\n\t\tfrappe.ui.keys.show_keyboard_shortcut_dialog();\n\t\treturn false;\n\t},\n});\n\nfrappe.ui.toolbar.clear_cache = frappe.utils.throttle(function() {\n\tfrappe.assets.clear_local_storage();\n\tfrappe.xcall('frappe.sessions.clear').then(message => {\n\t\tfrappe.show_alert({\n\t\t\tmessage: message,\n\t\t\tindicator: 'info'\n\t\t});\n\t\tlocation.reload(true);\n\t});\n}, 10000);\n\nfrappe.ui.toolbar.show_about = function() {\n\ttry {\n\t\tfrappe.ui.misc.about();\n\t} catch(e) {\n\t\tconsole.log(e);\n\t}\n\treturn false;\n};\n\nfrappe.ui.toolbar.route_to_user = function() {\n\tfrappe.set_route('Form', 'User', frappe.session.user);\n};\n\nfrappe.ui.toolbar.view_website = function() {\n\tlet website_tab = window.open();\n\twebsite_tab.opener = null;\n\twebsite_tab.location = '/index';\n};\n\nfrappe.ui.toolbar.setup_session_defaults = function() {\n\tlet fields = [];\n\tfrappe.call({\n\t\tmethod: 'frappe.core.doctype.session_default_settings.session_default_settings.get_session_default_values',\n\t\tcallback: function (data) {\n\t\t\tfields = JSON.parse(data.message);\n\t\t\tlet perms = frappe.perm.get_perm('Session Default Settings');\n\t\t\t//add settings button only if user is a System Manager or has permission on 'Session Default Settings'\n\t\t\tif ((in_list(frappe.user_roles, 'System Manager')) || (perms[0].read == 1))  {\n\t\t\t\tfields[fields.length] = {\n\t\t\t\t\t'fieldname': 'settings',\n\t\t\t\t\t'fieldtype': 'Button',\n\t\t\t\t\t'label': __('Settings'),\n\t\t\t\t\t'click': () => {\n\t\t\t\t\t\tfrappe.set_route('Form', 'Session Default Settings', 'Session Default Settings');\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t}\n\t\t\tfrappe.prompt(fields, function(values) {\n\t\t\t\t//if default is not set for a particular field in prompt\n\t\t\t\tfields.forEach(function(d) {\n\t\t\t\t\tif (!values[d.fieldname]) {\n\t\t\t\t\t\tvalues[d.fieldname] = \"\";\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tfrappe.call({\n\t\t\t\t\tmethod: 'frappe.core.doctype.session_default_settings.session_default_settings.set_session_default_values',\n\t\t\t\t\targs: {\n\t\t\t\t\t\tdefault_values: values,\n\t\t\t\t\t},\n\t\t\t\t\tcallback: function(data) {\n\t\t\t\t\t\tif (data.message == \"success\") {\n\t\t\t\t\t\t\tfrappe.show_alert({\n\t\t\t\t\t\t\t\t'message': __('Session Defaults Saved'),\n\t\t\t\t\t\t\t\t'indicator': 'green'\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tfrappe.ui.toolbar.clear_cache();\n\t\t\t\t\t\t}\telse {\n\t\t\t\t\t\t\tfrappe.show_alert({\n\t\t\t\t\t\t\t\t'message': __('An error occurred while setting Session Defaults'),\n\t\t\t\t\t\t\t\t'indicator': 'red'\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t},\n\t\t\t__('Session Defaults'),\n\t\t\t__('Save'),\n\t\t\t);\n\t\t}\n\t});\n};","// Copyright (c) 2018, Frappe Technologies Pvt. Ltd. and Contributors\n// MIT License. See license.txt\n\nfrappe.last_edited_communication = {};\nconst separator_element = '<div>---</div>';\n\nfrappe.views.CommunicationComposer = class {\n\tconstructor(opts) {\n\t\t$.extend(this, opts);\n\t\tif (!this.doc) {\n\t\t\tthis.doc = this.frm && this.frm.doc || {};\n\t\t}\n\n\t\tthis.make();\n\t}\n\n\tmake() {\n\t\tconst me = this;\n\n\t\tthis.dialog = new frappe.ui.Dialog({\n\t\t\ttitle: (this.title || this.subject || __(\"New Email\")),\n\t\t\tno_submit_on_enter: true,\n\t\t\tfields: this.get_fields(),\n\t\t\tprimary_action_label: __(\"Send\"),\n\t\t\tprimary_action() {\n\t\t\t\tme.send_action();\n\t\t\t},\n\t\t\tsecondary_action_label: __(\"Discard\"),\n\t\t\tsecondary_action() {\n\t\t\t\tme.dialog.hide();\n\t\t\t\tme.clear_cache();\n\t\t\t},\n\t\t\tsize: 'large',\n\t\t\tminimizable: true\n\t\t});\n\n\t\t$(this.dialog.$wrapper.find(\".form-section\").get(0)).addClass('to_section');\n\n\t\tthis.prepare();\n\t\tthis.dialog.show();\n\n\t\tif (this.frm) {\n\t\t\t$(document).trigger('form-typing', [this.frm]);\n\t\t}\n\t}\n\n\tget_fields() {\n\t\tconst fields = [\n\t\t\t{\n\t\t\t\tlabel: __(\"To\"),\n\t\t\t\tfieldtype: \"MultiSelect\",\n\t\t\t\treqd: 0,\n\t\t\t\tfieldname: \"recipients\",\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldtype: \"Button\",\n\t\t\t\tlabel: frappe.utils.icon('down'),\n\t\t\t\tfieldname: 'option_toggle_button',\n\t\t\t\tclick: () => {\n\t\t\t\t\tthis.toggle_more_options();\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldtype: \"Section Break\",\n\t\t\t\thidden: 1,\n\t\t\t\tfieldname: \"more_options\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabel: __(\"CC\"),\n\t\t\t\tfieldtype: \"MultiSelect\",\n\t\t\t\tfieldname: \"cc\",\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabel: __(\"BCC\"),\n\t\t\t\tfieldtype: \"MultiSelect\",\n\t\t\t\tfieldname: \"bcc\",\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabel: __(\"Email Template\"),\n\t\t\t\tfieldtype: \"Link\",\n\t\t\t\toptions: \"Email Template\",\n\t\t\t\tfieldname: \"email_template\"\n\t\t\t},\n\t\t\t{ fieldtype: \"Section Break\" },\n\t\t\t{\n\t\t\t\tlabel: __(\"Subject\"),\n\t\t\t\tfieldtype: \"Data\",\n\t\t\t\treqd: 1,\n\t\t\t\tfieldname: \"subject\",\n\t\t\t\tlength: 524288\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabel: __(\"Message\"),\n\t\t\t\tfieldtype: \"Text Editor\",\n\t\t\t\tfieldname: \"content\",\n\t\t\t\tonchange: frappe.utils.debounce(\n\t\t\t\t\tthis.save_as_draft.bind(this),\n\t\t\t\t\t300\n\t\t\t\t)\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldtype: \"Button\",\n\t\t\t\tlabel: __(\"Add Signature\"),\n\t\t\t\tfieldname: 'add_signature',\n\t\t\t\thidden: 1,\n\t\t\t\tclick: async function() {\n\t\t\t\t\tlet sender_email = this.dialog.get_value('sender') || \"\";\n\t\t\t\t\tthis.content_set = false;\n\t\t\t\t\tawait this.set_content(sender_email);\n\t\t\t\t}\n\t\t\t},\n\t\t\t{ fieldtype: \"Section Break\" },\n\t\t\t{\n\t\t\t\tlabel: __(\"Send me a copy\"),\n\t\t\t\tfieldtype: \"Check\",\n\t\t\t\tfieldname: \"send_me_a_copy\",\n\t\t\t\tdefault: frappe.boot.user.send_me_a_copy\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabel: __(\"Send Read Receipt\"),\n\t\t\t\tfieldtype: \"Check\",\n\t\t\t\tfieldname: \"send_read_receipt\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabel: __(\"Attach Document Print\"),\n\t\t\t\tfieldtype: \"Check\",\n\t\t\t\tfieldname: \"attach_document_print\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabel: __(\"Select Print Format\"),\n\t\t\t\tfieldtype: \"Select\",\n\t\t\t\tfieldname: \"select_print_format\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabel: __(\"Select Languages\"),\n\t\t\t\tfieldtype: \"Select\",\n\t\t\t\tfieldname: \"language_sel\"\n\t\t\t},\n\t\t\t{ fieldtype: \"Column Break\" },\n\t\t\t{\n\t\t\t\tlabel: __(\"Select Attachments\"),\n\t\t\t\tfieldtype: \"HTML\",\n\t\t\t\tfieldname: \"select_attachments\"\n\t\t\t}\n\t\t];\n\n\t\t// add from if user has access to multiple email accounts\n\t\tconst email_accounts = frappe.boot.email_accounts.filter(account => {\n\t\t\treturn (\n\t\t\t\t!in_list(\n\t\t\t\t\t[\"All Accounts\", \"Sent\", \"Spam\", \"Trash\"],\n\t\t\t\t\taccount.email_account\n\t\t\t\t) && account.enable_outgoing\n\t\t\t);\n\t\t});\n\n\t\tif (email_accounts.length) {\n\t\t\tthis.user_email_accounts = email_accounts.map(function(e) {\n\t\t\t\treturn e.email_id;\n\t\t\t});\n\n\t\t\tfields.unshift({\n\t\t\t\tlabel: __(\"From\"),\n\t\t\t\tfieldtype: \"Select\",\n\t\t\t\treqd: 1,\n\t\t\t\tfieldname: \"sender\",\n\t\t\t\toptions: this.user_email_accounts\n\t\t\t});\n\t\t\t//Preselect email senders if there is only one\n\t\t\tif (this.user_email_accounts.length==1) {\n\t\t\t\tthis['sender'] = this.user_email_accounts\n\t\t\t}\n\t\t}\n\n\t\treturn fields;\n\t}\n\n\ttoggle_more_options(show_options) {\n\t\tshow_options = show_options || this.dialog.fields_dict.more_options.df.hidden;\n\t\tthis.dialog.set_df_property('more_options', 'hidden', !show_options);\n\n\t\tconst label = frappe.utils.icon(show_options ? 'up-line': 'down');\n\t\tthis.dialog.get_field('option_toggle_button').set_label(label);\n\t}\n\n\tprepare() {\n\t\tthis.setup_multiselect_queries();\n\t\tthis.setup_subject_and_recipients();\n\t\tthis.setup_print_language();\n\t\tthis.setup_print();\n\t\tthis.setup_attach();\n\t\tthis.setup_email();\n\t\tthis.setup_email_template();\n\t\tthis.setup_last_edited_communication();\n\t\tthis.setup_add_signature_button();\n\t\tthis.set_values();\n\t}\n\n\tsetup_add_signature_button() {\n\t\tlet has_sender = this.dialog.has_field('sender');\n\t\tthis.dialog.set_df_property('add_signature', 'hidden', !has_sender);\n\t}\n\n\tsetup_multiselect_queries() {\n\t\t['recipients', 'cc', 'bcc'].forEach(field => {\n\t\t\tthis.dialog.fields_dict[field].get_data = () => {\n\t\t\t\tconst data = this.dialog.fields_dict[field].get_value();\n\t\t\t\tconst txt = data.match(/[^,\\s*]*$/)[0] || '';\n\n\t\t\t\tfrappe.call({\n\t\t\t\t\tmethod: \"frappe.email.get_contact_list\",\n\t\t\t\t\targs: {txt},\n\t\t\t\t\tcallback: (r) => {\n\t\t\t\t\t\tthis.dialog.fields_dict[field].set_data(r.message);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t};\n\t\t});\n\t}\n\n\tsetup_subject_and_recipients() {\n\t\tthis.subject = this.subject || \"\";\n\n\t\tif (!this.forward && !this.recipients && this.last_email) {\n\t\t\tthis.recipients = this.last_email.sender;\n\t\t\tthis.cc = this.last_email.cc;\n\t\t\tthis.bcc = this.last_email.bcc;\n\t\t}\n\n\t\tif (!this.forward && !this.recipients) {\n\t\t\tthis.recipients = this.frm && this.frm.timeline.get_recipient();\n\t\t}\n\n\t\tif (!this.subject && this.frm) {\n\t\t\t// get subject from last communication\n\t\t\tconst last = this.frm.timeline.get_last_email();\n\n\t\t\tif (last) {\n\t\t\t\tthis.subject = last.subject;\n\t\t\t\tif (!this.recipients) {\n\t\t\t\t\tthis.recipients = last.sender;\n\t\t\t\t}\n\n\t\t\t\t// prepend \"Re:\"\n\t\t\t\tif (strip(this.subject.toLowerCase().split(\":\")[0])!=\"re\") {\n\t\t\t\t\tthis.subject = __(\"Re: {0}\", [this.subject]);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (!this.subject) {\n\t\t\t\tthis.subject = this.frm.doc.name;\n\t\t\t\tif (this.frm.meta.subject_field && this.frm.doc[this.frm.meta.subject_field]) {\n\t\t\t\t\tthis.subject = this.frm.doc[this.frm.meta.subject_field];\n\t\t\t\t} else if (this.frm.meta.title_field && this.frm.doc[this.frm.meta.title_field]) {\n\t\t\t\t\tthis.subject = this.frm.doc[this.frm.meta.title_field];\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// always add an identifier to catch a reply\n\t\t\t// some email clients (outlook) may not send the message id to identify\n\t\t\t// the thread. So as a backup we use the name of the document as identifier\n\t\t\tconst identifier = `#${this.frm.doc.name}`;\n\n\t\t\t// converting to str for int names\n\t\t\tif (!cstr(this.subject).includes(identifier)) {\n\t\t\t\tthis.subject = `${this.subject} (${identifier})`;\n\t\t\t}\n\t\t}\n\n\t\tif (this.frm && !this.recipients) {\n\t\t\tthis.recipients = this.frm.doc[this.frm.email_field];\n\t\t}\n\t}\n\n\tsetup_email_template() {\n\t\tconst me = this;\n\n\t\tthis.dialog.fields_dict[\"email_template\"].df.onchange = () => {\n\t\t\tconst email_template = me.dialog.fields_dict.email_template.get_value();\n\t\t\tif (!email_template) return;\n\n\t\t\tfunction prepend_reply(reply) {\n\t\t\t\tif (me.reply_added === email_template) return;\n\n\t\t\t\tconst content_field = me.dialog.fields_dict.content;\n\t\t\t\tconst subject_field = me.dialog.fields_dict.subject;\n\n\t\t\t\tlet content = content_field.get_value() || \"\";\n\n\t\t\t\tcontent_field.set_value(`${reply.message}<br>${content}`);\n\t\t\t\tsubject_field.set_value(reply.subject);\n\n\t\t\t\tme.reply_added = email_template;\n\t\t\t}\n\n\t\t\tfrappe.call({\n\t\t\t\tmethod: 'frappe.email.doctype.email_template.email_template.get_email_template',\n\t\t\t\targs: {\n\t\t\t\t\ttemplate_name: email_template,\n\t\t\t\t\tdoc: me.doc,\n\t\t\t\t\t_lang: me.dialog.get_value(\"language_sel\")\n\t\t\t\t},\n\t\t\t\tcallback(r) {\n\t\t\t\t\tprepend_reply(r.message);\n\t\t\t\t},\n\t\t\t});\n\t\t};\n\t}\n\n\tsetup_last_edited_communication() {\n\t\tif (this.frm) {\n\t\t\tthis.doctype = this.frm.doctype;\n\t\t\tthis.key = this.frm.docname;\n\t\t} else {\n\t\t\tthis.doctype = this.key = \"Inbox\";\n\t\t}\n\n\t\tif (this.last_email) {\n\t\t\tthis.key = this.key + \":\" + this.last_email.name;\n\t\t}\n\n\t\tif (this.subject) {\n\t\t\tthis.key = this.key + \":\" + this.subject;\n\t\t}\n\n\t\tthis.dialog.on_hide = () => {\n\t\t\t$.extend(\n\t\t\t\tthis.get_last_edited_communication(true),\n\t\t\t\tthis.dialog.get_values(true)\n\t\t\t);\n\n\t\t\tif (this.frm) {\n\t\t\t\t$(document).trigger(\"form-stopped-typing\", [this.frm]);\n\t\t\t}\n\t\t};\n\t}\n\n\tget_last_edited_communication(clear) {\n\t\tif (!frappe.last_edited_communication[this.doctype]) {\n\t\t\tfrappe.last_edited_communication[this.doctype] = {};\n\t\t}\n\n\t\tif (clear || !frappe.last_edited_communication[this.doctype][this.key]) {\n\t\t\tfrappe.last_edited_communication[this.doctype][this.key] = {};\n\t\t}\n\n\t\treturn frappe.last_edited_communication[this.doctype][this.key];\n\t}\n\n\tasync set_values() {\n\t\tfor (const fieldname of [\"recipients\", \"cc\", \"bcc\", \"sender\"]) {\n\t\t\tawait this.dialog.set_value(fieldname, this[fieldname] || \"\");\n\t\t}\n\n\t\tconst subject = frappe.utils.html2text(this.subject) || '';\n\t\tawait this.dialog.set_value(\"subject\", subject);\n\n\t\tawait this.set_values_from_last_edited_communication();\n\t\tawait this.set_content();\n\n\t\t// set default email template for the first email in a document\n\t\tif (this.frm && !this.is_a_reply && !this.content_set) {\n\t\t\tconst email_template = this.frm.meta.default_email_template || '';\n\t\t\tawait this.dialog.set_value(\"email_template\", email_template);\n\t\t}\n\n\t\tfor (const fieldname of ['email_template', 'cc', 'bcc']) {\n\t\t\tif (this.dialog.get_value(fieldname)) {\n\t\t\t\tthis.toggle_more_options(true);\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\tasync set_values_from_last_edited_communication() {\n\t\tif (this.message) return;\n\n\t\tconst last_edited = this.get_last_edited_communication();\n\t\tif (!last_edited.content) return;\n\n\t\t// prevent re-triggering of email template\n\t\tif (last_edited.email_template) {\n\t\t\tconst template_field = this.dialog.fields_dict.email_template;\n\t\t\tawait template_field.set_model_value(last_edited.email_template);\n\t\t\tdelete last_edited.email_template;\n\t\t}\n\n\t\tawait this.dialog.set_values(last_edited);\n\t\tthis.content_set = true;\n\t}\n\n\tselected_format() {\n\t\treturn (\n\t\t\tthis.dialog.fields_dict.select_print_format.input.value\n\t\t\t|| this.frm && this.frm.meta.default_print_format\n\t\t\t|| \"Standard\"\n\t\t);\n\t}\n\n\tget_print_format(format) {\n\t\tif (!format) {\n\t\t\tformat = this.selected_format();\n\t\t}\n\n\t\tif (locals[\"Print Format\"] && locals[\"Print Format\"][format]) {\n\t\t\treturn locals[\"Print Format\"][format];\n\t\t} else {\n\t\t\treturn {};\n\t\t}\n\t}\n\n\tsetup_print_language() {\n\t\tconst fields = this.dialog.fields_dict;\n\n\t\t//Load default print language from doctype\n\t\tthis.lang_code = this.doc.language\n\t\t\t|| this.get_print_format().default_print_language\n\t\t\t|| frappe.boot.lang;\n\n\t\t//On selection of language retrieve language code\n\t\tconst me = this;\n\t\t$(fields.language_sel.input).change(function(){\n\t\t\tme.lang_code = this.value\n\t\t})\n\n\t\t// Load all languages in the select field language_sel\n\t\t$(fields.language_sel.input)\n\t\t\t.empty()\n\t\t\t.add_options(frappe.get_languages());\n\n\t\tif (this.lang_code) {\n\t\t\t$(fields.language_sel.input).val(this.lang_code);\n\t\t}\n\t}\n\n\tsetup_print() {\n\t\t// print formats\n\t\tconst fields = this.dialog.fields_dict;\n\n\t\t// toggle print format\n\t\t$(fields.attach_document_print.input).click(function() {\n\t\t\t$(fields.select_print_format.wrapper).toggle($(this).prop(\"checked\"));\n\t\t});\n\n\t\t// select print format\n\t\t$(fields.select_print_format.wrapper).toggle(false);\n\n\t\tif (this.frm) {\n\t\t\tconst print_formats = frappe.meta.get_print_formats(this.frm.meta.name);\n\t\t\t$(fields.select_print_format.input)\n\t\t\t\t.empty()\n\t\t\t\t.add_options(print_formats)\n\t\t\t\t.val(print_formats[0]);\n\t\t} else {\n\t\t\t$(fields.attach_document_print.wrapper).toggle(false);\n\t\t}\n\n\t}\n\n\tsetup_attach() {\n\t\tconst fields = this.dialog.fields_dict;\n\t\tconst attach = $(fields.select_attachments.wrapper);\n\n\t\tif (!this.attachments) {\n\t\t\tthis.attachments = [];\n\t\t}\n\n\t\tlet args = {\n\t\t\tfolder: 'Home/Attachments',\n\t\t\ton_success: attachment => {\n\t\t\t\tthis.attachments.push(attachment);\n\t\t\t\tthis.render_attachment_rows(attachment);\n\t\t\t}\n\t\t};\n\n\t\tif (this.frm) {\n\t\t\targs = {\n\t\t\t\tdoctype: this.frm.doctype,\n\t\t\t\tdocname: this.frm.docname,\n\t\t\t\tfolder: 'Home/Attachments',\n\t\t\t\ton_success: attachment => {\n\t\t\t\t\tthis.frm.attachments.attachment_uploaded(attachment);\n\t\t\t\t\tthis.render_attachment_rows(attachment);\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\n\t\t$(`\n\t\t\t<label class=\"control-label\">\n\t\t\t\t${__(\"Select Attachments\")}\n\t\t\t</label>\n\t\t\t<div class='attach-list'></div>\n\t\t\t<p class='add-more-attachments'>\n\t\t\t\t<button class='btn btn-xs btn-default'>\n\t\t\t\t\t${frappe.utils.icon('small-add', 'xs')}&nbsp;\n\t\t\t\t\t${__(\"Add Attachment\")}\n\t\t\t\t</button>\n\t\t\t</p>\n\t\t`).appendTo(attach.empty());\n\n\t\tattach\n\t\t\t.find(\".add-more-attachments button\")\n\t\t\t.on('click', () => new frappe.ui.FileUploader(args));\n\t\tthis.render_attachment_rows();\n\t}\n\n\trender_attachment_rows(attachment) {\n\t\tconst select_attachments = this.dialog.fields_dict.select_attachments;\n\t\tconst attachment_rows = $(select_attachments.wrapper).find(\".attach-list\");\n\t\tif (attachment) {\n\t\t\tattachment_rows.append(this.get_attachment_row(attachment, true));\n\t\t} else {\n\t\t\tlet files = [];\n\t\t\tif (this.attachments && this.attachments.length) {\n\t\t\t\tfiles = files.concat(this.attachments);\n\t\t\t}\n\t\t\tif (this.frm) {\n\t\t\t\tfiles = files.concat(this.frm.get_files());\n\t\t\t}\n\n\t\t\tif (files.length) {\n\t\t\t\t$.each(files, (i, f) => {\n\t\t\t\t\tif (!f.file_name) return;\n\t\t\t\t\tif (!attachment_rows.find(`[data-file-name=\"${f.name}\"]`).length) {\n\t\t\t\t\t\tf.file_url = frappe.urllib.get_full_url(f.file_url);\n\t\t\t\t\t\tattachment_rows.append(this.get_attachment_row(f));\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n\n\tget_attachment_row(attachment, checked) {\n\t\treturn $(`<p class=\"checkbox flex\">\n\t\t\t<label class=\"ellipsis\" title=\"${attachment.file_name}\">\n\t\t\t\t<input\n\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\tdata-file-name=\"${attachment.name}\"\n\t\t\t\t\t${checked ? 'checked': ''}>\n\t\t\t\t</input>\n\t\t\t\t<span class=\"ellipsis\">${attachment.file_name}</span>\n\t\t\t</label>\n\t\t\t&nbsp;\n\t\t\t<a href=\"${attachment.file_url}\" target=\"_blank\" class=\"btn-linkF\">\n\t\t\t\t${frappe.utils.icon('link-url')}\n\t\t\t</a>\n\t\t</p>`);\n\t}\n\n\tsetup_email() {\n\t\t// email\n\t\tconst fields = this.dialog.fields_dict;\n\n\t\tif (this.attach_document_print) {\n\t\t\t$(fields.attach_document_print.input).click();\n\t\t\t$(fields.select_print_format.wrapper).toggle(true);\n\t\t}\n\n\t\t$(fields.send_me_a_copy.input).on('click', () => {\n\t\t\t// update send me a copy (make it sticky)\n\t\t\tconst val = fields.send_me_a_copy.get_value();\n\t\t\tfrappe.db.set_value('User', frappe.session.user, 'send_me_a_copy', val);\n\t\t\tfrappe.boot.user.send_me_a_copy = val;\n\t\t});\n\n\t}\n\n\tsend_action() {\n\t\tconst me = this;\n\t\tconst btn = me.dialog.get_primary_btn();\n\t\tconst form_values = this.get_values();\n\t\tif (!form_values) return;\n\n\t\tconst selected_attachments =\n\t\t\t$.map($(me.dialog.wrapper).find(\"[data-file-name]:checked\"), function (element) {\n\t\t\t\treturn $(element).attr(\"data-file-name\");\n\t\t\t});\n\n\n\t\tif (form_values.attach_document_print) {\n\t\t\tme.send_email(btn, form_values, selected_attachments, null, form_values.select_print_format || \"\");\n\t\t} else {\n\t\t\tme.send_email(btn, form_values, selected_attachments);\n\t\t}\n\t}\n\n\tget_values() {\n\t\tconst form_values = this.dialog.get_values();\n\n\t\t// cc\n\t\tfor (let i = 0, l = this.dialog.fields.length; i < l; i++) {\n\t\t\tconst df = this.dialog.fields[i];\n\n\t\t\tif (df.is_cc_checkbox) {\n\t\t\t\t// concat in cc\n\t\t\t\tif (form_values[df.fieldname]) {\n\t\t\t\t\tform_values.cc = ( form_values.cc ? (form_values.cc + \", \") : \"\" ) + df.fieldname;\n\t\t\t\t\tform_values.bcc = ( form_values.bcc ? (form_values.bcc + \", \") : \"\" ) + df.fieldname;\n\t\t\t\t}\n\n\t\t\t\tdelete form_values[df.fieldname];\n\t\t\t}\n\t\t}\n\n\t\treturn form_values;\n\t}\n\n\tsave_as_draft() {\n\t\tif (this.dialog && this.frm) {\n\t\t\tlet message = this.dialog.get_value('content');\n\t\t\tmessage = message.split(separator_element)[0];\n\t\t\tlocalforage.setItem(this.frm.doctype + this.frm.docname, message).catch(e => {\n\t\t\t\tif (e) {\n\t\t\t\t\t// silently fail\n\t\t\t\t\tconsole.log(e); // eslint-disable-line\n\t\t\t\t\tconsole.warn('[Communication] IndexedDB is full. Cannot save message as draft'); // eslint-disable-line\n\t\t\t\t}\n\t\t\t});\n\n\t\t}\n\t}\n\n\tclear_cache() {\n\t\tthis.delete_saved_draft();\n\t\tthis.get_last_edited_communication(true);\n\t}\n\n\tdelete_saved_draft() {\n\t\tif (this.dialog && this.frm) {\n\t\t\tlocalforage.removeItem(this.frm.doctype + this.frm.docname).catch(e => {\n\t\t\t\tif (e) {\n\t\t\t\t\t// silently fail\n\t\t\t\t\tconsole.log(e); // eslint-disable-line\n\t\t\t\t\tconsole.warn('[Communication] IndexedDB is full. Cannot save message as draft'); // eslint-disable-line\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n\n\tsend_email(btn, form_values, selected_attachments, print_html, print_format) {\n\t\tconst me = this;\n\t\tthis.dialog.hide();\n\n\t\tif (!form_values.recipients) {\n\t\t\tfrappe.msgprint(__(\"Enter Email Recipient(s)\"));\n\t\t\treturn;\n\t\t}\n\n\t\tif (!form_values.attach_document_print) {\n\t\t\tprint_html = null;\n\t\t\tprint_format = null;\n\t\t}\n\n\n\t\tif (this.frm && !frappe.model.can_email(this.doc.doctype, this.frm)) {\n\t\t\tfrappe.msgprint(__(\"You are not allowed to send emails related to this document\"));\n\t\t\treturn;\n\t\t}\n\n\n\t\treturn frappe.call({\n\t\t\tmethod:\"frappe.core.doctype.communication.email.make\",\n\t\t\targs: {\n\t\t\t\trecipients: form_values.recipients,\n\t\t\t\tcc: form_values.cc,\n\t\t\t\tbcc: form_values.bcc,\n\t\t\t\tsubject: form_values.subject,\n\t\t\t\tcontent: form_values.content,\n\t\t\t\tdoctype: me.doc.doctype,\n\t\t\t\tname: me.doc.name,\n\t\t\t\tsend_email: 1,\n\t\t\t\tprint_html: print_html,\n\t\t\t\tsend_me_a_copy: form_values.send_me_a_copy,\n\t\t\t\tprint_format: print_format,\n\t\t\t\tsender: form_values.sender,\n\t\t\t\tsender_full_name: form_values.sender\n\t\t\t\t\t? frappe.user.full_name()\n\t\t\t\t\t: undefined,\n\t\t\t\temail_template: form_values.email_template,\n\t\t\t\tattachments: selected_attachments,\n\t\t\t\t_lang : me.lang_code,\n\t\t\t\tread_receipt:form_values.send_read_receipt,\n\t\t\t\tprint_letterhead: me.is_print_letterhead_checked(),\n\t\t\t},\n\t\t\tbtn,\n\t\t\tcallback(r) {\n\t\t\t\tif (!r.exc) {\n\t\t\t\t\tfrappe.utils.play_sound(\"email\");\n\n\t\t\t\t\tif (r.message[\"emails_not_sent_to\"]) {\n\t\t\t\t\t\tfrappe.msgprint(__(\"Email not sent to {0} (unsubscribed / disabled)\",\n\t\t\t\t\t\t\t[ frappe.utils.escape_html(r.message[\"emails_not_sent_to\"]) ]) );\n\t\t\t\t\t}\n\n\t\t\t\t\tme.clear_cache();\n\n\t\t\t\t\tif (me.frm) {\n\t\t\t\t\t\tme.frm.reload_doc();\n\t\t\t\t\t}\n\n\t\t\t\t\t// try the success callback if it exists\n\t\t\t\t\tif (me.success) {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tme.success(r);\n\t\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\t\tconsole.log(e); // eslint-disable-line\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\t\t\t\t\tfrappe.msgprint(__(\"There were errors while sending email. Please try again.\"));\n\n\t\t\t\t\t// try the error callback if it exists\n\t\t\t\t\tif (me.error) {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tme.error(r);\n\t\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\t\tconsole.log(e); // eslint-disable-line\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\n\tis_print_letterhead_checked() {\n\t\tif (this.frm && $(this.frm.wrapper).find('.form-print-wrapper').is(':visible')){\n\t\t\treturn $(this.frm.wrapper).find('.print-letterhead').prop('checked') ? 1 : 0;\n\t\t} else {\n\t\t\treturn (frappe.model.get_doc(\":Print Settings\", \"Print Settings\") ||\n\t\t\t\t{ with_letterhead: 1 }).with_letterhead ? 1 : 0;\n\t\t}\n\t}\n\n\tasync set_content(sender_email) {\n\t\tif (this.content_set) return;\n\n\t\tlet message = this.message || \"\";\n\t\tif (!message && this.frm) {\n\t\t\tconst { doctype, docname } = this.frm;\n\t\t\tmessage = await localforage.getItem(doctype + docname) || \"\";\n\t\t}\n\n\t\tif (message) {\n\t\t\tthis.content_set = true;\n\t\t}\n\n\t\tmessage += await this.get_signature(sender_email || null);\n\n\t\tif (this.is_a_reply && !this.reply_set) {\n\t\t\tmessage += this.get_earlier_reply();\n\t\t}\n\n\t\tawait this.dialog.set_value(\"content\", message);\n\t}\n\n\tasync get_signature(sender_email) {\n\t\tlet signature = frappe.boot.user.email_signature;\n\n\t\tif (!signature) {\n\t\t\tlet filters = {\n\t\t\t\t'add_signature': 1\n\t\t\t};\n\n\t\t\tif (sender_email) {\n\t\t\t\tfilters['email_id'] = sender_email;\n\t\t\t} else {\n\t\t\t\tfilters['default_outgoing'] = 1;\n\t\t\t}\n\n\t\t\tconst email_accounts = await frappe.db.get_list(\"Email Account\", {\n\t\t\t\tfilters: filters,\n\t\t\t\tfields: ['signature', 'email_id'],\n\t\t\t\tlimit: 1\n\t\t\t});\n\n\t\t\tlet filtered_email = null;\n\t\t\tif (email_accounts.length) {\n\t\t\t\tsignature = email_accounts[0].signature;\n\t\t\t\tfiltered_email = email_accounts[0].email_id;\n\t\t\t}\n\n\t\t\tif (!sender_email && filtered_email) {\n\t\t\t\tif (this.user_email_accounts &&\n\t\t\t\t\tthis.user_email_accounts.includes(filtered_email)) {\n\t\t\t\t\tthis.dialog.set_value('sender', filtered_email);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (!signature) return \"\";\n\n\t\tif (!frappe.utils.is_html(signature)) {\n\t\t\tsignature = signature.replace(/\\n/g, \"<br>\");\n\t\t}\n\n\t\treturn \"<br>\" + signature;\n\t}\n\n\tget_earlier_reply() {\n\t\tthis.reply_set = false;\n\n\t\tconst last_email = (\n\t\t\tthis.last_email\n\t\t\t|| this.frm && this.frm.timeline.get_last_email(true)\n\t\t);\n\n\t\tif (!last_email) return \"\";\n\t\tlet last_email_content = last_email.original_comment || last_email.content;\n\n\t\t// convert the email context to text as we are enclosing\n\t\t// this inside <blockquote>\n\t\tlast_email_content = this.html2text(last_email_content).replace(/\\n/g, '<br>');\n\n\t\t// clip last email for a maximum of 20k characters\n\t\t// to prevent the email content from getting too large\n\t\tif (last_email_content.length > 20 * 1024) {\n\t\t\tlast_email_content += '<div>' + __('Message clipped') + '</div>' + last_email_content;\n\t\t\tlast_email_content = last_email_content.slice(0, 20 * 1024);\n\t\t}\n\n\t\tconst communication_date = frappe.datetime.global_date_format(\n\t\t\tlast_email.communication_date || last_email.creation\n\t\t);\n\n\t\tthis.reply_set = true;\n\n\t\treturn `\n\t\t\t<div><br></div>\n\t\t\t${separator_element || ''}\n\t\t\t<p>\n\t\t\t${__(\"On {0}, {1} wrote:\", [communication_date, last_email.sender])}\n\t\t\t</p>\n\t\t\t<blockquote>\n\t\t\t${last_email_content}\n\t\t\t</blockquote>\n\t\t`;\n\t}\n\n\thtml2text(html) {\n\t\t// convert HTML to text and try and preserve whitespace\n\t\tconst d = document.createElement( 'div' );\n\t\td.innerHTML = html.replace(/<\\/div>/g, '<br></div>')  // replace end of blocks\n\t\t\t.replace(/<\\/p>/g, '<br></p>') // replace end of paragraphs\n\t\t\t.replace(/<br>/g, '\\n');\n\n\t\t// replace multiple empty lines with just one\n\t\treturn d.textContent.replace(/\\n{3,}/g, '\\n\\n');\n\t}\n};\n","frappe.views.TranslationManager = class TranslationManager {\n\tconstructor(opts) {\n\t\tObject.assign(this, opts);\n\t\tthis.make();\n\t}\n\n\tmake() {\n\t\tthis.data = [];\n\t\tthis.dialog = new frappe.ui.Dialog({\n\t\t\tfields: this.get_fields(),\n\t\t\ttitle: __('Translate {0}', [this.df.label]),\n\t\t\tno_submit_on_enter: true,\n\t\t\tprimary_action_label: __('Update Translations'),\n\t\t\tprimary_action:\n\t\t\t\t(values) => this.update_translations(values)\n\t\t\t\t\t.then(() => {\n\t\t\t\t\t\tthis.dialog.hide();\n\n\t\t\t\t\t\tthis.data = [];\n\n\t\t\t\t\t\tfrappe.msgprint({\n\t\t\t\t\t\t\ttitle: __('Success'),\n\t\t\t\t\t\t\tmessage: __('Successfully updated translations'),\n\t\t\t\t\t\t\tindicator: 'green'\n\t\t\t\t\t\t});\n\t\t\t\t\t})\n\t\t});\n\n\t\tthis.get_translations_data()\n\t\t\t.then(data => {\n\t\t\t\tthis.data.push(...(data || []));\n\t\t\t\tthis.dialog.refresh();\n\t\t\t\tthis.dialog.show();\n\t\t\t});\n\t}\n\n\tget_fields() {\n\t\tvar fields = [\n\t\t\t{\n\t\t\t\tlabel: __('Source Text'),\n\t\t\t\tfieldname: 'source',\n\t\t\t\tfieldtype: 'Data',\n\t\t\t\tread_only: 1,\n\t\t\t\tbold: 1,\n\t\t\t\tdefault: this.source_text\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabel: __('Translations'),\n\t\t\t\tfieldname: 'translation_data',\n\t\t\t\tfieldtype: 'Table',\n\t\t\t\tfields: [\n\t\t\t\t\t{\n\t\t\t\t\t\tlabel: 'Language',\n\t\t\t\t\t\tfieldname: 'language',\n\t\t\t\t\t\tfieldtype: 'Link',\n\t\t\t\t\t\toptions: 'Language',\n\t\t\t\t\t\tin_list_view: 1,\n\t\t\t\t\t\tcolumns: 3\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tlabel: 'Translation',\n\t\t\t\t\t\tfieldname: 'translation',\n\t\t\t\t\t\tfieldtype: 'Text',\n\t\t\t\t\t\tin_list_view: 1,\n\t\t\t\t\t\tcolumns: 7\n\t\t\t\t\t}\n\t\t\t\t],\n\t\t\t\tdata: this.data,\n\t\t\t\tget_data: () => {\n\t\t\t\t\treturn this.data;\n\t\t\t\t}\n\t\t\t}\n\t\t];\n\t\treturn fields;\n\t}\n\n\tget_translations_data() {\n\t\treturn frappe.db.get_list('Translation', {\n\t\t\tfields: ['name', 'language', 'translated_text as translation'],\n\t\t\tfilters: {\n\t\t\t\tsource_text: strip_html(this.source_text)\n\t\t\t}\n\t\t});\n\t}\n\n\tupdate_translations({ source, translation_data = [] }) {\n\t\tconst translation_dict = {};\n\t\ttranslation_data.map(row => {\n\t\t\ttranslation_dict[row.language] = row.translation;\n\t\t});\n\n\t\treturn frappe.call({\n\t\t\tmethod: 'frappe.translate.update_translations_for_source',\n\t\t\tbtn: this.dialog.get_primary_btn(),\n\t\t\targs: {\n\t\t\t\tsource,\n\t\t\t\ttranslation_dict\n\t\t\t}\n\t\t}).fail(() => {\n\t\t\tfrappe.msgprint({\n\t\t\t\ttitle: __('Something went wrong'),\n\t\t\t\tmessage: __('Please try again'),\n\t\t\t\tindicator: 'red'\n\t\t\t});\n\t\t});\n\t}\n};\n\n","frappe.standard_pages['Workspaces'] = function() {\n\tvar wrapper = frappe.container.add_page('Workspaces');\n\n\tfrappe.ui.make_app_page({\n\t\tparent: wrapper,\n\t\tname: 'Workspaces',\n\t\ttitle: __(\"Workspace\"),\n\t});\n\n\tfrappe.workspace = new frappe.views.Workspace(wrapper);\n\t$(wrapper).bind('show', function () {\n\t\tfrappe.workspace.show();\n\t});\n};\n\nfrappe.views.Workspace = class Workspace {\n\tconstructor(wrapper) {\n\t\tthis.wrapper = $(wrapper);\n\t\tthis.page = wrapper.page;\n\t\tthis.prepare_container();\n\t\tthis.show_or_hide_sidebar();\n\t\tthis.setup_dropdown();\n\t\tthis.pages = {};\n\t\tthis.sidebar_items = {};\n\t\tthis.sidebar_categories = [\n\t\t\t\"Modules\",\n\t\t\t\"Domains\",\n\t\t\t\"Places\",\n\t\t\t\"Administration\"\n\t\t];\n\n\t\tthis.setup_workspaces();\n\t\tthis.make_sidebar();\n\t}\n\n\tsetup_workspaces() {\n\t\t// workspaces grouped by categories\n\t\tthis.workspaces = {};\n\t\tfor (let page of frappe.boot.allowed_workspaces) {\n\t\t\tif (!this.workspaces[page.category]) {\n\t\t\t\tthis.workspaces[page.category] = [];\n\t\t\t}\n\t\t\tthis.workspaces[page.category].push(page);\n\t\t}\n\t}\n\n\tshow() {\n\t\tlet page = this.get_page_to_show();\n\t\tthis.page.set_title(`${__(page)}`);\n\t\tthis.show_page(page);\n\t}\n\n\tprepare_container() {\n\t\tlet list_sidebar = $(`\n\t\t\t<div class=\"list-sidebar overlay-sidebar hidden-xs hidden-sm\">\n\t\t\t\t<div class=\"desk-sidebar list-unstyled sidebar-menu\"></div>\n\t\t\t</div>\n\t\t`).appendTo(this.wrapper.find(\".layout-side-section\"));\n\t\tthis.sidebar = list_sidebar.find(\".desk-sidebar\");\n\n\t\tthis.body = this.wrapper.find(\".layout-main-section\");\n\t}\n\n\tget_page_to_show() {\n\t\tlet default_page;\n\n\t\tif (localStorage.current_workspace) {\n\t\t\tdefault_page = localStorage.current_workspace;\n\t\t} else if (this.workspaces) {\n\t\t\tdefault_page = this.workspaces[\"Modules\"][0].name;\n\t\t} else if (frappe.boot.allowed_workspaces) {\n\t\t\tdefault_page = frappe.boot.allowed_workspaces[0].name;\n\t\t} else {\n\t\t\tdefault_page = \"Build\";\n\t\t}\n\n\t\tlet page = frappe.get_route()[1] || default_page;\n\t\treturn page;\n\t}\n\n\tmake_sidebar() {\n\t\tthis.sidebar_categories.forEach(category => {\n\t\t\tif (this.workspaces[category]) {\n\t\t\t\tthis.build_sidebar_section(category, this.workspaces[category]);\n\t\t\t}\n\t\t});\n\t}\n\n\tbuild_sidebar_section(title, items) {\n\t\tlet sidebar_section = $(`<div class=\"standard-sidebar-section\"></div>`);\n\n\t\t// DO NOT REMOVE: Comment to load translation\n\t\t// __(\"Modules\") __(\"Domains\") __(\"Places\") __(\"Administration\")\n\t\t$(`<div class=\"standard-sidebar-label\">${__(title)}</div>`)\n\t\t\t.appendTo(sidebar_section);\n\n\t\tconst get_sidebar_item = function (item) {\n\t\t\treturn $(`\n\t\t\t\t<a\n\t\t\t\t\thref=\"/app/${frappe.router.slug(item.name)}\"\n\t\t\t\t\tclass=\"desk-sidebar-item standard-sidebar-item ${item.selected ? \"selected\" : \"\"}\"\n\t\t\t\t>\n\t\t\t\t\t<span>${frappe.utils.icon(item.icon || \"folder-normal\", \"md\")}</span>\n\t\t\t\t\t<span class=\"sidebar-item-label\">${item.label || item.name}<span>\n\t\t\t\t</a>\n\t\t\t`);\n\t\t};\n\n\t\tconst make_sidebar_category_item = item => {\n\t\t\tif (item.name == this.get_page_to_show()) {\n\t\t\t\titem.selected = true;\n\t\t\t\tthis.current_page_name = item.name;\n\t\t\t}\n\n\t\t\tlet $item = get_sidebar_item(item);\n\n\t\t\t$item.appendTo(sidebar_section);\n\t\t\tthis.sidebar_items[item.name] = $item;\n\t\t};\n\n\t\titems.forEach(item => make_sidebar_category_item(item));\n\n\t\tsidebar_section.appendTo(this.sidebar);\n\t}\n\n\tshow_page(page) {\n\t\tif (this.current_page_name && this.pages[this.current_page_name]) {\n\t\t\tthis.pages[this.current_page_name].hide();\n\t\t}\n\n\t\tif (this.sidebar_items && this.sidebar_items[this.current_page_name]) {\n\t\t\tthis.sidebar_items[this.current_page_name].removeClass(\"selected\");\n\t\t\tthis.sidebar_items[page].addClass(\"selected\");\n\t\t}\n\t\tthis.current_page_name = page;\n\t\tlocalStorage.current_workspace = page;\n\n\t\tthis.pages[page] ? this.pages[page].show() : this.make_page(page);\n\t\tthis.current_page = this.pages[page];\n\t\tthis.setup_dropdown();\n\t}\n\n\tmake_page(page) {\n\t\tconst $page = new DesktopPage({\n\t\t\tcontainer: this.body,\n\t\t\tpage_name: page\n\t\t});\n\n\t\tthis.pages[page] = $page;\n\t\treturn $page;\n\t}\n\n\tcustomize() {\n\t\tif (this.current_page && this.current_page.allow_customization) {\n\t\t\tthis.page.clear_menu();\n\t\t\tthis.current_page.customize();\n\n\t\t\tthis.page.set_primary_action(\n\t\t\t\t__(\"Save Customizations\"),\n\t\t\t\t() => {\n\t\t\t\t\tthis.current_page.save_customization();\n\t\t\t\t\tthis.page.clear_primary_action();\n\t\t\t\t\tthis.page.clear_secondary_action();\n\t\t\t\t\tthis.setup_dropdown();\n\t\t\t\t},\n\t\t\t\tnull,\n\t\t\t\t__(\"Saving\")\n\t\t\t);\n\n\t\t\tthis.page.set_secondary_action(\n\t\t\t\t__(\"Discard\"),\n\t\t\t\t() => {\n\t\t\t\t\tthis.current_page.reload();\n\t\t\t\t\tfrappe.show_alert({ message: __(\"Customizations Discarded\"), indicator: \"info\" });\n\t\t\t\t\tthis.page.clear_primary_action();\n\t\t\t\t\tthis.page.clear_secondary_action();\n\t\t\t\t\tthis.setup_dropdown();\n\t\t\t\t}\n\t\t\t);\n\t\t}\n\t}\n\n\tsetup_dropdown() {\n\t\tthis.page.clear_menu();\n\n\t\tthis.page.set_secondary_action(__('Customize'), () => {\n\t\t\tthis.customize();\n\t\t});\n\n\t\tthis.page.add_menu_item(__('Reset Customizations'), () => {\n\t\t\tthis.current_page.reset_customization();\n\t\t}, 1);\n\n\t\tthis.page.add_menu_item(__('Toggle Sidebar'), () => {\n\t\t\tthis.toggle_side_bar();\n\t\t}, 1);\n\t}\n\n\ttoggle_side_bar() {\n\t\tlet show_workspace_sidebar = JSON.parse(localStorage.show_workspace_sidebar || \"true\");\n\t\tshow_workspace_sidebar = !show_workspace_sidebar;\n\t\tlocalStorage.show_workspace_sidebar = show_workspace_sidebar;\n\t\tthis.show_or_hide_sidebar();\n\t\t$(document.body).trigger(\"toggleDeskSidebar\");\n\t}\n\n\tshow_or_hide_sidebar() {\n\t\tlet show_workspace_sidebar = JSON.parse(localStorage.show_workspace_sidebar || \"true\");\n\t\t$('#page-workspace .layout-side-section').toggleClass('hidden', !show_workspace_sidebar);\n\t}\n};\n\nclass DesktopPage {\n\tconstructor({ container, page_name }) {\n\t\tfrappe.desk_page = this;\n\t\tthis.container = container;\n\t\tthis.page_name = page_name;\n\t\tthis.sections = {};\n\t\tthis.allow_customization = false;\n\t\tthis.reload();\n\t}\n\n\tshow() {\n\t\tfrappe.desk_page = this;\n\t\tthis.page.show();\n\t\tif (this.sections.shortcuts) {\n\t\t\tthis.sections.shortcuts.widgets_list.forEach(wid => {\n\t\t\t\twid.set_actions();\n\t\t\t});\n\t\t}\n\t}\n\n\thide() {\n\t\tthis.page.hide();\n\t}\n\n\treload() {\n\t\tthis.in_customize_mode = false;\n\t\tthis.page && this.page.remove();\n\t\tthis.make();\n\t}\n\n\tmake() {\n\t\tthis.page = $(`<div class=\"desk-page\" data-page-name=${this.page_name}></div>`);\n\t\tthis.page.append(frappe.render_template('workspace_loading_skeleton'));\n\t\tthis.page.appendTo(this.container);\n\n\t\tthis.get_data().then(() => {\n\t\t\tif (Object.keys(this.data).length == 0) {\n\t\t\t\tdelete localStorage.current_workspace;\n\t\t\t\tfrappe.set_route(\"workspace\");\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.refresh();\n\t\t}).finally(this.page.find('.workspace_loading_skeleton').remove);\n\t}\n\n\trefresh() {\n\t\tthis.page.empty();\n\t\tthis.allow_customization = this.data.allow_customization || false;\n\n\t\tif (frappe.is_mobile()) {\n\t\t\tthis.allow_customization = false;\n\t\t}\n\n\t\tthis.data.onboarding && this.data.onboarding.items.length && this.make_onboarding();\n\t\tthis.make_charts();\n\t\tthis.make_shortcuts();\n\t\tthis.make_cards();\n\t}\n\n\tget_data() {\n\t\treturn frappe.xcall(\"frappe.desk.desktop.get_desktop_page\", {\n\t\t\tpage: this.page_name\n\t\t}).then(data => {\n\t\t\tthis.data = data;\n\t\t\tif (Object.keys(this.data).length == 0) return;\n\n\t\t\treturn frappe.dashboard_utils.get_dashboard_settings().then(settings => {\n\t\t\t\tlet chart_config = settings.chart_config ? JSON.parse(settings.chart_config) : {};\n\t\t\t\tif (this.data.charts.items) {\n\t\t\t\t\tthis.data.charts.items.map(chart => {\n\t\t\t\t\t\tchart.chart_settings = chart_config[chart.chart_name] || {};\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t}\n\n\tcustomize() {\n\t\tif (this.in_customize_mode) {\n\t\t\treturn;\n\t\t}\n\n\t\t// We need to remove this as the  chart group will be visible during customization\n\t\t$('.widget.onboarding-widget-box').hide();\n\n\t\tObject.keys(this.sections).forEach(section => {\n\t\t\tthis.sections[section].customize();\n\t\t});\n\t\tthis.in_customize_mode = true;\n\n\t}\n\n\tsave_customization() {\n\t\tfrappe.dom.freeze();\n\t\tconst config = {};\n\n\t\tif (this.sections.charts) config.charts = this.sections.charts.get_widget_config();\n\t\tif (this.sections.shortcuts) config.shortcuts = this.sections.shortcuts.get_widget_config();\n\t\tif (this.sections.cards) config.cards = this.sections.cards.get_widget_config();\n\n\t\tfrappe.call('frappe.desk.desktop.save_customization', {\n\t\t\tpage: this.page_name,\n\t\t\tconfig: config\n\t\t}).then(res => {\n\t\t\tfrappe.dom.unfreeze();\n\t\t\tif (res.message) {\n\t\t\t\tfrappe.show_alert({ message: __(\"Customizations Saved Successfully\"), indicator: \"green\" });\n\t\t\t\tthis.reload();\n\t\t\t} else {\n\t\t\t\tfrappe.throw({ message: __(\"Something went wrong while saving customizations\"), indicator: \"red\" });\n\t\t\t\tthis.reload();\n\t\t\t}\n\t\t});\n\t}\n\n\treset_customization() {\n\t\tfrappe.call('frappe.desk.desktop.reset_customization', {\n\t\t\tpage: this.page_name\n\t\t}).then(() => {\n\t\t\tfrappe.show_alert({ message: __(\"Removed page customizations\"), indicator: \"green\" });\n\t\t\tthis.reload();\n\t\t});\n\t}\n\n\tmake_onboarding() {\n\t\tthis.onboarding_widget = frappe.widget.make_widget({\n\t\t\tlabel: this.data.onboarding.label || __(\"Let's Get Started\"),\n\t\t\tsubtitle: this.data.onboarding.subtitle,\n\t\t\tsteps: this.data.onboarding.items,\n\t\t\tsuccess: this.data.onboarding.success,\n\t\t\tdocs_url: this.data.onboarding.docs_url,\n\t\t\tuser_can_dismiss: this.data.onboarding.user_can_dismiss,\n\t\t\twidget_type: 'onboarding',\n\t\t\tcontainer: this.page,\n\t\t\toptions: {\n\t\t\t\tallow_sorting: false,\n\t\t\t\tallow_create: false,\n\t\t\t\tallow_delete: false,\n\t\t\t\tallow_hiding: false,\n\t\t\t\tallow_edit: false,\n\t\t\t\tmax_widget_count: 2,\n\t\t\t}\n\t\t});\n\t}\n\n\tmake_charts() {\n\t\tthis.sections[\"charts\"] = new frappe.widget.WidgetGroup({\n\t\t\tcontainer: this.page,\n\t\t\ttype: \"chart\",\n\t\t\tcolumns: 1,\n\t\t\tclass_name: \"widget-charts\",\n\t\t\toptions: {\n\t\t\t\tallow_sorting: this.allow_customization,\n\t\t\t\tallow_create: this.allow_customization,\n\t\t\t\tallow_delete: this.allow_customization,\n\t\t\t\tallow_hiding: false,\n\t\t\t\tallow_edit: true,\n\t\t\t\tmax_widget_count: 2,\n\t\t\t},\n\t\t\twidgets: this.data.charts.items\n\t\t});\n\t}\n\n\tmake_shortcuts() {\n\t\tthis.sections[\"shortcuts\"] = new frappe.widget.WidgetGroup({\n\t\t\ttitle: this.data.shortcuts.label || __('Your Shortcuts'),\n\t\t\tcontainer: this.page,\n\t\t\ttype: \"shortcut\",\n\t\t\tcolumns: 3,\n\t\t\toptions: {\n\t\t\t\tallow_sorting: this.allow_customization,\n\t\t\t\tallow_create: this.allow_customization,\n\t\t\t\tallow_delete: this.allow_customization,\n\t\t\t\tallow_hiding: false,\n\t\t\t\tallow_edit: true,\n\t\t\t},\n\t\t\twidgets: this.data.shortcuts.items\n\t\t});\n\t}\n\n\tmake_cards() {\n\t\tlet cards = new frappe.widget.WidgetGroup({\n\t\t\ttitle: this.data.cards.label || __(\"Reports & Masters\"),\n\t\t\tcontainer: this.page,\n\t\t\ttype: \"links\",\n\t\t\tcolumns: 3,\n\t\t\toptions: {\n\t\t\t\tallow_sorting: this.allow_customization,\n\t\t\t\tallow_create: false,\n\t\t\t\tallow_delete: false,\n\t\t\t\tallow_hiding: this.allow_customization,\n\t\t\t\tallow_edit: false,\n\t\t\t},\n\t\t\twidgets: this.data.cards.items\n\t\t});\n\n\t\tthis.sections[\"cards\"] = cards;\n\t}\n}\n\n\n","class WidgetDialog {\n\tconstructor(opts) {\n\t\tObject.assign(this, opts);\n\t\tthis.editing = Boolean(this.values && Object.keys(this.values).length);\n\t}\n\n\tmake() {\n\t\tthis.make_dialog();\n\t\tthis.setup_dialog_events();\n\t\tthis.dialog.show();\n\n\t\tthis.editing && this.set_default_values();\n\t}\n\n\tmake_dialog() {\n\t\tthis.dialog = new frappe.ui.Dialog({\n\t\t\ttitle: this.get_title(),\n\t\t\tfields: this.get_fields(),\n\t\t\tprimary_action: (data) => {\n\t\t\t\tdata = this.process_data(data);\n\n\t\t\t\tif (!this.editing && !data.name) {\n\t\t\t\t\tdata.name = `${this.type}-${this.label}-${frappe.utils.get_random(20)}`;\n\t\t\t\t}\n\n\t\t\t\tthis.dialog.hide();\n\t\t\t\tthis.primary_action(data);\n\t\t\t},\n\t\t\tprimary_action_label: this.primary_action_label || __(\"Add\"),\n\t\t});\n\t}\n\n\tget_title() {\n\t\t// DO NOT REMOVE: Comment to load translation\n\t\t// __(\"New Chart\") __(\"New Shortcut\") __(\"Edit Chart\") __(\"Edit Shortcut\")\n\n\t\tlet action = this.editing ? \"Edit\" : \"Add\";\n\t\tlet label = action = action + \" \" + frappe.model.unscrub(this.type);\n\t\treturn __(label);\n\t}\n\n\tget_fields() {\n\t\t//\n\t}\n\n\tset_default_values() {\n\t\treturn this.dialog.set_values(this.values);\n\t}\n\n\tprocess_data(data) {\n\t\treturn data;\n\t}\n\n\tsetup_dialog_events() {\n\t\t//\n\t}\n\n\thide_field(fieldname) {\n\t\tthis.dialog.set_df_property(fieldname, \"hidden\", true);\n\t}\n\n\tshow_field(fieldname) {\n\t\tthis.dialog.set_df_property(fieldname, \"hidden\", false);\n\t}\n\n\tsetup_filter(doctype) {\n\t\tif (this.filter_group) {\n\t\t\tthis.filter_group.wrapper.empty();\n\t\t\tdelete this.filter_group;\n\t\t}\n\n\t\tlet $loading = this.dialog.get_field(\"filter_area_loading\").$wrapper;\n\t\t$(`<span class=\"text-muted\">${__('Loading Filters...')}</span>`).appendTo($loading);\n\n\t\tthis.filters = [];\n\n\t\tif (this.values && this.values.stats_filter) {\n\t\t\tconst filters_json = new Function(`return ${this.values.stats_filter}`)();\n\t\t\tthis.filters = Object.keys(filters_json).map((filter) => {\n\t\t\t\tlet val = filters_json[filter];\n\t\t\t\treturn [this.values.link_to, filter, val[0], val[1], false];\n\t\t\t});\n\t\t}\n\n\t\tthis.filter_group = new frappe.ui.FilterGroup({\n\t\t\tparent: this.dialog.get_field(\"filter_area\").$wrapper,\n\t\t\tdoctype: doctype,\n\t\t\ton_change: () => {},\n\t\t});\n\n\t\tfrappe.model.with_doctype(doctype, () => {\n\t\t\tthis.filter_group.add_filters_to_filter_group(this.filters);\n\t\t\tthis.hide_field(\"filter_area_loading\");\n\t\t\tthis.show_field(\"filter_area\");\n\t\t});\n\t}\n}\n\nclass ChartDialog extends WidgetDialog {\n\tconstructor(opts) {\n\t\tsuper(opts);\n\t}\n\n\tget_fields() {\n\t\treturn [\n\t\t\t{\n\t\t\t\tfieldtype: \"Link\",\n\t\t\t\tfieldname: \"chart_name\",\n\t\t\t\tlabel: \"Chart Name\",\n\t\t\t\toptions: \"Dashboard Chart\",\n\t\t\t\treqd: 1,\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldtype: \"Data\",\n\t\t\t\tfieldname: \"label\",\n\t\t\t\tlabel: \"Label\",\n\t\t\t},\n\t\t];\n\t}\n\n\tprocess_data(data) {\n\t\tdata.label = data.label ? data.label : data.chart_name;\n\t\treturn data;\n\t}\n}\n\nclass ShortcutDialog extends WidgetDialog {\n\tconstructor(opts) {\n\t\tsuper(opts);\n\t}\n\n\thide_filters() {\n\t\tthis.hide_field(\"count_section_break\");\n\t\tthis.hide_field(\"filters_section_break\");\n\t}\n\n\tshow_filters() {\n\t\tthis.show_field(\"count_section_break\");\n\t\tthis.show_field(\"filters_section_break\");\n\t}\n\n\tget_fields() {\n\t\treturn [\n\t\t\t{\n\t\t\t\tfieldtype: \"Select\",\n\t\t\t\tfieldname: \"type\",\n\t\t\t\tlabel: \"Type\",\n\t\t\t\treqd: 1,\n\t\t\t\toptions: \"DocType\\nReport\\nPage\\nDashboard\",\n\t\t\t\tonchange: () => {\n\t\t\t\t\tif (this.dialog.get_value(\"type\") == \"DocType\") {\n\t\t\t\t\t\tthis.dialog.fields_dict.link_to.get_query = () => {\n\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\tquery: \"frappe.core.report.permitted_documents_for_user.permitted_documents_for_user.query_doctypes\",\n\t\t\t\t\t\t\t\tfilters: {\n\t\t\t\t\t\t\t\t\tuser: frappe.session.user\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t};\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.dialog.fields_dict.link_to.get_query = null;\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldtype: \"Data\",\n\t\t\t\tfieldname: \"label\",\n\t\t\t\tlabel: \"Label\",\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldtype: \"Column Break\",\n\t\t\t\tfieldname: \"column_break_4\",\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldtype: \"Dynamic Link\",\n\t\t\t\tfieldname: \"link_to\",\n\t\t\t\tlabel: \"Link To\",\n\t\t\t\treqd: 1,\n\t\t\t\toptions: \"type\",\n\t\t\t\tonchange: () => {\n\t\t\t\t\tif (this.dialog.get_value(\"type\") == \"DocType\") {\n\t\t\t\t\t\tlet doctype = this.dialog.get_value(\"link_to\");\n\t\t\t\t\t\tif (doctype && frappe.boot.single_types.includes(doctype)) {\n\t\t\t\t\t\t\tthis.hide_filters();\n\t\t\t\t\t\t} else if (doctype) {\n\t\t\t\t\t\t\tthis.setup_filter(doctype);\n\t\t\t\t\t\t\tthis.show_filters();\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tconst views = [\"List\", \"Report Builder\", \"Dashboard\", \"New\"];\n\t\t\t\t\t\tif (frappe.boot.treeviews.includes(doctype)) views.push(\"Tree\");\n\t\t\t\t\t\tif (frappe.boot.calendars.includes(doctype)) views.push(\"Calendar\");\n\n\t\t\t\t\t\tthis.dialog.set_df_property(\"doc_view\", \"options\", views.join(\"\\n\"));\n\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.hide_filters();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldtype: \"Select\",\n\t\t\t\tfieldname: \"doc_view\",\n\t\t\t\tlabel: \"DocType View\",\n\t\t\t\toptions: \"List\\nReport Builder\\nDashboard\\nTree\\nNew\\nCalendar\",\n\t\t\t\tdescription: __(\"Which view of the associated DocType should this shortcut take you to?\"),\n\t\t\t\tdefault: \"List\",\n\t\t\t\tdepends_on: (state) => {\n\t\t\t\t\tif (this.dialog) {\n\t\t\t\t\t\tlet doctype = this.dialog.get_value(\"link_to\");\n\t\t\t\t\t\tlet is_single = frappe.boot.single_types.includes(doctype);\n\t\t\t\t\t\treturn state.type == \"DocType\" && !is_single;\n\t\t\t\t\t}\n\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldtype: \"Section Break\",\n\t\t\t\tfieldname: \"filters_section_break\",\n\t\t\t\tlabel: __(\"Count Filter\"),\n\t\t\t\thidden: 1,\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldtype: \"HTML\",\n\t\t\t\tfieldname: \"filter_area_loading\",\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldtype: \"HTML\",\n\t\t\t\tfieldname: \"filter_area\",\n\t\t\t\thidden: 1,\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldtype: \"Section Break\",\n\t\t\t\tfieldname: \"count_section_break\",\n\t\t\t\tlabel: __(\"Count Customizations\"),\n\t\t\t\thidden: 1,\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldtype: \"Select\",\n\t\t\t\tfieldname: \"color\",\n\t\t\t\tlabel: __(\"Color\"),\n\t\t\t\toptions: [\"Grey\", \"Green\", \"Red\", \"Orange\", \"Pink\", \"Yellow\", \"Blue\", \"Cyan\"],\n\t\t\t\tdefault: \"Grey\",\n\t\t\t\tonchange: () => {\n\t\t\t\t\tlet color = this.dialog.fields_dict.color.value.toLowerCase();\n\t\t\t\t\tlet $select = this.dialog.fields_dict.color.$input;\n\t\t\t\t\tif (!$select.parent().find('.color-box').get(0)) {\n\t\t\t\t\t\t$(`<div class=\"color-box\"></div>`).insertBefore($select.get(0));\n\t\t\t\t\t}\n\t\t\t\t\t$select.parent().find('.color-box').get(0).style.backgroundColor = `var(--text-on-${color})`;\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldtype: \"Column Break\",\n\t\t\t\tfieldname: \"column_break_3\",\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldtype: \"Data\",\n\t\t\t\tfieldname: \"format\",\n\t\t\t\tlabel: __(\"Format\"),\n\t\t\t\tdescription: __(\"For Example: {} Open\"),\n\t\t\t},\n\t\t];\n\t}\n\n\tset_default_values() {\n\t\tsuper.set_default_values().then(() => {\n\t\t\tthis.dialog.fields_dict.link_to.df.onchange();\n\t\t});\n\t}\n\n\tprocess_data(data) {\n\n\t\tif (this.dialog.get_value(\"type\") == \"DocType\" && this.filter_group) {\n\t\t\tlet filters = this.filter_group.get_filters();\n\t\t\tlet stats_filter = null;\n\n\t\t\tif (filters.length) {\n\t\t\t\tstats_filter = {};\n\t\t\t\tfilters.forEach((arr) => {\n\t\t\t\t\tstats_filter[arr[1]] = [arr[2], arr[3]];\n\t\t\t\t});\n\t\t\t\tstats_filter = JSON.stringify(stats_filter);\n\t\t\t}\n\t\t\tdata.stats_filter = stats_filter;\n\t\t}\n\n\t\tdata.label = data.label\n\t\t\t? data.label\n\t\t\t: frappe.model.unscrub(data.link_to);\n\n\t\treturn data;\n\t}\n}\n\nclass NumberCardDialog extends WidgetDialog {\n\tconstructor(opts) {\n\t\tsuper(opts);\n\t}\n\n\tget_fields() {\n\t\tlet fields;\n\t\tfields = [\n\t\t\t{\n\t\t\t\tfieldtype: 'Select',\n\t\t\t\tlabel: __('Choose Existing Card or create New Card'),\n\t\t\t\tfieldname: 'new_or_existing',\n\t\t\t\toptions: ['New Card', 'Existing Card']\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldtype: 'Link',\n\t\t\t\tfieldname: 'card',\n\t\t\t\tlabel: __('Number Cards'),\n\t\t\t\toptions: 'Number Card',\n\t\t\t\tget_query: () => {\n\t\t\t\t\treturn {\n\t\t\t\t\t\t'query': 'frappe.desk.doctype.number_card.number_card.get_cards_for_user',\n\t\t\t\t\t\tfilters: {\n\t\t\t\t\t\t\tdocument_type: this.document_type,\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t},\n\t\t\t\tdepends_on: 'eval: doc.new_or_existing == \"Existing Card\"'\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldtype: 'Section Break',\n\t\t\t\tfieldname: 'sb_1',\n\t\t\t\tdepends_on: 'eval: doc.new_or_existing == \"New Card\"'\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabel: __('Label'),\n\t\t\t\tfieldname: 'label',\n\t\t\t\tfieldtype: 'Data',\n\t\t\t\tmandatory_depends_on: 'eval: doc.new_or_existing == \"New Card\"'\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabel: __('Doctype'),\n\t\t\t\tfieldname: 'document_type',\n\t\t\t\tfieldtype: 'Link',\n\t\t\t\toptions: 'DocType',\n\t\t\t\tonchange: () => {\n\t\t\t\t\tthis.document_type = this.dialog.get_value(\"document_type\");\n\t\t\t\t\tthis.set_aggregate_function_fields(this.dialog.get_values());\n\t\t\t\t\tthis.setup_filter(this.document_type);\n\t\t\t\t},\n\t\t\t\thidden: 1\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabel: __('Color'),\n\t\t\t\tfieldname: 'color',\n\t\t\t\tfieldtype: 'Color'\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldtype: \"Column Break\",\n\t\t\t\tfieldname: \"cb_1\",\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabel: __('Function'),\n\t\t\t\tfieldname: 'function',\n\t\t\t\tfieldtype: 'Select',\n\t\t\t\toptions: ['Count', 'Sum', 'Average', 'Minimum', 'Maximum'],\n\t\t\t\tmandatory_depends_on: 'eval: doc.new_or_existing == \"New Card\"'\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabel: __('Function Based On'),\n\t\t\t\tfieldname: 'aggregate_function_based_on',\n\t\t\t\tfieldtype: 'Select',\n\t\t\t\tdepends_on: \"eval: doc.function !== 'Count'\",\n\t\t\t\tmandatory_depends_on: 'eval: doc.function !== \"Count\" && doc.new_or_existing == \"New Card\"'\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldtype: \"Section Break\",\n\t\t\t\tfieldname: \"sb_1\",\n\t\t\t\tlabel: __('Add Filters'),\n\t\t\t\tdepends_on: 'eval: doc.new_or_existing == \"New Card\"'\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldtype: \"HTML\",\n\t\t\t\tfieldname: \"filter_area_loading\",\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldtype: \"HTML\",\n\t\t\t\tfieldname: \"filter_area\",\n\t\t\t\thidden: 1,\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldtype: \"Section Break\",\n\t\t\t\tfieldname: \"sb_1\",\n\t\t\t},\n\t\t];\n\n\t\treturn fields;\n\t}\n\n\tsetup_dialog_events() {\n\t\tif (!this.document_type) {\n\t\t\tif (this.default_values['doctype']) {\n\t\t\t\tthis.document_type = this.default_values['doctype'];\n\t\t\t\tthis.setup_filter(this.default_values['doctype']);\n\t\t\t\tthis.set_aggregate_function_fields();\n\t\t\t} else {\n\t\t\t\tthis.show_field('document_type');\n\t\t\t}\n\t\t}\n\t}\n\n\tset_aggregate_function_fields() {\n\t\tlet aggregate_function_fields = [];\n\t\tif (this.document_type) {\n\t\t\tfrappe.get_meta(this.document_type).fields.map(df => {\n\t\t\t\tif (frappe.model.numeric_fieldtypes.includes(df.fieldtype)) {\n\t\t\t\t\tif (df.fieldtype == 'Currency') {\n\t\t\t\t\t\tif (!df.options || df.options !== 'Company:company:default_currency') {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\taggregate_function_fields.push({label: df.label, value: df.fieldname});\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\tthis.dialog.set_df_property('aggregate_function_based_on', 'options', aggregate_function_fields);\n\t}\n\n\tprocess_data(data) {\n\t\tif (data.new_or_existing == 'Existing Card') {\n\t\t\tdata.name = data.card;\n\t\t}\n\t\tdata.stats_filter = JSON.stringify(this.filter_group.get_filters());\n\t\tdata.document_type = this.document_type;\n\n\t\treturn data;\n\t}\n}\n\nexport default function get_dialog_constructor(type) {\n\tconst widget_map = {\n\t\tchart: ChartDialog,\n\t\tshortcut: ShortcutDialog,\n\t\tnumber_card: NumberCardDialog,\n\t};\n\n\treturn widget_map[type] || WidgetDialog;\n}\n","import get_dialog_constructor from './widget_dialog.js';\n\nexport default class Widget {\n\tconstructor(opts) {\n\t\tObject.assign(this, opts);\n\t\tthis.make();\n\t}\n\n\trefresh() {\n\t\tthis.set_title();\n\t\tthis.set_actions();\n\t\tthis.set_body();\n\t\tthis.setup_events();\n\t}\n\n\tget_config() {\n\t\treturn {\n\t\t\tname: this.name,\n\t\t\tlabel: this.label\n\t\t};\n\t}\n\n\tcustomize(options) {\n\t\tthis.in_customize_mode = true;\n\t\tthis.action_area.empty();\n\n\t\toptions.allow_sorting &&\n\t\t\tthis.add_custom_button(\n\t\t\t\tfrappe.utils.icon('drag', 'xs'),\n\t\t\t\tnull,\n\t\t\t\t\"drag-handle\",\n\t\t\t);\n\n\t\toptions.allow_delete &&\n\t\t\tthis.add_custom_button(\n\t\t\t\tfrappe.utils.icon('delete', 'xs'),\n\t\t\t\t() => this.delete(),\n\t\t\t\t\"\",\n\t\t\t\t`${__('Delete')}`\n\t\t\t);\n\n\t\tif (options.allow_hiding) {\n\t\t\tif (this.hidden) {\n\t\t\t\tthis.widget.removeClass(\"hidden\");\n\t\t\t\tthis.body.css(\"opacity\", 0.5);\n\t\t\t\tthis.title_field.css(\"opacity\", 0.5);\n\t\t\t\tthis.footer.css(\"opacity\", 0.5);\n\t\t\t}\n\t\t\tconst classname = this.hidden ? 'fa fa-eye' : 'fa fa-eye-slash';\n\t\t\tconst title = this.hidden ? `${__('Show')}` : `${__('Hide')}`;\n\t\t\tthis.add_custom_button(\n\t\t\t\t`<i class=\"${classname}\" aria-hidden=\"true\"></i>`,\n\t\t\t\t() => this.hide_or_show(),\n\t\t\t\t\"show-or-hide-button\",\n\t\t\t\ttitle\n\t\t\t);\n\n\t\t\tthis.show_or_hide_button = this.action_area.find(\n\t\t\t\t\".show-or-hide-button\"\n\t\t\t);\n\t\t}\n\n\t\toptions.allow_edit &&\n\t\t\tthis.add_custom_button(\n\t\t\t\tfrappe.utils.icon(\"edit\", \"xs\"),\n\t\t\t\t() => this.edit()\n\t\t\t);\n\n\t\tif (options.allow_resize) {\n\t\t\tconst title = this.width == 'Full'? `${__('Collapse')}` : `${__('Expand')}`;\n\t\t\tthis.add_custom_button(\n\t\t\t\t'<i class=\"fa fa-expand\" aria-hidden=\"true\"></i>',\n\t\t\t\t() => this.toggle_width(),\n\t\t\t\t\"resize-button\",\n\t\t\t\ttitle\n\t\t\t);\n\n\t\t\tthis.resize_button = this.action_area.find(\n\t\t\t\t\".resize-button\"\n\t\t\t);\n\t\t}\n\t}\n\n\tmake() {\n\t\tthis.make_widget();\n\t\tthis.widget.appendTo(this.container);\n\t}\n\n\tmake_widget() {\n\t\tthis.widget = $(`<div class=\"widget\n\t\t\t${ this.hidden ? \"hidden\" : \" \" }\n\t\t\t${ this.shadow ? \"widget-shadow\" : \" \" }\n\t\t\" data-widget-name=\"${this.name ? this.name : ''}\">\n\t\t\t<div class=\"widget-head\">\n\t\t\t\t<div class=\"widget-label\">\n\t\t\t\t\t<div class=\"widget-title\"></div>\n\t\t\t\t\t<div class=\"widget-subtitle\"></div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"widget-control\"></div>\n\t\t\t</div>\n\t\t\t<div class=\"widget-body\">\n\t\t    </div>\n\t\t    <div class=\"widget-footer\">\n\t\t    </div>\n\t\t</div>`);\n\n\t\tthis.title_field = this.widget.find(\".widget-title\");\n\t\tthis.subtitle_field = this.widget.find(\".widget-subtitle\");\n\t\tthis.body = this.widget.find(\".widget-body\");\n\t\tthis.action_area = this.widget.find(\".widget-control\");\n\t\tthis.head = this.widget.find(\".widget-head\");\n\t\tthis.footer = this.widget.find(\".widget-footer\");\n\t\tthis.refresh();\n\t}\n\n\tset_title(max_chars) {\n\t\tlet base = this.label || this.name;\n\t\tlet title = max_chars ? frappe.ellipsis(base, max_chars) : base;\n\n\t\tif (this.icon) {\n\t\t\tlet icon = frappe.utils.icon(this.icon);\n\t\t\tthis.title_field[0].innerHTML = `${icon} <span class=\"ellipsis\" title=\"${title}\">${title}</span>`;\n\t\t} else {\n\t\t\tthis.title_field[0].innerHTML = `<span class=\"ellipsis\" title=\"${title}\">${title}</span>`;\n\t\t\tif (max_chars) {\n\t\t\t\tthis.title_field[0].setAttribute('title', this.label);\n\t\t\t}\n\t\t}\n\t\tthis.subtitle && this.subtitle_field.html(this.subtitle);\n\t}\n\n\tadd_custom_button(html, action, class_name = \"\", title=\"\", btn_type) {\n\t\tif (!btn_type) btn_type = 'btn-secondary';\n\t\tlet button = $(\n\t\t\t`<button class=\"btn ${btn_type} btn-xs ${class_name}\" title=\"${title}\">${html}</button>`\n\t\t);\n\t\tbutton.click(event => {\n\t\t\tevent.stopPropagation();\n\t\t\taction && action();\n\t\t});\n\t\tbutton.appendTo(this.action_area);\n\t}\n\n\tdelete(animate=true) {\n\t\tlet remove_widget = (setup_new) => {\n\t\t\tthis.widget.remove();\n\t\t\tthis.options.on_delete && this.options.on_delete(this.name, setup_new);\n\t\t};\n\n\t\tif (animate) {\n\t\t\tthis.widget.addClass(\"zoom-out\");\n\t\t\t// wait for animation\n\t\t\tsetTimeout(() => {\n\t\t\t\tremove_widget(true);\n\t\t\t}, 300);\n\t\t} else {\n\t\t\tremove_widget(false);\n\t\t}\n\t}\n\n\tedit() {\n\t\tconst dialog_class = get_dialog_constructor(this.widget_type);\n\n\t\tthis.edit_dialog = new dialog_class({\n\t\t\tlabel: this.label,\n\t\t\ttype: this.widget_type,\n\t\t\tvalues: this.get_config(),\n\t\t\tprimary_action: (data) => {\n\t\t\t\tObject.assign(this, data);\n\t\t\t\tdata.name = this.name;\n\n\t\t\t\tthis.refresh();\n\t\t\t},\n\t\t\tprimary_action_label: __(\"Save\")\n\t\t});\n\n\t\tthis.edit_dialog.make();\n\t}\n\n\ttoggle_width() {\n\t\tif (this.width == 'Full') {\n\t\t\tthis.widget.removeClass(\"full-width\");\n\t\t\tthis.width = null;\n\t\t\tthis.refresh();\n\t\t} else {\n\t\t\tthis.widget.addClass(\"full-width\");\n\t\t\tthis.width = 'Full';\n\t\t\tthis.refresh();\n\t\t}\n\n\t\tconst title = this.width == 'Full' ? `${__('Collapse')}` : `${__('Expand')}`;\n\t\tthis.resize_button.attr('title', title);\n\t}\n\n\thide_or_show() {\n\t\tif (!this.hidden) {\n\t\t\tthis.body.css(\"opacity\", 0.5);\n\t\t\tthis.title_field.css(\"opacity\", 0.5);\n\t\t\tthis.footer.css(\"opacity\", 0.5);\n\t\t\tthis.hidden = true;\n\t\t} else {\n\t\t\tthis.body.css(\"opacity\", 1);\n\t\t\tthis.title_field.css(\"opacity\", 1);\n\t\t\tthis.footer.css(\"opacity\", 1);\n\t\t\tthis.hidden = false;\n\t\t}\n\t\tthis.show_or_hide_button.empty();\n\n\t\tconst classname = this.hidden ? 'fa fa-eye' : 'fa fa-eye-slash';\n\t\tconst title = this.hidden ? `${__('Show')}` : `${__('Hide')}`;\n\n\t\t$(`<i class=\"${classname}\" aria-hidden=\"true\" title=\"${title}\"></i>`).appendTo(\n\t\t\tthis.show_or_hide_button\n\t\t);\n\t}\n\n\tsetup_events() {\n\t\t//\n\t}\n\n\tset_actions() {\n\t\t//\n\t}\n\n\tset_body() {\n\t\t//\n\t}\n}\n","import Widget from \"./base_widget.js\";\n\nfrappe.provide('frappe.widget.utils');\nfrappe.provide(\"frappe.dashboards\");\nfrappe.provide(\"frappe.dashboards.chart_sources\");\n\nexport default class ChartWidget extends Widget {\n\tconstructor(opts) {\n\t\topts.shadow = true;\n\t\tsuper(opts);\n\t\tthis.height = this.height || 240;\n\t}\n\n\tget_config() {\n\t\treturn {\n\t\t\tname: this.name,\n\t\t\tchart_name: this.chart_name,\n\t\t\tlabel: this.label,\n\t\t\thidden: this.hidden,\n\t\t\twidth: this.width,\n\t\t};\n\t}\n\n\trefresh() {\n\t\tdelete this.dashboard_chart;\n\t\tthis.set_body();\n\t\tthis.make_chart();\n\t}\n\n\tset_chart_title() {\n\t\tconst max_chars = this.widget.width() < 600 ? 20 : 60;\n\t\tthis.set_title(max_chars);\n\t}\n\n\tset_body() {\n\t\tthis.widget.addClass(\"dashboard-widget-box\");\n\t\tif (this.width == \"Full\") {\n\t\t\tthis.widget.addClass(\"full-width\");\n\t\t}\n\t}\n\n\tsetup_container() {\n\t\tthis.body.empty();\n\n\t\tif (this.chart_doc.type == 'Heatmap') {\n\t\t\tthis.setup_heatmap_container();\n\t\t}\n\n\t\tthis.loading = $(\n\t\t\t`<div class=\"chart-loading-state text-muted\" style=\"height: ${this.height}px;\">${__(\n\t\t\t\t\"Loading...\"\n\t\t\t)}</div>`\n\t\t);\n\t\tthis.loading.appendTo(this.body);\n\n\t\tthis.empty = $(\n\t\t\t`<div class=\"chart-loading-state text-muted\" style=\"height: ${this.height}px;\">${__(\n\t\t\t\t\"No Data\"\n\t\t\t)}</div>`\n\t\t);\n\t\tthis.empty.hide().appendTo(this.body);\n\n\t\tthis.chart_wrapper = $(`<div></div>`);\n\t\tthis.chart_wrapper.appendTo(this.body);\n\n\t\tthis.$heatmap_legend = null;\n\t\tthis.set_chart_title();\n\t}\n\n\tsetup_heatmap_container() {\n\t\tthis.widget.addClass('heatmap-chart');\n\t\tthis.widget.removeClass('full-width').addClass('full-width');\n\t\tthis.width = 'Full';\n\t}\n\n\tset_summary() {\n\t\tif (!this.$summary) {\n\t\t\tthis.$summary = $(`<div class=\"report-summary\"></div>`).hide();\n\t\t\tthis.head.after(this.$summary);\n\t\t} else {\n\t\t\tthis.$summary.empty();\n\t\t}\n\n\t\tthis.summary.forEach(summary => {\n\t\t\tfrappe.utils.build_summary_item(summary).appendTo(this.$summary);\n\t\t});\n\t\tthis.summary.length && this.$summary.show();\n\t}\n\n\tmake_chart() {\n\t\tthis.get_settings().then(() => {\n\t\t\tif (!this.settings) {\n\t\t\t\tthis.deleted = true;\n\t\t\t\tthis.widget.remove();\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (!this.chart_settings) {\n\t\t\t\tthis.chart_settings = {};\n\t\t\t}\n\t\t\tthis.setup_container();\n\t\t\tif (!this.in_customize_mode) {\n\t\t\t\tthis.action_area.empty();\n\t\t\t\tthis.prepare_chart_actions();\n\n\t\t\t\tif (\n\t\t\t\t\tthis.chart_doc.timeseries &&\n\t\t\t\t\tthis.chart_doc.chart_type !== \"Custom\"\n\t\t\t\t) {\n\t\t\t\t\tthis.render_time_series_filters();\n\t\t\t\t}\n\t\t\t}\n\t\t\tfrappe.run_serially([\n\t\t\t\t() => this.prepare_chart_object(),\n\t\t\t\t() => this.setup_filter_button(),\n\t\t\t\t() => this.fetch_and_update_chart(),\n\t\t\t]);\n\t\t});\n\t}\n\n\trender_time_series_filters() {\n\t\tlet filters = this.get_time_series_filters();\n\t\tfrappe.dashboard_utils.render_chart_filters(\n\t\t\tfilters,\n\t\t\t\"chart-actions\",\n\t\t\tthis.action_area,\n\t\t\t0\n\t\t);\n\t}\n\n\tget_time_series_filters() {\n\t\tlet filters;\n\t\tif (this.chart_doc.type == 'Heatmap') {\n\t\t\tfilters = [{\n\t\t\t\tlabel: this.chart_settings.heatmap_year || this.chart_doc.heatmap_year,\n\t\t\t\toptions: frappe.dashboard_utils.get_years_since_creation(frappe.boot.user.creation),\n\t\t\t\taction: selected_item => {\n\t\t\t\t\tthis.selected_heatmap_year = selected_item;\n\t\t\t\t\tthis.save_chart_config_for_user({'heatmap_year': this.selected_heatmap_year});\n\t\t\t\t\tthis.fetch_and_update_chart();\n\t\t\t\t}\n\t\t\t}];\n\t\t} else {\n\t\t\tfilters = [\n\t\t\t\t{\n\t\t\t\t\tlabel: this.chart_settings.time_interval || this.chart_doc.time_interval,\n\t\t\t\t\toptions: [\"Yearly\", \"Quarterly\", \"Monthly\", \"Weekly\", \"Daily\"],\n\t\t\t\t\ticon: 'calendar',\n\t\t\t\t\tclass: 'time-interval-filter',\n\t\t\t\t\taction: selected_item => {\n\t\t\t\t\t\tthis.selected_time_interval = selected_item;\n\t\t\t\t\t\tthis.save_chart_config_for_user({'time_interval': this.selected_time_interval});\n\t\t\t\t\t\tthis.fetch_and_update_chart();\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tlabel: this.chart_settings.timespan || this.chart_doc.timespan,\n\t\t\t\t\toptions: [\n\t\t\t\t\t\t\"Select Date Range\",\n\t\t\t\t\t\t\"Last Year\",\n\t\t\t\t\t\t\"Last Quarter\",\n\t\t\t\t\t\t\"Last Month\",\n\t\t\t\t\t\t\"Last Week\"\n\t\t\t\t\t],\n\t\t\t\t\tclass: 'timespan-filter',\n\t\t\t\t\taction: selected_item => {\n\t\t\t\t\t\tthis.selected_timespan = selected_item;\n\n\t\t\t\t\t\tif (this.selected_timespan === \"Select Date Range\") {\n\t\t\t\t\t\t\tthis.render_date_range_field();\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis.selected_from_date = null;\n\t\t\t\t\t\t\tthis.selected_to_date = null;\n\t\t\t\t\t\t\tif (this.date_field_wrapper) {\n\t\t\t\t\t\t\t\tthis.date_field_wrapper.hide();\n\n\t\t\t\t\t\t\t\t// Title maybe hidden becuase of date range fields\n\t\t\t\t\t\t\t\t// in half width chart\n\t\t\t\t\t\t\t\tthis.title_field.show();\n\t\t\t\t\t\t\t\tthis.subtitle_field.show();\n\t\t\t\t\t\t\t\tthis.head.css('flex-direction', \"row\");\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tthis.save_chart_config_for_user({\n\t\t\t\t\t\t\t\t'timespan': this.selected_timespan,\n\t\t\t\t\t\t\t\t'from_date': null,\n\t\t\t\t\t\t\t\t'to_date': null\n\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tthis.fetch_and_update_chart();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t];\n\t\t}\n\t\treturn filters;\n\t}\n\n\tfetch_and_update_chart() {\n\t\tthis.args = {\n\t\t\ttimespan: this.selected_timespan || this.chart_settings.timespan,\n\t\t\ttime_interval: this.selected_time_interval || this.chart_settings.time_interval,\n\t\t\tfrom_date: this.selected_from_date || this.chart_settings.from_date,\n\t\t\tto_date: this.selected_to_date || this.chart_settings.to_date,\n\t\t\theatmap_year: this.selected_heatmap_year || this.chart_settings.heatmap_year,\n\t\t};\n\n\t\tthis.fetch(this.filters, true, this.args).then(data => {\n\t\t\tif (this.chart_doc.chart_type == \"Report\") {\n\t\t\t\tthis.report_result = data;\n\t\t\t\tthis.summary = data.report_summary;\n\t\t\t\tdata = this.get_report_chart_data(data);\n\t\t\t}\n\n\t\t\tthis.update_chart_object();\n\t\t\tthis.data = data;\n\t\t\tthis.render();\n\t\t});\n\t}\n\n\trender_date_range_field() {\n\t\tif (\n\t\t\t!this.date_field_wrapper ||\n\t\t\t!this.date_field_wrapper.is(':visible')\n\t\t) {\n\t\t\tthis.date_field_wrapper = $(\n\t\t\t\t`<div class=\"dashboard-date-field pull-right\"></div>`\n\t\t\t).insertAfter(this.action_area.find('.timespan-filter'));\n\n\t\t\tif (this.width !== 'Full' && this.widget.width() < 700) {\n\t\t\t\tthis.title_field.hide();\n\t\t\t\tthis.subtitle_field.hide();\n\t\t\t\tthis.head.css('flex-direction', 'row-reverse');\n\t\t\t}\n\n\t\t\tthis.date_range_field = frappe.ui.form.make_control({\n\t\t\t\tdf: {\n\t\t\t\t\tfieldtype: 'DateRange',\n\t\t\t\t\tfieldname: 'from_date',\n\t\t\t\t\tplaceholder: 'Date Range',\n\t\t\t\t\tinput_class: 'input-xs',\n\t\t\t\t\tdefault: [this.chart_settings.from_date, this.chart_settings.to_date],\n\t\t\t\t\tvalue: [this.chart_settings.from_date, this.chart_settings.to_date],\n\t\t\t\t\treqd: 1,\n\t\t\t\t\tchange: () => {\n\t\t\t\t\t\tlet selected_date_range = this.date_range_field.get_value();\n\t\t\t\t\t\tthis.selected_from_date = selected_date_range[0];\n\t\t\t\t\t\tthis.selected_to_date = selected_date_range[1];\n\n\t\t\t\t\t\tif (selected_date_range && selected_date_range.length == 2) {\n\t\t\t\t\t\t\tthis.save_chart_config_for_user({\n\t\t\t\t\t\t\t\t'timespan': this.selected_timespan,\n\t\t\t\t\t\t\t\t'from_date': this.selected_from_date,\n\t\t\t\t\t\t\t\t'to_date': this.selected_to_date,\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tthis.fetch_and_update_chart();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tparent: this.date_field_wrapper,\n\t\t\t\trender_input: 1\n\t\t\t});\n\n\t\t\tthis.date_range_field.$input.focus();\n\t\t}\n\t}\n\n\tget_report_chart_data(result) {\n\t\tif (result.chart && this.chart_doc.use_report_chart) {\n\t\t\treturn result.chart.data;\n\t\t} else {\n\t\t\tlet y_fields = [];\n\t\t\tthis.chart_doc.y_axis.map(field => {\n\t\t\t\ty_fields.push(field.y_field);\n\t\t\t});\n\n\t\t\tlet chart_fields = {\n\t\t\t\ty_fields: y_fields,\n\t\t\t\tx_field: this.chart_doc.x_field,\n\t\t\t\tchart_type: this.chart_doc.type,\n\t\t\t\tcolor: this.chart_doc.color\n\t\t\t};\n\t\t\tlet columns = result.columns.map(col => {\n\t\t\t\treturn frappe.report_utils.prepare_field_from_column(col);\n\t\t\t});\n\n\t\t\tlet data = frappe.report_utils.make_chart_options(\n\t\t\t\tcolumns,\n\t\t\t\tresult,\n\t\t\t\tchart_fields\n\t\t\t).data;\n\t\t\treturn data;\n\t\t}\n\t}\n\n\tprepare_chart_actions() {\n\t\tlet actions = [\n\t\t\t{\n\t\t\t\tlabel: __(\"Refresh\"),\n\t\t\t\taction: \"action-refresh\",\n\t\t\t\thandler: () => {\n\t\t\t\t\tdelete this.dashboard_chart;\n\t\t\t\t\tthis.make_chart();\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabel: __(\"Edit\"),\n\t\t\t\taction: \"action-edit\",\n\t\t\t\thandler: () => {\n\t\t\t\t\tfrappe.set_route(\n\t\t\t\t\t\t\"Form\",\n\t\t\t\t\t\t\"Dashboard Chart\",\n\t\t\t\t\t\tthis.chart_doc.name\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabel: __(\"Reset Chart\"),\n\t\t\t\taction: \"action-reset\",\n\t\t\t\thandler: () => {\n\t\t\t\t\tthis.reset_chart();\n\t\t\t\t\tdelete this.dashboard_chart;\n\t\t\t\t\tthis.make_chart();\n\t\t\t\t}\n\t\t\t}\n\t\t];\n\n\t\tif (this.chart_doc.document_type) {\n\t\t\tactions.push({\n\t\t\t\tlabel: __(\"{0} List\", [this.chart_doc.document_type]),\n\t\t\t\taction: \"action-list\",\n\t\t\t\thandler: () => {\n\t\t\t\t\tfrappe.set_route(\"List\", this.chart_doc.document_type);\n\t\t\t\t}\n\t\t\t});\n\t\t} else if (this.chart_doc.chart_type === \"Report\") {\n\t\t\tactions.push({\n\t\t\t\tlabel: __(\"{0} Report\", [this.chart_doc.report_name]),\n\t\t\t\taction: \"action-list\",\n\t\t\t\thandler: () => {\n\t\t\t\t\tfrappe.set_route(\n\t\t\t\t\t\t\"query-report\",\n\t\t\t\t\t\tthis.chart_doc.report_name,\n\t\t\t\t\t\tthis.filters\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\tthis.set_chart_actions(actions);\n\t}\n\n\tsetup_filter_button() {\n\t\tthis.is_document_type =\n\t\t\tthis.chart_doc.chart_type !== \"Report\" &&\n\t\t\tthis.chart_doc.chart_type !== \"Custom\";\n\n\t\tthis.filter_button = $(\n\t\t\t`<div class=\"filter-chart btn btn-xs pull-right\">\n\t\t\t\t${frappe.utils.icon('filter', 'sm')}\n\t\t\t</div>`\n\t\t);\n\n\t\tthis.filter_button.appendTo(this.action_area);\n\n\t\tif (this.is_document_type) {\n\t\t\tif (this.filter_group) {\n\t\t\t\tthis.filters = this.filter_group.get_filters();\n\t\t\t}\n\t\t\tthis.create_filter_group_and_add_filters();\n\t\t} else {\n\t\t\tthis.filter_button.on(\"click\", () => {\n\t\t\t\tlet fields;\n\n\t\t\t\tfrappe.dashboard_utils\n\t\t\t\t\t.get_filters_for_chart_type(this.chart_doc)\n\t\t\t\t\t.then(filters => {\n\t\t\t\t\t\tif (!this.is_document_type) {\n\t\t\t\t\t\t\tif (!filters) {\n\t\t\t\t\t\t\t\tfields = [\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tfieldtype: \"HTML\",\n\t\t\t\t\t\t\t\t\t\toptions: __(\"No Filters Set\")\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t];\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tfields = filters\n\t\t\t\t\t\t\t\t\t.filter(df => df.fieldname)\n\t\t\t\t\t\t\t\t\t.map(df => {\n\t\t\t\t\t\t\t\t\t\tObject.assign(df, df.dashboard_config || {});\n\t\t\t\t\t\t\t\t\t\treturn df;\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tfields = [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tfieldtype: \"HTML\",\n\t\t\t\t\t\t\t\t\tfieldname: \"filter_area\"\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t];\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tthis.setup_filter_dialog(fields);\n\t\t\t\t\t});\n\t\t\t});\n\t\t}\n\t}\n\n\tsetup_filter_dialog(fields) {\n\t\tlet me = this;\n\t\tlet dialog = new frappe.ui.Dialog({\n\t\t\ttitle: __(\"Set Filters for {0}\", [this.chart_doc.chart_name]),\n\t\t\tfields: fields,\n\t\t\tprimary_action: function() {\n\t\t\t\tlet values = this.get_values();\n\t\t\t\tif (values) {\n\t\t\t\t\tthis.hide();\n\t\t\t\t\tme.filters = values;\n\t\t\t\t\tme.save_chart_config_for_user({'filters': me.filters});\n\t\t\t\t\tme.fetch_and_update_chart();\n\t\t\t\t}\n\t\t\t},\n\t\t\tprimary_action_label: \"Set\"\n\t\t});\n\n\t\tdialog.show();\n\n\t\tif (this.chart_doc.chart_type == 'Report') {\n\t\t\t//Set query report object so that it can be used while fetching filter values in the report\n\t\t\tfrappe.query_report = new frappe.views.QueryReport({'filters': dialog.fields_list});\n\t\t\tfrappe.query_reports[this.chart_doc.report_name].onload\n\t\t\t\t\t&& frappe.query_reports[this.chart_doc.report_name].onload(frappe.query_report);\n\t\t}\n\t\tdialog.set_values(this.filters);\n\t}\n\n\treset_chart() {\n\t\tthis.save_chart_config_for_user(null, 1);\n\t\tthis.chart_settings = {};\n\t\tthis.filters = null;\n\t\tthis.selected_time_interval = null;\n\t\tthis.selected_timespan = null;\n\t\tthis.selected_heatmap_year = null;\n\t}\n\n\tsave_chart_config_for_user(config, reset=0) {\n\t\tObject.assign(this.chart_settings, config);\n\t\tfrappe.xcall('frappe.desk.doctype.dashboard_settings.dashboard_settings.save_chart_config', {\n\t\t\t'reset': reset,\n\t\t\t'config': this.chart_settings,\n\t\t\t'chart_name': this.chart_doc.chart_name\n\t\t});\n\t}\n\n\tcreate_filter_group_and_add_filters() {\n\t\tthis.filter_group = new frappe.ui.FilterGroup({\n\t\t\tdoctype: this.chart_doc.document_type,\n\t\t\tparent_doctype: this.chart_doc.parent_document_type,\n\t\t\tfilter_button: this.filter_button,\n\t\t\ton_change: () => {\n\t\t\t\tthis.filters = this.filter_group.get_filters();\n\t\t\t\tthis.save_chart_config_for_user({\n\t\t\t\t\t'filters': this.filters\n\t\t\t\t});\n\t\t\t\tthis.fetch_and_update_chart();\n\t\t\t}\n\t\t});\n\n\t\tthis.filters &&\n\t\t\tfrappe.model.with_doctype(this.chart_doc.document_type, () => {\n\t\t\t\tthis.filter_group.add_filters_to_filter_group(this.filters);\n\t\t\t});\n\t}\n\n\tset_chart_actions(actions) {\n\t\t/* eslint-disable indent */\n\t\tthis.chart_actions = $(`<div class=\"chart-actions dropdown pull-right\">\n\t\t\t<button data-toggle=\"dropdown\"\n\t\t\t\taria-haspopup=\"true\"aria-expanded=\"false\"\n\t\t\t\tclass=\"btn btn-xs btn-secondary chart-menu\"\n\t\t\t>\n\t\t\t\t<svg class=\"icon icon-sm\">\n\t\t\t\t\t<use href=\"#icon-dot-horizontal\">\n\t\t\t\t\t</use>\n\t\t\t\t</svg>\n\t\t\t</button>\n\t\t\t<ul class=\"dropdown-menu dropdown-menu-right\">\n\t\t\t\t${actions\n\t\t\t\t\t.map(\n\t\t\t\t\t\taction =>\n\t\t\t\t\t\t\t`<li><a class=\"dropdown-item\" data-action=\"${action.action}\">${\n\t\t\t\t\t\t\t\taction.label\n\t\t\t\t\t\t\t}</a></li>`\n\t\t\t\t\t)\n\t\t\t\t\t.join(\"\")}\n\t\t\t</ul>\n\t\t</div>\n\t\t`);\n\t\t/* eslint-enable indent */\n\n\t\tthis.chart_actions.find(\"a[data-action]\").each((i, o) => {\n\t\t\tconst action = o.dataset.action;\n\t\t\t$(o).click(actions.find(a => a.action === action));\n\t\t});\n\t\tthis.chart_actions.appendTo(this.action_area);\n\t}\n\n\tfetch(filters, refresh = false, args) {\n\t\tlet method = this.settings.method;\n\n\t\tif (this.chart_doc.chart_type == \"Report\") {\n\t\t\targs = {\n\t\t\t\treport_name: this.chart_doc.report_name,\n\t\t\t\tfilters: filters,\n\t\t\t\tignore_prepared_report: 1\n\t\t\t};\n\t\t} else {\n\t\t\targs = {\n\t\t\t\tchart_name: this.chart_doc.name,\n\t\t\t\tfilters: filters,\n\t\t\t\trefresh: refresh ? 1 : 0,\n\t\t\t\ttime_interval: args && args.time_interval ? args.time_interval : null,\n\t\t\t\ttimespan: args && args.timespan ? args.timespan : null,\n\t\t\t\tfrom_date: args && args.from_date ? args.from_date : null,\n\t\t\t\tto_date: args && args.to_date ? args.to_date : null,\n\t\t\t\theatmap_year: args && args.heatmap_year ?  args.heatmap_year : null,\n\t\t\t};\n\t\t}\n\t\treturn frappe.xcall(method, args);\n\t}\n\n\tasync get_source_doctype() {\n\t\tif (this.chart_doc.document_type) {\n\t\t\treturn this.chart_doc.document_type;\n\t\t}\n\t\tif (this.chart_doc.chart_type == \"Report\" && this.chart_doc.report_name) {\n\t\t\treturn await frappe.db.get_value(\"Report\", this.chart_doc.report_name, \"ref_doctype\").then(r => r.message.ref_doctype);\n\t\t}\n\t}\n\n\tasync render() {\n\t\tlet setup_dashboard_chart = () => {\n\t\t\tconst chart_args = this.get_chart_args();\n\n\t\t\tif (!this.dashboard_chart) {\n\t\t\t\tthis.dashboard_chart = frappe.utils.make_chart(this.chart_wrapper[0], chart_args);\n\t\t\t} else {\n\t\t\t\tthis.dashboard_chart.update(this.data);\n\t\t\t}\n\t\t}\n\n\t\tif (!this.data || !this.data.labels || !Object.keys(this.data).length) {\n\t\t\tthis.chart_wrapper.hide();\n\t\t\tthis.loading.hide();\n\t\t\tthis.$summary && this.$summary.hide();\n\t\t\tthis.empty.show();\n\t\t} else {\n\t\t\tthis.loading.hide();\n\t\t\tthis.empty.hide();\n\t\t\tthis.chart_wrapper.show();\n\t\t\tthis.chart_doc.document_type = await this.get_source_doctype();\n\n\t\t\tif (this.chart_doc.document_type) {\n\t\t\t\tfrappe.model.with_doctype(this.chart_doc.document_type, setup_dashboard_chart);\n\t\t\t} else {\n\t\t\t\tsetup_dashboard_chart();\n\t\t\t}\n\n\t\t\tthis.width == \"Full\" && this.summary && this.set_summary();\n\t\t\tthis.chart_doc.type == 'Heatmap' && this.render_heatmap_legend();\n\t\t}\n\t}\n\n\tget_chart_args() {\n\t\tlet colors = this.get_chart_colors();\n\t\tlet fieldtype, options;\n\n\t\tconst chart_type_map = {\n\t\t\tLine: \"line\",\n\t\t\tBar: \"bar\",\n\t\t\tPercentage: \"percentage\",\n\t\t\tPie: \"pie\",\n\t\t\tDonut: \"donut\",\n\t\t\tHeatmap: \"heatmap\"\n\t\t};\n\n\t\tlet max_slices = [\"Pie\", \"Donut\"].includes(this.chart_doc.type) ? 6 : 9;\n\t\tlet chart_args = {\n\t\t\tdata: this.data,\n\t\t\ttype: chart_type_map[this.chart_doc.type],\n\t\t\tcolors: colors,\n\t\t\theight: this.height,\n\t\t\tmaxSlices: this.chart_doc.number_of_groups || max_slices,\n\t\t\taxisOptions: {\n\t\t\t\txIsSeries: this.chart_doc.timeseries,\n\t\t\t\tshortenYAxisNumbers: 1\n\t\t\t},\n\t\t};\n\n\t\tif (this.chart_doc.document_type) {\n\t\t\tlet doctype_meta = frappe.get_meta(this.chart_doc.document_type);\n\t\t\tlet field = doctype_meta.fields.find(x => x.fieldname == this.chart_doc.value_based_on);\n\t\t\tif (field) {\n\t\t\t\tfieldtype = field.fieldtype;\n\t\t\t\toptions = field.options;\n\t\t\t}\n\t\t}\n\n\t\tif (this.chart_doc.chart_type == \"Report\" && this.report_result && this.report_result.chart && this.report_result.chart.fieldtype) {\n\t\t\tfieldtype = this.report_result.chart.fieldtype;\n\t\t\toptions = this.report_result.chart.options;\n\t\t}\n\n\t\tchart_args.tooltipOptions = {\n\t\t\tformatTooltipY: value => frappe.format(value, { fieldtype, options }, { always_show_decimals: true, inline: true })\n\t\t};\n\n\t\tif (this.chart_doc.type == \"Heatmap\") {\n\t\t\tconst heatmap_year = parseInt(this.selected_heatmap_year || this.chart_settings.heatmap_year || this.chart_doc.heatmap_year);\n\t\t\tchart_args.data.start = new Date(`${heatmap_year}-01-01`);\n\t\t\tchart_args.data.end = new Date(`${heatmap_year+1}-01-01`);\n\t\t}\n\n\t\tlet set_options = (options) => {\n\t\t\tlet custom_options = JSON.parse(options);\n\t\t\tfor (let key in custom_options) {\n\t\t\t\tif (typeof chart_args[key] === 'object' && typeof custom_options[key] === 'object') {\n\t\t\t\t\tchart_args[key] = Object.assign(chart_args[key], custom_options[key]);\n\t\t\t\t} else {\n\t\t\t\t\tchart_args[key] = custom_options[key];\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tif (this.custom_options) {\n\t\t\tset_options(this.custom_options);\n\t\t}\n\n\t\tif (this.chart_doc.custom_options) {\n\t\t\tset_options(this.chart_doc.custom_options);\n\t\t}\n\n\t\treturn chart_args;\n\t}\n\n\tget_chart_colors() {\n\t\tlet colors = [];\n\t\tif (this.chart_doc.y_axis.length) {\n\t\t\tthis.chart_doc.y_axis.map(field => {\n\t\t\t\tcolors.push(field.color);\n\t\t\t});\n\t\t} else if ([\"Line\", \"Bar\"].includes(this.chart_doc.type)) {\n\t\t\tcolors = [this.chart_doc.color || []];\n\t\t}  else if (this.chart_doc.type == \"Heatmap\") {\n\t\t\tcolors = [];\n\t\t}\n\n\t\treturn colors;\n\t}\n\n\trender_heatmap_legend() {\n\t\tlet legend_colors;\n\n\t\tlet set_legend_color = (options) => {\n\t\t\tlegend_colors = JSON.parse(options).colors;\n\t\t}\n\n\t\tif (this.custom_options) {\n\t\t\tset_legend_color(this.custom_options);\n\t\t}\n\n\t\tif (this.chart_doc.custom_options) {\n\t\t\tset_legend_color(this.chart_doc.custom_options);\n\t\t}\n\n\t\tif (!this.$heatmap_legend && this.widget.width() > 991) {\n\t\t\tthis.$heatmap_legend =\n\t\t\t\t$(`\n\t\t\t\t<div class=\"heatmap-legend\">\n\t\t\t\t\t<ul class=\"legend-colors\">\n\t\t\t\t\t\t<li style=\"background-color: ${legend_colors[0] || '#ebedf0'}\"></li>\n\t\t\t\t\t\t<li style=\"background-color: ${legend_colors[1] || '#c6e48b'}\"></li>\n\t\t\t\t\t\t<li style=\"background-color: ${legend_colors[2] || '#7bc96f'}\"></li>\n\t\t\t\t\t\t<li style=\"background-color: ${legend_colors[3] || '#239a3b'}\"></li>\n\t\t\t\t\t\t<li style=\"background-color: ${legend_colors[4] || '#196127'}\"></li>\n\t\t\t\t\t</ul>\n\t\t\t\t\t<div class=\"legend-label\">\n\t\t\t\t\t\t<div style=\"margin-bottom: 45px\">${__(\"Less\")}</div>\n\t\t\t\t\t\t<div>${__(\"More\")}</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t`);\n\t\t\tthis.body.append(this.$heatmap_legend);\n\t\t}\n\t}\n\n\tupdate_last_synced() {\n\t\tif (!this.chart_doc.last_synced_on) {\n\t\t\treturn;\n\t\t}\n\t\tlet last_synced_text = __(\"Last synced {0}\", [comment_when(this.chart_doc.last_synced_on)]);\n\t\tthis.subtitle_field.html(last_synced_text);\n\t}\n\n\tupdate_chart_object() {\n\t\tfrappe.db.get_doc(\"Dashboard Chart\", this.chart_doc.name).then(doc => {\n\t\t\tthis.chart_doc = doc;\n\t\t\tthis.update_last_synced();\n\t\t});\n\t}\n\n\tprepare_chart_object() {\n\t\tif (this.chart_doc.type == 'Heatmap' && !this.chart_doc.heatmap_year) {\n\t\t\tthis.chart_doc.heatmap_year = frappe.dashboard_utils.get_year(frappe.datetime.now_date());\n\t\t}\n\n\t\treturn this.set_chart_filters();\n\t}\n\n\tset_chart_filters() {\n\t\tlet user_saved_filters = this.chart_settings.filters || null;\n\t\tlet chart_saved_filters = frappe.dashboard_utils.get_all_filters(this.chart_doc);\n\n\t\tif (this.chart_doc.chart_type == 'Report') {\n\t\t\treturn frappe.dashboard_utils\n\t\t\t\t.get_filters_for_chart_type(this.chart_doc).then(filters => {\n\t\t\t\t\tchart_saved_filters = this.update_default_date_filters(filters, chart_saved_filters);\n\t\t\t\t\tthis.filters =\n\t\t\t\t\tfrappe.utils.parse_array(user_saved_filters) || frappe.utils.parse_array(this.filters)\n\t\t\t\t\t\t|| frappe.utils.parse_array(chart_saved_filters);\n\t\t\t\t});\n\t\t} else {\n\t\t\tthis.filters =\n\t\t\t\tfrappe.utils.parse_array(user_saved_filters) || frappe.utils.parse_array(this.filters)\n\t\t\t\t\t|| frappe.utils.parse_array(chart_saved_filters);\n\t\t\treturn Promise.resolve();\n\t\t}\n\t}\n\n\tupdate_default_date_filters(report_filters, chart_filters) {\n\t\tif (report_filters) {\n\t\t\treport_filters.map(f => {\n\t\t\t\tif (['Date', 'DateRange'].includes(f.fieldtype) && f.default) {\n\t\t\t\t\tif (f.reqd || chart_filters[f.fieldname]) {\n\t\t\t\t\t\tchart_filters[f.fieldname] = f.default;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\treturn chart_filters;\n\t}\n\n\tget_settings() {\n\t\treturn frappe.model\n\t\t\t.with_doc(\"Dashboard Chart\", this.chart_name)\n\t\t\t.then(chart_doc => {\n\t\t\t\tif (chart_doc) {\n\t\t\t\t\tthis.chart_doc = chart_doc;\n\t\t\t\t\tif (this.chart_doc.chart_type == \"Custom\") {\n\t\t\t\t\t\t// custom source\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\tfrappe.dashboards.chart_sources[this.chart_doc.source]\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tthis.settings =\n\t\t\t\t\t\t\t\tfrappe.dashboards.chart_sources[\n\t\t\t\t\t\t\t\t\tthis.chart_doc.source\n\t\t\t\t\t\t\t\t];\n\t\t\t\t\t\t\treturn Promise.resolve();\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tconst method =\n\t\t\t\t\t\t\t\t\"frappe.desk.doctype.dashboard_chart_source.dashboard_chart_source.get_config\";\n\t\t\t\t\t\t\treturn frappe\n\t\t\t\t\t\t\t\t.xcall(method, { name: this.chart_doc.source })\n\t\t\t\t\t\t\t\t.then(config => {\n\t\t\t\t\t\t\t\t\tfrappe.dom.eval(config);\n\t\t\t\t\t\t\t\t\tthis.settings =\n\t\t\t\t\t\t\t\t\t\tfrappe.dashboards.chart_sources[\n\t\t\t\t\t\t\t\t\t\t\tthis.chart_doc.source\n\t\t\t\t\t\t\t\t\t\t];\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if (this.chart_doc.chart_type == \"Report\") {\n\t\t\t\t\t\tthis.settings = {\n\t\t\t\t\t\t\tmethod: \"frappe.desk.query_report.run\"\n\t\t\t\t\t\t};\n\t\t\t\t\t\treturn Promise.resolve();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.settings = {\n\t\t\t\t\t\t\tmethod: \"frappe.desk.doctype.dashboard_chart.dashboard_chart.get\"\n\t\t\t\t\t\t};\n\t\t\t\t\t\treturn Promise.resolve();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t}\n}\n","import Widget from \"./base_widget.js\";\n\nfrappe.provide(\"frappe.utils\");\n\nexport default class ShortcutWidget extends Widget {\n\tconstructor(opts) {\n\t\topts.shadow = true;\n\t\tsuper(opts);\n\t}\n\n\tget_config() {\n\t\treturn {\n\t\t\tname: this.name,\n\t\t\ticon: this.icon,\n\t\t\tlabel: this.label,\n\t\t\tformat: this.format,\n\t\t\tlink_to: this.link_to,\n\t\t\tdoc_view: this.doc_view,\n\t\t\tcolor: this.color,\n\t\t\trestrict_to_domain: this.restrict_to_domain,\n\t\t\tstats_filter: this.stats_filter,\n\t\t\ttype: this.type,\n\t\t};\n\t}\n\n\tsetup_events() {\n\t\tthis.widget.click(() => {\n\t\t\tif (this.in_customize_mode) return;\n\n\t\t\tlet route = frappe.utils.generate_route({\n\t\t\t\troute: this.route,\n\t\t\t\tname: this.link_to,\n\t\t\t\ttype: this.type,\n\t\t\t\tis_query_report: this.is_query_report,\n\t\t\t\tdoctype: this.ref_doctype,\n\t\t\t\tdoc_view: this.doc_view\n\t\t\t});\n\n\t\t\tlet filters = this.get_doctype_filter();\n\t\t\tif (this.type == \"DocType\" && filters) {\n\t\t\t\tfrappe.route_options = filters;\n\t\t\t}\n\t\t\tfrappe.set_route(route);\n\t\t});\n\t}\n\n\tset_actions() {\n\t\tif (this.in_customize_mode) return;\n\n\t\tthis.widget.addClass(\"shortcut-widget-box\");\n\n\t\tlet filters = this.get_doctype_filter();\n\t\tif (this.type == \"DocType\" && filters) {\n\t\t\tfrappe.db\n\t\t\t\t.count(this.link_to, {\n\t\t\t\t\tfilters: filters,\n\t\t\t\t})\n\t\t\t\t.then((count) => this.set_count(count));\n\t\t}\n\t}\n\n\tget_doctype_filter() {\n\t\tlet count_filter = new Function(`return ${this.stats_filter}`)();\n\t\tif (count_filter) {\n\t\t\treturn count_filter;\n\t\t}\n\n\t\treturn null;\n\t}\n\n\tset_count(count) {\n\t\tconst get_label = () => {\n\t\t\tif (this.format) {\n\t\t\t\treturn __(this.format).replace(/{}/g, count);\n\t\t\t}\n\t\t\treturn count;\n\t\t};\n\n\t\tthis.action_area.empty();\n\t\tconst label = get_label();\n\t\tlet color = this.color && count ? this.color.toLowerCase() : 'gray';\n\t\t$(`<div class=\"indicator-pill ellipsis ${color}\">${label}</div>`).appendTo(this.action_area);\n\t}\n}\n","import Widget from \"./base_widget.js\";\n\nfrappe.provide(\"frappe.utils\");\n\nexport default class LinksWidget extends Widget {\n\tconstructor(opts) {\n\t\topts.icon = opts.icon || 'file';\n\t\tsuper(opts);\n\t}\n\n\tget_config() {\n\t\treturn {\n\t\t\tname: this.name,\n\t\t\tlinks: JSON.stringify(this.links),\n\t\t\tlabel: this.label,\n\t\t\thidden: this.hidden,\n\t\t};\n\t}\n\n\tset_body() {\n\t\tthis.options = {};\n\t\tthis.options.links = this.links;\n\t\tthis.widget.addClass(\"links-widget-box\");\n\t\tconst is_link_disabled = item => {\n\t\t\treturn item.dependencies && item.incomplete_dependencies;\n\t\t};\n\t\tconst disabled_dependent = item => {\n\t\t\treturn is_link_disabled(item) ? \"disabled-link\" : \"\";\n\t\t};\n\n\t\tconst get_indicator_color = item => {\n\t\t\tif (item.open_count) {\n\t\t\t\treturn \"red\";\n\t\t\t}\n\t\t\tif (item.onboard) {\n\t\t\t\treturn item.count ? \"blue\" : \"yellow\";\n\t\t\t}\n\t\t\treturn \"gray\";\n\t\t};\n\n\t\tconst get_link_for_item = item => {\n\t\t\tif (is_link_disabled(item)) {\n\t\t\t\treturn `<span class=\"link-content ellipsis disabled-link\">${\n\t\t\t\t\titem.label ? item.label : item.name\n\t\t\t\t}</span>\n\t\t\t\t\t<div class=\"module-link-popover popover fade top in\" role=\"tooltip\" style=\"display: none;\">\n\t\t\t\t\t\t<div class=\"arrow\"></div>\n\t\t\t\t\t\t<h3 class=\"popover-title\" style=\"display: none;\"></h3>\n\t\t\t\t\t\t<div class=\"popover-content\" style=\"padding: 12px;\">\n\t\t\t\t\t\t\t<div class=\"small text-muted\">${__(\"You need to create these first: \")}</div>\n\t\t\t\t\t\t\t<div class=\"small\">${item.incomplete_dependencies.join(\", \")}</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>`;\n\t\t\t}\n\n\t\t\tif (item.youtube_id)\n\t\t\t\treturn `<span class=\"link-content help-video-link ellipsis\" data-youtubeid=\"${item.youtube_id}\">\n\t\t\t\t\t\t${item.label ? item.label : item.name}</span>`;\n\n\t\t\treturn `<span class=\"link-content ellipsis\">${item.label ? item.label : item.name}</span>`;\n\t\t};\n\n\t\tthis.link_list = this.links.map(item => {\n\t\t\tconst opts = {\n\t\t\t\tname: item.link_to,\n\t\t\t\ttype: item.link_type,\n\t\t\t\tdoctype: item.doctype,\n\t\t\t\tis_query_report: item.is_query_report\n\t\t\t};\n\n\t\t\tif (item.link_type.toLowerCase() == \"report\" && !item.is_query_report) {\n\t\t\t\topts.doctype = item.dependencies;\n\t\t\t}\n\n\t\t\tconst route = frappe.utils.generate_route(opts);\n\n\t\t\treturn $(`<a href=\"${route}\" class=\"link-item ellipsis ${\n\t\t\t\titem.onboard ? \"onboard-spotlight\" : \"\"\n\t\t\t} ${disabled_dependent(item)}\" type=\"${item.type}\">\n\t\t\t\t\t<span class=\"indicator-pill no-margin ${get_indicator_color(item)}\"></span>\n\t\t\t\t\t${get_link_for_item(item)}\n\t\t\t</a>`);\n\t\t});\n\n\t\tthis.link_list.forEach(link => link.appendTo(this.body));\n\t}\n\n\tsetup_events() {\n\t\tthis.link_list.forEach(link => {\n\t\t\t// Bind Popver Event\n\t\t\tconst link_label = link.find(\".link-content\");\n\n\t\t\tif (link.hasClass(\"disabled-link\")) {\n\t\t\t\tconst popover = link.find(\".module-link-popover\");\n\n\t\t\t\tlink_label.mouseover(() => {\n\t\t\t\t\tif (this.in_customize_mode) return;\n\t\t\t\t\tpopover.show();\n\t\t\t\t});\n\t\t\t\tlink_label.mouseout(() => popover.hide());\n\t\t\t} else {\n\t\t\t\tlink_label.click(event => {\n\t\t\t\t\tif (this.in_customize_mode) return;\n\n\t\t\t\t\tif (link_label.hasClass(\"help-video-link\")) {\n\t\t\t\t\t\tlet yt_id = event.currentTarget.dataset.youtubeid;\n\t\t\t\t\t\tfrappe.help.show_video(yt_id);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t}\n}\n","import Widget from \"./base_widget.js\";\n\nfrappe.provide(\"frappe.utils\");\n\nexport default class OnboardingWidget extends Widget {\n\tmake_body() {\n\t\tthis.steps_wrapper = $(`<div class=\"onboarding-steps-wrapper\"></div>`).appendTo(this.body);\n\t\tthis.step_preview = $(`<div class=\"onboarding-step-preview\">\n\t\t\t<div class=\"onboarding-step-body\"></div>\n\t\t\t<div class=\"onboarding-step-footer\"></div>\n\t\t</div>`).appendTo(this.body);\n\n\t\tthis.step_body = this.step_preview.find(\".onboarding-step-body\");\n\t\tthis.step_footer = this.step_preview.find(\".onboarding-step-footer\");\n\n\t\tthis.steps.forEach((step, index) => {\n\t\t\tthis.add_step(step, index);\n\t\t});\n\n\t\tthis.show_step(this.steps[0]);\n\t}\n\n\tadd_step(step, index) {\n\t\tlet status = 'pending';\n\n\t\tif (step.is_skipped) status = \"skipped\";\n\t\tif (step.is_complete) status = \"complete\";\n\n\t\tlet $step = $(`<a class=\"onboarding-step ${status}\">\n\t\t\t\t<div class=\"step-title\">\n\t\t\t\t\t<div class=\"step-index step-pending\">${__(index + 1)}</div>\n\t\t\t\t\t<div class=\"step-index step-skipped\">${frappe.utils.icon('tick', 'xs')}</div>\n\t\t\t\t\t<div class=\"step-index step-complete\">${frappe.utils.icon('tick', 'xs')}</div>\n\t\t\t\t\t<div>${__(step.title)}</div>\n\t\t\t\t</div>\n\t\t\t</a>`);\n\n\t\tstep.$step = $step;\n\n\t\t// Add skip button\n\t\tif (!step.is_complete && !step.is_skipped) {\n\t\t\tlet skip_html = $(\n\t\t\t\t`<div class=\"step-skip\">${__('Skip')}</div>`\n\t\t\t);\n\n\t\t\tskip_html.appendTo($step);\n\t\t\tskip_html.on(\"click\", () => {\n\t\t\t\tthis.skip_step(step);\n\t\t\t\tevent.stopPropagation();\n\t\t\t});\n\t\t}\n\t\t$step.on(\"click\", () => this.show_step(step));\n\t\t$step.appendTo(this.steps_wrapper);\n\n\t\treturn $step;\n\t}\n\n\tshow_step(step) {\n\t\tthis.active_step && this.active_step.$step.removeClass(\"active\");\n\n\t\tstep.$step.addClass(\"active\");\n\t\tthis.active_step = step;\n\n\t\tlet actions = {\n\t\t\t\"Watch Video\": (step) => this.show_video(step),\n\t\t\t\"Create Entry\": (step) => {\n\t\t\t\tif (step.is_complete) {\n\t\t\t\t\tfrappe.set_route(`/app/List/${step.reference_document}`);\n\t\t\t\t} else {\n\t\t\t\t\tif (step.show_full_form) {\n\t\t\t\t\t\tthis.create_entry(step);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.show_quick_entry(step);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\t\"Show Form Tour\": (step) => this.show_form_tour(step),\n\t\t\t\"Update Settings\": (step) => this.update_settings(step),\n\t\t\t\"View Report\": (step) => this.open_report(step),\n\t\t\t\"Go to Page\": (step) => this.go_to_page(step),\n\t\t};\n\n\t\tconst toggle_content = () => {\n\t\t\tthis.step_body.empty();\n\t\t\tthis.step_footer.empty();\n\n\t\t\tthis.step_body.html(\n\t\t\t\tstep.description ?\n\t\t\t\t\tfrappe.markdown(step.description)\n\t\t\t\t\t: `<h1>${step.title}</h1>`\n\t\t\t);\n\n\t\t\tif (step.intro_video_url) {\n\t\t\t\t$(`<button class=\"btn btn-primary btn-sm\">${__('Watch Tutorial')}</button>`)\n\t\t\t\t\t.appendTo(this.step_footer)\n\t\t\t\t\t.on('click', toggle_video);\n\t\t\t} else {\n\t\t\t\t$(`<button class=\"btn btn-primary btn-sm\">${__(step.action_label || step.action)}</button>`)\n\t\t\t\t\t.appendTo(this.step_footer)\n\t\t\t\t\t.on('click', () => actions[step.action](step));\n\t\t\t}\n\t\t};\n\n\t\tconst toggle_video = () => {\n\t\t\tthis.step_body.empty();\n\t\t\tthis.step_footer.empty();\n\n\t\t\tconst video = $(`<div class=\"video-player\" data-plyr-provider=\"youtube\" data-plyr-embed-id=\"${step.intro_video_url}\"></div>`);\n\t\t\tvideo.appendTo(this.step_body);\n\t\t\tlet plyr = new frappe.Plyr(video[0], {\n\t\t\t\thideControls: true,\n\t\t\t\tresetOnEnd: true,\n\t\t\t});\n\n\t\t\t$(`<button class=\"btn btn-primary btn-sm\">${__(step.action_label || step.action)}</button>`)\n\t\t\t\t.appendTo(this.step_footer)\n\t\t\t\t.on('click', () => {\n\t\t\t\t\tplyr.pause();\n\t\t\t\t\tactions[step.action](step);\n\t\t\t\t});\n\n\t\t\t// Fire only once, on hashchange\n\t\t\t$(window).one('hashchange', () => {\n\t\t\t\tplyr.pause();\n\t\t\t});\n\n\t\t\t$(`<button class=\"btn btn-secondary ml-2 btn-sm\">${__('Back')}</button>`)\n\t\t\t\t.appendTo(this.step_footer)\n\t\t\t\t.on('click', toggle_content);\n\t\t};\n\n\t\ttoggle_content();\n\t\t// toggle_video();\n\t}\n\n\tgo_to_page(step) {\n\t\tthis.mark_complete(step);\n\t\tfrappe.set_route(step.path).then(() => {\n\t\t\tlet message = step.callback_message || __(\"You can continue with the onboarding after exploring this page\");\n\t\t\tlet title = step.callback_title || __(\"Awesome Work\");\n\n\t\t\tlet msg_dialog = frappe.msgprint({\n\t\t\t\tmessage: message,\n\t\t\t\ttitle: title,\n\t\t\t\tprimary_action: {\n\t\t\t\t\taction: () => {\n\t\t\t\t\t\tmsg_dialog.hide();\n\t\t\t\t\t},\n\t\t\t\t\tlabel: () => __(\"Continue\"),\n\t\t\t\t},\n\t\t\t\twide: true,\n\t\t\t});\n\t\t});\n\t}\n\n\topen_report(step) {\n\t\tlet route = frappe.utils.generate_route({\n\t\t\tname: step.reference_report,\n\t\t\ttype: \"report\",\n\t\t\tis_query_report: step.report_type !== \"Report Builder\",\n\t\t\tdoctype: step.report_reference_doctype,\n\t\t});\n\n\t\tlet current_route = frappe.get_route();\n\n\t\tfrappe.set_route(route).then(() => {\n\t\t\tlet msg_dialog = frappe.msgprint({\n\t\t\t\tmessage: __(step.report_description),\n\t\t\t\ttitle: __(step.reference_report),\n\t\t\t\tprimary_action: {\n\t\t\t\t\taction: () => {\n\t\t\t\t\t\tfrappe.set_route(current_route).then(() => {\n\t\t\t\t\t\t\tthis.mark_complete(step);\n\t\t\t\t\t\t});\n\t\t\t\t\t\tmsg_dialog.hide();\n\t\t\t\t\t},\n\t\t\t\t\tlabel: () => __(\"Continue\"),\n\t\t\t\t},\n\t\t\t\tsecondary_action: {\n\t\t\t\t\taction: () => {\n\t\t\t\t\t\tmsg_dialog.hide();\n\t\t\t\t\t\tfrappe.set_route(current_route).then(() => {\n\t\t\t\t\t\t\tthis.mark_complete(step);\n\t\t\t\t\t\t});\n\t\t\t\t\t},\n\t\t\t\t\tlabel: __(\"Go Back\"),\n\t\t\t\t},\n\t\t\t});\n\n\t\t\tfrappe.msg_dialog.custom_onhide = () => this.mark_complete(step);\n\t\t});\n\t}\n\n\tshow_form_tour(step) {\n\t\tlet route;\n\t\tif (step.is_single) {\n\t\t\troute = frappe.router.slug(step.reference_document);\n\t\t} else {\n\t\t\troute = `${frappe.router.slug(step.reference_document)}/new`;\n\t\t}\n\n\t\tlet current_route = frappe.get_route();\n\n\t\tfrappe.route_hooks = {};\n\t\tfrappe.route_hooks.after_load = (frm) => {\n\t\t\tfrm.show_tour(() => {\n\t\t\t\tlet msg_dialog = frappe.msgprint({\n\t\t\t\t\tmessage: __(\"Let's take you back to onboarding\"),\n\t\t\t\t\ttitle: __(\"Great Job\"),\n\t\t\t\t\tprimary_action: {\n\t\t\t\t\t\taction: () => {\n\t\t\t\t\t\t\tfrappe.set_route(current_route).then(() => {\n\t\t\t\t\t\t\t\tthis.mark_complete(step);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tmsg_dialog.hide();\n\t\t\t\t\t\t},\n\t\t\t\t\t\tlabel: () => __(\"Continue\"),\n\t\t\t\t\t},\n\t\t\t\t});\n\t\t\t});\n\t\t};\n\n\t\tfrappe.set_route(route);\n\t}\n\n\tupdate_settings(step) {\n\t\tlet current_route = frappe.get_route();\n\n\t\tfrappe.route_hooks = {};\n\t\tfrappe.route_hooks.after_load = (frm) => {\n\t\t\tfrm.scroll_to_field(step.field);\n\t\t\tfrm.doc.__unsaved = true;\n\t\t};\n\n\t\tfrappe.route_hooks.after_save = (frm) => {\n\t\t\tlet success = false;\n\t\t\tlet args = {};\n\n\t\t\tlet value = frm.doc[step.field];\n\t\t\tlet custom_onhide = null;\n\n\t\t\tif (value && step.value_to_validate == \"%\") success = true;\n\t\t\tif (value == step.value_to_validate) success = true;\n\t\t\tif (cstr(value) == cstr(step.value_to_validate)) success = true;\n\n\t\t\tif (success) {\n\t\t\t\targs.message = __(\"Let's take you back to onboarding\");\n\t\t\t\targs.title = __(\"Looks Great\");\n\t\t\t\targs.primary_action = {\n\t\t\t\t\taction: () => {\n\t\t\t\t\t\tfrappe.set_route(current_route).then(() => {\n\t\t\t\t\t\t\tthis.mark_complete(step);\n\t\t\t\t\t\t});\n\t\t\t\t\t},\n\t\t\t\t\tlabel: __(\"Continue\"),\n\t\t\t\t};\n\n\t\t\t\tcustom_onhide = () => args.primary_action.action();\n\t\t\t} else {\n\t\t\t\targs.message = __(\"Looks like you didn't change the value\");\n\t\t\t\targs.title = __(\"Oops\");\n\t\t\t\targs.secondary_action = {\n\t\t\t\t\taction: () => frappe.set_route(current_route),\n\t\t\t\t\tlabel: __(\"Go Back\"),\n\t\t\t\t};\n\n\t\t\t\targs.primary_action = {\n\t\t\t\t\taction: () => {\n\t\t\t\t\t\tfrappe.set_route(current_route).then(() => {\n\t\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\t\tthis.skip_step(step);\n\t\t\t\t\t\t\t}, 300);\n\t\t\t\t\t\t});\n\t\t\t\t\t},\n\t\t\t\t\tlabel: __(\"Skip Step\"),\n\t\t\t\t};\n\n\t\t\t\tcustom_onhide = () => args.secondary_action.action();\n\t\t\t}\n\n\t\t\tfrappe.msgprint(args);\n\t\t\tfrappe.msg_dialog.custom_onhide = () => custom_onhide();\n\t\t};\n\n\t\tfrappe.set_route(\"Form\", step.reference_document);\n\t}\n\n\tcreate_entry(step) {\n\t\tlet current_route = frappe.get_route();\n\n\t\tfrappe.route_hooks = {};\n\t\tfrappe.route_hooks.after_load = (frm) => {\n\t\t\tfrm.show_tour(() => {\n\t\t\t\tfrappe.msgprint({\n\t\t\t\t\tmessage: __(\"Awesome, now try making an entry yourself\"),\n\t\t\t\t\ttitle: __(\"Great\"),\n\t\t\t\t});\n\t\t\t});\n\t\t};\n\n\t\tlet callback = () => {\n\t\t\tfrappe.msgprint({\n\t\t\t\tmessage: __(\"You're doing great, let's take you back to the onboarding page.\"),\n\t\t\t\ttitle: __(\"Good Work 🎉\"),\n\t\t\t\tprimary_action: {\n\t\t\t\t\taction: () => {\n\t\t\t\t\t\tfrappe.set_route(current_route).then(() => {\n\t\t\t\t\t\t\tthis.mark_complete(step);\n\t\t\t\t\t\t});\n\t\t\t\t\t},\n\t\t\t\t\tlabel: __(\"Continue\"),\n\t\t\t\t},\n\t\t\t});\n\n\t\t\tfrappe.msg_dialog.custom_onhide = () => {\n\t\t\t\tthis.mark_complete(step);\n\t\t\t};\n\t\t};\n\n\t\tif (step.is_submittable) {\n\t\t\tfrappe.route_hooks.after_save = () => {\n\t\t\t\tfrappe.msgprint({\n\t\t\t\t\tmessage: __(\"Submit this document to complete this step.\"),\n\t\t\t\t\ttitle: __(\"Great\")\n\t\t\t\t});\n\t\t\t};\n\t\t\tfrappe.route_hooks.after_submit = callback;\n\t\t} else {\n\t\t\tfrappe.route_hooks.after_save = callback;\n\t\t}\n\n\t\tfrappe.set_route('Form', step.reference_document, 'new');\n\t}\n\n\tshow_quick_entry(step) {\n\t\tlet current_route = frappe.get_route_str();\n\t\tfrappe.ui.form.make_quick_entry(\n\t\t\tstep.reference_document,\n\t\t\t() => {\n\t\t\t\tif (frappe.get_route_str() != current_route) {\n\t\t\t\t\tlet success_dialog = frappe.msgprint({\n\t\t\t\t\t\tmessage: __(\"Let's take you back to onboarding\"),\n\t\t\t\t\t\ttitle: __(\"Looks Great\"),\n\t\t\t\t\t\tprimary_action: {\n\t\t\t\t\t\t\taction: () => {\n\t\t\t\t\t\t\t\tsuccess_dialog.hide();\n\t\t\t\t\t\t\t\tfrappe.set_route(current_route).then(() => {\n\t\t\t\t\t\t\t\t\tthis.mark_complete(step);\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tlabel: __(\"Continue\"),\n\t\t\t\t\t\t},\n\t\t\t\t\t});\n\n\t\t\t\t\tfrappe.msg_dialog.custom_onhide = () => {\n\t\t\t\t\t\tfrappe.set_route(current_route).then(() => {\n\t\t\t\t\t\t\tthis.mark_complete(step);\n\t\t\t\t\t\t});\n\t\t\t\t\t};\n\t\t\t\t} else {\n\t\t\t\t\tfrappe.msgprint({\n\t\t\t\t\t\tmessage: __(\"Let us continue with the onboarding\"),\n\t\t\t\t\t\ttitle: __(\"Looks Great\")\n\t\t\t\t\t});\n\t\t\t\t\tthis.mark_complete(step);\n\t\t\t\t}\n\t\t\t},\n\t\t\tnull,\n\t\t\tnull,\n\t\t\ttrue\n\t\t);\n\t}\n\n\tshow_video(step) {\n\t\tfrappe.help.show_video(step.video_url, step.title);\n\t\tthis.mark_complete(step);\n\t}\n\n\tmark_complete(step) {\n\t\tlet $step = step.$step;\n\n\t\tlet callback = () => {\n\t\t\tstep.is_complete = true;\n\t\t\t$step.removeClass(\"skipped\");\n\t\t\t$step.addClass(\"complete\");\n\t\t};\n\n\t\tthis.update_step_status(step, \"is_complete\", 1, callback);\n\t}\n\n\tskip_step(step) {\n\t\tlet $step = step.$step;\n\n\t\tlet callback = () => {\n\t\t\tstep.is_skipped = true;\n\t\t\t$step.removeClass(\"complete\");\n\t\t\t$step.removeClass(\"pending\");\n\t\t\t$step.addClass(\"skipped\");\n\t\t};\n\n\t\tthis.update_step_status(step, \"is_skipped\", 1, callback);\n\t}\n\n\tupdate_step_status(step, status, value, callback) {\n\t\tlet icon_class = {\n\t\t\tis_complete: \"complete\",\n\t\t\tis_skipped: \"skipped\",\n\t\t};\n\t\t//  Clear any hooks\n\t\tfrappe.route_hooks = {};\n\n\t\tfrappe\n\t\t\t.call(\"frappe.desk.desktop.update_onboarding_step\", {\n\t\t\t\tname: step.name,\n\t\t\t\tfield: status,\n\t\t\t\tvalue: value,\n\t\t\t})\n\t\t\t.then(() => {\n\t\t\t\tcallback();\n\n\t\t\t\tstep.$step\n\t\t\t\t\t.removeClass(\"pending\")\n\t\t\t\t\t.removeClass(\"complete\")\n\t\t\t\t\t.removeClass(\"skipped\")\n\t\t\t\t\t.addClass(icon_class[status]);\n\n\t\t\t\tlet pending = this.steps.filter((step) => {\n\t\t\t\t\treturn !(step.is_complete || step.is_skipped);\n\t\t\t\t});\n\n\t\t\t\tif (pending.length == 0) {\n\t\t\t\t\tthis.show_success();\n\t\t\t\t}\n\t\t\t});\n\t}\n\n\tshow_success() {\n\t\tlet success_message = this.success || __(\"You seem good to go!\");\n\t\tlet success_state_image =\n\t\t\tthis.success_state_image ||\n\t\t\t\"/assets/frappe/images/ui-states/success-color.png\";\n\t\tlet documentation = \"\";\n\t\tif (this.docs_url) {\n\t\t\tdocumentation = __(\n\t\t\t\t'Congratulations on completing the module setup. If you want to learn more you can refer to the documentation <a target=\"_blank\" href=\"{0}\">here</a>.',\n\t\t\t\t[this.docs_url]\n\t\t\t);\n\t\t}\n\n\t\tlet success = $(`<div class=\"text-center onboarding-success\">\n\t\t\t\t\t<img src=\"${success_state_image}\" alt=\"Success State\" class=\"zoom-in success-state\">\n\t\t\t\t\t<h3>${success_message}</h3>\n\t\t\t\t\t<div class=\"text-muted\">${documentation}</div>\n\t\t\t\t\t<button class=\"btn btn-primary btn-sm\">${__('Continue')}</button>\n\t\t\t</div>\n\t\t`);\n\n\t\tsuccess.find('.btn').on('click', () => this.delete());\n\n\t\tthis.step_preview.empty();\n\t\tsuccess.appendTo(this.step_preview);\n\t}\n\n\tset_body() {\n\t\tthis.widget.addClass(\"onboarding-widget-box\");\n\t\tif (this.is_dismissed()) {\n\t\t\tthis.widget.hide();\n\t\t} else {\n\t\t\tthis.make_body();\n\t\t}\n\t}\n\n\tis_dismissed() {\n\t\tlet dismissed = JSON.parse(\n\t\t\tlocalStorage.getItem(\"dismissed-onboarding\") || \"{}\"\n\t\t);\n\t\tif (Object.keys(dismissed).includes(this.label)) {\n\t\t\tlet last_hidden = new Date(dismissed[this.label]);\n\t\t\tlet today = new Date();\n\t\t\tlet diff = frappe.datetime.get_hour_diff(today, last_hidden);\n\t\t\treturn diff < 24;\n\t\t}\n\t\treturn false;\n\t}\n\n\tset_actions() {\n\t\tthis.action_area.empty();\n\t\tconst dismiss = $(\n\t\t\t`<div class=\"small\" style=\"cursor:pointer;\">${__('Dismiss', null, 'Stop showing the onboarding widget.')}</div>`\n\t\t);\n\t\tdismiss.on(\"click\", () => {\n\t\t\tlet dismissed = JSON.parse(\n\t\t\t\tlocalStorage.getItem(\"dismissed-onboarding\") || \"{}\"\n\t\t\t);\n\t\t\tdismissed[this.label] = frappe.datetime.now_datetime();\n\n\t\t\tlocalStorage.setItem(\n\t\t\t\t\"dismissed-onboarding\",\n\t\t\t\tJSON.stringify(dismissed)\n\t\t\t);\n\t\t\tthis.delete();\n\t\t});\n\t\tdismiss.appendTo(this.action_area);\n\t}\n}\n","import get_dialog_constructor from \"./widget_dialog.js\";\n\nexport default class NewWidget {\n\tconstructor(opts) {\n\t\tObject.assign(this, opts);\n\t\tthis.make();\n\t}\n\n\tcustomize() {\n\t\treturn;\n\t}\n\n\tmake() {\n\t\tthis.make_widget();\n\t\tthis.widget.appendTo(this.container);\n\t\tthis.setup_events();\n\t}\n\n\tget_title() {\n\t\t// DO NOT REMOVE: Comment to load translation\n\t\t// __(\"New Chart\") __(\"New Shortcut\") __(\"New Number Card\")\n\t\tlet title = `New ${frappe.model.unscrub(this.type)}`;\n\t\treturn __(title);\n\t}\n\n\tmake_widget() {\n\t\tconst new_widget_class = `new-${frappe.scrub(frappe.model.unscrub(this.type), '-')}-widget`;\n\t\tthis.widget = $(`<div class=\"widget new-widget ${new_widget_class}\">\n\t\t\t\t+ ${this.get_title()}\n\t\t\t</div>`);\n\t\tthis.body = this.widget;\n\t}\n\n\tsetup_events() {\n\t\tthis.widget.on(\"click\", () => {\n\t\t\tif (!this.custom_dialog) {\n\t\t\t\tthis.open_dialog();\n\t\t\t} else {\n\t\t\t\tthis.custom_dialog();\n\t\t\t}\n\t\t});\n\t}\n\n\topen_dialog() {\n\t\tconst dialog_class = get_dialog_constructor(this.type);\n\n\t\tthis.dialog = new dialog_class({\n\t\t\tlabel: this.label,\n\t\t\ttype: this.type,\n\t\t\tvalues: false,\n\t\t\tdefault_values: this.default_values,\n\t\t\tprimary_action: this.on_create,\n\t\t});\n\n\t\tthis.dialog.make();\n\t}\n\n\tdelete() {\n\t\tthis.widget.remove();\n\t}\n}\n","import Widget from \"./base_widget.js\";\n\nfrappe.provide(\"frappe.utils\");\n\nexport default class NumberCardWidget extends Widget {\n\tconstructor(opts) {\n\t\topts.shadow = true;\n\t\tsuper(opts);\n\t}\n\n\tget_config() {\n\t\treturn {\n\t\t\tname: this.name,\n\t\t\tlabel: this.label,\n\t\t\tcolor: this.color,\n\t\t\thidden: this.hidden,\n\t\t};\n\t}\n\n\trefresh() {\n\t\tthis.set_body();\n\t}\n\n\tset_body() {\n\t\tthis.widget.addClass(\"number-widget-box\");\n\t\tthis.make_card();\n\t}\n\n\tset_title() {\n\t\t$(this.title_field).html(`<div class=\"number-label\">${this.card_doc.label}</div>`);\n\t}\n\n\tmake_card() {\n\t\tfrappe.model.with_doc('Number Card', this.name).then(card => {\n\t\t\tif (!card) {\n\t\t\t\tif (this.document_type) {\n\t\t\t\t\tfrappe.run_serially([\n\t\t\t\t\t\t() => this.create_number_card(),\n\t\t\t\t\t\t() => this.render_card(),\n\t\t\t\t\t]);\n\t\t\t\t} else {\n\t\t\t\t\t// widget doesn't exist so delete\n\t\t\t\t\tthis.delete(false);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthis.card_doc = card;\n\t\t\t\tthis.render_card();\n\t\t\t}\n\n\t\t\tthis.set_events();\n\t\t});\n\t}\n\n\tcreate_number_card() {\n\t\tthis.set_doc_args();\n\t\treturn frappe.xcall(\n\t\t\t'frappe.desk.doctype.number_card.number_card.create_number_card',\n\t\t\t{\n\t\t\t\t'args': this.card_doc\n\t\t\t}\n\t\t).then(doc => {\n\t\t\tthis.name = doc.name;\n\t\t\tthis.card_doc = doc;\n\t\t\tthis.widget.attr('data-widget-name', this.name);\n\t\t});\n\t}\n\n\tset_events() {\n\t\t$(this.body).click(() => {\n\t\t\tif (this.in_customize_mode || this.card_doc.type == 'Custom') return;\n\t\t\tthis.set_route();\n\t\t});\n\t}\n\n\tset_route() {\n\t\tconst is_document_type = this.card_doc.type !== 'Report';\n\t\tconst name = is_document_type ? this.card_doc.document_type : this.card_doc.report_name;\n\t\tconst route = frappe.utils.generate_route({\n\t\t\tname: name,\n\t\t\ttype: is_document_type ? 'doctype' : 'report',\n\t\t\tis_query_report: !is_document_type,\n\t\t});\n\n\t\tif (is_document_type) {\n\t\t\tconst filters = JSON.parse(this.card_doc.filters_json);\n\t\t\tfrappe.route_options = filters.reduce((acc, filter) => {\n\t\t\t\treturn Object.assign(acc, {\n\t\t\t\t\t[`${filter[0]}.${filter[1]}`]: [filter[2], filter[3]]\n\t\t\t\t});\n\t\t\t}, {});\n\t\t}\n\n\t\tfrappe.set_route(route);\n\t}\n\n\tset_doc_args() {\n\t\tthis.card_doc = Object.assign({}, {\n\t\t\tdocument_type: this.document_type,\n\t\t\tlabel: this.label,\n\t\t\tfunction: this.function,\n\t\t\taggregate_function_based_on: this.aggregate_function_based_on,\n\t\t\tcolor: this.color,\n\t\t\tfilters_json: this.stats_filter\n\t\t});\n\t}\n\n\tget_settings(type) {\n\t\tthis.filters = this.get_filters();\n\t\tconst settings_map = {\n\t\t\t'Custom': {\n\t\t\t\tmethod: this.card_doc.method,\n\t\t\t\targs: {\n\t\t\t\t\tfilters: this.filters\n\t\t\t\t},\n\t\t\t\tget_number: res => this.get_number_for_custom_card(res),\n\t\t\t},\n\t\t\t'Report': {\n\t\t\t\tmethod: 'frappe.desk.query_report.run',\n\t\t\t\targs: {\n\t\t\t\t\treport_name: this.card_doc.report_name,\n\t\t\t\t\tfilters: this.filters,\n\t\t\t\t\tignore_prepared_report: 1\n\t\t\t\t},\n\t\t\t\tget_number: res => this.get_number_for_report_card(res),\n\t\t\t},\n\t\t\t'Document Type': {\n\t\t\t\tmethod: 'frappe.desk.doctype.number_card.number_card.get_result',\n\t\t\t\targs: {\n\t\t\t\t\tdoc: this.card_doc,\n\t\t\t\t\tfilters: this.filters,\n\t\t\t\t},\n\t\t\t\tget_number: res => this.get_number_for_doctype_card(res),\n\t\t\t}\n\t\t};\n\t\treturn settings_map[type];\n\t}\n\n\tget_filters() {\n\t\tconst filters = frappe.dashboard_utils.get_all_filters(this.card_doc);\n\t\treturn filters;\n\t}\n\n\trender_card() {\n\t\tthis.prepare_actions();\n\t\tthis.set_title();\n\t\tthis.set_loading_state();\n\n\t\tif (!this.card_doc.type) {\n\t\t\tthis.card_doc.type = 'Document Type';\n\t\t}\n\n\t\tthis.settings = this.get_settings(this.card_doc.type);\n\n\t\tfrappe.run_serially([\n\t\t\t() => this.render_number(),\n\t\t\t() => this.render_stats(),\n\t\t]);\n\t}\n\n\tset_loading_state() {\n\t\t$(this.body).html(`<div class=\"number-card-loading text-muted\">\n\t\t\t${__('Loading...')}\n\t\t</div>`);\n\t}\n\n\tget_number() {\n\t\treturn frappe.xcall(this.settings.method, this.settings.args).then(res => {\n\t\t\treturn this.settings.get_number(res);\n\t\t});\n\t}\n\n\tget_number_for_custom_card(res) {\n\t\tif (typeof res === 'object') {\n\t\t\tthis.number = res.value;\n\t\t\tthis.set_formatted_number(res);\n\t\t} else {\n\t\t\tthis.formatted_number = res;\n\t\t}\n\t}\n\n\tget_number_for_doctype_card(res) {\n\t\tthis.number = res;\n\t\tif (this.card_doc.function !== 'Count') {\n\t\t\treturn frappe.model.with_doctype(this.card_doc.document_type, () => {\n\t\t\t\tconst based_on_df =\n\t\t\t\t\tfrappe.meta.get_docfield(this.card_doc.document_type, this.card_doc.aggregate_function_based_on);\n\t\t\t\tthis.set_formatted_number(based_on_df);\n\t\t\t});\n\t\t} else {\n\t\t\tthis.formatted_number = res;\n\t\t}\n\t}\n\n\tget_number_for_report_card(res) {\n\t\tconst field = this.card_doc.report_field;\n\t\tconst vals = res.result.reduce((acc, col) => {\n\t\t\tcol[field] && acc.push(col[field]);\n\t\t\treturn acc;\n\t\t}, []);\n\t\tconst col = res.columns.find(col => col.fieldname == field);\n\t\tthis.number = frappe.report_utils.get_result_of_fn(this.card_doc.report_function, vals);\n\t\tthis.set_formatted_number(col);\n\t}\n\n\tset_formatted_number(df) {\n\t\tconst default_country = frappe.sys_defaults.country;\n\t\tconst shortened_number = frappe.utils.shorten_number(this.number, default_country, 5);\n\t\tlet number_parts = shortened_number.split(' ');\n\n\t\tconst symbol = number_parts[1] || '';\n\t\tconst formatted_number = $(frappe.format(number_parts[0], df)).text();\n\n\t\tthis.formatted_number = formatted_number + ' ' + symbol;\n\t}\n\n\trender_number() {\n\t\treturn this.get_number().then(() => {\n\t\t\t$(this.body).html(`<div class=\"widget-content\">\n\t\t\t\t<div class=\"number\" style=\"color:${this.card_doc.color}\">${this.formatted_number}</div>\n\t\t\t\t</div>`);\n\t\t});\n\t}\n\n\trender_stats() {\n\t\tif (this.card_doc.type !== 'Document Type') {\n\t\t\treturn;\n\t\t}\n\n\t\tlet caret_html = '';\n\t\tlet color_class = '';\n\n\t\treturn this.get_percentage_stats().then(() => {\n\t\t\tif (this.percentage_stat == 0 || this.percentage_stat == undefined) {\n\t\t\t\tcolor_class = 'grey-stat';\n\t\t\t} else if (this.percentage_stat > 0) {\n\t\t\t\tcaret_html =\n\t\t\t\t\t`<span class=\"indicator-pill-round green\">\n\t\t\t\t\t\t${frappe.utils.icon('arrow-up-right', 'xs')}\n\t\t\t\t\t</span>`;\n\t\t\t\tcolor_class = 'green-stat';\n\t\t\t} else {\n\t\t\t\tcaret_html =\n\t\t\t\t\t`<span class=\"indicator-pill-round red\">\n\t\t\t\t\t\t${frappe.utils.icon('arrow-down-left', 'xs')}\n\t\t\t\t\t</span>`;\n\t\t\t\tcolor_class = 'red-stat';\n\t\t\t}\n\n\t\t\tconst stats_qualifier_map = {\n\t\t\t\t'Daily': __('since yesterday'),\n\t\t\t\t'Weekly': __('since last week'),\n\t\t\t\t'Monthly': __('since last month'),\n\t\t\t\t'Yearly': __('since last year')\n\t\t\t};\n\t\t\tconst stats_qualifier = stats_qualifier_map[this.card_doc.stats_time_interval];\n\n\t\t\tlet stat = (() => {\n\t\t\t\tif (this.percentage_stat == undefined) return NaN;\n\t\t\t\tconst parts = this.percentage_stat.split(' ');\n\t\t\t\tconst symbol = parts[1] || '';\n\t\t\t\treturn Math.abs(parts[0]) + ' ' + symbol;\n\t\t\t})();\n\n\t\t\t// don't show stats if not valid number - skip showing `NaN %` in card\n\t\t\tif (isNaN(stat)) return;\n\n\t\t\t$(this.body).find('.widget-content').append(`<div class=\"card-stats ${color_class}\">\n\t\t\t\t<span class=\"percentage-stat-area\">\n\t\t\t\t\t${caret_html}\n\t\t\t\t\t<span class=\"percentage-stat\">\n\t\t\t\t\t\t${stat} %\n\t\t\t\t\t</span>\n\t\t\t\t</span>\n\t\t\t\t<span class=\"stat-period text-muted\">\n\t\t\t\t\t${stats_qualifier}\n\t\t\t\t</span>\n\t\t\t</div>`);\n\t\t});\n\t}\n\n\tget_percentage_stats() {\n\t\treturn frappe.xcall('frappe.desk.doctype.number_card.number_card.get_percentage_difference', {\n\t\t\tdoc: this.card_doc,\n\t\t\tfilters: this.filters,\n\t\t\tresult: this.number\n\t\t}).then(res => {\n\t\t\tif (res !== undefined) {\n\t\t\t\tthis.percentage_stat = frappe.utils.shorten_number(res);\n\t\t\t}\n\t\t});\n\t}\n\n\tprepare_actions() {\n\t\tlet actions = [\n\t\t\t{\n\t\t\t\tlabel: __('Refresh'),\n\t\t\t\taction: 'action-refresh',\n\t\t\t\thandler: () => {\n\t\t\t\t\tthis.render_card();\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabel: __('Edit'),\n\t\t\t\taction: 'action-edit',\n\t\t\t\thandler: () => {\n\t\t\t\t\tfrappe.set_route(\n\t\t\t\t\t\t'Form',\n\t\t\t\t\t\t'Number Card',\n\t\t\t\t\t\tthis.name\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t},\n\t\t];\n\n\t\tthis.set_card_actions(actions);\n\t}\n\n\tset_card_actions(actions) {\n\t\t/* eslint-disable indent */\n\t\tthis.card_actions =\n\t\t\t$(`<div class=\"card-actions dropdown pull-right\">\n\t\t\t\t<a data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\n\t\t\t\t...\n\t\t\t\t</a>\n\t\t\t\t<ul class=\"dropdown-menu\" style=\"max-height: 300px; overflow-y: auto;\">\n\t\t\t\t\t${actions\n\t\t\t\t\t\t.map(\n\t\t\t\t\t\t\taction =>\n\t\t\t\t\t\t\t\t`<li class=\"dropdown-item\">\n\t\t\t\t\t\t\t\t\t<a data-action=\"${action.action}\">${action.label}</a>\n\t\t\t\t\t\t\t\t</li>`\n\t\t\t\t\t\t).join('')}\n\t\t\t\t</ul>\n\t\t\t</div>`);\n\t\t/* eslint-disable indent */\n\n\t\tthis.card_actions.find(\"a[data-action]\").each((i, o) => {\n\t\t\tconst action = o.dataset.action;\n\t\t\t$(o).click(actions.find(a => a.action === action));\n\t\t});\n\n\t\tthis.action_area.html(this.card_actions);\n\t}\n}\n","import ChartWidget from \"../widgets/chart_widget\";\nimport BaseWidget from \"../widgets/base_widget\";\nimport ShortcutWidget from \"../widgets/shortcut_widget\";\nimport LinksWidget from \"../widgets/links_widget\";\nimport OnboardingWidget from \"../widgets/onboarding_widget\";\nimport NewWidget from \"../widgets/new_widget\";\nimport NumberCardWidget from \"../widgets/number_card_widget\";\n\nfrappe.provide(\"frappe.widget\");\n\nfrappe.widget.widget_factory = {\n\tchart: ChartWidget,\n\tbase: BaseWidget,\n\tshortcut: ShortcutWidget,\n\tlinks: LinksWidget,\n\tonboarding: OnboardingWidget,\n\tnumber_card: NumberCardWidget,\n};\n\nfrappe.widget.make_widget = (opts) => {\n\tconst widget_class = frappe.widget.widget_factory[opts.widget_type];\n\tif (widget_class) {\n\t\treturn new widget_class(opts);\n\t} else {\n\t\t// eslint-disable-next-line\n\t\tconsole.warn(\"Invalid Widget Name: \" + opts.widget_type);\n\t}\n};\n\nexport default class WidgetGroup {\n\tconstructor(opts) {\n\t\tObject.assign(this, opts);\n\t\tthis.widgets_list = [];\n\t\tthis.widgets_dict = {};\n\t\tthis.widget_order = [];\n\t\tthis.make();\n\t}\n\n\tmake() {\n\t\tthis.make_container();\n\t\tif (this.title) {\n\t\t\tthis.set_title();\n\t\t} else {\n\t\t\tthis.title_area.remove();\n\t\t}\n\t\tthis.widgets && this.make_widgets();\n\t}\n\n\tmake_container() {\n\t\tconst widget_area = $(`<div class=\"widget-group ${this.class_name || ''}\">\n\t\t\t\t<div class=\"widget-group-head\">\n\t\t\t\t\t<div class=\"widget-group-title\"></div>\n\t\t\t\t\t<div class=\"widget-group-control\"></div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"widget-group-body grid-col-${this.columns}\">\n\t\t\t\t</div>\n\t\t\t</div>`);\n\t\tthis.widget_area = widget_area;\n\t\tif (this.hidden) this.widget_area.hide();\n\t\tthis.title_area = widget_area.find(\".widget-group-title\");\n\t\tthis.control_area = widget_area.find(\".widget-group-control\");\n\t\tthis.body = widget_area.find(\".widget-group-body\");\n\t\t!this.widgets.length && this.widget_area.hide();\n\t\twidget_area.appendTo(this.container);\n\t}\n\n\tset_title() {\n\t\tthis.title_area[0].innerText = this.title;\n\t}\n\n\tmake_widgets() {\n\t\tthis.body.empty();\n\t\tthis.widgets.forEach((widget) => {\n\t\t\tthis.add_widget(widget);\n\t\t});\n\t}\n\n\tadd_widget(widget) {\n\t\tlet widget_object = frappe.widget.make_widget({\n\t\t\t...widget,\n\t\t\twidget_type: this.type,\n\t\t\tcontainer: this.body,\n\t\t\theight: this.height || null,\n\t\t\toptions: {\n\t\t\t\t...this.options,\n\t\t\t\ton_delete: (name) => this.on_delete(name),\n\t\t\t},\n\t\t});\n\n\t\tthis.widgets_list.push(widget_object);\n\t\tthis.widgets_dict[widget.name] = widget_object;\n\n\t\treturn widget_object;\n\t}\n\n\tremove_widget(widget_obj) {\n\t\twidget_obj.widget.remove();\n\t\tthis.widgets_list.filter((widget) => {\n\t\t\tif (widget.name == widget_obj.name) return false;\n\t\t});\n\t\tdelete this.widgets_dict[widget_obj.name];\n\t}\n\n\tcustomize() {\n\t\tif (!this.hidden) this.widget_area.show();\n\t\tthis.widgets_list.forEach((wid) => {\n\t\t\twid.customize(this.options);\n\t\t});\n\n\t\tthis.options.allow_create && this.setup_new_widget();\n\t\tthis.options.allow_sorting && this.setup_sortable();\n\t}\n\n\tsetup_new_widget() {\n\t\tconst max = this.options\n\t\t\t? this.options.max_widget_count || Number.POSITIVE_INFINITY\n\t\t\t: Number.POSITIVE_INFINITY;\n\n\t\tif (this.widgets_list.length < max) {\n\t\t\tthis.new_widget = new NewWidget({\n\t\t\t\tcontainer: this.body,\n\t\t\t\ttype: this.type,\n\t\t\t\tcustom_dialog: this.custom_dialog,\n\t\t\t\tdefault_values: this.default_values,\n\t\t\t\ton_create: (config) => {\n\t\t\t\t\t// Remove new widget\n\t\t\t\t\tthis.new_widget.delete();\n\t\t\t\t\tdelete this.new_widget;\n\n\t\t\t\t\tconfig.in_customize_mode = 1;\n\n\t\t\t\t\t// Add new widget and customize it\n\t\t\t\t\tlet wid = this.add_widget(config);\n\t\t\t\t\twid.customize(this.options);\n\n\t\t\t\t\t// Put back the new widget if required\n\t\t\t\t\tif (this.widgets_list.length < max) {\n\t\t\t\t\t\tthis.setup_new_widget();\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t});\n\t\t}\n\t}\n\n\ton_delete(name, setup_new) {\n\t\tthis.widgets_list = this.widgets_list.filter((wid) => name != wid.name);\n\t\tdelete this.widgets_dict[name];\n\t\tthis.update_widget_order();\n\n\t\tif (!this.new_widget && setup_new) this.setup_new_widget();\n\t}\n\n\tupdate_widget_order() {\n\t\tthis.widget_order = [];\n\t\tthis.body.children().each((index, element) => {\n\t\t\tlet name = element.dataset.widgetName;\n\t\t\tif (name) {\n\t\t\t\tthis.widget_order.push(name);\n\t\t\t}\n\t\t});\n\t}\n\n\tsetup_sortable() {\n\t\tconst container = this.body[0];\n\t\tthis.sortable = new Sortable(container, {\n\t\t\tanimation: 150,\n\t\t\thandle: \".drag-handle\",\n\t\t\tonEnd: () => this.update_widget_order(),\n\t\t});\n\t}\n\n\tget_widget_config() {\n\t\tthis.update_widget_order();\n\t\tlet prepared_dict = {};\n\n\t\tthis.widgets_list.forEach((wid) => {\n\t\t\tlet config = wid.get_config();\n\t\t\tlet name = config.docname ? config.docname : config.name;\n\t\t\tprepared_dict[name] = config;\n\t\t});\n\n\t\treturn {\n\t\t\torder: this.widget_order,\n\t\t\twidgets: prepared_dict,\n\t\t};\n\t}\n}\n\nfrappe.widget.WidgetGroup = WidgetGroup;\n","frappe.provide('frappe.utils');\n\nfunction get_url_arg(name) {\n\treturn get_query_params()[name] || \"\";\n}\n\nfunction get_query_string(url) {\n\tif(url.includes(\"?\")) {\n\t\treturn url.slice(url.indexOf(\"?\")+1);\n\t}else {\n\t\treturn \"\";\n\t}\n}\n\nfunction get_query_params(query_string) {\n\tvar query_params = {};\n\tif (!query_string) {\n\t\tquery_string = location.search.substring(1);\n\t}\n\n\tvar query_list = query_string.split(\"&\");\n\tfor (var i=0, l=query_list.length; i < l; i++ ){\n\t\tvar pair = query_list[i].split(/=(.+)/);\n\t\tvar key = pair[0];\n\t\tif (!key) {\n\t\t\tcontinue;\n\t\t}\n\n\t\tvar value = pair[1];\n\t\tif (typeof value === \"string\") {\n\t\t\tvalue = value.replace(/\\+/g, \"%20\");\n\t\t\ttry {\n\t\t\t\tvalue = decodeURIComponent(value);\n\t\t\t} catch(e) {\n\t\t\t\t// if value contains %, it fails\n\t\t\t}\n\t\t}\n\n\t\tif (key in query_params) {\n\t\t\tif (typeof query_params[key] === \"undefined\") {\n\t\t\t\tquery_params[key] = [];\n\t\t\t} else if (typeof query_params[key] === \"string\") {\n\t\t\t\tquery_params[key] = [query_params[key]];\n\t\t\t}\n\t\t\tquery_params[key].push(value);\n\t\t} else {\n\t\t\tquery_params[key] = value;\n\t\t}\n\t}\n\treturn query_params;\n}\n\nfunction make_query_string(obj, encode=true) {\n\tlet query_params = [];\n\tfor (let key in obj) {\n\t\tlet value = obj[key];\n\t\tif (value === undefined || value === '' || value === null) {\n\t\t\tcontinue;\n\t\t}\n\t\tif (typeof value === 'object') {\n\t\t\tvalue = JSON.stringify(value);\n\t\t}\n\n\t\tif (encode) {\n\t\t\tkey = encodeURIComponent(key);\n\t\t\tvalue = encodeURIComponent(value);\n\t\t}\n\n\t\tquery_params.push(`${key}=${value}`);\n\t}\n\treturn '?' + query_params.join('&');\n}\n\nObject.assign(frappe.utils, {\n\tget_url_arg,\n\tget_query_string,\n\tget_query_params,\n\tmake_query_string\n});","function t(e){return(t=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(e)}function e(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}function n(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,\"value\"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function i(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}function a(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&r(t,e)}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function r(t,e){return(r=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function o(t,e){return!e||\"object\"!=typeof e&&\"function\"!=typeof e?function(t){if(void 0===t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return t}(t):e}function l(t){var e=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=s(t);if(e){var a=s(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return o(this,n)}}function c(t,e,n){return(c=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=s(t)););return t}(t,e);if(i){var a=Object.getOwnPropertyDescriptor(i,e);return a.get?a.get.call(n):a.value}})(t,e,n||t)}function u(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(\"undefined\"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],i=!0,a=!1,s=void 0;try{for(var r,o=t[Symbol.iterator]();!(i=(r=o.next()).done)&&(n.push(r.value),!e||n.length!==e);i=!0);}catch(t){a=!0,s=t}finally{try{i||null==o.return||o.return()}finally{if(a)throw s}}return n}(t,e)||d(t,e)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function h(t){return function(t){if(Array.isArray(t))return p(t)}(t)||function(t){if(\"undefined\"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||d(t)||function(){throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function d(t,e){if(t){if(\"string\"==typeof t)return p(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return\"Object\"===n&&t.constructor&&(n=t.constructor.name),\"Map\"===n||\"Set\"===n?Array.from(t):\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(t,e):void 0}}function p(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function f(t,e){return\"string\"==typeof t?(e||document).querySelector(t):t||null}function v(t){var e=t.getBoundingClientRect();return{top:e.top+(document.documentElement.scrollTop||document.body.scrollTop),left:e.left+(document.documentElement.scrollLeft||document.body.scrollLeft)}}function g(t){return null===t.offsetParent}function m(t){var e=t.getBoundingClientRect();return e.top>=0&&e.left>=0&&e.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&e.right<=(window.innerWidth||document.documentElement.clientWidth)}!function(t,e){void 0===e&&(e={});var n=e.insertAt;if(t&&\"undefined\"!=typeof document){var i=document.head||document.getElementsByTagName(\"head\")[0],a=document.createElement(\"style\");a.type=\"text/css\",\"top\"===n&&i.firstChild?i.insertBefore(a,i.firstChild):i.appendChild(a),a.styleSheet?a.styleSheet.cssText=t:a.appendChild(document.createTextNode(t))}}(':root {\\n  --charts-label-color: #313b44;\\n  --charts-axis-line-color: #f4f5f6;\\n  --charts-tooltip-title: var(--charts-label-color);\\n  --charts-tooltip-label: var(--charts-label-color);\\n  --charts-tooltip-value: #192734;\\n  --charts-tooltip-bg: #ffffff;\\n  --charts-stroke-width: 2px;\\n  --charts-dataset-circle-stroke: #ffffff;\\n  --charts-dataset-circle-stroke-width: var(--charts-stroke-width);\\n  --charts-legend-label: var(--charts-label-color);\\n  --charts-legend-value: var(--charts-label-color); }\\n\\n.chart-container {\\n  position: relative;\\n  /* for absolutely positioned tooltip */\\n  font-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", \"Roboto\", \"Oxygen\", \"Ubuntu\", \"Cantarell\", \"Fira Sans\", \"Droid Sans\", \"Helvetica Neue\", sans-serif; }\\n  .chart-container .axis,\\n  .chart-container .chart-label {\\n    fill: var(--charts-label-color); }\\n    .chart-container .axis line,\\n    .chart-container .chart-label line {\\n      stroke: var(--charts-axis-line-color); }\\n  .chart-container .dataset-units circle {\\n    stroke: var(--charts-dataset-circle-stroke);\\n    stroke-width: var(--charts-dataset-circle-stroke-width); }\\n  .chart-container .dataset-units path {\\n    fill: none;\\n    stroke-opacity: 1;\\n    stroke-width: var(--charts-stroke-width); }\\n  .chart-container .dataset-path {\\n    stroke-width: var(--charts-stroke-width); }\\n  .chart-container .path-group path {\\n    fill: none;\\n    stroke-opacity: 1;\\n    stroke-width: var(--charts-stroke-width); }\\n  .chart-container line.dashed {\\n    stroke-dasharray: 5, 3; }\\n  .chart-container .axis-line .specific-value {\\n    text-anchor: start; }\\n  .chart-container .axis-line .y-line {\\n    text-anchor: end; }\\n  .chart-container .axis-line .x-line {\\n    text-anchor: middle; }\\n  .chart-container .legend-dataset-label {\\n    fill: var(--charts-legend-label);\\n    font-weight: 600; }\\n  .chart-container .legend-dataset-value {\\n    fill: var(--charts-legend-value); }\\n\\n.graph-svg-tip {\\n  position: absolute;\\n  z-index: 99999;\\n  padding: 10px;\\n  font-size: 12px;\\n  text-align: center;\\n  background: var(--charts-tooltip-bg);\\n  box-shadow: 0px 1px 4px rgba(17, 43, 66, 0.1), 0px 2px 6px rgba(17, 43, 66, 0.08), 0px 40px 30px -30px rgba(17, 43, 66, 0.1);\\n  border-radius: 6px; }\\n  .graph-svg-tip ul {\\n    padding-left: 0;\\n    display: flex; }\\n  .graph-svg-tip ol {\\n    padding-left: 0;\\n    display: flex; }\\n  .graph-svg-tip ul.data-point-list li {\\n    min-width: 90px;\\n    font-weight: 600; }\\n  .graph-svg-tip .svg-pointer {\\n    position: absolute;\\n    height: 12px;\\n    width: 12px;\\n    border-radius: 2px;\\n    background: var(--charts-tooltip-bg);\\n    transform: rotate(45deg);\\n    margin-top: -7px;\\n    margin-left: -6px; }\\n  .graph-svg-tip.comparison {\\n    text-align: left;\\n    padding: 0px;\\n    pointer-events: none; }\\n    .graph-svg-tip.comparison .title {\\n      display: block;\\n      padding: 16px;\\n      margin: 0;\\n      color: var(--charts-tooltip-title);\\n      font-weight: 600;\\n      line-height: 1;\\n      pointer-events: none;\\n      text-transform: uppercase; }\\n      .graph-svg-tip.comparison .title strong {\\n        color: var(--charts-tooltip-value); }\\n    .graph-svg-tip.comparison ul {\\n      margin: 0;\\n      white-space: nowrap;\\n      list-style: none; }\\n      .graph-svg-tip.comparison ul.tooltip-grid {\\n        display: grid;\\n        grid-template-columns: repeat(4, minmax(0, 1fr));\\n        gap: 5px; }\\n    .graph-svg-tip.comparison li {\\n      display: inline-block;\\n      display: flex;\\n      flex-direction: row;\\n      font-weight: 600;\\n      line-height: 1;\\n      padding: 5px 15px 15px 15px; }\\n      .graph-svg-tip.comparison li .tooltip-legend {\\n        height: 12px;\\n        width: 12px;\\n        margin-right: 8px;\\n        border-radius: 2px; }\\n      .graph-svg-tip.comparison li .tooltip-label {\\n        margin-top: 4px;\\n        font-size: 11px;\\n        line-height: 1.25;\\n        max-width: 150px;\\n        white-space: normal;\\n        color: var(--charts-tooltip-label); }\\n      .graph-svg-tip.comparison li .tooltip-value {\\n        color: var(--charts-tooltip-value); }\\n'),f.create=function(e,n){var i=document.createElement(e);for(var a in n){var s=n[a];if(\"inside\"===a)f(s).appendChild(i);else if(\"around\"===a){var r=f(s);r.parentNode.insertBefore(i,r),i.appendChild(r)}else\"styles\"===a?\"object\"===t(s)&&Object.keys(s).map((function(t){i.style[t]=s[t]})):a in i?i[a]=s:i.setAttribute(a,s)}return i};var y={margins:{top:10,bottom:10,left:20,right:20},paddings:{top:20,bottom:40,left:30,right:10},baseHeight:240,titleHeight:20,legendHeight:30,titleFontSize:12};function b(t){return t.titleHeight+t.margins.top+t.paddings.top}function x(t){return t.margins.left+t.paddings.left}function k(t){return t.margins.top+t.margins.bottom+t.paddings.top+t.paddings.bottom+t.titleHeight+t.legendHeight}function w(t){return t.margins.left+t.margins.right+t.paddings.left+t.paddings.right}var A=[\"pink\",\"blue\",\"green\",\"grey\",\"red\",\"yellow\",\"purple\",\"teal\",\"cyan\",\"orange\"],D={bar:A,line:A,pie:A,percentage:A,heatmap:[\"#ebedf0\",\"#c6e48b\",\"#7bc96f\",\"#239a3b\",\"#196127\"],donut:A},L=Math.PI/180,M=function(){function t(n){var i=n.parent,a=void 0===i?null:i,s=n.colors,r=void 0===s?[]:s;e(this,t),this.parent=a,this.colors=r,this.titleName=\"\",this.titleValue=\"\",this.listValues=[],this.titleValueFirst=0,this.x=0,this.y=0,this.top=0,this.left=0,this.setup()}return i(t,[{key:\"setup\",value:function(){this.makeTooltip()}},{key:\"refresh\",value:function(){this.fill(),this.calcPosition()}},{key:\"makeTooltip\",value:function(){var t=this;this.container=f.create(\"div\",{inside:this.parent,className:\"graph-svg-tip comparison\",innerHTML:'<span class=\"title\"></span>\\n\\t\\t\\t\\t<ul class=\"data-point-list\"></ul>\\n\\t\\t\\t\\t<div class=\"svg-pointer\"></div>'}),this.hideTip(),this.title=this.container.querySelector(\".title\"),this.list=this.container.querySelector(\".data-point-list\"),this.dataPointList=this.container.querySelector(\".data-point-list\"),this.parent.addEventListener(\"mouseleave\",(function(){t.hideTip()}))}},{key:\"fill\",value:function(){var t,e=this;this.index&&this.container.setAttribute(\"data-point-index\",this.index),t=this.titleValueFirst?\"<strong>\".concat(this.titleValue,\"</strong>\").concat(this.titleName):\"\".concat(this.titleName,\"<strong>\").concat(this.titleValue,\"</strong>\"),this.listValues.length>4?this.list.classList.add(\"tooltip-grid\"):this.list.classList.remove(\"tooltip-grid\"),this.title.innerHTML=t,this.dataPointList.innerHTML=\"\",this.listValues.map((function(t,n){var i=e.colors[n]||\"black\",a=0===t.formatted||t.formatted?t.formatted:t.value,s=f.create(\"li\",{innerHTML:'<div class=\"tooltip-legend\" style=\"background: '.concat(i,';\"></div>\\n\\t\\t\\t\\t\\t<div>\\n\\t\\t\\t\\t\\t\\t<div class=\"tooltip-value\">').concat(0===a||a?a:\"\",'</div>\\n\\t\\t\\t\\t\\t\\t<div class=\"tooltip-label\">').concat(t.title?t.title:\"\",\"</div>\\n\\t\\t\\t\\t\\t</div>\")});e.dataPointList.appendChild(s)}))}},{key:\"calcPosition\",value:function(){var t=this.container.offsetWidth;this.top=this.y-this.container.offsetHeight-7.48,this.left=this.x-t/2;var e=this.parent.offsetWidth-t,n=this.container.querySelector(\".svg-pointer\");if(this.left<0)n.style.left=\"calc(50% - \".concat(-1*this.left,\"px)\"),this.left=0;else if(this.left>e){var i=this.left-e,a=\"calc(50% + \".concat(i,\"px)\");n.style.left=a,this.left=e}else n.style.left=\"50%\"}},{key:\"setValues\",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:-1;this.titleName=n.name,this.titleValue=n.value,this.listValues=i,this.x=t,this.y=e,this.titleValueFirst=n.valueFirst||0,this.index=a,this.refresh()}},{key:\"hideTip\",value:function(){this.container.style.top=\"0px\",this.container.style.left=\"0px\",this.container.style.opacity=\"0\"}},{key:\"showTip\",value:function(){this.container.style.top=this.top+\"px\",this.container.style.left=this.left+\"px\",this.container.style.opacity=\"1\"}}]),t}();function T(t){return parseFloat(t.toFixed(2))}function C(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];n||(n=i?t[0]:t[t.length-1]);var a=new Array(Math.abs(e)).fill(n);return t=i?a.concat(t):t.concat(a)}function P(t,e){return(t+\"\").length*e}function N(t,e){return{x:Math.sin(t*L)*e,y:Math.cos(t*L)*e}}function E(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return!Number.isNaN(t)&&(void 0!==t&&(!!Number.isFinite(t)&&!(e&&t<0)))}function O(t){return Number(Math.round(t+\"e4\")+\"e-4\")}function S(e){var n,i,a;if(e instanceof Date)return new Date(e.getTime());if(\"object\"!==t(e)||null===e)return e;for(a in n=Array.isArray(e)?[]:{},e)i=e[a],n[a]=S(i);return n}function F(t,e){var n,i;return t<=e?(n=e-t,i=t):(n=t-e,i=e),[n,i]}function z(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length-t.length;return n>0?t=C(t,n):e=C(e,n),[t,e]}function H(t,e){if(t)return t.length>e?t.slice(0,e-3)+\"...\":t}function R(t){var e;if(\"number\"==typeof t)e=t;else if(\"string\"==typeof t&&(e=Number(t),Number.isNaN(e)))return t;var n=Math.floor(Math.log10(Math.abs(e)));if(n<=2)return e;var i=Math.floor(n/3),a=Math.pow(10,n-3*i)*+(e/Math.pow(10,n)).toFixed(1);return Math.round(100*a)/100+\" \"+[\"\",\"K\",\"M\",\"B\",\"T\"][i]}function W(t,e){for(var n=[],i=0;i<t.length;i++)n.push([t[i],e[i]]);var a=function(t,e,n,i){var a,s,r,o,l=(a=e||t,r=(s=n||t)[0]-a[0],o=s[1]-a[1],{length:Math.sqrt(Math.pow(r,2)+Math.pow(o,2)),angle:Math.atan2(o,r)}),c=l.angle+(i?Math.PI:0),u=.2*l.length;return[t[0]+Math.cos(c)*u,t[1]+Math.sin(c)*u]};return function(t,e){return t.reduce((function(t,n,i,a){return 0===i?\"\".concat(n[0],\",\").concat(n[1]):\"\".concat(t,\" \").concat(e(n,i,a))}),\"\")}(n,(function(t,e,n){var i=a(n[e-1],n[e-2],t),s=a(t,n[e-1],n[e+1],!0);return\"C \".concat(i[0],\",\").concat(i[1],\" \").concat(s[0],\",\").concat(s[1],\" \").concat(t[0],\",\").concat(t[1])}))}function j(t,e){return\"string\"==typeof t?(e||document).querySelector(t):t||null}function I(e,n){var i=document.createElementNS(\"http://www.w3.org/2000/svg\",e);for(var a in n){var s=n[a];if(\"inside\"===a)j(s).appendChild(i);else if(\"around\"===a){var r=j(s);r.parentNode.insertBefore(i,r),i.appendChild(r)}else\"styles\"===a?\"object\"===t(s)&&Object.keys(s).map((function(t){i.style[t]=s[t]})):(\"className\"===a&&(a=\"class\"),\"innerHTML\"===a?i.textContent=s:i.setAttribute(a,s))}return i}function B(t,e){return I(\"linearGradient\",{inside:t,id:e,x1:0,x2:0,y1:0,y2:1})}function Y(t,e,n,i){return I(\"stop\",{inside:t,style:\"stop-color: \".concat(n),offset:e,\"stop-opacity\":i})}function V(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:\"\",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,i={className:t,transform:e};return n&&(i.inside=n),I(\"g\",i)}function U(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:\"\",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:\"none\",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:\"none\",a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:2;return I(\"path\",{className:e,d:t,styles:{stroke:n,fill:i,\"stroke-width\":a}})}function q(t,e,n,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,r=n.x+t.x,o=n.y+t.y,l=n.x+e.x,c=n.y+e.y;return\"M\".concat(n.x,\" \").concat(n.y,\"\\n\\t\\tL\").concat(r,\" \").concat(o,\"\\n\\t\\tA \").concat(i,\" \").concat(i,\" 0 \").concat(s,\" \").concat(a?1:0,\"\\n\\t\\t\").concat(l,\" \").concat(c,\" z\")}function G(t,e,n,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,r=n.x+t.x,o=n.y+t.y,l=n.x+e.x,c=2*n.y,u=n.y+e.y;return\"M\".concat(n.x,\" \").concat(n.y,\"\\n\\t\\tL\").concat(r,\" \").concat(o,\"\\n\\t\\tA \").concat(i,\" \").concat(i,\" 0 \").concat(s,\" \").concat(a?1:0,\"\\n\\t\\t\").concat(l,\" \").concat(c,\" z\\n\\t\\tL\").concat(r,\" \").concat(c,\"\\n\\t\\tA \").concat(i,\" \").concat(i,\" 0 \").concat(s,\" \").concat(a?1:0,\"\\n\\t\\t\").concat(l,\" \").concat(u,\" z\")}function _(t,e,n,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,r=n.x+t.x,o=n.y+t.y,l=n.x+e.x,c=n.y+e.y;return\"M\".concat(r,\" \").concat(o,\"\\n\\t\\tA \").concat(i,\" \").concat(i,\" 0 \").concat(s,\" \").concat(a?1:0,\"\\n\\t\\t\").concat(l,\" \").concat(c)}function X(t,e,n,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,r=n.x+t.x,o=n.y+t.y,l=n.x+e.x,c=2*i+o,u=n.y+t.y;return\"M\".concat(r,\" \").concat(o,\"\\n\\t\\tA \").concat(i,\" \").concat(i,\" 0 \").concat(s,\" \").concat(a?1:0,\"\\n\\t\\t\").concat(l,\" \").concat(c,\"\\n\\t\\tM\").concat(r,\" \").concat(c,\"\\n\\t\\tA \").concat(i,\" \").concat(i,\" 0 \").concat(s,\" \").concat(a?1:0,\"\\n\\t\\t\").concat(l,\" \").concat(u)}function J(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=\"path-fill-gradient-\"+e+\"-\"+(n?\"lighter\":\"default\"),a=B(t,i),s=[1,.6,.2];return n&&(s=[.4,.05,0]),Y(a,\"0%\",e,s[0]),Y(a,\"50%\",e,s[1]),Y(a,\"100%\",e,s[2]),i}function K(t,e,n){var i=n/2,a=e-i;return\"M\".concat(t,\",0 h\").concat(a,\" q\").concat(i,\",0 \").concat(i,\",\").concat(i,\" q0,\").concat(i,\" -\").concat(i,\",\").concat(i,\" h-\").concat(a,\" v\").concat(n,\"z\")}function $(t,e,n){var i=n/2,a=e-i;return\"M\".concat(t+i,\",0 h\").concat(a,\" v\").concat(n,\" h-\").concat(a,\" q-\").concat(i,\", 0 -\").concat(i,\",-\").concat(i,\" q0,-\").concat(i,\" \").concat(i,\",-\").concat(i,\"z\")}function Q(t,e,n,i,a){var s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:\"none\",r=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{},o={className:t,x:e,y:n,width:i,height:i,rx:a,fill:s};return Object.keys(r).map((function(t){o[t]=r[t]})),I(\"rect\",o)}function Z(t,e,n,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:\"none\",s=arguments.length>5?arguments[5]:void 0,r=arguments.length>6?arguments[6]:void 0,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,l=arguments.length>8&&void 0!==arguments[8]&&arguments[8];o||(o=10);var c={className:\"legend-dot\",x:0,y:4-n,height:n,width:n,rx:i,fill:a},u=I(\"text\",{className:\"legend-dataset-label\",x:n,y:0,dx:o+\"px\",dy:o/3+\"px\",\"font-size\":1.6*o+\"px\",\"text-anchor\":\"start\",innerHTML:s=l?H(s,18):s}),h=null;r&&(h=I(\"text\",{className:\"legend-dataset-value\",x:n,y:20,dx:\"10px\",dy:10/3+\"px\",\"font-size\":\"12px\",\"text-anchor\":\"start\",innerHTML:r}));var d=I(\"g\",{transform:\"translate(\".concat(t,\", \").concat(e,\")\")});return d.appendChild(I(\"rect\",c)),d.appendChild(u),r&&h&&d.appendChild(h),d}function tt(t,e,n,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},s=a.fontSize||10,r=void 0!==a.dy?a.dy:s/2,o=a.fill||\"var(--charts-label-color)\",l=a.textAnchor||\"start\";return I(\"text\",{className:t,x:e,y:n,dy:r+\"px\",\"font-size\":s+\"px\",fill:o,\"text-anchor\":l,innerHTML:i})}function et(t,e,n,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},s=I(\"line\",{className:\"line-vertical \"+a.className,x1:0,x2:0,y1:n,y2:i,styles:{stroke:a.stroke}}),r=I(\"text\",{x:0,y:n>i?n+4:n-4-10,dy:\"10px\",\"font-size\":\"10px\",\"text-anchor\":\"middle\",innerHTML:e+\"\"}),o=I(\"g\",{transform:\"translate(\".concat(t,\", 0)\")});return o.appendChild(s),o.appendChild(r),o}function nt(t,e,n,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};a.lineType||(a.lineType=\"\"),a.shortenNumbers&&(e=R(e));var s=\"line-horizontal \"+a.className+(\"dashed\"===a.lineType?\"dashed\":\"\"),r=I(\"line\",{className:s,x1:n,x2:i,y1:0,y2:0,styles:{stroke:a.stroke}}),o=I(\"text\",{x:n<i?n-4:n+4,y:0,dy:\"3px\",\"font-size\":\"10px\",\"text-anchor\":n<i?\"end\":\"start\",innerHTML:e+\"\"}),l=I(\"g\",{transform:\"translate(0, \".concat(t,\")\"),\"stroke-opacity\":1});return 0!==o&&\"0\"!==o||(l.style.stroke=\"rgba(27, 31, 35, 0.6)\"),l.appendChild(r),l.appendChild(o),l}var it={bar:function(t){var e;\"rect\"!==t.nodeName&&(e=t.getAttribute(\"transform\"),t=t.childNodes[0]);var n=t.cloneNode();return n.style.fill=\"#000000\",n.style.opacity=\"0.4\",e&&n.setAttribute(\"transform\",e),n},dot:function(t){var e;\"circle\"!==t.nodeName&&(e=t.getAttribute(\"transform\"),t=t.childNodes[0]);var n=t.cloneNode(),i=t.getAttribute(\"r\"),a=t.getAttribute(\"fill\");return n.setAttribute(\"r\",parseInt(i)+4),n.setAttribute(\"fill\",a),n.style.opacity=\"0.6\",e&&n.setAttribute(\"transform\",e),n},heat_square:function(t){var e;\"circle\"!==t.nodeName&&(e=t.getAttribute(\"transform\"),t=t.childNodes[0]);var n=t.cloneNode(),i=t.getAttribute(\"r\"),a=t.getAttribute(\"fill\");return n.setAttribute(\"r\",parseInt(i)+4),n.setAttribute(\"fill\",a),n.style.opacity=\"0.6\",e&&n.setAttribute(\"transform\",e),n}},at={bar:function(t,e){var n;\"rect\"!==t.nodeName&&(n=t.getAttribute(\"transform\"),t=t.childNodes[0]);var i=[\"x\",\"y\",\"width\",\"height\"];Object.values(t.attributes).filter((function(t){return i.includes(t.name)&&t.specified})).map((function(t){e.setAttribute(t.name,t.nodeValue)})),n&&e.setAttribute(\"transform\",n)},dot:function(t,e){var n;\"circle\"!==t.nodeName&&(n=t.getAttribute(\"transform\"),t=t.childNodes[0]);var i=[\"cx\",\"cy\"];Object.values(t.attributes).filter((function(t){return i.includes(t.name)&&t.specified})).map((function(t){e.setAttribute(t.name,t.nodeValue)})),n&&e.setAttribute(\"transform\",n)},heat_square:function(t,e){var n;\"circle\"!==t.nodeName&&(n=t.getAttribute(\"transform\"),t=t.childNodes[0]);var i=[\"cx\",\"cy\"];Object.values(t.attributes).filter((function(t){return i.includes(t.name)&&t.specified})).map((function(t){e.setAttribute(t.name,t.nodeValue)})),n&&e.setAttribute(\"transform\",n)}},st={pink:\"#F683AE\",blue:\"#318AD8\",green:\"#48BB74\",grey:\"#A6B1B9\",red:\"#F56B6B\",yellow:\"#FACF7A\",purple:\"#44427B\",teal:\"#5FD8C4\",cyan:\"#15CCEF\",orange:\"#F8814F\",\"light-pink\":\"#FED7E5\",\"light-blue\":\"#BFDDF7\",\"light-green\":\"#48BB74\",\"light-grey\":\"#F4F5F6\",\"light-red\":\"#F6DFDF\",\"light-yellow\":\"#FEE9BF\",\"light-purple\":\"#E8E8F7\",\"light-teal\":\"#D3FDF6\",\"light-cyan\":\"#DDF8FD\",\"light-orange\":\"#FECDB8\"};function rt(t,e,n,i){var a=\"string\"==typeof e?e:e.join(\", \");return[t,{transform:n.join(\", \")},i,\"easein\",\"translate\",{transform:a}]}function ot(t,e,n){return rt(t,[0,n],[0,e],350)}function lt(t,e){return[t,{d:e},350,\"easein\"]}var ct={ease:\"0.25 0.1 0.25 1\",linear:\"0 0 1 1\",easein:\"0.1 0.8 0.2 1\",easeout:\"0 0 0.58 1\",easeinout:\"0.42 0 0.58 1\"};function ut(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:\"linear\",a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},r=t.cloneNode(!0),o=t.cloneNode(!0);for(var l in e){var c=void 0;c=\"transform\"===l?document.createElementNS(\"http://www.w3.org/2000/svg\",\"animateTransform\"):document.createElementNS(\"http://www.w3.org/2000/svg\",\"animate\");var u=s[l]||t.getAttribute(l),h=e[l],d={attributeName:l,from:u,to:h,begin:\"0s\",dur:n/1e3+\"s\",values:u+\";\"+h,keySplines:ct[i],keyTimes:\"0;1\",calcMode:\"spline\",fill:\"freeze\"};for(var p in a&&(d.type=a),d)c.setAttribute(p,d[p]);r.appendChild(c),a?o.setAttribute(l,\"translate(\".concat(h,\")\")):o.setAttribute(l,h)}return[r,o]}function ht(t,e){t.style.transform=e,t.style.webkitTransform=e,t.style.msTransform=e,t.style.mozTransform=e,t.style.oTransform=e}function dt(t,e){var n=[],i=[];e.map((function(t){var e,a,s=t[0],r=s.parentNode;t[0]=s;var o=u(ut.apply(void 0,h(t)),2);e=o[0],a=o[1],n.push(a),i.push([e,r]),r.replaceChild(e,s)}));var a=t.cloneNode(!0);return i.map((function(t,i){t[1].replaceChild(n[i],t[0]),e[i][0]=n[i]})),a}function pt(t,e,n){if(0!==n.length){var i=dt(e,n);e.parentNode==t&&(t.removeChild(e),t.appendChild(i)),setTimeout((function(){i.parentNode==t&&(t.removeChild(i),t.appendChild(e))}),250)}}var ft=function(){function t(n,i){if(e(this,t),i=S(i),this.parent=\"string\"==typeof n?document.querySelector(n):n,!(this.parent instanceof HTMLElement))throw new Error(\"No `parent` element to render on was provided.\");this.rawChartArgs=i,this.title=i.title||\"\",this.type=i.type||\"\",this.realData=this.prepareData(i.data),this.data=this.prepareFirstData(this.realData),this.colors=this.validateColors(i.colors,this.type),this.config={showTooltip:1,showLegend:void 0!==i.showLegend?i.showLegend:1,isNavigable:i.isNavigable||0,animate:void 0!==i.animate?i.animate:1,truncateLegends:i.truncateLegends||1},this.measures=JSON.parse(JSON.stringify(y));var a=this.measures;this.setMeasures(i),this.title.length||(a.titleHeight=0),this.config.showLegend||(a.legendHeight=0),this.argHeight=i.height||a.baseHeight,this.state={},this.options={},this.initTimeout=700,this.config.isNavigable&&(this.overlays=[]),this.configure(i)}return i(t,[{key:\"prepareData\",value:function(t){return t}},{key:\"prepareFirstData\",value:function(t){return t}},{key:\"validateColors\",value:function(t,e){var n=[];return(t=(t||[]).concat(D[e])).forEach((function(t){var e=function(t){return/rgb[a]{0,1}\\([\\d, ]+\\)/gim.test(t)?/\\D+(\\d*)\\D+(\\d*)\\D+(\\d*)/gim.exec(t).map((function(t,e){return 0!==e?Number(t).toString(16):\"#\"})).reduce((function(t,e){return\"\".concat(t).concat(e)})):st[t]||t}(t);!function(t){return/(^\\s*)(#)((?:[A-Fa-f0-9]{3}){1,2})$/i.test(t)||/(^\\s*)(rgb|hsl)(a?)[(]\\s*([\\d.]+\\s*%?)\\s*,\\s*([\\d.]+\\s*%?)\\s*,\\s*([\\d.]+\\s*%?)\\s*(?:,\\s*([\\d.]+)\\s*)?[)]$/i.test(t)}(e)?console.warn('\"'+t+'\" is not a valid color.'):n.push(e)})),n}},{key:\"setMeasures\",value:function(){}},{key:\"configure\",value:function(){var t=this,e=this.argHeight;this.baseHeight=e,this.height=e-k(this.measures),this.boundDrawFn=function(){return t.draw(!0)},ResizeObserver&&(this.resizeObserver=new ResizeObserver(this.boundDrawFn),this.resizeObserver.observe(this.parent)),window.addEventListener(\"resize\",this.boundDrawFn),window.addEventListener(\"orientationchange\",this.boundDrawFn)}},{key:\"destroy\",value:function(){this.resizeObserver&&this.resizeObserver.disconnect(),window.removeEventListener(\"resize\",this.boundDrawFn),window.removeEventListener(\"orientationchange\",this.boundDrawFn)}},{key:\"setup\",value:function(){this.makeContainer(),this.updateWidth(),this.makeTooltip(),this.draw(!1,!0)}},{key:\"makeContainer\",value:function(){this.parent.innerHTML=\"\";var t={inside:this.parent,className:\"chart-container\"};this.independentWidth&&(t.styles={width:this.independentWidth+\"px\"}),this.container=f.create(\"div\",t)}},{key:\"makeTooltip\",value:function(){this.tip=new M({parent:this.container,colors:this.colors}),this.bindTooltip()}},{key:\"bindTooltip\",value:function(){}},{key:\"draw\",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e&&g(this.parent)||(this.updateWidth(),this.calc(e),this.makeChartArea(),this.setupComponents(),this.components.forEach((function(e){return e.setup(t.drawArea)})),this.render(this.components,!1),n&&(this.data=this.realData,setTimeout((function(){t.update(t.data,!0)}),this.initTimeout)),this.config.showLegend&&this.renderLegend(),this.setupNavigation(n))}},{key:\"calc\",value:function(){}},{key:\"updateWidth\",value:function(){var t,e,n;this.baseWidth=(t=this.parent,e=window.getComputedStyle(t),n=parseFloat(e.paddingLeft)+parseFloat(e.paddingRight),t.clientWidth-n),this.width=this.baseWidth-w(this.measures)}},{key:\"makeChartArea\",value:function(){this.svg&&this.container.removeChild(this.svg);var t,e,n,i,a=this.measures;this.svg=(t=this.container,e=\"frappe-chart chart\",n=this.baseWidth,i=this.baseHeight,I(\"svg\",{className:e,inside:t,width:n,height:i})),this.svgDefs=I(\"defs\",{inside:this.svg}),this.title.length&&(this.titleEL=tt(\"title\",a.margins.left,a.margins.top,this.title,{fontSize:a.titleFontSize,fill:\"#666666\",dy:a.titleFontSize}));var s=b(a);this.drawArea=V(this.type+\"-chart chart-draw-area\",\"translate(\".concat(x(a),\", \").concat(s,\")\")),this.config.showLegend&&(s+=this.height+a.paddings.bottom,this.legendArea=V(\"chart-legend\",\"translate(\".concat(x(a),\", \").concat(s,\")\"))),this.title.length&&this.svg.appendChild(this.titleEL),this.svg.appendChild(this.drawArea),this.config.showLegend&&this.svg.appendChild(this.legendArea),this.updateTipOffset(x(a),b(a))}},{key:\"updateTipOffset\",value:function(t,e){this.tip.offset={x:t,y:e}}},{key:\"setupComponents\",value:function(){this.components=new Map}},{key:\"update\",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t||console.error(\"No data to update.\"),e||(t=S(t)),this.data=this.prepareData(t),this.calc(),this.render(this.components,this.config.animate)}},{key:\"render\",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.components,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.config.isNavigable&&this.overlays.map((function(t){return t.parentNode.removeChild(t)}));var i=[];e.forEach((function(t){i=i.concat(t.update(n))})),i.length>0?(pt(this.container,this.svg,i),setTimeout((function(){e.forEach((function(t){return t.make()})),t.updateNav()}),400)):(e.forEach((function(t){return t.make()})),this.updateNav())}},{key:\"updateNav\",value:function(){this.config.isNavigable&&(this.makeOverlay(),this.bindUnits())}},{key:\"renderLegend\",value:function(t){var e=this;this.legendArea.textContent=\"\";var n=0,i=0;t.map((function(t,a){var s=Math.floor(e.width/150);n>s&&(n=0,i+=e.config.legendRowHeight);var r=150*n,o=e.makeLegend(t,a,r,i);e.legendArea.appendChild(o),n++}))}},{key:\"makeLegend\",value:function(){}},{key:\"setupNavigation\",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.config.isNavigable&&e&&(this.bindOverlay(),this.keyActions={13:this.onEnterKey.bind(this),37:this.onLeftArrow.bind(this),38:this.onUpArrow.bind(this),39:this.onRightArrow.bind(this),40:this.onDownArrow.bind(this)},document.addEventListener(\"keydown\",(function(e){m(t.container)&&(e=e||window.event,t.keyActions[e.keyCode]&&t.keyActions[e.keyCode]())})))}},{key:\"makeOverlay\",value:function(){}},{key:\"updateOverlay\",value:function(){}},{key:\"bindOverlay\",value:function(){}},{key:\"bindUnits\",value:function(){}},{key:\"onLeftArrow\",value:function(){}},{key:\"onRightArrow\",value:function(){}},{key:\"onUpArrow\",value:function(){}},{key:\"onDownArrow\",value:function(){}},{key:\"onEnterKey\",value:function(){}},{key:\"addDataPoint\",value:function(){}},{key:\"removeDataPoint\",value:function(){}},{key:\"getDataPoint\",value:function(){}},{key:\"setCurrentDataPoint\",value:function(){}},{key:\"updateDataset\",value:function(){}},{key:\"export\",value:function(){var t=function(t){var e=t.cloneNode(!0);e.classList.add(\"chart-container\"),e.setAttribute(\"xmlns\",\"http://www.w3.org/2000/svg\"),e.setAttribute(\"xmlns:xlink\",\"http://www.w3.org/1999/xlink\");var n=f.create(\"style\",{innerHTML:\".chart-container{position:relative;font-family:-apple-system,BlinkMacSystemFont,'Segoe UI','Roboto','Oxygen','Ubuntu','Cantarell','Fira Sans','Droid Sans','Helvetica Neue',sans-serif}.chart-container .axis,.chart-container .chart-label{fill:#555b51}.chart-container .axis line,.chart-container .chart-label line{stroke:#dadada}.chart-container .dataset-units circle{stroke:#fff;stroke-width:2}.chart-container .dataset-units path{fill:none;stroke-opacity:1;stroke-width:2px}.chart-container .dataset-path{stroke-width:2px}.chart-container .path-group path{fill:none;stroke-opacity:1;stroke-width:2px}.chart-container line.dashed{stroke-dasharray:5,3}.chart-container .axis-line .specific-value{text-anchor:start}.chart-container .axis-line .y-line{text-anchor:end}.chart-container .axis-line .x-line{text-anchor:middle}.chart-container .legend-dataset-text{fill:#6c7680;font-weight:600}.graph-svg-tip{position:absolute;z-index:99999;padding:10px;font-size:12px;color:#959da5;text-align:center;background:rgba(0,0,0,.8);border-radius:3px}.graph-svg-tip ul{padding-left:0;display:flex}.graph-svg-tip ol{padding-left:0;display:flex}.graph-svg-tip ul.data-point-list li{min-width:90px;flex:1;font-weight:600}.graph-svg-tip strong{color:#dfe2e5;font-weight:600}.graph-svg-tip .svg-pointer{position:absolute;height:5px;margin:0 0 0 -5px;content:' ';border:5px solid transparent;}.graph-svg-tip.comparison{padding:0;text-align:left;pointer-events:none}.graph-svg-tip.comparison .title{display:block;padding:10px;margin:0;font-weight:600;line-height:1;pointer-events:none}.graph-svg-tip.comparison ul{margin:0;white-space:nowrap;list-style:none}.graph-svg-tip.comparison li{display:inline-block;padding:5px 10px}\"});e.insertBefore(n,e.firstChild);var i=f.create(\"div\");return i.appendChild(e),i.innerHTML}(this.svg);!function(t,e){var n=document.createElement(\"a\");n.style=\"display: none\";var i=new Blob(e,{type:\"image/svg+xml; charset=utf-8\"}),a=window.URL.createObjectURL(i);n.href=a,n.download=t,document.body.appendChild(n),n.click(),setTimeout((function(){document.body.removeChild(n),window.URL.revokeObjectURL(a)}),300)}(this.title||\"Chart\",[t])}}]),t}(),vt=function(t){a(r,ft);var n=l(r);function r(t,i){return e(this,r),n.call(this,t,i)}return i(r,[{key:\"configure\",value:function(t){c(s(r.prototype),\"configure\",this).call(this,t),this.config.formatTooltipY=(t.tooltipOptions||{}).formatTooltipY,this.config.maxSlices=t.maxSlices||20,this.config.maxLegendPoints=t.maxLegendPoints||20,this.config.legendRowHeight=60}},{key:\"calc\",value:function(){var t=this,e=this.state,n=this.config.maxSlices;e.sliceTotals=[];var i=this.data.labels.map((function(e,n){var i=0;return t.data.datasets.map((function(t){i+=t.values[n]})),[i,e]})).filter((function(t){return t[0]>=0})),a=i;if(i.length>n){i.sort((function(t,e){return e[0]-t[0]})),a=i.slice(0,n-1);var s=i.slice(n-1),r=0;s.map((function(t){r+=t[0]})),a.push([r,\"Rest\"]),this.colors[n-1]=\"grey\"}e.labels=[],a.map((function(t){e.sliceTotals.push(O(t[0])),e.labels.push(t[1])})),e.grandTotal=e.sliceTotals.reduce((function(t,e){return t+e}),0),this.center={x:this.width/2,y:this.height/2}}},{key:\"renderLegend\",value:function(){var t=this.state;this.legendArea.textContent=\"\",this.legendTotals=t.sliceTotals.slice(0,this.config.maxLegendPoints),c(s(r.prototype),\"renderLegend\",this).call(this,this.legendTotals)}},{key:\"makeLegend\",value:function(t,e,n,i){var a=this.config.formatTooltipY?this.config.formatTooltipY(t):t;return Z(n,i,12,3,this.colors[e],this.state.labels[e],a,null,this.config.truncateLegends)}}]),r}(),gt=[\"January\",\"February\",\"March\",\"April\",\"May\",\"June\",\"July\",\"August\",\"September\",\"October\",\"November\",\"December\"],mt=[\"Sun\",\"Mon\",\"Tue\",\"Wed\",\"Thu\",\"Fri\",\"Sat\"];function yt(t){var e=new Date(t);return e.setMinutes(e.getMinutes()-e.getTimezoneOffset()),e}function bt(t){var e=t.getDate(),n=t.getMonth()+1;return[t.getFullYear(),(n>9?\"\":\"0\")+n,(e>9?\"\":\"0\")+e].join(\"-\")}function xt(t){return new Date(t.getTime())}function kt(t,e){var n=Lt(t);return Math.ceil(function(t,e){return(yt(e)-yt(t))/864e5}(n,e)/7)}function wt(t,e){return t.getMonth()===e.getMonth()&&t.getFullYear()===e.getFullYear()}function At(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=gt[t];return e?n.slice(0,3):n}function Dt(t,e){return new Date(e,t+1,0)}function Lt(t){var e=xt(t),n=e.getDay();return 0!==n&&Mt(e,-1*n),e}function Mt(t,e){t.setDate(t.getDate()+e)}var Tt=function(){function t(n){var i=n.layerClass,a=void 0===i?\"\":i,s=n.layerTransform,r=void 0===s?\"\":s,o=n.constants,l=n.getData,c=n.makeElements,u=n.animateElements;e(this,t),this.layerTransform=r,this.constants=o,this.makeElements=c,this.getData=l,this.animateElements=u,this.store=[],this.labels=[],this.layerClass=a,this.layerClass=\"function\"==typeof this.layerClass?this.layerClass():this.layerClass,this.refresh()}return i(t,[{key:\"refresh\",value:function(t){this.data=t||this.getData()}},{key:\"setup\",value:function(t){this.layer=V(this.layerClass,this.layerTransform,t)}},{key:\"make\",value:function(){this.render(this.data),this.oldData=this.data}},{key:\"render\",value:function(t){var e=this;this.store=this.makeElements(t),this.layer.textContent=\"\",this.store.forEach((function(t){e.layer.appendChild(t)})),this.labels.forEach((function(t){e.layer.appendChild(t)}))}},{key:\"update\",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.refresh();var e=[];return t&&(e=this.animateElements(this.data)||[]),e}}]),t}(),Ct={donutSlices:{layerClass:\"donut-slices\",makeElements:function(t){return t.sliceStrings.map((function(e,n){var i=U(e,\"donut-path\",t.colors[n],\"none\",t.strokeWidth);return i.style.transition=\"transform .3s;\",i}))},animateElements:function(t){return this.store.map((function(e,n){return lt(e,t.sliceStrings[n])}))}},pieSlices:{layerClass:\"pie-slices\",makeElements:function(t){return t.sliceStrings.map((function(e,n){var i=U(e,\"pie-path\",\"none\",t.colors[n]);return i.style.transition=\"transform .3s;\",i}))},animateElements:function(t){return this.store.map((function(e,n){return lt(e,t.sliceStrings[n])}))}},percentageBars:{layerClass:\"percentage-bars\",makeElements:function(t){var e=this,n=t.xPositions.length;return t.xPositions.map((function(i,a){var s=a==n-1,r=0==a;return function(t,e,n,i,a,s){var r=arguments.length>6&&void 0!==arguments[6]?arguments[6]:\"none\";if(s){var o=K(t,n,i);return U(o,\"percentage-bar\",null,r)}if(a){var l=$(t,n,i);return U(l,\"percentage-bar\",null,r)}var c={className:\"percentage-bar\",x:t,y:e,width:n,height:i,fill:r};return I(\"rect\",c)}(i,0,t.widths[a],e.constants.barHeight,r,s,t.colors[a])}))},animateElements:function(t){if(t)return[]}},yAxis:{layerClass:\"y axis\",makeElements:function(t){var e=this;return t.positions.map((function(n,i){return function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};E(t)||(t=0),i.pos||(i.pos=\"left\"),i.offset||(i.offset=0),i.mode||(i.mode=\"span\"),i.stroke||(i.stroke=\"#E2E6E9\"),i.className||(i.className=\"\");var a=-6,s=\"span\"===i.mode?n+6:0;return\"tick\"===i.mode&&\"right\"===i.pos&&(a=n+6,s=n),a+=i.offset,s+=i.offset,\"number\"==typeof e&&(e=O(e)),nt(t,e,a,s,{className:i.className,lineType:i.lineType,shortenNumbers:i.shortenNumbers})}(n,t.labels[i],e.constants.width,{mode:e.constants.mode,pos:e.constants.pos,shortenNumbers:e.constants.shortenNumbers})}))},animateElements:function(t){var e=t.positions,n=t.labels,i=this.oldData.positions,a=this.oldData.labels,s=u(z(i,e),2);i=s[0],e=s[1];var r=u(z(a,n),2);return a=r[0],n=r[1],this.render({positions:i,labels:n}),this.store.map((function(t,n){return ot(t,e[n],i[n])}))}},xAxis:{layerClass:\"x axis\",makeElements:function(t){var e=this;return t.positions.map((function(n,i){return function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};E(t)||(t=0),i.pos||(i.pos=\"bottom\"),i.offset||(i.offset=0),i.mode||(i.mode=\"span\"),i.className||(i.className=\"\");var a=n+6,s=\"span\"===i.mode?-6:n;return\"tick\"===i.mode&&\"top\"===i.pos&&(a=-6,s=0),et(t,e,a,s,{className:i.className,lineType:i.lineType})}(n,t.calcLabels[i],e.constants.height,{mode:e.constants.mode,pos:e.constants.pos})}))},animateElements:function(t){var e=t.positions,n=t.calcLabels,i=this.oldData.positions,a=this.oldData.calcLabels,s=u(z(i,e),2);i=s[0],e=s[1];var r=u(z(a,n),2);return a=r[0],n=r[1],this.render({positions:i,calcLabels:n}),this.store.map((function(t,n){return function(t,e,n){return rt(t,[n,0],[e,0],350)}(t,e[n],i[n])}))}},yMarkers:{layerClass:\"y-markers\",makeElements:function(t){var e=this;return t.map((function(t){return function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};E(t)||(t=0),i.labelPos||(i.labelPos=\"right\"),i.lineType||(i.lineType=\"dashed\");var a=\"left\"===i.labelPos?4:n-P(e,5)-4,s=I(\"text\",{className:\"chart-label\",x:a,y:0,dy:\"-5px\",\"font-size\":\"10px\",\"text-anchor\":\"start\",innerHTML:e+\"\"}),r=nt(t,\"\",0,n,{stroke:i.stroke||\"#E2E6E9\",className:i.className||\"\",lineType:i.lineType});return r.appendChild(s),r}(t.position,t.label,e.constants.width,{labelPos:t.options.labelPos,stroke:t.options.stroke,mode:\"span\",lineType:t.options.lineType})}))},animateElements:function(t){var e=u(z(this.oldData,t),2);this.oldData=e[0];var n=(t=e[1]).map((function(t){return t.position})),i=t.map((function(t){return t.label})),a=t.map((function(t){return t.options})),s=this.oldData.map((function(t){return t.position}));return this.render(s.map((function(t,e){return{position:s[e],label:i[e],options:a[e]}}))),this.store.map((function(t,e){return ot(t,n[e],s[e])}))}},yRegions:{layerClass:\"y-regions\",makeElements:function(t){var e=this;return t.map((function(t){return function(t,e,n,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},s=t-e,r=I(\"rect\",{className:\"bar mini\",styles:{fill:a.fill||\"rgba(228, 234, 239, 0.49)\",stroke:a.stroke||\"#E2E6E9\",\"stroke-dasharray\":\"\".concat(n,\", \").concat(s)},x:0,y:0,width:n,height:s});a.labelPos||(a.labelPos=\"right\");var o=\"left\"===a.labelPos?4:n-P(i+\"\",4.5)-4,l=I(\"text\",{className:\"chart-label\",x:o,y:0,dy:\"-5px\",\"font-size\":\"10px\",\"text-anchor\":\"start\",innerHTML:i+\"\"}),c=I(\"g\",{transform:\"translate(0, \".concat(e,\")\")});return c.appendChild(r),c.appendChild(l),c}(t.startPos,t.endPos,e.constants.width,t.label,{labelPos:t.options.labelPos,stroke:t.options.stroke,fill:t.options.fill})}))},animateElements:function(t){var e=u(z(this.oldData,t),2);this.oldData=e[0];var n=(t=e[1]).map((function(t){return t.endPos})),i=t.map((function(t){return t.label})),a=t.map((function(t){return t.startPos})),s=t.map((function(t){return t.options})),r=this.oldData.map((function(t){return t.endPos})),o=this.oldData.map((function(t){return t.startPos}));this.render(r.map((function(t,e){return{startPos:o[e],endPos:r[e],label:i[e],options:s[e]}})));var l=[];return this.store.map((function(t,e){l=l.concat(function(t,e,n,i){var a=e-n,s=t.childNodes[0],r=s.getAttribute(\"width\");return[[s,{height:a,\"stroke-dasharray\":\"\".concat(r,\", \").concat(a)},350,\"easein\"],rt(t,[0,i],[0,n],350)]}(t,a[e],n[e],r[e]))})),l}},heatDomain:{layerClass:function(){return\"heat-domain domain-\"+this.constants.index},makeElements:function(t){var e=this,n=this.constants,i=n.index,a=n.colWidth,s=n.rowHeight,r=n.squareSize,o=n.radius,l=n.xTranslate,c=l,u=0;return this.serializedSubDomains=[],t.cols.map((function(t,n){1===n&&e.labels.push(tt(\"domain-name\",c,-12,At(i,!0).toUpperCase(),{fontSize:9})),t.map((function(t,n){if(t.fill){var i={\"data-date\":t.yyyyMmDd,\"data-value\":t.dataValue,\"data-day\":n},a=Q(\"day\",c,u,r,o,t.fill,i);e.serializedSubDomains.push(a)}u+=s})),u=0,c+=a})),this.serializedSubDomains},animateElements:function(t){if(t)return[]}},barGraph:{layerClass:function(){return\"dataset-units dataset-bars dataset-\"+this.constants.index},makeElements:function(t){var e=this.constants;return this.unitType=\"bar\",this.units=t.yPositions.map((function(n,i){return function(t,e,n,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:\"\",s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,r=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:{},l=F(e,o.zeroLine),c=u(l,2),h=c[0],d=c[1];d-=r,0===h&&(h=o.minHeight,d-=o.minHeight),E(t)||(t=0),E(d)||(d=0),E(h,!0)||(h=0),E(n,!0)||(n=0);var p=I(\"rect\",{className:\"bar mini\",style:\"fill: \".concat(i),\"data-point-index\":s,x:t,y:d,width:n,height:h});if((a+=\"\")||a.length){p.setAttribute(\"y\",0),p.setAttribute(\"x\",0);var f=I(\"text\",{className:\"data-point-value\",x:n/2,y:0,dy:\"-5px\",\"font-size\":\"10px\",\"text-anchor\":\"middle\",innerHTML:a}),v=I(\"g\",{\"data-point-index\":s,transform:\"translate(\".concat(t,\", \").concat(d,\")\")});return v.appendChild(p),v.appendChild(f),v}return p}(t.xPositions[i],n,t.barWidth,e.color,t.labels[i],i,t.offsets[i],{zeroLine:t.zeroLine,barsWidth:t.barsWidth,minHeight:e.minHeight})})),this.units},animateElements:function(t){var e=t.xPositions,n=t.yPositions,i=t.offsets,a=t.labels,s=this.oldData.xPositions,r=this.oldData.yPositions,o=this.oldData.offsets,l=this.oldData.labels,c=u(z(s,e),2);s=c[0],e=c[1];var h=u(z(r,n),2);r=h[0],n=h[1];var d=u(z(o,i),2);o=d[0],i=d[1];var p=u(z(l,a),2);l=p[0],a=p[1],this.render({xPositions:s,yPositions:r,offsets:o,labels:a,zeroLine:this.oldData.zeroLine,barsWidth:this.oldData.barsWidth,barWidth:this.oldData.barWidth});var f=[];return this.store.map((function(a,s){f=f.concat(function(t,e,n,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},r=F(n,s.zeroLine),o=u(r,2),l=o[0],c=o[1];if(c-=a,\"rect\"!==t.nodeName){var h=t.childNodes[0],d=[h,{width:i,height:l},350,\"easein\"],p=t.getAttribute(\"transform\").split(\"(\")[1].slice(0,-1),f=rt(t,p,[e,c],350);return[d,f]}return[[t,{width:i,height:l,x:e,y:c},350,\"easein\"]]}(a,e[s],n[s],t.barWidth,i[s],{zeroLine:t.zeroLine}))})),f}},lineGraph:{layerClass:function(){return\"dataset-units dataset-line dataset-\"+this.constants.index},makeElements:function(t){var e=this.constants;return this.unitType=\"dot\",this.paths={},e.hideLine||(this.paths=function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},s=e.map((function(e,n){return t[n]+\",\"+e})),r=s.join(\"L\");i.spline&&(r=W(t,e));var o=U(\"M\"+r,\"line-graph-path\",n);if(i.heatline){var l=J(a.svgDefs,n);o.style.stroke=\"url(#\".concat(l,\")\")}var c={path:o};if(i.regionFill){var u=J(a.svgDefs,n,!0),h=\"M\"+\"\".concat(t[0],\",\").concat(a.zeroLine,\"L\")+r+\"L\".concat(t.slice(-1)[0],\",\").concat(a.zeroLine);c.region=U(h,\"region-fill\",\"none\",\"url(#\".concat(u,\")\"))}return c}(t.xPositions,t.yPositions,e.color,{heatline:e.heatline,regionFill:e.regionFill,spline:e.spline},{svgDefs:e.svgDefs,zeroLine:t.zeroLine})),this.units=[],e.showDots&&(this.units=t.yPositions.map((function(n,i){return function(t,e,n,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:\"\",s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,r=I(\"circle\",{style:\"fill: \".concat(i),\"data-point-index\":s,cx:t,cy:e,r:n});if((a+=\"\")||a.length){r.setAttribute(\"cy\",0),r.setAttribute(\"cx\",0);var o=I(\"text\",{className:\"data-point-value\",x:0,y:0,dy:-5-n+\"px\",\"font-size\":\"10px\",\"text-anchor\":\"middle\",innerHTML:a}),l=I(\"g\",{\"data-point-index\":s,transform:\"translate(\".concat(t,\", \").concat(e,\")\")});return l.appendChild(r),l.appendChild(o),l}return r}(t.xPositions[i],n,t.radius,e.color,e.valuesOverPoints?t.values[i]:\"\",i)}))),Object.values(this.paths).concat(this.units)},animateElements:function(t){var e=t.xPositions,n=t.yPositions,i=t.values,a=this.oldData.xPositions,s=this.oldData.yPositions,r=this.oldData.values,o=u(z(a,e),2);a=o[0],e=o[1];var l=u(z(s,n),2);s=l[0],n=l[1];var c=u(z(r,i),2);r=c[0],i=c[1],this.render({xPositions:a,yPositions:s,values:i,zeroLine:this.oldData.zeroLine,radius:this.oldData.radius});var h=[];return Object.keys(this.paths).length&&(h=h.concat(function(t,e,n,i,a){var s=[],r=n.map((function(t,n){return e[n]+\",\"+t})).join(\"L\");a&&(r=W(e,n));var o=[t.path,{d:\"M\"+r},350,\"easein\"];if(s.push(o),t.region){var l=\"\".concat(e[0],\",\").concat(i,\"L\"),c=\"L\".concat(e.slice(-1)[0],\", \").concat(i),u=[t.region,{d:\"M\"+l+r+c},350,\"easein\"];s.push(u)}return s}(this.paths,e,n,t.zeroLine,this.constants.spline))),this.units.length&&this.units.map((function(t,i){h=h.concat(function(t,e,n){if(\"circle\"!==t.nodeName){var i=t.getAttribute(\"transform\").split(\"(\")[1].slice(0,-1);return[rt(t,i,[e,n],350)]}return[[t,{cx:e,cy:n},350,\"easein\"]]}(t,e[i],n[i]))})),h}}};function Pt(t,e,n){var i=Object.keys(Ct).filter((function(e){return t.includes(e)})),a=Ct[i[0]];return Object.assign(a,{constants:e,getData:n}),new Tt(a)}var Nt=function(t){a(r,vt);var n=l(r);function r(t,i){var a;return e(this,r),(a=n.call(this,t,i)).type=\"percentage\",a.setup(),a}return i(r,[{key:\"setMeasures\",value:function(t){var e=this.measures;this.barOptions=t.barOptions||{};var n=this.barOptions;n.height=n.height||16,e.paddings.right=30,e.paddings.top=60,e.paddings.bottom=0,e.legendHeight=80,e.baseHeight=8*n.height+k(e)}},{key:\"setupComponents\",value:function(){var t=this.state,e=[[\"percentageBars\",{barHeight:this.barOptions.height},function(){return{xPositions:t.xPositions,widths:t.widths,colors:this.colors}}.bind(this)]];this.components=new Map(e.map((function(t){var e=Pt.apply(void 0,h(t));return[t[0],e]})))}},{key:\"calc\",value:function(){var t=this;c(s(r.prototype),\"calc\",this).call(this);var e=this.state;e.xPositions=[],e.widths=[];var n=0;e.sliceTotals.map((function(i){var a=t.width*i/e.grandTotal;e.widths.push(a),e.xPositions.push(n),n+=a}))}},{key:\"makeDataByIndex\",value:function(){}},{key:\"bindTooltip\",value:function(){var t=this,e=this.state;this.container.addEventListener(\"mousemove\",(function(n){var i=t.components.get(\"percentageBars\").store,a=n.target;if(i.includes(a)){var s=i.indexOf(a),r=v(t.container),o=v(a),l=a.getAttribute(\"width\")||a.getBoundingClientRect().width,c=o.left-r.left+parseInt(l)/2,u=o.top-r.top,h=(t.formattedLabels&&t.formattedLabels.length>0?t.formattedLabels[s]:t.state.labels[s])+\": \",d=e.sliceTotals[s]/e.grandTotal;t.tip.setValues(c,u,{name:h,value:(100*d).toFixed(1)+\"%\"}),t.tip.showTip()}}))}}]),r}(),Et=function(t){a(r,vt);var n=l(r);function r(t,i){var a;return e(this,r),(a=n.call(this,t,i)).initTimeout=0,a.init=1,a.setup(),a}return i(r,[{key:\"configure\",value:function(t){c(s(r.prototype),\"configure\",this).call(this,t),this.mouseMove=this.mouseMove.bind(this),this.mouseLeave=this.mouseLeave.bind(this),this.hoverRadio=t.hoverRadio||.1,this.config.startAngle=t.startAngle||0,this.type=\"pie\",this.sliceName=\"pieSlices\",this.arcFunc=q,this.shapeFunc=G,this.clockWise=t.clockWise||!1}},{key:\"getRadius\",value:function(){return this.height>this.width?this.center.x:this.center.y}},{key:\"calc\",value:function(){var t=this;c(s(r.prototype),\"calc\",this).call(this);var e=this.state;this.radius=this.getRadius();var n=this.radius,i=this.clockWise,a=e.slicesProperties||[];e.sliceStrings=[],e.slicesProperties=[];var o=180-this.config.startAngle;e.sliceTotals.map((function(s,r){var l,c,u=o,h=s/e.grandTotal*360,d=h>180?1:0,p=i?-h:h,f=o+=p,v=N(u,n),g=N(f,n),m=t.init&&a[r];t.init?(l=m?m.startPosition:v,c=m?m.endPosition:v):(l=v,c=g);var y=360===h?t.shapeFunc(l,c,t.center,t.radius,i,d):t.arcFunc(l,c,t.center,t.radius,i,d);e.sliceStrings.push(y),e.slicesProperties.push({startPosition:v,endPosition:g,value:s,total:e.grandTotal,startAngle:u,endAngle:f,angle:p})})),this.init=0}},{key:\"setupComponents\",value:function(){var t=this.state,e=[[\"pieSlices\",{},function(){return{sliceStrings:t.sliceStrings,colors:this.colors}}.bind(this)]];this.components=new Map(e.map((function(t){var e=Pt.apply(void 0,h(t));return[t[0],e]})))}},{key:\"calTranslateByAngle\",value:function(t){var e=this.radius,n=this.hoverRadio,i=N(t.startAngle+t.angle/2,e);return\"translate3d(\".concat(i.x*n,\"px,\").concat(i.y*n,\"px,0)\")}},{key:\"hoverSlice\",value:function(t,e,n,i){if(t){var a=this.colors[e];if(n){ht(t,this.calTranslateByAngle(this.state.slicesProperties[e]));var s=v(this.svg),r=i.pageX-s.left+10,o=i.pageY-s.top-10,l=(this.formatted_labels&&this.formatted_labels.length>0?this.formatted_labels[e]:this.state.labels[e])+\": \",c=(100*this.state.sliceTotals[e]/this.state.grandTotal).toFixed(1);this.tip.setValues(r,o,{name:l,value:c+\"%\"}),this.tip.showTip()}else this.resetHover(t,a)}}},{key:\"resetHover\",value:function(t,e){ht(t,\"translate3d(0,0,0)\"),this.tip.hideTip(),t.style.fill=e}},{key:\"bindTooltip\",value:function(){this.container.addEventListener(\"mousemove\",this.mouseMove),this.container.addEventListener(\"mouseleave\",this.mouseLeave)}},{key:\"mouseMove\",value:function(t){var e=t.target,n=this.components.get(this.sliceName).store,i=this.curActiveSliceIndex,a=this.curActiveSlice;if(n.includes(e)){var s=n.indexOf(e);this.hoverSlice(a,i,!1),this.curActiveSlice=e,this.curActiveSliceIndex=s,this.hoverSlice(e,s,!0,t)}else this.mouseLeave()}},{key:\"mouseLeave\",value:function(){this.hoverSlice(this.curActiveSlice,this.curActiveSliceIndex,!1)}}]),r}();function Ot(t){if(0===t)return[0,0];if(isNaN(t))return{mantissa:-6755399441055744,exponent:972};var e=t>0?1:-1;if(!isFinite(t))return{mantissa:4503599627370496*e,exponent:972};t=Math.abs(t);var n=Math.floor(Math.log10(t));return[e*(t/Math.pow(10,n)),n]}function St(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=Math.ceil(t),i=Math.floor(e),a=n-i,s=a,r=1;a>5&&(a%2!=0&&(a=++n-i),s=a/2,r=2),a<=2&&(r=a/(s=4)),0===a&&(s=5,r=1);for(var o=[],l=0;l<=s;l++)o.push(i+r*l);return o}function Ft(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=Ot(t),i=u(n,2),a=i[0],s=i[1],r=e?e/Math.pow(10,s):0,o=St(a=a.toFixed(6),r);return o=o.map((function(t){return t*Math.pow(10,s)}))}function zt(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Math.max.apply(Math,h(t)),i=Math.min.apply(Math,h(t)),a=[];function s(t,e){for(var n=Ft(t),i=n[1]-n[0],a=0,s=1;a<e;s++)a+=i,n.unshift(-1*a);return n}if(n>=0&&i>=0)Ot(n)[1],a=e?Ft(n,i):Ft(n);else if(n>0&&i<0){var r=Math.abs(i);if(n>=r)Ot(n)[1],a=s(n,r);else{Ot(r)[1];var o=s(r,n);a=o.reverse().map((function(t){return-1*t}))}}else if(n<=0&&i<=0){var l=Math.abs(i),c=Math.abs(n);Ot(l)[1],a=(a=e?Ft(l,c):Ft(l)).reverse().map((function(t){return-1*t}))}return a}function Ht(t){var e,n=Rt(t);if(t.indexOf(0)>=0)e=t.indexOf(0);else if(t[0]>0){e=-1*t[0]/n}else{e=-1*t[t.length-1]/n+(t.length-1)}return e}function Rt(t){return t[1]-t[0]}function Wt(t){return t[t.length-1]-t[0]}function jt(t,e){return T(e.zeroLine-t*e.scaleMultiplier)}var It=function(t){a(s,ft);var n=l(s);function s(t,i){var a;e(this,s),(a=n.call(this,t,i)).type=\"heatmap\",a.countLabel=i.countLabel||\"\";var r=[\"Sunday\",\"Monday\"],o=r.includes(i.startSubDomain)?i.startSubDomain:\"Sunday\";return a.startSubDomainIndex=r.indexOf(o),a.setup(),a}return i(s,[{key:\"setMeasures\",value:function(t){var e=this.measures;this.discreteDomains=0===t.discreteDomains?0:1,e.paddings.top=36,e.paddings.bottom=0,e.legendHeight=24,e.baseHeight=84+k(e);var n=this.data,i=this.discreteDomains?12:0;this.independentWidth=12*(kt(n.start,n.end)+i)+w(e)}},{key:\"updateWidth\",value:function(){var t=this.discreteDomains?12:0,e=this.state.noOfWeeks?this.state.noOfWeeks:52;this.baseWidth=12*(e+t)+w(this.measures)}},{key:\"prepareData\",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.data;if(t.start&&t.end&&t.start>t.end)throw new Error(\"Start date cannot be greater than end date.\");if(t.start||(t.start=new Date,t.start.setFullYear(t.start.getFullYear()-1)),t.end||(t.end=new Date),t.dataPoints=t.dataPoints||{},parseInt(Object.keys(t.dataPoints)[0])>1e5){var e={};Object.keys(t.dataPoints).forEach((function(n){var i=new Date(1e3*n);e[bt(i)]=t.dataPoints[n]})),t.dataPoints=e}return t}},{key:\"calc\",value:function(){var t=this.state;t.start=xt(this.data.start),t.end=xt(this.data.end),t.firstWeekStart=xt(t.start),t.noOfWeeks=kt(t.start,t.end),t.distribution=function(t,e){for(var n=Math.max.apply(Math,h(t)),i=1/(e-1),a=[],s=0;s<e;s++){var r=n*(i*s);a.push(r)}return a}(Object.values(this.data.dataPoints),5),t.domainConfigs=this.getDomains()}},{key:\"setupComponents\",value:function(){var t=this,e=this.state,n=this.discreteDomains?0:1,i=e.domainConfigs.map((function(i,a){return[\"heatDomain\",{index:i.index,colWidth:12,rowHeight:12,squareSize:10,radius:t.rawChartArgs.radius||0,xTranslate:12*e.domainConfigs.filter((function(t,e){return e<a})).map((function(t){return t.cols.length-n})).reduce((function(t,e){return t+e}),0)},function(){return e.domainConfigs[a]}.bind(t)]}));this.components=new Map(i.map((function(t,e){var n=Pt.apply(void 0,h(t));return[t[0]+\"-\"+e,n]})));var a=0;mt.forEach((function(e,n){if([1,3,5].includes(n)){var i=tt(\"subdomain-name\",-6,a,e,{fontSize:10,dy:8,textAnchor:\"end\"});t.drawArea.appendChild(i)}a+=12}))}},{key:\"update\",value:function(t){t||console.error(\"No data to update.\"),this.data=this.prepareData(t),this.draw(),this.bindTooltip()}},{key:\"bindTooltip\",value:function(){var t=this;this.container.addEventListener(\"mousemove\",(function(e){t.components.forEach((function(n){var i=n.store,a=e.target;if(i.includes(a)){var s=a.getAttribute(\"data-value\"),r=a.getAttribute(\"data-date\").split(\"-\"),o=At(parseInt(r[1])-1,!0),l=t.container.getBoundingClientRect(),c=a.getBoundingClientRect(),u=parseInt(e.target.getAttribute(\"width\")),h=c.left-l.left+u/2,d=c.top-l.top,p=s+\" \"+t.countLabel,f=\" on \"+o+\" \"+r[0]+\", \"+r[2];t.tip.setValues(h,d,{name:f,value:p,valueFirst:1},[]),t.tip.showTip()}}))}))}},{key:\"renderLegend\",value:function(){var t=this;this.legendArea.textContent=\"\";var e=0,n=this.rawChartArgs.radius||0,i=tt(\"subdomain-name\",e,12,\"Less\",{fontSize:11,dy:9});e=30,this.legendArea.appendChild(i),this.colors.slice(0,5).map((function(i,a){var s=Q(\"heatmap-legend-unit\",e+15*a,12,10,n,i);t.legendArea.appendChild(s)}));var a=tt(\"subdomain-name\",e+75+3,12,\"More\",{fontSize:11,dy:9});this.legendArea.appendChild(a)}},{key:\"getDomains\",value:function(){for(var t=this.state,e=[t.start.getMonth(),t.start.getFullYear()],n=e[0],i=e[1],a=[t.end.getMonth(),t.end.getFullYear()],s=a[0]-n+1+12*(a[1]-i),r=[],o=xt(t.start),l=0;l<s;l++){var c=t.end;if(!wt(o,t.end)){var u=[o.getMonth(),o.getFullYear()];c=Dt(u[0],u[1])}r.push(this.getDomainConfig(o,c)),Mt(c,1),o=c}return r}},{key:\"getDomainConfig\",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:\"\",n=[t.getMonth(),t.getFullYear()],i=n[0],a=n[1],s=Lt(t),r={index:i,cols:[]};Mt(e=xt(e)||Dt(i,a),1);for(var o,l=kt(s,e),c=[],u=0;u<l;u++)o=this.getCol(s,i),c.push(o),Mt(s=new Date(o[6].yyyyMmDd),1);return void 0!==o[6].dataValue&&(Mt(s,1),c.push(this.getCol(s,i,!0))),r.cols=c,r}},{key:\"getCol\",value:function(t,e){for(var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=this.state,a=xt(t),s=[],r=0;r<7;r++,Mt(a,1)){var o={},l=a>=i.start&&a<=i.end;n||a.getMonth()!==e||!l?o.yyyyMmDd=bt(a):o=this.getSubDomainConfig(a),s.push(o)}return s}},{key:\"getSubDomainConfig\",value:function(t){var e,n,i=bt(t),a=this.data.dataPoints[i];return{yyyyMmDd:i,dataValue:a||0,fill:this.colors[(e=a,n=this.state.distribution,n.filter((function(t){return t<e})).length)]}}}]),s}();function Bt(t,e){t.labels=t.labels||[];var n=t.labels.length,i=t.datasets,a=new Array(n).fill(0);return i||(i=[{values:a}]),i.map((function(t){if(t.values){var i=t.values;i=(i=i.map((function(t){return isNaN(t)?0:t}))).length>n?i.slice(0,n):C(i,n-i.length,0)}else t.values=a;t.chartType||(t.chartType=e)})),t.yRegions&&t.yRegions.map((function(t){if(t.end<t.start){var e=[t.end,t.start];t.start=e[0],t.end=e[1]}})),t}function Yt(t){var e=t.labels.length,n=new Array(e).fill(0),i={labels:t.labels.slice(0,-1),datasets:t.datasets.map((function(t){return{name:\"\",values:n.slice(0,-1),chartType:t.chartType}}))};return t.yMarkers&&(i.yMarkers=[{value:0,label:\"\"}]),t.yRegions&&(i.yRegions=[{start:0,end:0,label:\"\"}]),i}var Vt=function(t){a(r,ft);var n=l(r);function r(t,i){var a;return e(this,r),(a=n.call(this,t,i)).barOptions=i.barOptions||{},a.lineOptions=i.lineOptions||{},a.type=i.type||\"line\",a.init=1,a.setup(),a}return i(r,[{key:\"setMeasures\",value:function(){this.data.datasets.length<=1&&(this.config.showLegend=0,this.measures.paddings.bottom=30)}},{key:\"configure\",value:function(t){c(s(r.prototype),\"configure\",this).call(this,t),t.axisOptions=t.axisOptions||{},t.tooltipOptions=t.tooltipOptions||{},this.config.xAxisMode=t.axisOptions.xAxisMode||\"span\",this.config.yAxisMode=t.axisOptions.yAxisMode||\"span\",this.config.xIsSeries=t.axisOptions.xIsSeries||0,this.config.shortenYAxisNumbers=t.axisOptions.shortenYAxisNumbers||0,this.config.formatTooltipX=t.tooltipOptions.formatTooltipX,this.config.formatTooltipY=t.tooltipOptions.formatTooltipY,this.config.valuesOverPoints=t.valuesOverPoints,this.config.legendRowHeight=30}},{key:\"prepareData\",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.data;return Bt(t,this.type)}},{key:\"prepareFirstData\",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.data;return Yt(t)}},{key:\"calc\",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.calcXPositions(),t||this.calcYAxisParameters(this.getAllYValues(),\"line\"===this.type),this.makeDataByIndex()}},{key:\"calcXPositions\",value:function(){var t=this.state,e=this.data.labels;t.datasetLength=e.length,t.unitWidth=this.width/t.datasetLength,t.xOffset=t.unitWidth/2,t.xAxis={labels:e,positions:e.map((function(e,n){return T(t.xOffset+n*t.unitWidth)}))}}},{key:\"calcYAxisParameters\",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:\"false\",n=zt(t,e),i=this.height/Wt(n),a=Rt(n)*i,s=this.height-Ht(n)*a;this.state.yAxis={labels:n,positions:n.map((function(t){return s-t*i})),scaleMultiplier:i,zeroLine:s},this.calcDatasetPoints(),this.calcYExtremes(),this.calcYRegions()}},{key:\"calcDatasetPoints\",value:function(){var t=this.state,e=function(e){return e.map((function(e){return jt(e,t.yAxis)}))};t.datasets=this.data.datasets.map((function(t,n){var i=t.values,a=t.cumulativeYs||[];return{name:t.name&&t.name.replace(/<|>|&/g,(function(t){return\"&\"==t?\"&amp;\":\"<\"==t?\"&lt;\":\"&gt;\"})),index:n,chartType:t.chartType,values:i,yPositions:e(i),cumulativeYs:a,cumulativeYPos:e(a)}}))}},{key:\"calcYExtremes\",value:function(){var t=this.state;this.barOptions.stacked?t.yExtremes=t.datasets[t.datasets.length-1].cumulativeYPos:(t.yExtremes=new Array(t.datasetLength).fill(9999),t.datasets.map((function(e){e.yPositions.map((function(e,n){e<t.yExtremes[n]&&(t.yExtremes[n]=e)}))})))}},{key:\"calcYRegions\",value:function(){var t=this.state;this.data.yMarkers&&(this.state.yMarkers=this.data.yMarkers.map((function(e){return e.position=jt(e.value,t.yAxis),e.options||(e.options={}),e}))),this.data.yRegions&&(this.state.yRegions=this.data.yRegions.map((function(e){return e.startPos=jt(e.start,t.yAxis),e.endPos=jt(e.end,t.yAxis),e.options||(e.options={}),e})))}},{key:\"getAllYValues\",value:function(){var t,e=this,n=\"values\";if(this.barOptions.stacked){n=\"cumulativeYs\";var i=new Array(this.state.datasetLength).fill(0);this.data.datasets.map((function(t,a){var s=e.data.datasets[a].values;t[n]=i=i.map((function(t,e){return t+s[e]}))}))}var a=this.data.datasets.map((function(t){return t[n]}));return this.data.yMarkers&&a.push(this.data.yMarkers.map((function(t){return t.value}))),this.data.yRegions&&this.data.yRegions.map((function(t){a.push([t.end,t.start])})),(t=[]).concat.apply(t,h(a))}},{key:\"setupComponents\",value:function(){var t=this,e=[[\"yAxis\",{mode:this.config.yAxisMode,width:this.width,shortenNumbers:this.config.shortenYAxisNumbers},function(){return this.state.yAxis}.bind(this)],[\"xAxis\",{mode:this.config.xAxisMode,height:this.height},function(){var t=this.state;return t.xAxis.calcLabels=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=t/e.length*.6;i<=0&&(i=1);var a,s=i/7;if(n){var r=Math.max.apply(Math,h(e.map((function(t){return t.length}))));a=Math.ceil(r/s)}var o=e.map((function(t,i){return(t+=\"\").length>s&&(n?i%a!=0&&i!==e.length-1&&(t=\"\"):t=s-3>0?t.slice(0,s-3)+\" ...\":t.slice(0,s)+\"..\"),t}));return o}(this.width,t.xAxis.labels,this.config.xIsSeries),t.xAxis}.bind(this)],[\"yRegions\",{width:this.width,pos:\"right\"},function(){return this.state.yRegions}.bind(this)]],n=this.state.datasets.filter((function(t){return\"bar\"===t.chartType})),i=this.state.datasets.filter((function(t){return\"line\"===t.chartType})),a=n.map((function(e){var i=e.index;return[\"barGraph-\"+e.index,{index:i,color:t.colors[i],stacked:t.barOptions.stacked,valuesOverPoints:t.config.valuesOverPoints,minHeight:0*t.height},function(){var t=this.state,e=t.datasets[i],a=this.barOptions.stacked,s=this.barOptions.spaceRatio||.5,r=t.unitWidth*(1-s),o=r/(a?1:n.length),l=t.xAxis.positions.map((function(t){return t-r/2}));a||(l=l.map((function(t){return t+o*i})));var c=new Array(t.datasetLength).fill(\"\");this.config.valuesOverPoints&&(c=a&&e.index===t.datasets.length-1?e.cumulativeYs:e.values);var u=new Array(t.datasetLength).fill(0);return a&&(u=e.yPositions.map((function(t,n){return t-e.cumulativeYPos[n]}))),{xPositions:l,yPositions:e.yPositions,offsets:u,labels:c,zeroLine:t.yAxis.zeroLine,barsWidth:r,barWidth:o}}.bind(t)]})),s=i.map((function(e){var n=e.index;return[\"lineGraph-\"+e.index,{index:n,color:t.colors[n],svgDefs:t.svgDefs,heatline:t.lineOptions.heatline,regionFill:t.lineOptions.regionFill,spline:t.lineOptions.spline,showDots:t.lineOptions.showDots,hideLine:t.lineOptions.hideLine,valuesOverPoints:t.config.valuesOverPoints},function(){var t=this.state,e=t.datasets[n],i=t.yAxis.positions[0]<t.yAxis.zeroLine?t.yAxis.positions[0]:t.yAxis.zeroLine;return{xPositions:t.xAxis.positions,yPositions:e.yPositions,values:e.values,zeroLine:i,radius:this.lineOptions.dotSize||4}}.bind(t)]})),r=[[\"yMarkers\",{width:this.width,pos:\"right\"},function(){return this.state.yMarkers}.bind(this)]];e=e.concat(a,s,r);var o=[\"yMarkers\",\"yRegions\"];this.dataUnitComponents=[],this.components=new Map(e.filter((function(e){return!o.includes(e[0])||t.state[e[0]]})).map((function(e){var n=Pt.apply(void 0,h(e));return(e[0].includes(\"lineGraph\")||e[0].includes(\"barGraph\"))&&t.dataUnitComponents.push(n),[e[0],n]})))}},{key:\"makeDataByIndex\",value:function(){var t=this;this.dataByIndex={};var e=this.state,n=this.config.formatTooltipX,i=this.config.formatTooltipY;e.xAxis.labels.map((function(a,s){var r=t.state.datasets.map((function(e,n){var a=e.values[s];return{title:e.name,value:a,yPos:e.yPositions[s],color:t.colors[n],formatted:i?i(a):a}}));t.dataByIndex[s]={label:a,formattedLabel:n?n(a):a,xPos:e.xAxis.positions[s],values:r,yExtreme:e.yExtremes[s]}}))}},{key:\"bindTooltip\",value:function(){var t=this;this.container.addEventListener(\"mousemove\",(function(e){var n=t.measures,i=v(t.container),a=e.pageX-i.left-x(n),s=e.pageY-i.top;s<t.height+b(n)&&s>b(n)?t.mapTooltipXPosition(a):t.tip.hideTip()}))}},{key:\"mapTooltipXPosition\",value:function(t){var e=this.state;if(e.yExtremes){var n=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=e.reduce((function(e,n){return Math.abs(n-t)<Math.abs(e-t)?n:e}),[]);return n?e.indexOf(i):i}(t,e.xAxis.positions,!0);if(n>=0){var i=this.dataByIndex[n];this.tip.setValues(i.xPos+this.tip.offset.x,i.yExtreme+this.tip.offset.y,{name:i.formattedLabel,value:\"\"},i.values,n),this.tip.showTip()}}}},{key:\"renderLegend\",value:function(){var t=this.data;t.datasets.length>1&&c(s(r.prototype),\"renderLegend\",this).call(this,t.datasets)}},{key:\"makeLegend\",value:function(t,e,n,i){return Z(n,i+5,12,3,this.colors[e],t.name,null,8.75,this.config.truncateLegends)}},{key:\"makeOverlay\",value:function(){var t=this;this.init?this.init=0:(this.overlayGuides&&this.overlayGuides.forEach((function(t){var e=t.overlay;e.parentNode.removeChild(e)})),this.overlayGuides=this.dataUnitComponents.map((function(t){return{type:t.unitType,overlay:void 0,units:t.units}})),void 0===this.state.currentIndex&&(this.state.currentIndex=this.state.datasetLength-1),this.overlayGuides.map((function(e){var n=e.units[t.state.currentIndex];e.overlay=it[e.type](n),t.drawArea.appendChild(e.overlay)})))}},{key:\"updateOverlayGuides\",value:function(){this.overlayGuides&&this.overlayGuides.forEach((function(t){var e=t.overlay;e.parentNode.removeChild(e)}))}},{key:\"bindOverlay\",value:function(){var t=this;this.parent.addEventListener(\"data-select\",(function(){t.updateOverlay()}))}},{key:\"bindUnits\",value:function(){var t=this;this.dataUnitComponents.map((function(e){e.units.map((function(e){e.addEventListener(\"click\",(function(){var n=e.getAttribute(\"data-point-index\");t.setCurrentDataPoint(n)}))}))})),this.tip.container.addEventListener(\"click\",(function(){var e=t.tip.container.getAttribute(\"data-point-index\");t.setCurrentDataPoint(e)}))}},{key:\"updateOverlay\",value:function(){var t=this;this.overlayGuides.map((function(e){var n=e.units[t.state.currentIndex];at[e.type](n,e.overlay)}))}},{key:\"onLeftArrow\",value:function(){this.setCurrentDataPoint(this.state.currentIndex-1)}},{key:\"onRightArrow\",value:function(){this.setCurrentDataPoint(this.state.currentIndex+1)}},{key:\"getDataPoint\",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.state.currentIndex,e=this.state,n={index:t,label:e.xAxis.labels[t],values:e.datasets.map((function(e){return e.values[t]}))};return n}},{key:\"setCurrentDataPoint\",value:function(t){var e=this.state;(t=parseInt(t))<0&&(t=0),t>=e.xAxis.labels.length&&(t=e.xAxis.labels.length-1),t!==e.currentIndex&&(e.currentIndex=t,function(t,e,n){var i=document.createEvent(\"HTMLEvents\");for(var a in i.initEvent(e,!0,!0),n)i[a]=n[a];t.dispatchEvent(i)}(this.parent,\"data-select\",this.getDataPoint()))}},{key:\"addDataPoint\",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.state.datasetLength;c(s(r.prototype),\"addDataPoint\",this).call(this,t,e,n),this.data.labels.splice(n,0,t),this.data.datasets.map((function(t,i){t.values.splice(n,0,e[i])})),this.update(this.data)}},{key:\"removeDataPoint\",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.state.datasetLength-1;this.data.labels.length<=1||(c(s(r.prototype),\"removeDataPoint\",this).call(this,t),this.data.labels.splice(t,1),this.data.datasets.map((function(e){e.values.splice(t,1)})),this.update(this.data))}},{key:\"updateDataset\",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.data.datasets[e].values=t,this.update(this.data)}},{key:\"updateDatasets\",value:function(t){this.data.datasets.map((function(e,n){t[n]&&(e.values=t[n])})),this.update(this.data)}}]),r}(),Ut={bar:Vt,line:Vt,percentage:Nt,heatmap:It,pie:Et,donut:function(t){a(r,Et);var n=l(r);function r(t,i){return e(this,r),n.call(this,t,i)}return i(r,[{key:\"configure\",value:function(t){c(s(r.prototype),\"configure\",this).call(this,t),this.type=\"donut\",this.sliceName=\"donutSlices\",this.arcFunc=_,this.shapeFunc=X,this.strokeWidth=t.strokeWidth||30}},{key:\"getRadius\",value:function(){return this.height>this.width?this.center.x-this.strokeWidth/2:this.center.y-this.strokeWidth/2}},{key:\"resetHover\",value:function(t,e){transform(t,\"translate3d(0,0,0)\"),this.tip.hideTip(),t.style.stroke=e}},{key:\"setupComponents\",value:function(){var t=this.state,e=[[this.sliceName,{},function(){return{sliceStrings:t.sliceStrings,colors:this.colors,strokeWidth:this.strokeWidth}}.bind(this)]];this.components=new Map(e.map((function(t){var e=Pt.apply(void 0,h(t));return[t[0],e]})))}}]),r}()};var qt=function t(n,i){return e(this,t),function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:\"line\",e=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;return\"axis-mixed\"===t?(n.type=\"line\",new Vt(e,n)):Ut[t]?new Ut[t](e,n):void console.error(\"Undefined chart type: \"+t)}(i.type,n,i)};export{Vt as AxisChart,qt as Chart,It as Heatmap,Nt as PercentageChart,Et as PieChart};\n//# sourceMappingURL=frappe-charts.esm.js.map\n","frappe.ui.SortSelector = Class.extend({\n\t// parent:\n\t// change:\n\t// args:\n\t//\t\toptions: {fieldname:, label:}\n\t//\t\tsort_by:\n\t//\t\tsort_by_label:\n\t//\t\tsort_order:\n\t//\t\tdoctype: (optional)\n\tinit: function(opts) {\n\t\t$.extend(this, opts);\n\t\tthis.labels = {};\n\t\tthis.make();\n\t},\n\tmake: function() {\n\t\tthis.prepare_args();\n\t\tthis.parent.find('.sort-selector').remove();\n\t\tthis.wrapper = $(frappe.render_template('sort_selector', this.args)).appendTo(this.parent);\n\t\tthis.bind_events();\n\t},\n\tbind_events: function() {\n\t\tvar me = this;\n\n\t\t// order\n\t\tthis.wrapper.find('.btn-order').on('click', function() {\n\t\t\tlet btn = $(this);\n\t\t\tconst order = $(this).attr('data-value') === 'desc' ? 'asc' : 'desc';\n\t\t\tconst title = $(this).attr('data-value' )=== 'desc' ? __('ascending') : __('descending');\n\n\t\t\tbtn.attr('data-value', order);\n\t\t\tbtn.attr('title', title);\n\t\t\tme.sort_order = order;\n\t\t\tconst icon_name = order === 'asc'? 'sort-ascending' : 'sort-descending';\n\t\t\tbtn.find('.sort-order').html(frappe.utils.icon(icon_name, 'sm'));\n\t\t\t(me.onchange || me.change)(me.sort_by, me.sort_order);\n\t\t});\n\n\t\t// select field\n\t\tthis.wrapper.find('.dropdown-menu a.option').on('click', function() {\n\t\t\tme.sort_by = $(this).attr('data-value');\n\t\t\tme.wrapper.find('.dropdown-text').html($(this).html());\n\t\t\t(me.onchange || me.change)(me.sort_by, me.sort_order);\n\t\t});\n\n\t},\n\tprepare_args: function() {\n\t\tvar me = this;\n\t\tif(!this.args) {\n\t\t\tthis.args = {};\n\t\t}\n\n\t\t// args as string\n\t\tif(this.args && typeof this.args === 'string') {\n\t\t\tvar order_by = this.args;\n\t\t\tthis.args = {}\n\n\t\t\tif (order_by.includes('`.`')) {\n\t\t\t\t// scrub table name (separated by dot), like `tabTime Log`.`modified` desc`\n\t\t\t\torder_by = order_by.split('.')[1];\n\t\t\t}\n\n\t\t\tvar parts = order_by.split(' ');\n\t\t\tif (parts.length === 2) {\n\t\t\t\tvar fieldname = strip(parts[0], '`');\n\n\t\t\t\tthis.args.sort_by = fieldname;\n\t\t\t\tthis.args.sort_order = parts[1];\n\t\t\t}\n\t\t}\n\n\t\tif(this.args.options) {\n\t\t\tthis.args.options.forEach(function(o) {\n\t\t\t\tme.labels[o.fieldname] = o.label;\n\t\t\t});\n\t\t}\n\n\t\tthis.setup_from_doctype();\n\n\t\t// if label is missing, add from options\n\t\tif(this.args.sort_by && !this.args.sort_by_label) {\n\t\t\tthis.args.options.every(function(o) {\n\t\t\t\tif(o.fieldname===me.args.sort_by) {\n\t\t\t\t\tme.args.sort_by_label = o.label;\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t\t});\n\t\t}\n\n\t},\n\tsetup_from_doctype: function() {\n\t\tvar me = this;\n\t\tvar meta = frappe.get_meta(this.doctype);\n\t\tif (!meta) return;\n\n\t\tvar { meta_sort_field, meta_sort_order } = this.get_meta_sort_field();\n\n\t\tif(!this.args.sort_by) {\n\t\t\tif(meta_sort_field) {\n\t\t\t\tthis.args.sort_by = meta_sort_field;\n\t\t\t\tthis.args.sort_order = meta_sort_order;\n\t\t\t} else {\n\t\t\t\t// default\n\t\t\t\tthis.args.sort_by = 'modified';\n\t\t\t\tthis.args.sort_order = 'desc';\n\t\t\t}\n\t\t}\n\n\t\tif(!this.args.sort_by_label) {\n\t\t\tthis.args.sort_by_label = this.get_label(this.args.sort_by);\n\t\t}\n\n\t\tif(!this.args.options) {\n\t\t\t// default options\n\t\t\tvar _options = [\n\t\t\t\t{'fieldname': 'modified'},\n\t\t\t\t{'fieldname': 'name'},\n\t\t\t\t{'fieldname': 'creation'},\n\t\t\t\t{'fieldname': 'idx'},\n\t\t\t]\n\n\t\t\t// title field\n\t\t\tif (meta.title_field) {\n\t\t\t\t_options.splice(1, 0, {'fieldname': meta.title_field});\n\t\t\t}\n\n\t\t\t// sort field - set via DocType schema or Customize Form\n\t\t\tif (meta_sort_field) {\n\t\t\t\t_options.splice(1, 0, { 'fieldname': meta_sort_field });\n\t\t\t}\n\n\t\t\t// bold, mandatory and fields that are available in list view\n\t\t\tmeta.fields.forEach(function(df) {\n\t\t\t\tif (\n\t\t\t\t\t(df.mandatory || df.bold || df.in_list_view)\n\t\t\t\t\t&& frappe.model.is_value_type(df.fieldtype)\n\t\t\t\t\t&& frappe.perm.has_perm(me.doctype, df.permlevel, \"read\")\n\t\t\t\t) {\n\t\t\t\t\t_options.push({fieldname: df.fieldname, label: df.label});\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t// add missing labels\n\t\t\t_options.forEach(option => {\n\t\t\t\tif (!option.label) {\n\t\t\t\t\toption.label = me.get_label(option.fieldname);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t// de-duplicate\n\t\t\tthis.args.options = _options.uniqBy(obj => {\n\t\t\t\treturn obj.fieldname;\n\t\t\t});\n\t\t}\n\n\t\t// set default\n\t\tthis.sort_by = this.args.sort_by;\n\t\tthis.sort_order = this.args.sort_order;\n\t},\n\tget_meta_sort_field: function() {\n\t\tvar meta = frappe.get_meta(this.doctype);\n\n\t\tif (!meta) {\n\t\t\treturn {\n\t\t\t\tmeta_sort_field: null,\n\t\t\t\tmeta_sort_order: null\n\t\t\t}\n\t\t}\n\n\t\tif(meta.sort_field && meta.sort_field.includes(',')) {\n\t\t\tvar parts = meta.sort_field.split(',')[0].split(' ');\n\t\t\treturn {\n\t\t\t\tmeta_sort_field: parts[0],\n\t\t\t\tmeta_sort_order: parts[1]\n\t\t\t}\n\t\t} else {\n\t\t\treturn {\n\t\t\t\tmeta_sort_field: meta.sort_field || 'modified',\n\t\t\t\tmeta_sort_order: meta.sort_order ? meta.sort_order.toLowerCase() : ''\n\t\t\t}\n\t\t}\n\t},\n\tget_label: function(fieldname) {\n\t\tif(fieldname==='idx') {\n\t\t\treturn __(\"Most Used\");\n\t\t} else {\n\t\t\treturn this.labels[fieldname]\n\t\t\t\t|| frappe.meta.get_label(this.doctype, fieldname);\n\t\t}\n\t},\n\tget_sql_string: function() {\n\t\t// build string like `tabTask`.`subject` desc\n\t\treturn '`tab' + this.doctype + '`.`' + this.sort_by + '` ' +  this.sort_order;\n\t}\n})\n","// Copyright (c) 2015, Frappe Technologies Pvt. Ltd. and Contributors\n// MIT License. See license.txt\n/* eslint-disable no-console */\n\n// __('Modules') __('Domains') __('Places') __('Administration') # for translation, don't remove\n\nfrappe.start_app = function() {\n\tif (!frappe.Application)\n\t\treturn;\n\tfrappe.assets.check();\n\tfrappe.provide('frappe.app');\n\tfrappe.provide('frappe.desk');\n\tfrappe.app = new frappe.Application();\n};\n\n$(document).ready(function() {\n\tif (!frappe.utils.supportsES6) {\n\t\tfrappe.msgprint({\n\t\t\tindicator: 'red',\n\t\t\ttitle: __('Browser not supported'),\n\t\t\tmessage: __('Some of the features might not work in your browser. Please update your browser to the latest version.')\n\t\t});\n\t}\n\tfrappe.start_app();\n});\n\nfrappe.Application = Class.extend({\n\tinit: function() {\n\t\tthis.startup();\n\t},\n\n\tstartup: function() {\n\t\tfrappe.socketio.init();\n\t\tfrappe.model.init();\n\n\t\tif(frappe.boot.status==='failed') {\n\t\t\tfrappe.msgprint({\n\t\t\t\tmessage: frappe.boot.error,\n\t\t\t\ttitle: __('Session Start Failed'),\n\t\t\t\tindicator: 'red',\n\t\t\t});\n\t\t\tthrow 'boot failed';\n\t\t}\n\n\t\tthis.setup_frappe_vue();\n\t\tthis.load_bootinfo();\n\t\tthis.load_user_permissions();\n\t\tthis.make_nav_bar();\n\t\tthis.set_favicon();\n\t\tthis.setup_analytics();\n\t\tthis.set_fullwidth_if_enabled();\n\t\tthis.add_browser_class();\n\t\tthis.setup_energy_point_listeners();\n\t\tthis.setup_copy_doc_listener();\n\n\t\tfrappe.ui.keys.setup();\n\n\t\tfrappe.ui.keys.add_shortcut({\n\t\t\tshortcut: 'shift+ctrl+g',\n\t\t\tdescription: __('Switch Theme'),\n\t\t\taction: () => {\n\t\t\t\tfrappe.theme_switcher = new frappe.ui.ThemeSwitcher();\n\t\t\t\tfrappe.theme_switcher.show();\n\t\t\t}\n\t\t});\n\n\t\t// page container\n\t\tthis.make_page_container();\n\t\tthis.set_route();\n\n\t\t// trigger app startup\n\t\t$(document).trigger('startup');\n\n\t\t$(document).trigger('app_ready');\n\n\t\tif (frappe.boot.messages) {\n\t\t\tfrappe.msgprint(frappe.boot.messages);\n\t\t}\n\n\t\tif (frappe.user_roles.includes('System Manager')) {\n\t\t\t// delayed following requests to make boot faster\n\t\t\tsetTimeout(() => {\n\t\t\t\tthis.show_change_log();\n\t\t\t\tthis.show_update_available();\n\t\t\t}, 1000);\n\t\t}\n\n\t\tif (!frappe.boot.developer_mode) {\n\t\t\tlet console_security_message = __(\"Using this console may allow attackers to impersonate you and steal your information. Do not enter or paste code that you do not understand.\");\n\t\t\tconsole.log(\n\t\t\t\t`%c${console_security_message}`,\n\t\t\t\t\"font-size: large\"\n\t\t\t);\n\t\t}\n\n\t\tthis.show_notes();\n\n\t\tif (frappe.ui.startup_setup_dialog && !frappe.boot.setup_complete) {\n\t\t\tfrappe.ui.startup_setup_dialog.pre_show();\n\t\t\tfrappe.ui.startup_setup_dialog.show();\n\t\t}\n\n\t\tfrappe.realtime.on(\"version-update\", function() {\n\t\t\tvar dialog = frappe.msgprint({\n\t\t\t\tmessage:__(\"The application has been updated to a new version, please refresh this page\"),\n\t\t\t\tindicator: 'green',\n\t\t\t\ttitle: __('Version Updated')\n\t\t\t});\n\t\t\tdialog.set_primary_action(__(\"Refresh\"), function() {\n\t\t\t\tlocation.reload(true);\n\t\t\t});\n\t\t\tdialog.get_close_btn().toggle(false);\n\t\t});\n\n\t\t// listen to build errors\n\t\tthis.setup_build_error_listener();\n\n\t\tif (frappe.sys_defaults.email_user_password) {\n\t\t\tvar email_list =  frappe.sys_defaults.email_user_password.split(',');\n\t\t\tfor (var u in email_list) {\n\t\t\t\tif (email_list[u]===frappe.user.name) {\n\t\t\t\t\tthis.set_password(email_list[u]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// REDESIGN-TODO: Fix preview popovers\n\t\tthis.link_preview = new frappe.ui.LinkPreview();\n\n\t\tif (!frappe.boot.developer_mode) {\n\t\t\tif (frappe.user.has_role(\"System Manager\")) {\n\t\t\t\tsetInterval(function() {\n\t\t\t\t\tfrappe.call({\n\t\t\t\t\t\tmethod: 'frappe.core.doctype.log_settings.log_settings.has_unseen_error_log',\n\t\t\t\t\t\targs: {\n\t\t\t\t\t\t\tuser: frappe.session.user\n\t\t\t\t\t\t},\n\t\t\t\t\t\tcallback: function(r) {\n\t\t\t\t\t\t\tif (r.message.show_alert) {\n\t\t\t\t\t\t\t\tfrappe.show_alert({\n\t\t\t\t\t\t\t\t\tindicator: 'red',\n\t\t\t\t\t\t\t\t\tmessage: r.message.message\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}, 600000); // check every 10 minutes\n\t\t\t}\n\t\t}\n\t},\n\n\tset_route() {\n\t\tfrappe.flags.setting_original_route = true;\n\t\tif (frappe.boot && localStorage.getItem(\"session_last_route\")) {\n\t\t\tfrappe.set_route(localStorage.getItem(\"session_last_route\"));\n\t\t\tlocalStorage.removeItem(\"session_last_route\");\n\t\t} else {\n\t\t\t// route to home page\n\t\t\tfrappe.router.route();\n\t\t}\n\t\tfrappe.after_ajax(() => frappe.flags.setting_original_route = false);\n\t\tfrappe.router.on('change', () => {\n\t\t\t$(\".tooltip\").hide();\n\t\t});\n\t},\n\n\tsetup_frappe_vue() {\n\t\tVue.prototype.__ = window.__;\n\t\tVue.prototype.frappe = window.frappe;\n\t},\n\n\tset_password: function(user) {\n\t\tvar me=this;\n\t\tfrappe.call({\n\t\t\tmethod: 'frappe.core.doctype.user.user.get_email_awaiting',\n\t\t\targs: {\n\t\t\t\t\"user\": user\n\t\t\t},\n\t\t\tcallback: function(email_account) {\n\t\t\t\temail_account = email_account[\"message\"];\n\t\t\t\tif (email_account) {\n\t\t\t\t\tvar i = 0;\n\t\t\t\t\tif (i < email_account.length) {\n\t\t\t\t\t\tme.email_password_prompt( email_account, user, i);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t},\n\n\temail_password_prompt: function(email_account,user,i) {\n\t\tvar me = this;\n\t\tconst email_id = email_account[i][\"email_id\"];\n\t\tlet d = new frappe.ui.Dialog({\n\t\t\ttitle: __('Password missing in Email Account'),\n\t\t\tfields: [\n\t\t\t\t{\n\t\t\t\t\t'fieldname': 'password',\n\t\t\t\t\t'fieldtype': 'Password',\n\t\t\t\t\t'label': __('Please enter the password for: <b>{0}</b>', [email_id], \"Email Account\"),\n\t\t\t\t\t'reqd': 1\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"fieldname\": \"submit\",\n\t\t\t\t\t\"fieldtype\": \"Button\",\n\t\t\t\t\t\"label\": __(\"Submit\", null, \"Submit password for Email Account\")\n\t\t\t\t}\n\t\t\t]\n\t\t});\n\t\td.get_input(\"submit\").on(\"click\", function() {\n\t\t\t//setup spinner\n\t\t\td.hide();\n\t\t\tvar s = new frappe.ui.Dialog({\n\t\t\t\ttitle: __(\"Checking one moment\"),\n\t\t\t\tfields: [{\n\t\t\t\t\t\"fieldtype\": \"HTML\",\n\t\t\t\t\t\"fieldname\": \"checking\"\n\t\t\t\t}]\n\t\t\t});\n\t\t\ts.fields_dict.checking.$wrapper.html('<i class=\"fa fa-spinner fa-spin fa-4x\"></i>');\n\t\t\ts.show();\n\t\t\tfrappe.call({\n\t\t\t\tmethod: 'frappe.email.doctype.email_account.email_account.set_email_password',\n\t\t\t\targs: {\n\t\t\t\t\t\"email_account\": email_account[i][\"email_account\"],\n\t\t\t\t\t\"user\": user,\n\t\t\t\t\t\"password\": d.get_value(\"password\")\n\t\t\t\t},\n\t\t\t\tcallback: function(passed) {\n\t\t\t\t\ts.hide();\n\t\t\t\t\td.hide();//hide waiting indication\n\t\t\t\t\tif (!passed[\"message\"]) {\n\t\t\t\t\t\tfrappe.show_alert({message: __(\"Login Failed please try again\"), indicator: 'error'}, 5);\n\t\t\t\t\t\tme.email_password_prompt(email_account, user, i);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (i + 1 < email_account.length) {\n\t\t\t\t\t\t\ti = i + 1;\n\t\t\t\t\t\t\tme.email_password_prompt(email_account, user, i);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t\td.show();\n\t},\n\tload_bootinfo: function() {\n\t\tif(frappe.boot) {\n\t\t\tthis.setup_workspaces();\n\t\t\tfrappe.model.sync(frappe.boot.docs);\n\t\t\tthis.check_metadata_cache_status();\n\t\t\tthis.set_globals();\n\t\t\tthis.sync_pages();\n\t\t\tfrappe.router.setup();\n\t\t\tthis.setup_moment();\n\t\t\tif(frappe.boot.print_css) {\n\t\t\t\tfrappe.dom.set_style(frappe.boot.print_css, \"print-style\");\n\t\t\t}\n\t\t\tfrappe.user.name = frappe.boot.user.name;\n\t\t\tfrappe.router.setup();\n\t\t} else {\n\t\t\tthis.set_as_guest();\n\t\t}\n\t},\n\n\tsetup_workspaces() {\n\t\tfrappe.modules = {};\n\t\tfrappe.workspaces = {};\n\t\tfor (let page of frappe.boot.allowed_workspaces || []) {\n\t\t\tfrappe.modules[page.module]=page;\n\t\t\tfrappe.workspaces[frappe.router.slug(page.name)] = page;\n\t\t}\n\t\tif (!frappe.workspaces['home']) {\n\t\t\t// default workspace is settings for Frappe\n\t\t\tfrappe.workspaces['home'] = frappe.workspaces[Object.keys(frappe.workspaces)[0]];\n\t\t}\n\t},\n\n\tload_user_permissions: function() {\n\t\tfrappe.defaults.update_user_permissions();\n\n\t\tfrappe.realtime.on('update_user_permissions', frappe.utils.debounce(() => {\n\t\t\tfrappe.defaults.update_user_permissions();\n\t\t}, 500));\n\t},\n\n\tcheck_metadata_cache_status: function() {\n\t\tif(frappe.boot.metadata_version != localStorage.metadata_version) {\n\t\t\tfrappe.assets.clear_local_storage();\n\t\t\tfrappe.assets.init_local_storage();\n\t\t}\n\t},\n\n\tset_globals: function() {\n\t\tfrappe.session.user = frappe.boot.user.name;\n\t\tfrappe.session.logged_in_user = frappe.boot.user.name;\n\t\tfrappe.session.user_email = frappe.boot.user.email;\n\t\tfrappe.session.user_fullname = frappe.user_info().fullname;\n\n\t\tfrappe.user_defaults = frappe.boot.user.defaults;\n\t\tfrappe.user_roles = frappe.boot.user.roles;\n\t\tfrappe.sys_defaults = frappe.boot.sysdefaults;\n\n\t\tfrappe.ui.py_date_format = frappe.boot.sysdefaults.date_format.replace('dd', '%d').replace('mm', '%m').replace('yyyy', '%Y');\n\t\tfrappe.boot.user.last_selected_values = {};\n\n\t\t// Proxy for user globals\n\t\tObject.defineProperties(window, {\n\t\t\t'user': {\n\t\t\t\tget: function() {\n\t\t\t\t\tconsole.warn('Please use `frappe.session.user` instead of `user`. It will be deprecated soon.');\n\t\t\t\t\treturn frappe.session.user;\n\t\t\t\t}\n\t\t\t},\n\t\t\t'user_fullname': {\n\t\t\t\tget: function() {\n\t\t\t\t\tconsole.warn('Please use `frappe.session.user_fullname` instead of `user_fullname`. It will be deprecated soon.');\n\t\t\t\t\treturn frappe.session.user;\n\t\t\t\t}\n\t\t\t},\n\t\t\t'user_email': {\n\t\t\t\tget: function() {\n\t\t\t\t\tconsole.warn('Please use `frappe.session.user_email` instead of `user_email`. It will be deprecated soon.');\n\t\t\t\t\treturn frappe.session.user_email;\n\t\t\t\t}\n\t\t\t},\n\t\t\t'user_defaults': {\n\t\t\t\tget: function() {\n\t\t\t\t\tconsole.warn('Please use `frappe.user_defaults` instead of `user_defaults`. It will be deprecated soon.');\n\t\t\t\t\treturn frappe.user_defaults;\n\t\t\t\t}\n\t\t\t},\n\t\t\t'roles': {\n\t\t\t\tget: function() {\n\t\t\t\t\tconsole.warn('Please use `frappe.user_roles` instead of `roles`. It will be deprecated soon.');\n\t\t\t\t\treturn frappe.user_roles;\n\t\t\t\t}\n\t\t\t},\n\t\t\t'sys_defaults': {\n\t\t\t\tget: function() {\n\t\t\t\t\tconsole.warn('Please use `frappe.sys_defaults` instead of `sys_defaults`. It will be deprecated soon.');\n\t\t\t\t\treturn frappe.user_roles;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t},\n\tsync_pages: function() {\n\t\t// clear cached pages if timestamp is not found\n\t\tif(localStorage[\"page_info\"]) {\n\t\t\tfrappe.boot.allowed_pages = [];\n\t\t\tvar page_info = JSON.parse(localStorage[\"page_info\"]);\n\t\t\t$.each(frappe.boot.page_info, function(name, p) {\n\t\t\t\tif(!page_info[name] || (page_info[name].modified != p.modified)) {\n\t\t\t\t\tdelete localStorage[\"_page:\" + name];\n\t\t\t\t}\n\t\t\t\tfrappe.boot.allowed_pages.push(name);\n\t\t\t});\n\t\t} else {\n\t\t\tfrappe.boot.allowed_pages = Object.keys(frappe.boot.page_info);\n\t\t}\n\t\tlocalStorage[\"page_info\"] = JSON.stringify(frappe.boot.page_info);\n\t},\n\tset_as_guest: function() {\n\t\tfrappe.session.user = 'Guest';\n\t\tfrappe.session.user_email = '';\n\t\tfrappe.session.user_fullname = 'Guest';\n\n\t\tfrappe.user_defaults = {};\n\t\tfrappe.user_roles = ['Guest'];\n\t\tfrappe.sys_defaults = {};\n\t},\n\tmake_page_container: function() {\n\t\tif ($(\"#body\").length) {\n\t\t\t$(\".splash\").remove();\n\t\t\tfrappe.temp_container = $(\"<div id='temp-container' style='display: none;'>\")\n\t\t\t\t.appendTo(\"body\");\n\t\t\tfrappe.container = new frappe.views.Container();\n\t\t}\n\t},\n\tmake_nav_bar: function() {\n\t\t// toolbar\n\t\tif(frappe.boot && frappe.boot.home_page!=='setup-wizard') {\n\t\t\tfrappe.frappe_toolbar = new frappe.ui.toolbar.Toolbar();\n\t\t}\n\n\t},\n\tlogout: function() {\n\t\tvar me = this;\n\t\tme.logged_out = true;\n\t\treturn frappe.call({\n\t\t\tmethod:'logout',\n\t\t\tcallback: function(r) {\n\t\t\t\tif(r.exc) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tme.redirect_to_login();\n\t\t\t}\n\t\t});\n\t},\n\thandle_session_expired: function() {\n\t\tif(!frappe.app.session_expired_dialog) {\n\t\t\tvar dialog = new frappe.ui.Dialog({\n\t\t\t\ttitle: __('Session Expired'),\n\t\t\t\tkeep_open: true,\n\t\t\t\tfields: [\n\t\t\t\t\t{ fieldtype:'Password', fieldname:'password',\n\t\t\t\t\t\tlabel: __('Please Enter Your Password to Continue') },\n\t\t\t\t],\n\t\t\t\tonhide: () => {\n\t\t\t\t\tif (!dialog.logged_in) {\n\t\t\t\t\t\tfrappe.app.redirect_to_login();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t\tdialog.set_primary_action(__('Login'), () => {\n\t\t\t\tdialog.set_message(__('Authenticating...'));\n\t\t\t\tfrappe.call({\n\t\t\t\t\tmethod: 'login',\n\t\t\t\t\targs: {\n\t\t\t\t\t\tusr: frappe.session.user,\n\t\t\t\t\t\tpwd: dialog.get_values().password\n\t\t\t\t\t},\n\t\t\t\t\tcallback: (r) => {\n\t\t\t\t\t\tif (r.message==='Logged In') {\n\t\t\t\t\t\t\tdialog.logged_in = true;\n\n\t\t\t\t\t\t\t// revert backdrop\n\t\t\t\t\t\t\t$('.modal-backdrop').css({\n\t\t\t\t\t\t\t\t'opacity': '',\n\t\t\t\t\t\t\t\t'background-color': '#334143'\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t\tdialog.hide();\n\t\t\t\t\t},\n\t\t\t\t\tstatusCode: () => {\n\t\t\t\t\t\tdialog.hide();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t\tfrappe.app.session_expired_dialog = dialog;\n\t\t}\n\t\tif(!frappe.app.session_expired_dialog.display) {\n\t\t\tfrappe.app.session_expired_dialog.show();\n\t\t\t// add backdrop\n\t\t\t$('.modal-backdrop').css({\n\t\t\t\t'opacity': 1,\n\t\t\t\t'background-color': '#4B4C9D'\n\t\t\t});\n\t\t}\n\t},\n\tredirect_to_login: function() {\n\t\twindow.location.href = '/';\n\t},\n\tset_favicon: function() {\n\t\tvar link = $('link[type=\"image/x-icon\"]').remove().attr(\"href\");\n\t\t$('<link rel=\"shortcut icon\" href=\"' + link + '\" type=\"image/x-icon\">').appendTo(\"head\");\n\t\t$('<link rel=\"icon\" href=\"' + link + '\" type=\"image/x-icon\">').appendTo(\"head\");\n\t},\n\ttrigger_primary_action: function() {\n\t\t// to trigger change event on active input before triggering primary action\n\t\t$(document.activeElement).blur();\n\t\t// wait for possible JS validations triggered after blur (it might change primary button)\n\t\tsetTimeout(() => {\n\t\t\tif (window.cur_dialog && cur_dialog.display) {\n\t\t\t\t// trigger primary\n\t\t\t\tcur_dialog.get_primary_btn().trigger(\"click\");\n\t\t\t} else if (cur_frm && cur_frm.page.btn_primary.is(':visible')) {\n\t\t\t\tcur_frm.page.btn_primary.trigger('click');\n\t\t\t} else if (frappe.container.page.save_action) {\n\t\t\t\tfrappe.container.page.save_action();\n\t\t\t}\n\t\t}, 100);\n\t},\n\n\tshow_change_log: function() {\n\t\tvar me = this;\n\t\tlet change_log = frappe.boot.change_log;\n\n\t\t// frappe.boot.change_log = [{\n\t\t// \t\"change_log\": [\n\t\t// \t\t[<version>, <change_log in markdown>],\n\t\t// \t\t[<version>, <change_log in markdown>],\n\t\t// \t],\n\t\t// \t\"description\": \"ERP made simple\",\n\t\t// \t\"title\": \"ERPNext\",\n\t\t// \t\"version\": \"12.2.0\"\n\t\t// }];\n\n\t\tif (!Array.isArray(change_log) || !change_log.length ||\n\t\t\twindow.Cypress || cint(frappe.boot.sysdefaults.disable_change_log_notification)) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Iterate over changelog\n\t\tvar change_log_dialog = frappe.msgprint({\n\t\t\tmessage: frappe.render_template(\"change_log\", {\"change_log\": change_log}),\n\t\t\ttitle: __(\"Updated To A New Version 🎉\"),\n\t\t\twide: true,\n\t\t});\n\t\tchange_log_dialog.keep_open = true;\n\t\tchange_log_dialog.custom_onhide = function() {\n\t\t\tfrappe.call({\n\t\t\t\t\"method\": \"frappe.utils.change_log.update_last_known_versions\"\n\t\t\t});\n\t\t\tme.show_notes();\n\t\t};\n\t},\n\n\tshow_update_available: () => {\n\t\tif (frappe.boot.sysdefaults.disable_system_update_notification) return;\n\n\t\tfrappe.call({\n\t\t\t\"method\": \"frappe.utils.change_log.show_update_popup\"\n\t\t});\n\t},\n\n\tsetup_analytics: function() {\n\t\tif(window.mixpanel) {\n\t\t\twindow.mixpanel.identify(frappe.session.user);\n\t\t\twindow.mixpanel.people.set({\n\t\t\t\t\"$first_name\": frappe.boot.user.first_name,\n\t\t\t\t\"$last_name\": frappe.boot.user.last_name,\n\t\t\t\t\"$created\": frappe.boot.user.creation,\n\t\t\t\t\"$email\": frappe.session.user\n\t\t\t});\n\t\t}\n\t},\n\n\tadd_browser_class() {\n\t\t$('html').addClass(frappe.utils.get_browser().name.toLowerCase());\n\t},\n\n\tset_fullwidth_if_enabled() {\n\t\tfrappe.ui.toolbar.set_fullwidth_if_enabled();\n\t},\n\n\tshow_notes: function() {\n\t\tvar me = this;\n\t\tif(frappe.boot.notes.length) {\n\t\t\tfrappe.boot.notes.forEach(function(note) {\n\t\t\t\tif(!note.seen || note.notify_on_every_login) {\n\t\t\t\t\tvar d = frappe.msgprint({message:note.content, title:note.title});\n\t\t\t\t\td.keep_open = true;\n\t\t\t\t\td.custom_onhide = function() {\n\t\t\t\t\t\tnote.seen = true;\n\n\t\t\t\t\t\t// Mark note as read if the Notify On Every Login flag is not set\n\t\t\t\t\t\tif (!note.notify_on_every_login) {\n\t\t\t\t\t\t\tfrappe.call({\n\t\t\t\t\t\t\t\tmethod: \"frappe.desk.doctype.note.note.mark_as_seen\",\n\t\t\t\t\t\t\t\targs: {\n\t\t\t\t\t\t\t\t\tnote: note.name\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// next note\n\t\t\t\t\t\tme.show_notes();\n\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t},\n\n\tsetup_build_error_listener() {\n\t\tif (frappe.boot.developer_mode) {\n\t\t\tfrappe.realtime.on('build_error', (data) => {\n\t\t\t\tconsole.log(data);\n\t\t\t});\n\t\t}\n\t},\n\n\tsetup_energy_point_listeners() {\n\t\tfrappe.realtime.on('energy_point_alert', (message) => {\n\t\t\tfrappe.show_alert(message);\n\t\t});\n\t},\n\n\tsetup_copy_doc_listener() {\n\t\t$('body').on('paste', (e) => {\n\t\t\ttry {\n\t\t\t\tlet pasted_data = frappe.utils.get_clipboard_data(e);\n\t\t\t\tlet doc = JSON.parse(pasted_data);\n\t\t\t\tif (doc.doctype) {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\tlet sleep = (time) => {\n\t\t\t\t\t\treturn new Promise((resolve) => setTimeout(resolve, time));\n\t\t\t\t\t};\n\n\t\t\t\t\tfrappe.dom.freeze(__('Creating {0}', [doc.doctype]) + '...');\n\t\t\t\t\t// to avoid abrupt UX\n\t\t\t\t\t// wait for activity feedback\n\t\t\t\t\tsleep(500).then(() => {\n\t\t\t\t\t\tlet res = frappe.model.with_doctype(doc.doctype, () => {\n\t\t\t\t\t\t\tlet newdoc = frappe.model.copy_doc(doc);\n\t\t\t\t\t\t\tnewdoc.__newname = doc.name;\n\t\t\t\t\t\t\tdelete doc.name;\n\t\t\t\t\t\t\tnewdoc.idx = null;\n\t\t\t\t\t\t\tnewdoc.__run_link_triggers = false;\n\t\t\t\t\t\t\tfrappe.set_route('Form', newdoc.doctype, newdoc.name);\n\t\t\t\t\t\t\tfrappe.dom.unfreeze();\n\t\t\t\t\t\t});\n\t\t\t\t\t\tres && res.fail(frappe.dom.unfreeze);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\t//\n\t\t\t}\n\t\t});\n\t},\n\n\tsetup_moment() {\n\t\tmoment.updateLocale('en', {\n\t\t\tweek: {\n\t\t\t\tdow: frappe.datetime.get_first_day_of_the_week_index(),\n\t\t\t}\n\t\t});\n\t\tmoment.locale(\"en\");\n\t\tmoment.user_utc_offset = moment().utcOffset();\n\t\tif (frappe.boot.timezone_info) {\n\t\t\tmoment.tz.add(frappe.boot.timezone_info);\n\t\t}\n\t}\n});\n\nfrappe.get_module = function(m, default_module) {\n\tvar module = frappe.modules[m] || default_module;\n\tif (!module) {\n\t\treturn;\n\t}\n\n\tif(module._setup) {\n\t\treturn module;\n\t}\n\n\tif(!module.label) {\n\t\tmodule.label = m;\n\t}\n\n\tif(!module._label) {\n\t\tmodule._label = __(module.label);\n\t}\n\n\tmodule._setup = true;\n\n\treturn module;\n};\n","// Copyright (c) 2019, Frappe Technologies Pvt. Ltd. and Contributors\n// MIT License. See license.txt\n\nfrappe.provide('frappe.energy_points');\n\nObject.assign(frappe.energy_points, {\n\tget_points(points) {\n\t\treturn `<span class=\"bold\" style=\"color: ${points >= 0 ? '#45A163' : '#e42121'}\">\n\t\t\t${points > 0 ? '+' : ''}${points}\n\t\t</span>`;\n\t},\n\tformat_form_log(log) {\n\t\tconst separator = `<span>&nbsp;-&nbsp;</span>`;\n\t\tconst formatted_log = `<span>\n\t\t\t<!--${this.get_points(log.points)}&nbsp;-->\n\t\t\t<a href=\"/app/energy-point-log/${log.name}\">${this.get_form_log_message(log)}</a>\n\t\t\t${log.reason ? separator + log.reason : ''}\n\t\t</span>`;\n\t\treturn formatted_log;\n\t},\n\tformat_history_log(log) {\n\t\t// redundant code to honor readability and to avoid confusion\n\t\tconst separator = `<span>&nbsp;-&nbsp;</span>`;\n\t\tconst route = frappe.utils.get_form_link(log.reference_doctype, log.reference_name);\n\t\tconst formatted_log = `<div class=\"flex\">\n\t\t\t<span class=\"${log.points >= 0 ? 'green' : 'red'} mr-2\">\n\t\t\t\t${this.get_points(log.points)}\n\t\t\t</span>\n\t\t\t<a href=\"${route}\" class=\"text-muted\">${this.get_history_log_message(log)}</a>\n\t\t\t${log.reason ? separator + log.reason : ''}\n\t\t\t${separator + frappe.datetime.comment_when(log.creation)}\n\t\t</div>`;\n\t\treturn formatted_log;\n\t},\n\tget_history_log_message(log) {\n\t\tconst owner_name = frappe.user.full_name(log.owner).bold();\n\t\tconst ref_doc = log.reference_name;\n\n\t\tif (log.type === 'Appreciation') {\n\t\t\treturn __('{0} appreciated on {1}', [owner_name, ref_doc]);\n\t\t}\n\t\tif (log.type === 'Criticism') {\n\t\t\treturn __('{0} criticized on {1}', [owner_name, ref_doc]);\n\t\t}\n\t\tif (log.type === 'Revert') {\n\t\t\treturn __('{0} reverted {1}', [owner_name, log.revert_of]);\n\t\t}\n\t\treturn __('via automatic rule {0} on {1}', [log.rule.bold(), ref_doc]);\n\t},\n\tget_form_log_message(log) {\n\t\t// redundant code to honor readability and to avoid confusion\n\t\tconst owner_name = frappe.user.full_name(log.owner).bold();\n\t\tconst user = frappe.user.full_name(log.user).bold();\n\t\tif (log.type === 'Appreciation') {\n\t\t\treturn __('{0} appreciated {1}', [owner_name, user]);\n\t\t}\n\t\tif (log.type === 'Criticism') {\n\t\t\treturn __('{0} criticized {1}', [owner_name, user]);\n\t\t}\n\t\tif (log.type === 'Revert') {\n\t\t\treturn __('{0} reverted {1}', [owner_name, log.revert_of]);\n\t\t}\n\t\treturn __('gained by {0} via automatic rule {1}', [user, log.rule.bold()]);\n\t},\n});\n","frappe.dashboard_utils = {\n\trender_chart_filters: function(filters, button_class, container, append) {\n\t\tfilters.forEach(filter => {\n\t\t\tlet icon_html = '', filter_class = '';\n\n\t\t\tif (filter.icon) {\n\t\t\t\ticon_html = frappe.utils.icon(filter.icon);\n\t\t\t}\n\n\t\t\tif (filter.class) {\n\t\t\t\tfilter_class = filter.class;\n\t\t\t}\n\n\t\t\tlet chart_filter_html =\n\t\t\t\t`<div class=\"${button_class} ${filter_class} btn-group dropdown pull-right\">\n\t\t\t\t\t<a data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\n\t\t\t\t\t\t<button class=\"btn btn-secondary btn-xs\">\n\t\t\t \t\t\t\t${icon_html}\n\t\t\t\t\t\t\t<span class=\"filter-label\">${__(filter.label)}</span>\n\t\t\t\t\t\t\t${frappe.utils.icon('select', 'xs')}\n\t\t\t\t\t\t</button>\n\t\t\t\t</a>`;\n\t\t\tlet options_html;\n\n\t\t\tif (filter.fieldnames) {\n\t\t\t\toptions_html = filter.options.map((option, i) =>\n\t\t\t\t\t// TODO: Make option translatable - be careful, since the text of the a tag is later used to perform some action\n\t\t\t\t\t`<li>\n\t\t\t\t\t\t<a class=\"dropdown-item\" data-fieldname=\"${filter.fieldnames[i]}\">${option}</a>\n\t\t\t\t\t</li>`).join('');\n\t\t\t} else {\n\t\t\t\t// TODO: Make option translatable - be careful, since the text of the a tag is later used to perform some action\n\t\t\t\toptions_html = filter.options.map( option => `<li><a class=\"dropdown-item\">${option}</a></li>`).join('');\n\t\t\t}\n\n\t\t\tlet dropdown_html = chart_filter_html + `<ul class=\"dropdown-menu\">${options_html}</ul></div>`;\n\t\t\tlet $chart_filter = $(dropdown_html);\n\n\t\t\tif (append) {\n\t\t\t\t$chart_filter.prependTo(container);\n\t\t\t} else $chart_filter.appendTo(container);\n\n\t\t\t$chart_filter.find('.dropdown-menu').on('click', 'li a', (e) => {\n\t\t\t\tlet $el = $(e.currentTarget);\n\t\t\t\tlet fieldname;\n\t\t\t\tif ($el.attr('data-fieldname')) {\n\t\t\t\t\tfieldname = $el.attr('data-fieldname');\n\t\t\t\t}\n\n\t\t\t\tlet selected_item = $el.text();\n\t\t\t\t$el.parents(`.${button_class}`).find('.filter-label').text(selected_item);\n\t\t\t\tfilter.action(selected_item, fieldname);\n\t\t\t});\n\t\t});\n\n\t},\n\n\tget_filters_for_chart_type: function(chart) {\n\t\tif (chart.chart_type === 'Custom' && chart.source) {\n\t\t\tconst method = 'frappe.desk.doctype.dashboard_chart_source.dashboard_chart_source.get_config';\n\t\t\treturn frappe.xcall(method, {name: chart.source}).then(config => {\n\t\t\t\tfrappe.dom.eval(config);\n\t\t\t\treturn frappe.dashboards.chart_sources[chart.source].filters;\n\t\t\t});\n\t\t} else if (chart.chart_type === 'Report' && chart.report_name) {\n\t\t\treturn frappe.report_utils.get_report_filters(chart.report_name).then(filters => {\n\t\t\t\treturn filters;\n\t\t\t});\n\t\t} else {\n\t\t\treturn Promise.resolve();\n\t\t}\n\t},\n\n\tget_dashboard_settings() {\n\t\treturn frappe.db.get_list('Dashboard Settings', {\n\t\t\tfilters: {\n\t\t\t\tname: frappe.session.user\n\t\t\t},\n\t\t\tfields: ['*']\n\t\t}).then(settings => {\n\t\t\tif (!settings.length) {\n\t\t\t\treturn this.create_dashboard_settings().then(settings => {\n\t\t\t\t\treturn settings;\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\treturn settings[0];\n\t\t\t}\n\t\t});\n\t},\n\n\tcreate_dashboard_settings() {\n\t\treturn frappe.xcall(\n\t\t\t'frappe.desk.doctype.dashboard_settings.dashboard_settings.create_dashboard_settings',\n\t\t\t{\n\t\t\t\tuser: frappe.session.user\n\t\t\t}\n\t\t).then(settings => {\n\t\t\treturn settings;\n\t\t});\n\t},\n\n\tget_years_since_creation(creation) {\n\t\t//Get years since user account created\n\t\tlet creation_year = this.get_year(creation);\n\t\tlet current_year = this.get_year(frappe.datetime.now_date());\n\t\tlet years_list = [];\n\t\tfor (var year = current_year; year >= creation_year; year--) {\n\t\t\tyears_list.push(year);\n\t\t}\n\t\treturn years_list;\n\t},\n\n\tget_year(date_str) {\n\t\treturn date_str.substring(0, date_str.indexOf('-'));\n\t},\n\n\tremove_common_static_filter_values(static_filters, dynamic_filters) {\n\t\tif (dynamic_filters) {\n\t\t\tif ($.isArray(static_filters)) {\n\t\t\t\tstatic_filters = static_filters.filter(static_filter => {\n\t\t\t\t\tfor (let dynamic_filter of dynamic_filters) {\n\t\t\t\t\t\tif (static_filter[0] == dynamic_filter[0]\n\t\t\t\t\t\t\t&& static_filter[1] == dynamic_filter[1]) {\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\treturn true;\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tfor (let key of Object.keys(dynamic_filters)) {\n\t\t\t\t\tdelete static_filters[key];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn static_filters;\n\t},\n\n\tget_fields_for_dynamic_filter_dialog(is_document_type, filters, dynamic_filters) {\n\t\tlet fields = [\n\t\t\t{\n\t\t\t\tfieldtype: 'HTML',\n\t\t\t\tfieldname: 'description',\n\t\t\t\toptions:\n\t\t\t\t\t`<div>\n\t\t\t\t\t\t<p>Set dynamic filter values in JavaScript for the required fields here.\n\t\t\t\t\t\t</p>\n\t\t\t\t\t\t<p>Ex:\n\t\t\t\t\t\t\t<code>frappe.defaults.get_user_default(\"Company\")</code>\n\t\t\t\t\t\t</p>\n\t\t\t\t\t</div>`\n\t\t\t}\n\t\t];\n\n\t\tif (is_document_type) {\n\t\t\tif (dynamic_filters) {\n\t\t\t\tfilters = [...filters, ...dynamic_filters];\n\t\t\t}\n\t\t\tfilters.forEach(f => {\n\t\t\t\tfor (let field of fields) {\n\t\t\t\t\tif (field.fieldname == f[0] + ':' + f[1]) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (f[2] == '=') {\n\t\t\t\t\tfields.push({\n\t\t\t\t\t\tlabel: `${f[1]} (${f[0]})`,\n\t\t\t\t\t\tfieldname: f[0] + ':' + f[1],\n\t\t\t\t\t\tfieldtype: 'Data',\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t} else {\n\t\t\tfilters = {...dynamic_filters, ...filters};\n\t\t\tfor (let key of Object.keys(filters)) {\n\t\t\t\tfields.push({\n\t\t\t\t\tlabel: key,\n\t\t\t\t\tfieldname: key,\n\t\t\t\t\tfieldtype: 'Data',\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\treturn fields;\n\t},\n\n\tget_all_filters(doc) {\n\t\tlet filters = JSON.parse(doc.filters_json || \"null\");\n\t\tlet dynamic_filters = JSON.parse(doc.dynamic_filters_json || \"null\");\n\n\t\tif (!dynamic_filters) {\n\t\t\treturn filters;\n\t\t}\n\n\t\tif ($.isArray(dynamic_filters)) {\n\t\t\tdynamic_filters.forEach(f => {\n\t\t\t\ttry {\n\t\t\t\t\tf[3] = eval(f[3]);\n\t\t\t\t} catch (e) {\n\t\t\t\t\tfrappe.throw(__(\"Invalid expression set in filter {0} ({1})\", [f[1], f[0]]));\n\t\t\t\t}\n\t\t\t});\n\t\t\tfilters = [...filters, ...dynamic_filters];\n\t\t} else {\n\t\t\tfor (let key of Object.keys(dynamic_filters)) {\n\t\t\t\ttry {\n\t\t\t\t\tconst val = eval(dynamic_filters[key]);\n\t\t\t\t\tdynamic_filters[key] = val;\n\t\t\t\t} catch (e) {\n\t\t\t\t\tfrappe.throw(__(\"Invalid expression set in filter {0}\", [key]));\n\t\t\t\t}\n\t\t\t}\n\t\t\tObject.assign(filters, dynamic_filters);\n\t\t}\n\n\t\treturn filters;\n\t},\n\n\tget_dashboard_link_field() {\n\t\tlet field = {\n\t\t\tlabel: __('Select Dashboard'),\n\t\t\tfieldtype: 'Link',\n\t\t\tfieldname: 'dashboard',\n\t\t\toptions: 'Dashboard',\n\t\t};\n\n\t\tif (!frappe.boot.developer_mode) {\n\t\t\tfield.get_query = () => {\n\t\t\t\treturn {\n\t\t\t\t\tfilters: {\n\t\t\t\t\t\tis_standard: 0\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t};\n\t\t}\n\n\t\treturn field;\n\t},\n\n\tget_add_to_dashboard_dialog(docname, doctype, method) {\n\t\tconst field = this.get_dashboard_link_field();\n\n\t\tconst dialog = new frappe.ui.Dialog({\n\t\t\ttitle: __('Add to Dashboard'),\n\t\t\tfields: [field],\n\t\t\tprimary_action: (values) => {\n\t\t\t\tvalues.name = docname;\n\t\t\t\tvalues.set_standard = frappe.boot.developer_mode;\n\t\t\t\tfrappe.xcall(\n\t\t\t\t\tmethod,\n\t\t\t\t\t{args: values}\n\t\t\t\t).then(()=> {\n\t\t\t\t\tlet dashboard_route_html =\n\t\t\t\t\t\t`<a href = \"/app/dashboard/${values.dashboard}\">${values.dashboard}</a>`;\n\t\t\t\t\tlet message =\n\t\t\t\t\t\t__(\"{0} {1} added to Dashboard {2}\", [doctype, values.name, dashboard_route_html]);\n\n\t\t\t\t\tfrappe.msgprint(message);\n\t\t\t\t});\n\n\t\t\t\tdialog.hide();\n\t\t\t}\n\t\t});\n\n\t\treturn dialog;\n\t}\n\n};","import { Chart } from \"frappe-charts\"\n\nfrappe.Chart = Chart;\n","/**!\n * Sortable\n * @author\tRubaXa   <trash@rubaxa.org>\n * @author\towenm    <owen23355@gmail.com>\n * @license MIT\n */\n\n(function sortableModule(factory) {\n\t\"use strict\";\n\n\tif (typeof define === \"function\" && define.amd) {\n\t\tdefine(factory);\n\t}\n\telse if (typeof module != \"undefined\" && typeof module.exports != \"undefined\") {\n\t\tmodule.exports = factory();\n\t}\n\telse {\n\t\t/* jshint sub:true */\n\t\twindow[\"Sortable\"] = factory();\n\t}\n})(function sortableFactory() {\n\t\"use strict\";\n\n\tif (typeof window === \"undefined\" || !window.document) {\n\t\treturn function sortableError() {\n\t\t\tthrow new Error(\"Sortable.js requires a window with a document\");\n\t\t};\n\t}\n\n\tvar dragEl,\n\t\tparentEl,\n\t\tghostEl,\n\t\tcloneEl,\n\t\trootEl,\n\t\tnextEl,\n\t\tlastDownEl,\n\n\t\tscrollEl,\n\t\tscrollParentEl,\n\t\tscrollCustomFn,\n\n\t\toldIndex,\n\t\tnewIndex,\n\n\t\tactiveGroup,\n\t\tputSortable,\n\n\t\tautoScrolls = [],\n\t\tscrolling = false,\n\n\t\tawaitingDragStarted = false,\n\t\tignoreNextClick = false,\n\t\tsortables = [],\n\n\t\tpointerElemChangedInterval,\n\t\tlastPointerElemX,\n\t\tlastPointerElemY,\n\n\t\ttapEvt,\n\t\ttouchEvt,\n\n\t\tmoved,\n\n\n\t\tlastTarget,\n\t\tlastDirection,\n\t\tpastFirstInvertThresh = false,\n\t\tisCircumstantialInvert = false,\n\t\tlastMode, // 'swap' or 'insert'\n\n\t\ttargetMoveDistance,\n\n\n\t\tforRepaintDummy,\n\t\trealDragElRect, // dragEl rect after current animation\n\n\t\t/** @const */\n\t\tR_SPACE = /\\s+/g,\n\n\t\texpando = 'Sortable' + (new Date).getTime(),\n\n\t\twin = window,\n\t\tdocument = win.document,\n\t\tparseInt = win.parseInt,\n\t\tsetTimeout = win.setTimeout,\n\n\t\t$ = win.jQuery || win.Zepto,\n\t\tPolymer = win.Polymer,\n\n\t\tcaptureMode = {\n\t\t\tcapture: false,\n\t\t\tpassive: false\n\t\t},\n\n\t\tIE11OrLess = !!navigator.userAgent.match(/(?:Trident.*rv[ :]?11\\.|msie|iemobile)/i),\n\t\tEdge = !!navigator.userAgent.match(/Edge/i),\n\t\t// FireFox = !!navigator.userAgent.match(/firefox/i),\n\n\t\tCSSFloatProperty = Edge || IE11OrLess ? 'cssFloat' : 'float',\n\n\t\t// This will not pass for IE9, because IE9 DnD only works on anchors\n\t\tsupportDraggable = ('draggable' in document.createElement('div')),\n\n\t\tsupportCssPointerEvents = (function() {\n\t\t\t// false when <= IE11\n\t\t\tif (IE11OrLess) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tvar el = document.createElement('x');\n\t\t\tel.style.cssText = 'pointer-events:auto';\n\t\t\treturn el.style.pointerEvents === 'auto';\n\t\t})(),\n\n\t\t_silent = false,\n\t\t_alignedSilent = false,\n\n\t\tabs = Math.abs,\n\t\tmin = Math.min,\n\n\t\tsavedInputChecked = [],\n\n\t\t_detectDirection = function(el, options) {\n\t\t\tvar elCSS = _css(el),\n\t\t\t\telWidth = parseInt(elCSS.width),\n\t\t\t\tchild1 = _getChild(el, 0, options),\n\t\t\t\tchild2 = _getChild(el, 1, options),\n\t\t\t\tfirstChildCSS = child1 && _css(child1),\n\t\t\t\tsecondChildCSS = child2 && _css(child2),\n\t\t\t\tfirstChildWidth = firstChildCSS && parseInt(firstChildCSS.marginLeft) + parseInt(firstChildCSS.marginRight) + _getRect(child1).width,\n\t\t\t\tsecondChildWidth = secondChildCSS && parseInt(secondChildCSS.marginLeft) + parseInt(secondChildCSS.marginRight) + _getRect(child2).width;\n\t\t\tif (elCSS.display === 'flex') {\n\t\t\t\treturn elCSS.flexDirection === 'column' || elCSS.flexDirection === 'column-reverse'\n\t\t\t\t? 'vertical' : 'horizontal';\n\t\t\t}\n\t\t\tif (child1 && firstChildCSS.float !== 'none') {\n\t\t\t\tvar touchingSideChild2 = firstChildCSS.float === 'left' ? 'left' : 'right';\n\n\t\t\t\treturn child2 && (secondChildCSS.clear === 'both' || secondChildCSS.clear === touchingSideChild2) ?\n\t\t\t\t\t'vertical' : 'horizontal';\n\t\t\t}\n\t\t\treturn (child1 &&\n\t\t\t\t(\n\t\t\t\t\tfirstChildCSS.display === 'block' ||\n\t\t\t\t\tfirstChildCSS.display === 'flex' ||\n\t\t\t\t\tfirstChildCSS.display === 'table' ||\n\t\t\t\t\tfirstChildCSS.display === 'grid' ||\n\t\t\t\t\tfirstChildWidth >= elWidth &&\n\t\t\t\t\telCSS[CSSFloatProperty] === 'none' ||\n\t\t\t\t\tchild2 &&\n\t\t\t\t\telCSS[CSSFloatProperty] === 'none' &&\n\t\t\t\t\tfirstChildWidth + secondChildWidth > elWidth\n\t\t\t\t) ?\n\t\t\t\t'vertical' : 'horizontal'\n\t\t\t);\n\t\t},\n\n\t\t/**\n\t\t * Detects first nearest empty sortable to X and Y position using emptyInsertThreshold.\n\t\t * @param  {Number} x      X position\n\t\t * @param  {Number} y      Y position\n\t\t * @return {HTMLElement}   Element of the first found nearest Sortable\n\t\t */\n\t\t_detectNearestEmptySortable = function(x, y) {\n\t\t\tfor (var i = 0; i < sortables.length; i++) {\n\t\t\t\tif (sortables[i].children.length) continue;\n\n\t\t\t\tvar rect = _getRect(sortables[i]),\n\t\t\t\t\tthreshold = sortables[i][expando].options.emptyInsertThreshold,\n\t\t\t\t\tinsideHorizontally = x >= (rect.left - threshold) && x <= (rect.right + threshold),\n\t\t\t\t\tinsideVertically = y >= (rect.top - threshold) && y <= (rect.bottom + threshold);\n\n\t\t\t\tif (insideHorizontally && insideVertically) {\n\t\t\t\t\treturn sortables[i];\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t_isClientInRowColumn = function(x, y, el, axis, options) {\n\t\t\tvar targetRect = _getRect(el),\n\t\t\t\ttargetS1Opp = axis === 'vertical' ? targetRect.left : targetRect.top,\n\t\t\t\ttargetS2Opp = axis === 'vertical' ? targetRect.right : targetRect.bottom,\n\t\t\t\tmouseOnOppAxis = axis === 'vertical' ? x : y;\n\n\t\t\treturn targetS1Opp < mouseOnOppAxis && mouseOnOppAxis < targetS2Opp;\n\t\t},\n\n\t\t_isElInRowColumn = function(el1, el2, axis) {\n\t\t\tvar el1Rect = el1 === dragEl && realDragElRect || _getRect(el1),\n\t\t\t\tel2Rect = el2 === dragEl && realDragElRect || _getRect(el2),\n\t\t\t\tel1S1Opp = axis === 'vertical' ? el1Rect.left : el1Rect.top,\n\t\t\t\tel1S2Opp = axis === 'vertical' ? el1Rect.right : el1Rect.bottom,\n\t\t\t\tel1OppLength = axis === 'vertical' ? el1Rect.width : el1Rect.height,\n\t\t\t\tel2S1Opp = axis === 'vertical' ? el2Rect.left : el2Rect.top,\n\t\t\t\tel2S2Opp = axis === 'vertical' ? el2Rect.right : el2Rect.bottom,\n\t\t\t\tel2OppLength = axis === 'vertical' ? el2Rect.width : el2Rect.height;\n\n\t\t\treturn (\n\t\t\t\tel1S1Opp === el2S1Opp ||\n\t\t\t\tel1S2Opp === el2S2Opp ||\n\t\t\t\t(el1S1Opp + el1OppLength / 2) === (el2S1Opp + el2OppLength / 2)\n\t\t\t);\n\t\t},\n\n\t\t_getParentAutoScrollElement = function(el, includeSelf) {\n\t\t\t// skip to window\n\t\t\tif (!el || !el.getBoundingClientRect) return win;\n\n\t\t\tvar elem = el;\n\t\t\tvar gotSelf = false;\n\t\t\tdo {\n\t\t\t\t// we don't need to get elem css if it isn't even overflowing in the first place (performance)\n\t\t\t\tif (elem.clientWidth < elem.scrollWidth || elem.clientHeight < elem.scrollHeight) {\n\t\t\t\t\tvar elemCSS = _css(elem);\n\t\t\t\t\tif (\n\t\t\t\t\t\telem.clientWidth < elem.scrollWidth && (elemCSS.overflowX == 'auto' || elemCSS.overflowX == 'scroll') ||\n\t\t\t\t\t\telem.clientHeight < elem.scrollHeight && (elemCSS.overflowY == 'auto' || elemCSS.overflowY == 'scroll')\n\t\t\t\t\t) {\n\t\t\t\t\t\tif (!elem || !elem.getBoundingClientRect || elem === document.body) return win;\n\n\t\t\t\t\t\tif (gotSelf || includeSelf) return elem;\n\t\t\t\t\t\tgotSelf = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t/* jshint boss:true */\n\t\t\t} while (elem = elem.parentNode);\n\n\t\t\treturn win;\n\t\t},\n\n\t\t_autoScroll = _throttle(function (/**Event*/evt, /**Object*/options, /**HTMLElement*/rootEl, /**Boolean*/isFallback) {\n\t\t\t// Bug: https://bugzilla.mozilla.org/show_bug.cgi?id=505521\n\t\t\tif (options.scroll) {\n\t\t\t\tvar _this = rootEl ? rootEl[expando] : window,\n\t\t\t\t\tsens = options.scrollSensitivity,\n\t\t\t\t\tspeed = options.scrollSpeed,\n\n\t\t\t\t\tx = evt.clientX,\n\t\t\t\t\ty = evt.clientY,\n\n\t\t\t\t\twinWidth = window.innerWidth,\n\t\t\t\t\twinHeight = window.innerHeight,\n\n\t\t\t\t\tscrollThisInstance = false;\n\n\t\t\t\t// Detect scrollEl\n\t\t\t\tif (scrollParentEl !== rootEl) {\n\t\t\t\t\t_clearAutoScrolls();\n\n\t\t\t\t\tscrollEl = options.scroll;\n\t\t\t\t\tscrollCustomFn = options.scrollFn;\n\n\t\t\t\t\tif (scrollEl === true) {\n\t\t\t\t\t\tscrollEl = _getParentAutoScrollElement(rootEl, true);\n\t\t\t\t\t\tscrollParentEl = scrollEl;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\n\t\t\t\tvar layersOut = 0;\n\t\t\t\tvar currentParent = scrollEl;\n\t\t\t\tdo {\n\t\t\t\t\tvar\tel = currentParent,\n\t\t\t\t\t\trect = _getRect(el),\n\n\t\t\t\t\t\ttop = rect.top,\n\t\t\t\t\t\tbottom = rect.bottom,\n\t\t\t\t\t\tleft = rect.left,\n\t\t\t\t\t\tright = rect.right,\n\n\t\t\t\t\t\twidth = rect.width,\n\t\t\t\t\t\theight = rect.height,\n\n\t\t\t\t\t\tscrollWidth,\n\t\t\t\t\t\tscrollHeight,\n\n\t\t\t\t\t\tcss,\n\n\t\t\t\t\t\tvx,\n\t\t\t\t\t\tvy,\n\n\t\t\t\t\t\tcanScrollX,\n\t\t\t\t\t\tcanScrollY,\n\n\t\t\t\t\t\tscrollPosX,\n\t\t\t\t\t\tscrollPosY;\n\n\n\t\t\t\t\tif (el !== win) {\n\t\t\t\t\t\tscrollWidth = el.scrollWidth;\n\t\t\t\t\t\tscrollHeight = el.scrollHeight;\n\n\t\t\t\t\t\tcss = _css(el);\n\n\t\t\t\t\t\tcanScrollX = width < scrollWidth && (css.overflowX === 'auto' || css.overflowX === 'scroll');\n\t\t\t\t\t\tcanScrollY = height < scrollHeight && (css.overflowY === 'auto' || css.overflowY === 'scroll');\n\n\t\t\t\t\t\tscrollPosX = el.scrollLeft;\n\t\t\t\t\t\tscrollPosY = el.scrollTop;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tscrollWidth = document.documentElement.scrollWidth;\n\t\t\t\t\t\tscrollHeight = document.documentElement.scrollHeight;\n\n\t\t\t\t\t\tcss = _css(document.documentElement);\n\n\t\t\t\t\t\tcanScrollX = width < scrollWidth && (css.overflowX === 'auto' || css.overflowX === 'scroll' || css.overflowX === 'visible');\n\t\t\t\t\t\tcanScrollY = height < scrollHeight && (css.overflowY === 'auto' || css.overflowY === 'scroll' || css.overflowY === 'visible');\n\n\t\t\t\t\t\tscrollPosX = document.documentElement.scrollLeft;\n\t\t\t\t\t\tscrollPosY = document.documentElement.scrollTop;\n\t\t\t\t\t}\n\n\t\t\t\t\tvx = canScrollX && (abs(right - x) <= sens && (scrollPosX + width) < scrollWidth) - (abs(left - x) <= sens && !!scrollPosX);\n\n\t\t\t\t\tvy = canScrollY && (abs(bottom - y) <= sens && (scrollPosY + height) < scrollHeight) - (abs(top - y) <= sens && !!scrollPosY);\n\n\n\t\t\t\t\tif (!autoScrolls[layersOut]) {\n\t\t\t\t\t\tfor (var i = 0; i <= layersOut; i++) {\n\t\t\t\t\t\t\tif (!autoScrolls[i]) {\n\t\t\t\t\t\t\t\tautoScrolls[i] = {};\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif (autoScrolls[layersOut].vx != vx || autoScrolls[layersOut].vy != vy || autoScrolls[layersOut].el !== el) {\n\t\t\t\t\t\tautoScrolls[layersOut].el = el;\n\t\t\t\t\t\tautoScrolls[layersOut].vx = vx;\n\t\t\t\t\t\tautoScrolls[layersOut].vy = vy;\n\n\t\t\t\t\t\tclearInterval(autoScrolls[layersOut].pid);\n\n\t\t\t\t\t\tif (el && (vx != 0 || vy != 0)) {\n\t\t\t\t\t\t\tscrollThisInstance = true;\n\t\t\t\t\t\t\t/* jshint loopfunc:true */\n\t\t\t\t\t\t\tautoScrolls[layersOut].pid = setInterval((function () {\n\t\t\t\t\t\t\t\t// emulate drag over during autoscroll (fallback), emulating native DnD behaviour\n\t\t\t\t\t\t\t\tif (isFallback && this.layer === 0) {\n\t\t\t\t\t\t\t\t\tSortable.active._emulateDragOver(true);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tvar scrollOffsetY = autoScrolls[this.layer].vy ? autoScrolls[this.layer].vy * speed : 0;\n\t\t\t\t\t\t\t\tvar scrollOffsetX = autoScrolls[this.layer].vx ? autoScrolls[this.layer].vx * speed : 0;\n\n\t\t\t\t\t\t\t\tif ('function' === typeof(scrollCustomFn)) {\n\t\t\t\t\t\t\t\t\tif (scrollCustomFn.call(_this, scrollOffsetX, scrollOffsetY, evt, touchEvt, autoScrolls[this.layer].el) !== 'continue') {\n\t\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif (autoScrolls[this.layer].el === win) {\n\t\t\t\t\t\t\t\t\twin.scrollTo(win.pageXOffset + scrollOffsetX, win.pageYOffset + scrollOffsetY);\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tautoScrolls[this.layer].el.scrollTop += scrollOffsetY;\n\t\t\t\t\t\t\t\t\tautoScrolls[this.layer].el.scrollLeft += scrollOffsetX;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}).bind({layer: layersOut}), 24);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tlayersOut++;\n\t\t\t\t} while (options.bubbleScroll && currentParent !== win && (currentParent = _getParentAutoScrollElement(currentParent, false)));\n\t\t\t\tscrolling = scrollThisInstance; // in case another function catches scrolling as false in between when it is not\n\t\t\t}\n\t\t}, 30),\n\n\t\t_clearAutoScrolls = function () {\n\t\t\tautoScrolls.forEach(function(autoScroll) {\n\t\t\t\tclearInterval(autoScroll.pid);\n\t\t\t});\n\t\t\tautoScrolls = [];\n\t\t},\n\n\t\t_prepareGroup = function (options) {\n\t\t\tfunction toFn(value, pull) {\n\t\t\t\treturn function(to, from, dragEl, evt) {\n\t\t\t\t\tvar sameGroup = to.options.group.name &&\n\t\t\t\t\t\t\t\t\tfrom.options.group.name &&\n\t\t\t\t\t\t\t\t\tto.options.group.name === from.options.group.name;\n\n\t\t\t\t\tif (value == null && (pull || sameGroup)) {\n\t\t\t\t\t\t// Default pull value\n\t\t\t\t\t\t// Default pull and put value if same group\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t} else if (value == null || value === false) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t} else if (pull && value === 'clone') {\n\t\t\t\t\t\treturn value;\n\t\t\t\t\t} else if (typeof value === 'function') {\n\t\t\t\t\t\treturn toFn(value(to, from, dragEl, evt), pull)(to, from, dragEl, evt);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tvar otherGroup = (pull ? to : from).options.group.name;\n\n\t\t\t\t\t\treturn (value === true ||\n\t\t\t\t\t\t(typeof value === 'string' && value === otherGroup) ||\n\t\t\t\t\t\t(value.join && value.indexOf(otherGroup) > -1));\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tvar group = {};\n\t\t\tvar originalGroup = options.group;\n\n\t\t\tif (!originalGroup || typeof originalGroup != 'object') {\n\t\t\t\toriginalGroup = {name: originalGroup};\n\t\t\t}\n\n\t\t\tgroup.name = originalGroup.name;\n\t\t\tgroup.checkPull = toFn(originalGroup.pull, true);\n\t\t\tgroup.checkPut = toFn(originalGroup.put);\n\t\t\tgroup.revertClone = originalGroup.revertClone;\n\n\t\t\toptions.group = group;\n\t\t},\n\n\t\t_checkAlignment = function(evt) {\n\t\t\tif (!dragEl || !dragEl.parentNode) return;\n\t\t\tdragEl.parentNode[expando] && dragEl.parentNode[expando]._computeIsAligned(evt);\n\t\t},\n\n\t\t_isTrueParentSortable = function(el, target) {\n\t\t\tvar trueParent = target;\n\t\t\twhile (!trueParent[expando]) {\n\t\t\t\ttrueParent = trueParent.parentNode;\n\t\t\t}\n\n\t\t\treturn el === trueParent;\n\t\t},\n\n\t\t_artificalBubble = function(sortable, originalEvt, method) {\n\t\t\t// Artificial IE bubbling\n\t\t\tvar nextParent = sortable.parentNode;\n\t\t\twhile (nextParent && !nextParent[expando]) {\n\t\t\t\tnextParent = nextParent.parentNode;\n\t\t\t}\n\n\t\t\tif (nextParent) {\n\t\t\t\tnextParent[expando][method](_extend(originalEvt, {\n\t\t\t\t\tartificialBubble: true\n\t\t\t\t}));\n\t\t\t}\n\t\t},\n\n\t\t_hideGhostForTarget = function() {\n\t\t\tif (!supportCssPointerEvents && ghostEl) {\n\t\t\t\t_css(ghostEl, 'display', 'none');\n\t\t\t}\n\t\t},\n\n\t\t_unhideGhostForTarget = function() {\n\t\t\tif (!supportCssPointerEvents && ghostEl) {\n\t\t\t\t_css(ghostEl, 'display', '');\n\t\t\t}\n\t\t};\n\n\n\t// #1184 fix - Prevent click event on fallback if dragged but item not changed position\n\tdocument.addEventListener('click', function(evt) {\n\t\tif (ignoreNextClick) {\n\t\t\tevt.preventDefault();\n\t\t\tevt.stopPropagation && evt.stopPropagation();\n\t\t\tevt.stopImmediatePropagation && evt.stopImmediatePropagation();\n\t\t\tignoreNextClick = false;\n\t\t\treturn false;\n\t\t}\n\t}, true);\n\n\tvar nearestEmptyInsertDetectEvent = function(evt) {\n\t\tevt = evt.touches ? evt.touches[0] : evt;\n\t\tif (dragEl) {\n\t\t\tvar nearest = _detectNearestEmptySortable(evt.clientX, evt.clientY);\n\n\t\t\tif (nearest) {\n\t\t\t\tnearest[expando]._onDragOver({\n\t\t\t\t\tclientX: evt.clientX,\n\t\t\t\t\tclientY: evt.clientY,\n\t\t\t\t\ttarget: nearest,\n\t\t\t\t\trootEl: nearest\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t};\n\t// We do not want this to be triggered if completed (bubbling canceled), so only define it here\n\t_on(document, 'dragover', nearestEmptyInsertDetectEvent);\n\t_on(document, 'mousemove', nearestEmptyInsertDetectEvent);\n\t_on(document, 'touchmove', nearestEmptyInsertDetectEvent);\n\n\t/**\n\t * @class  Sortable\n\t * @param  {HTMLElement}  el\n\t * @param  {Object}       [options]\n\t */\n\tfunction Sortable(el, options) {\n\t\tif (!(el && el.nodeType && el.nodeType === 1)) {\n\t\t\tthrow 'Sortable: `el` must be HTMLElement, not ' + {}.toString.call(el);\n\t\t}\n\n\t\tthis.el = el; // root element\n\t\tthis.options = options = _extend({}, options);\n\n\n\t\t// Export instance\n\t\tel[expando] = this;\n\n\t\t// Default options\n\t\tvar defaults = {\n\t\t\tgroup: null,\n\t\t\tsort: true,\n\t\t\tdisabled: false,\n\t\t\tstore: null,\n\t\t\thandle: null,\n\t\t\tscroll: true,\n\t\t\tscrollSensitivity: 30,\n\t\t\tscrollSpeed: 10,\n\t\t\tbubbleScroll: true,\n\t\t\tdraggable: /[uo]l/i.test(el.nodeName) ? '>li' : '>*',\n\t\t\tswapThreshold: 1, // percentage; 0 <= x <= 1\n\t\t\tinvertSwap: false, // invert always\n\t\t\tinvertedSwapThreshold: null, // will be set to same as swapThreshold if default\n\t\t\tremoveCloneOnHide: true,\n\t\t\tdirection: function() {\n\t\t\t\treturn _detectDirection(el, this.options);\n\t\t\t},\n\t\t\tghostClass: 'sortable-ghost',\n\t\t\tchosenClass: 'sortable-chosen',\n\t\t\tdragClass: 'sortable-drag',\n\t\t\tignore: 'a, img',\n\t\t\tfilter: null,\n\t\t\tpreventOnFilter: true,\n\t\t\tanimation: 0,\n\t\t\teasing: null,\n\t\t\tsetData: function (dataTransfer, dragEl) {\n\t\t\t\tdataTransfer.setData('Text', dragEl.textContent);\n\t\t\t},\n\t\t\tdropBubble: false,\n\t\t\tdragoverBubble: false,\n\t\t\tdataIdAttr: 'data-id',\n\t\t\tdelay: 0,\n\t\t\ttouchStartThreshold: parseInt(window.devicePixelRatio, 10) || 1,\n\t\t\tforceFallback: false,\n\t\t\tfallbackClass: 'sortable-fallback',\n\t\t\tfallbackOnBody: false,\n\t\t\tfallbackTolerance: 0,\n\t\t\tfallbackOffset: {x: 0, y: 0},\n\t\t\tsupportPointer: Sortable.supportPointer !== false && (\n\t\t\t\t('PointerEvent' in window) ||\n\t\t\t\twindow.navigator && ('msPointerEnabled' in window.navigator) // microsoft\n\t\t\t),\n\t\t\temptyInsertThreshold: 5\n\t\t};\n\n\n\t\t// Set default options\n\t\tfor (var name in defaults) {\n\t\t\t!(name in options) && (options[name] = defaults[name]);\n\t\t}\n\n\t\t_prepareGroup(options);\n\n\t\t// Bind all private methods\n\t\tfor (var fn in this) {\n\t\t\tif (fn.charAt(0) === '_' && typeof this[fn] === 'function') {\n\t\t\t\tthis[fn] = this[fn].bind(this);\n\t\t\t}\n\t\t}\n\n\t\t// Setup drag mode\n\t\tthis.nativeDraggable = options.forceFallback ? false : supportDraggable;\n\n\t\t// Bind events\n\t\tif (options.supportPointer) {\n\t\t\t_on(el, 'pointerdown', this._onTapStart);\n\t\t} else {\n\t\t\t_on(el, 'mousedown', this._onTapStart);\n\t\t\t_on(el, 'touchstart', this._onTapStart);\n\t\t}\n\n\t\tif (this.nativeDraggable) {\n\t\t\t_on(el, 'dragover', this);\n\t\t\t_on(el, 'dragenter', this);\n\t\t}\n\n\t\tsortables.push(this.el);\n\n\t\t// Restore sorting\n\t\toptions.store && options.store.get && this.sort(options.store.get(this) || []);\n\t}\n\n\tSortable.prototype = /** @lends Sortable.prototype */ {\n\t\tconstructor: Sortable,\n\n\t\t_computeIsAligned: function(evt) {\n\t\t\tvar target;\n\n\t\t\tif (ghostEl && !supportCssPointerEvents) {\n\t\t\t\t_hideGhostForTarget();\n\t\t\t\ttarget = document.elementFromPoint(evt.clientX, evt.clientY);\n\t\t\t\t_unhideGhostForTarget();\n\t\t\t} else {\n\t\t\t\ttarget = evt.target;\n\t\t\t}\n\n\t\t\ttarget = _closest(target, this.options.draggable, this.el, false);\n\t\t\tif (_alignedSilent) return;\n\t\t\tif (!dragEl || dragEl.parentNode !== this.el) return;\n\n\t\t\tvar children = this.el.children;\n\t\t\tfor (var i = 0; i < children.length; i++) {\n\t\t\t\t// Don't change for target in case it is changed to aligned before onDragOver is fired\n\t\t\t\tif (_closest(children[i], this.options.draggable, this.el, false) && children[i] !== target) {\n\t\t\t\t\tchildren[i].sortableMouseAligned = _isClientInRowColumn(evt.clientX, evt.clientY, children[i], this._getDirection(evt, null), this.options);\n\t\t\t\t}\n\t\t\t}\n\t\t\t// Used for nulling last target when not in element, nothing to do with checking if aligned\n\t\t\tif (!_closest(target, this.options.draggable, this.el, true)) {\n\t\t\t\tlastTarget = null;\n\t\t\t}\n\n\t\t\t_alignedSilent = true;\n\t\t\tsetTimeout(function() {\n\t\t\t\t_alignedSilent = false;\n\t\t\t}, 30);\n\n\t\t},\n\n\t\t_getDirection: function(evt, target) {\n\t\t\treturn (typeof this.options.direction === 'function') ? this.options.direction.call(this, evt, target, dragEl) : this.options.direction;\n\t\t},\n\n\t\t_onTapStart: function (/** Event|TouchEvent */evt) {\n\t\t\tif (!evt.cancelable) return;\n\t\t\tvar _this = this,\n\t\t\t\tel = this.el,\n\t\t\t\toptions = this.options,\n\t\t\t\tpreventOnFilter = options.preventOnFilter,\n\t\t\t\ttype = evt.type,\n\t\t\t\ttouch = evt.touches && evt.touches[0],\n\t\t\t\ttarget = (touch || evt).target,\n\t\t\t\toriginalTarget = evt.target.shadowRoot && ((evt.path && evt.path[0]) || (evt.composedPath && evt.composedPath()[0])) || target,\n\t\t\t\tfilter = options.filter,\n\t\t\t\tstartIndex;\n\n\t\t\t_saveInputCheckedState(el);\n\n\n\t\t\t// IE: Calls events in capture mode if event element is nested. This ensures only correct element's _onTapStart goes through.\n\t\t\t// This process is also done in _onDragOver\n\t\t\tif (IE11OrLess && !evt.artificialBubble && !_isTrueParentSortable(el, target)) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Don't trigger start event when an element is been dragged, otherwise the evt.oldindex always wrong when set option.group.\n\t\t\tif (dragEl) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (/mousedown|pointerdown/.test(type) && evt.button !== 0 || options.disabled) {\n\t\t\t\treturn; // only left button and enabled\n\t\t\t}\n\n\t\t\t// cancel dnd if original target is content editable\n\t\t\tif (originalTarget.isContentEditable) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\ttarget = _closest(target, options.draggable, el, false);\n\n\t\t\tif (!target) {\n\t\t\t\tif (IE11OrLess) {\n\t\t\t\t\t_artificalBubble(el, evt, '_onTapStart');\n\t\t\t\t}\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (lastDownEl === target) {\n\t\t\t\t// Ignoring duplicate `down`\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Get the index of the dragged element within its parent\n\t\t\tstartIndex = _index(target, options.draggable);\n\n\t\t\t// Check filter\n\t\t\tif (typeof filter === 'function') {\n\t\t\t\tif (filter.call(this, evt, target, this)) {\n\t\t\t\t\t_dispatchEvent(_this, originalTarget, 'filter', target, el, el, startIndex);\n\t\t\t\t\tpreventOnFilter && evt.cancelable && evt.preventDefault();\n\t\t\t\t\treturn; // cancel dnd\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if (filter) {\n\t\t\t\tfilter = filter.split(',').some(function (criteria) {\n\t\t\t\t\tcriteria = _closest(originalTarget, criteria.trim(), el, false);\n\n\t\t\t\t\tif (criteria) {\n\t\t\t\t\t\t_dispatchEvent(_this, criteria, 'filter', target, el, el, startIndex);\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tif (filter) {\n\t\t\t\t\tpreventOnFilter && evt.cancelable && evt.preventDefault();\n\t\t\t\t\treturn; // cancel dnd\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (options.handle && !_closest(originalTarget, options.handle, el, false)) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Prepare `dragstart`\n\t\t\tthis._prepareDragStart(evt, touch, target, startIndex);\n\t\t},\n\n\n\t\t_handleAutoScroll: function(evt, fallback) {\n\t\t\tif (!dragEl || !this.options.scroll) return;\n\t\t\tvar x = evt.clientX,\n\t\t\t\ty = evt.clientY,\n\n\t\t\t\telem = document.elementFromPoint(x, y),\n\t\t\t\t_this = this;\n\n\t\t\t// IE does not seem to have native autoscroll,\n\t\t\t// Edge's autoscroll seems too conditional,\n\t\t\t// Firefox and Chrome are good\n\t\t\tif (fallback || Edge || IE11OrLess) {\n\t\t\t\t_autoScroll(evt, _this.options, elem, fallback);\n\n\t\t\t\t// Listener for pointer element change\n\t\t\t\tvar ogElemScroller = _getParentAutoScrollElement(elem, true);\n\t\t\t\tif (\n\t\t\t\t\tscrolling &&\n\t\t\t\t\t(\n\t\t\t\t\t\t!pointerElemChangedInterval ||\n\t\t\t\t\t\tx !== lastPointerElemX ||\n\t\t\t\t\t\ty !== lastPointerElemY\n\t\t\t\t\t)\n\t\t\t\t) {\n\n\t\t\t\t\tpointerElemChangedInterval && clearInterval(pointerElemChangedInterval);\n\t\t\t\t\t// Detect for pointer elem change, emulating native DnD behaviour\n\t\t\t\t\tpointerElemChangedInterval = setInterval(function() {\n\t\t\t\t\t\tif (!dragEl) return;\n\t\t\t\t\t\t// could also check if scroll direction on newElem changes due to parent autoscrolling\n\t\t\t\t\t\tvar newElem = _getParentAutoScrollElement(document.elementFromPoint(x, y), true);\n\t\t\t\t\t\tif (newElem !== ogElemScroller) {\n\t\t\t\t\t\t\togElemScroller = newElem;\n\t\t\t\t\t\t\t_clearAutoScrolls();\n\t\t\t\t\t\t\t_autoScroll(evt, _this.options, ogElemScroller, fallback);\n\t\t\t\t\t\t}\n\t\t\t\t\t}, 10);\n\t\t\t\t\tlastPointerElemX = x;\n\t\t\t\t\tlastPointerElemY = y;\n\t\t\t\t}\n\n\t\t\t} else {\n\t\t\t\t// if DnD is enabled (and browser has good autoscrolling), first autoscroll will already scroll, so get parent autoscroll of first autoscroll\n\t\t\t\tif (!_this.options.bubbleScroll || _getParentAutoScrollElement(elem, true) === window) {\n\t\t\t\t\t_clearAutoScrolls();\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\t_autoScroll(evt, _this.options, _getParentAutoScrollElement(elem, false), false);\n\t\t\t}\n\t\t},\n\n\t\t_prepareDragStart: function (/** Event */evt, /** Touch */touch, /** HTMLElement */target, /** Number */startIndex) {\n\t\t\tvar _this = this,\n\t\t\t\tel = _this.el,\n\t\t\t\toptions = _this.options,\n\t\t\t\townerDocument = el.ownerDocument,\n\t\t\t\tdragStartFn;\n\n\t\t\tif (target && !dragEl && (target.parentNode === el)) {\n\t\t\t\trootEl = el;\n\t\t\t\tdragEl = target;\n\t\t\t\tparentEl = dragEl.parentNode;\n\t\t\t\tnextEl = dragEl.nextSibling;\n\t\t\t\tlastDownEl = target;\n\t\t\t\tactiveGroup = options.group;\n\t\t\t\toldIndex = startIndex;\n\n\t\t\t\ttapEvt = {\n\t\t\t\t\ttarget: dragEl,\n\t\t\t\t\tclientX: (touch || evt).clientX,\n\t\t\t\t\tclientY: (touch || evt).clientY\n\t\t\t\t};\n\n\t\t\t\tthis._lastX = (touch || evt).clientX;\n\t\t\t\tthis._lastY = (touch || evt).clientY;\n\n\t\t\t\tdragEl.style['will-change'] = 'all';\n\t\t\t\t// undo animation if needed\n\t\t\t\tdragEl.style.transition = '';\n\t\t\t\tdragEl.style.transform = '';\n\n\t\t\t\tdragStartFn = function () {\n\t\t\t\t\t// Delayed drag has been triggered\n\t\t\t\t\t// we can re-enable the events: touchmove/mousemove\n\t\t\t\t\t_this._disableDelayedDrag();\n\n\t\t\t\t\t// Make the element draggable\n\t\t\t\t\tdragEl.draggable = _this.nativeDraggable;\n\n\t\t\t\t\t// Bind the events: dragstart/dragend\n\t\t\t\t\t_this._triggerDragStart(evt, touch);\n\n\t\t\t\t\t// Drag start event\n\t\t\t\t\t_dispatchEvent(_this, rootEl, 'choose', dragEl, rootEl, rootEl, oldIndex);\n\n\t\t\t\t\t// Chosen item\n\t\t\t\t\t_toggleClass(dragEl, options.chosenClass, true);\n\t\t\t\t};\n\n\t\t\t\t// Disable \"draggable\"\n\t\t\t\toptions.ignore.split(',').forEach(function (criteria) {\n\t\t\t\t\t_find(dragEl, criteria.trim(), _disableDraggable);\n\t\t\t\t});\n\n\t\t\t\tif (options.supportPointer) {\n\t\t\t\t\t_on(ownerDocument, 'pointerup', _this._onDrop);\n\t\t\t\t} else {\n\t\t\t\t\t_on(ownerDocument, 'mouseup', _this._onDrop);\n\t\t\t\t\t_on(ownerDocument, 'touchend', _this._onDrop);\n\t\t\t\t\t_on(ownerDocument, 'touchcancel', _this._onDrop);\n\t\t\t\t}\n\n\t\t\t\tif (options.delay) {\n\t\t\t\t\t// If the user moves the pointer or let go the click or touch\n\t\t\t\t\t// before the delay has been reached:\n\t\t\t\t\t// disable the delayed drag\n\t\t\t\t\t_on(ownerDocument, 'mouseup', _this._disableDelayedDrag);\n\t\t\t\t\t_on(ownerDocument, 'touchend', _this._disableDelayedDrag);\n\t\t\t\t\t_on(ownerDocument, 'touchcancel', _this._disableDelayedDrag);\n\t\t\t\t\t_on(ownerDocument, 'mousemove', _this._delayedDragTouchMoveHandler);\n\t\t\t\t\t_on(ownerDocument, 'touchmove', _this._delayedDragTouchMoveHandler);\n\t\t\t\t\toptions.supportPointer && _on(ownerDocument, 'pointermove', _this._delayedDragTouchMoveHandler);\n\n\t\t\t\t\t_this._dragStartTimer = setTimeout(dragStartFn, options.delay);\n\t\t\t\t} else {\n\t\t\t\t\tdragStartFn();\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t_delayedDragTouchMoveHandler: function (/** TouchEvent|PointerEvent **/e) {\n\t\t\tvar touch = e.touches ? e.touches[0] : e;\n\t\t\tif (min(abs(touch.clientX - this._lastX), abs(touch.clientY - this._lastY))\n\t\t\t\t\t>= this.options.touchStartThreshold\n\t\t\t) {\n\t\t\t\tthis._disableDelayedDrag();\n\t\t\t}\n\t\t},\n\n\t\t_disableDelayedDrag: function () {\n\t\t\tvar ownerDocument = this.el.ownerDocument;\n\n\t\t\tclearTimeout(this._dragStartTimer);\n\t\t\t_off(ownerDocument, 'mouseup', this._disableDelayedDrag);\n\t\t\t_off(ownerDocument, 'touchend', this._disableDelayedDrag);\n\t\t\t_off(ownerDocument, 'touchcancel', this._disableDelayedDrag);\n\t\t\t_off(ownerDocument, 'mousemove', this._delayedDragTouchMoveHandler);\n\t\t\t_off(ownerDocument, 'touchmove', this._delayedDragTouchMoveHandler);\n\t\t\t_off(ownerDocument, 'pointermove', this._delayedDragTouchMoveHandler);\n\t\t},\n\n\t\t_triggerDragStart: function (/** Event */evt, /** Touch */touch) {\n\t\t\ttouch = touch || (evt.pointerType == 'touch' ? evt : null);\n\n\t\t\tif (!this.nativeDraggable || touch) {\n\t\t\t\tif (this.options.supportPointer) {\n\t\t\t\t\t_on(document, 'pointermove', this._onTouchMove);\n\t\t\t\t} else if (touch) {\n\t\t\t\t\t_on(document, 'touchmove', this._onTouchMove);\n\t\t\t\t} else {\n\t\t\t\t\t_on(document, 'mousemove', this._onTouchMove);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t_on(dragEl, 'dragend', this);\n\t\t\t\t_on(rootEl, 'dragstart', this._onDragStart);\n\t\t\t}\n\n\t\t\ttry {\n\t\t\t\tif (document.selection) {\n\t\t\t\t\t// Timeout neccessary for IE9\n\t\t\t\t\t_nextTick(function () {\n\t\t\t\t\t\tdocument.selection.empty();\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\twindow.getSelection().removeAllRanges();\n\t\t\t\t}\n\t\t\t} catch (err) {\n\t\t\t}\n\t\t},\n\n\t\t_dragStarted: function (fallback) {\n\t\t\tawaitingDragStarted = false;\n\t\t\tif (rootEl && dragEl) {\n\t\t\t\tif (this.nativeDraggable) {\n\t\t\t\t\t_on(document, 'dragover', this._handleAutoScroll);\n\t\t\t\t\t_on(document, 'dragover', _checkAlignment);\n\t\t\t\t}\n\t\t\t\tvar options = this.options;\n\n\t\t\t\t// Apply effect\n\t\t\t\t!fallback && _toggleClass(dragEl, options.dragClass, false);\n\t\t\t\t_toggleClass(dragEl, options.ghostClass, true);\n\n\t\t\t\t// In case dragging an animated element\n\t\t\t\t_css(dragEl, 'transform', '');\n\n\t\t\t\tSortable.active = this;\n\n\t\t\t\tfallback && this._appendGhost();\n\n\t\t\t\t// Drag start event\n\t\t\t\t_dispatchEvent(this, rootEl, 'start', dragEl, rootEl, rootEl, oldIndex);\n\t\t\t} else {\n\t\t\t\tthis._nulling();\n\t\t\t}\n\t\t},\n\n\t\t_emulateDragOver: function (bypassLastTouchCheck) {\n\t\t\tif (touchEvt) {\n\t\t\t\tif (this._lastX === touchEvt.clientX && this._lastY === touchEvt.clientY && !bypassLastTouchCheck) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tthis._lastX = touchEvt.clientX;\n\t\t\t\tthis._lastY = touchEvt.clientY;\n\n\t\t\t\t_hideGhostForTarget();\n\n\t\t\t\tvar target = document.elementFromPoint(touchEvt.clientX, touchEvt.clientY);\n\t\t\t\tvar parent = target;\n\n\t\t\t\twhile (target && target.shadowRoot) {\n\t\t\t\t\ttarget = target.shadowRoot.elementFromPoint(touchEvt.clientX, touchEvt.clientY);\n\t\t\t\t\tparent = target;\n\t\t\t\t}\n\n\t\t\t\tif (parent) {\n\t\t\t\t\tdo {\n\t\t\t\t\t\tif (parent[expando]) {\n\t\t\t\t\t\t\tvar inserted;\n\n\t\t\t\t\t\t\tinserted = parent[expando]._onDragOver({\n\t\t\t\t\t\t\t\tclientX: touchEvt.clientX,\n\t\t\t\t\t\t\t\tclientY: touchEvt.clientY,\n\t\t\t\t\t\t\t\ttarget: target,\n\t\t\t\t\t\t\t\trootEl: parent\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\tif (inserted && !this.options.dragoverBubble) {\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\ttarget = parent; // store last element\n\t\t\t\t\t}\n\t\t\t\t\t/* jshint boss:true */\n\t\t\t\t\twhile (parent = parent.parentNode);\n\t\t\t\t}\n\t\t\t\tdragEl.parentNode[expando]._computeIsAligned(touchEvt);\n\n\t\t\t\t_unhideGhostForTarget();\n\t\t\t}\n\t\t},\n\n\n\t\t_onTouchMove: function (/**TouchEvent*/evt) {\n\t\t\tif (tapEvt) {\n\t\t\t\tvar\toptions = this.options,\n\t\t\t\t\tfallbackTolerance = options.fallbackTolerance,\n\t\t\t\t\tfallbackOffset = options.fallbackOffset,\n\t\t\t\t\ttouch = evt.touches ? evt.touches[0] : evt,\n\t\t\t\t\tmatrix = ghostEl && _matrix(ghostEl),\n\t\t\t\t\tscaleX = ghostEl && matrix && matrix.a,\n\t\t\t\t\tscaleY = ghostEl && matrix && matrix.d,\n\t\t\t\t\tdx = ((touch.clientX - tapEvt.clientX) + fallbackOffset.x) / (scaleX ? scaleX : 1),\n\t\t\t\t\tdy = ((touch.clientY - tapEvt.clientY) + fallbackOffset.y) / (scaleY ? scaleY : 1),\n\t\t\t\t\ttranslate3d = evt.touches ? 'translate3d(' + dx + 'px,' + dy + 'px,0)' : 'translate(' + dx + 'px,' + dy + 'px)';\n\n\n\t\t\t\t// only set the status to dragging, when we are actually dragging\n\t\t\t\tif (!Sortable.active && !awaitingDragStarted) {\n\t\t\t\t\tif (fallbackTolerance &&\n\t\t\t\t\t\tmin(abs(touch.clientX - this._lastX), abs(touch.clientY - this._lastY)) < fallbackTolerance\n\t\t\t\t\t) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tthis._onDragStart(evt, true);\n\t\t\t\t}\n\n\t\t\t\tthis._handleAutoScroll(touch, true);\n\n\n\t\t\t\tmoved = true;\n\t\t\t\ttouchEvt = touch;\n\n\n\t\t\t\t_css(ghostEl, 'webkitTransform', translate3d);\n\t\t\t\t_css(ghostEl, 'mozTransform', translate3d);\n\t\t\t\t_css(ghostEl, 'msTransform', translate3d);\n\t\t\t\t_css(ghostEl, 'transform', translate3d);\n\n\t\t\t\tevt.cancelable && evt.preventDefault();\n\t\t\t}\n\t\t},\n\n\t\t_appendGhost: function () {\n\t\t\tif (!ghostEl) {\n\t\t\t\tvar rect = _getRect(dragEl, this.options.fallbackOnBody ? document.body : rootEl, true),\n\t\t\t\t\tcss = _css(dragEl),\n\t\t\t\t\toptions = this.options;\n\n\t\t\t\tghostEl = dragEl.cloneNode(true);\n\n\t\t\t\t_toggleClass(ghostEl, options.ghostClass, false);\n\t\t\t\t_toggleClass(ghostEl, options.fallbackClass, true);\n\t\t\t\t_toggleClass(ghostEl, options.dragClass, true);\n\n\t\t\t\t_css(ghostEl, 'box-sizing', 'border-box');\n\t\t\t\t_css(ghostEl, 'margin', 0);\n\t\t\t\t_css(ghostEl, 'top', rect.top);\n\t\t\t\t_css(ghostEl, 'left', rect.left);\n\t\t\t\t_css(ghostEl, 'width', rect.width);\n\t\t\t\t_css(ghostEl, 'height', rect.height);\n\t\t\t\t_css(ghostEl, 'opacity', '0.8');\n\t\t\t\t_css(ghostEl, 'position', 'fixed');\n\t\t\t\t_css(ghostEl, 'zIndex', '100000');\n\t\t\t\t_css(ghostEl, 'pointerEvents', 'none');\n\n\t\t\t\toptions.fallbackOnBody && document.body.appendChild(ghostEl) || rootEl.appendChild(ghostEl);\n\t\t\t}\n\t\t},\n\n\t\t_onDragStart: function (/**Event*/evt, /**boolean*/fallback) {\n\t\t\tvar _this = this;\n\t\t\tvar dataTransfer = evt.dataTransfer;\n\t\t\tvar options = _this.options;\n\n\t\t\t// Setup clone\n\t\t\tcloneEl = _clone(dragEl);\n\n\t\t\tcloneEl.draggable = false;\n\t\t\tcloneEl.style['will-change'] = '';\n\n\t\t\tthis._hideClone();\n\n\t\t\t_toggleClass(cloneEl, _this.options.chosenClass, false);\n\n\n\t\t\t// #1143: IFrame support workaround\n\t\t\t_this._cloneId = _nextTick(function () {\n\t\t\t\tif (!_this.options.removeCloneOnHide) {\n\t\t\t\t\trootEl.insertBefore(cloneEl, dragEl);\n\t\t\t\t}\n\t\t\t\t_dispatchEvent(_this, rootEl, 'clone', dragEl);\n\t\t\t});\n\n\n\t\t\t!fallback && _toggleClass(dragEl, options.dragClass, true);\n\n\t\t\t// Set proper drop events\n\t\t\tif (fallback) {\n\t\t\t\tignoreNextClick = true;\n\t\t\t\t_this._loopId = setInterval(_this._emulateDragOver, 50);\n\t\t\t} else {\n\t\t\t\t// Undo what was set in _prepareDragStart before drag started\n\t\t\t\t_off(document, 'mouseup', _this._onDrop);\n\t\t\t\t_off(document, 'touchend', _this._onDrop);\n\t\t\t\t_off(document, 'touchcancel', _this._onDrop);\n\n\t\t\t\tif (dataTransfer) {\n\t\t\t\t\tdataTransfer.effectAllowed = 'move';\n\t\t\t\t\toptions.setData && options.setData.call(_this, dataTransfer, dragEl);\n\t\t\t\t}\n\n\t\t\t\t_on(document, 'drop', _this);\n\n\t\t\t\t// #1276 fix:\n\t\t\t\t_css(dragEl, 'transform', 'translateZ(0)');\n\t\t\t}\n\n\t\t\tawaitingDragStarted = true;\n\n\t\t\t_this._dragStartId = _nextTick(_this._dragStarted.bind(_this, fallback));\n\t\t\t_on(document, 'selectstart', _this);\n\t\t},\n\n\t\t// Returns true - if no further action is needed (either inserted or another condition)\n\t\t_onDragOver: function (/**Event*/evt) {\n\t\t\tvar el = this.el,\n\t\t\t\ttarget = evt.target,\n\t\t\t\tdragRect,\n\t\t\t\ttargetRect,\n\t\t\t\trevert,\n\t\t\t\toptions = this.options,\n\t\t\t\tgroup = options.group,\n\t\t\t\tactiveSortable = Sortable.active,\n\t\t\t\tisOwner = (activeGroup === group),\n\t\t\t\tcanSort = options.sort,\n\t\t\t\t_this = this;\n\n\t\t\tif (_silent) return;\n\n\t\t\t// IE event order fix\n\t\t\tif (IE11OrLess && !evt.rootEl && !evt.artificialBubble && !_isTrueParentSortable(el, target)) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Return invocation when no further action is needed in another sortable\n\t\t\tfunction completed() {\n\t\t\t\tif (activeSortable) {\n\t\t\t\t\t// Set ghost class to new sortable's ghost class\n\t\t\t\t\t_toggleClass(dragEl, putSortable ? putSortable.options.ghostClass : activeSortable.options.ghostClass, false);\n\t\t\t\t\t_toggleClass(dragEl, options.ghostClass, true);\n\t\t\t\t}\n\n\t\t\t\tif (putSortable !== _this && _this !== Sortable.active) {\n\t\t\t\t\tputSortable = _this;\n\t\t\t\t} else if (_this === Sortable.active) {\n\t\t\t\t\tputSortable = null;\n\t\t\t\t}\n\n\n\t\t\t\t// Null lastTarget if it is not inside a previously swapped element\n\t\t\t\tif ((target === dragEl && !dragEl.animated) || (target === el && !target.animated)) {\n\t\t\t\t\tlastTarget = null;\n\t\t\t\t}\n\t\t\t\t// no bubbling and not fallback\n\t\t\t\tif (!options.dragoverBubble && !evt.rootEl && target !== document) {\n\t\t\t\t\t_this._handleAutoScroll(evt);\n\t\t\t\t\tdragEl.parentNode[expando]._computeIsAligned(evt);\n\t\t\t\t}\n\n\t\t\t\t!options.dragoverBubble && evt.stopPropagation && evt.stopPropagation();\n\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\t// Call when dragEl has been inserted\n\t\t\tfunction changed() {\n\t\t\t\t_dispatchEvent(_this, rootEl, 'change', target, el, rootEl, oldIndex, _index(dragEl, options.draggable), evt);\n\t\t\t}\n\n\n\t\t\tif (evt.preventDefault !== void 0) {\n\t\t\t\tevt.cancelable && evt.preventDefault();\n\t\t\t}\n\n\n\t\t\tmoved = true;\n\n\t\t\ttarget = _closest(target, options.draggable, el, true);\n\n\t\t\t// target is dragEl or target is animated\n\t\t\tif (!!_closest(evt.target, null, dragEl, true) || target.animated) {\n\t\t\t\treturn completed();\n\t\t\t}\n\n\t\t\tif (target !== dragEl) {\n\t\t\t\tignoreNextClick = false;\n\t\t\t}\n\n\t\t\tif (activeSortable && !options.disabled &&\n\t\t\t\t(isOwner\n\t\t\t\t\t? canSort || (revert = !rootEl.contains(dragEl)) // Reverting item into the original list\n\t\t\t\t\t: (\n\t\t\t\t\t\tputSortable === this ||\n\t\t\t\t\t\t(\n\t\t\t\t\t\t\t(this.lastPutMode = activeGroup.checkPull(this, activeSortable, dragEl, evt)) &&\n\t\t\t\t\t\t\tgroup.checkPut(this, activeSortable, dragEl, evt)\n\t\t\t\t\t\t)\n\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t) {\n\t\t\t\tvar axis = this._getDirection(evt, target);\n\n\t\t\t\tdragRect = _getRect(dragEl);\n\n\t\t\t\tif (revert) {\n\t\t\t\t\tthis._hideClone();\n\t\t\t\t\tparentEl = rootEl; // actualization\n\n\t\t\t\t\tif (nextEl) {\n\t\t\t\t\t\trootEl.insertBefore(dragEl, nextEl);\n\t\t\t\t\t} else {\n\t\t\t\t\t\trootEl.appendChild(dragEl);\n\t\t\t\t\t}\n\n\t\t\t\t\treturn completed();\n\t\t\t\t}\n\n\t\t\t\tif ((el.children.length === 0) || (el.children[0] === ghostEl) ||\n\t\t\t\t\t_ghostIsLast(evt, axis, el) && !dragEl.animated\n\t\t\t\t) {\n\t\t\t\t\t//assign target only if condition is true\n\t\t\t\t\tif (el.children.length !== 0 && el.children[0] !== ghostEl && el === evt.target) {\n\t\t\t\t\t\ttarget = _lastChild(el);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (target) {\n\t\t\t\t\t\ttargetRect = _getRect(target);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (isOwner) {\n\t\t\t\t\t\tactiveSortable._hideClone();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tactiveSortable._showClone(this);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (_onMove(rootEl, el, dragEl, dragRect, target, targetRect, evt, !!target) !== false) {\n\t\t\t\t\t\tel.appendChild(dragEl);\n\t\t\t\t\t\tparentEl = el; // actualization\n\t\t\t\t\t\trealDragElRect = null;\n\n\t\t\t\t\t\tchanged();\n\t\t\t\t\t\tthis._animate(dragRect, dragEl);\n\t\t\t\t\t\ttarget && this._animate(targetRect, target);\n\t\t\t\t\t\treturn completed();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse if (target && target !== dragEl && target.parentNode === el) {\n\t\t\t\t\tvar direction = 0,\n\t\t\t\t\t\ttargetBeforeFirstSwap,\n\t\t\t\t\t\taligned = target.sortableMouseAligned,\n\t\t\t\t\t\tdifferentLevel = dragEl.parentNode !== el,\n\t\t\t\t\t\tscrolledPastTop = _isScrolledPast(target, axis === 'vertical' ? 'top' : 'left');\n\n\t\t\t\t\tif (lastTarget !== target) {\n\t\t\t\t\t\tlastMode = null;\n\t\t\t\t\t\ttargetBeforeFirstSwap = _getRect(target)[axis === 'vertical' ? 'top' : 'left'];\n\t\t\t\t\t\tpastFirstInvertThresh = false;\n\t\t\t\t\t}\n\n\t\t\t\t\t// Reference: https://www.lucidchart.com/documents/view/10fa0e93-e362-4126-aca2-b709ee56bd8b/0\n\t\t\t\t\tif (\n\t\t\t\t\t\t_isElInRowColumn(dragEl, target, axis) && aligned ||\n\t\t\t\t\t\tdifferentLevel ||\n\t\t\t\t\t\tscrolledPastTop ||\n\t\t\t\t\t\toptions.invertSwap ||\n\t\t\t\t\t\tlastMode === 'insert' ||\n\t\t\t\t\t\t// Needed, in the case that we are inside target and inserted because not aligned... aligned will stay false while inside\n\t\t\t\t\t\t// and lastMode will change to 'insert', but we must swap\n\t\t\t\t\t\tlastMode === 'swap'\n\t\t\t\t\t) {\n\t\t\t\t\t\t// New target that we will be inside\n\t\t\t\t\t\tif (lastMode !== 'swap') {\n\t\t\t\t\t\t\tisCircumstantialInvert = options.invertSwap || differentLevel || scrolling || scrolledPastTop;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tdirection = _getSwapDirection(evt, target, axis,\n\t\t\t\t\t\t\toptions.swapThreshold, options.invertedSwapThreshold == null ? options.swapThreshold : options.invertedSwapThreshold,\n\t\t\t\t\t\t\tisCircumstantialInvert,\n\t\t\t\t\t\t\tlastTarget === target);\n\t\t\t\t\t\tlastMode = 'swap';\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// Insert at position\n\t\t\t\t\t\tdirection = _getInsertDirection(target, options);\n\t\t\t\t\t\tlastMode = 'insert';\n\t\t\t\t\t}\n\t\t\t\t\tif (direction === 0) return completed();\n\n\t\t\t\t\trealDragElRect = null;\n\t\t\t\t\tlastTarget = target;\n\n\t\t\t\t\tlastDirection = direction;\n\n\t\t\t\t\ttargetRect = _getRect(target);\n\n\t\t\t\t\tvar nextSibling = target.nextElementSibling,\n\t\t\t\t\t\tafter = false;\n\n\t\t\t\t\tafter = direction === 1;\n\n\t\t\t\t\tvar moveVector = _onMove(rootEl, el, dragEl, dragRect, target, targetRect, evt, after);\n\n\t\t\t\t\tif (moveVector !== false) {\n\t\t\t\t\t\tif (moveVector === 1 || moveVector === -1) {\n\t\t\t\t\t\t\tafter = (moveVector === 1);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t_silent = true;\n\t\t\t\t\t\tsetTimeout(_unsilent, 30);\n\n\t\t\t\t\t\tif (isOwner) {\n\t\t\t\t\t\t\tactiveSortable._hideClone();\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tactiveSortable._showClone(this);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (after && !nextSibling) {\n\t\t\t\t\t\t\tel.appendChild(dragEl);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\ttarget.parentNode.insertBefore(dragEl, after ? nextSibling : target);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tparentEl = dragEl.parentNode; // actualization\n\n\t\t\t\t\t\t// must be done before animation\n\t\t\t\t\t\tif (targetBeforeFirstSwap !== undefined && !isCircumstantialInvert) {\n\t\t\t\t\t\t\ttargetMoveDistance = abs(targetBeforeFirstSwap - _getRect(target)[axis === 'vertical' ? 'top' : 'left']);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tchanged();\n\t\t\t\t\t\t!differentLevel && this._animate(targetRect, target);\n\t\t\t\t\t\tthis._animate(dragRect, dragEl);\n\n\t\t\t\t\t\treturn completed();\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (el.contains(dragEl)) {\n\t\t\t\t\treturn completed();\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (IE11OrLess && !evt.rootEl) {\n\t\t\t\t_artificalBubble(el, evt, '_onDragOver');\n\t\t\t}\n\n\t\t\treturn false;\n\t\t},\n\n\t\t_animate: function (prevRect, target) {\n\t\t\tvar ms = this.options.animation;\n\n\t\t\tif (ms) {\n\t\t\t\tvar currentRect = _getRect(target);\n\n\t\t\t\tif (target === dragEl) {\n\t\t\t\t\trealDragElRect = currentRect;\n\t\t\t\t}\n\n\t\t\t\tif (prevRect.nodeType === 1) {\n\t\t\t\t\tprevRect = _getRect(prevRect);\n\t\t\t\t}\n\n\t\t\t\t// Check if actually moving position\n\t\t\t\tif ((prevRect.left + prevRect.width / 2) !== (currentRect.left + currentRect.width / 2)\n\t\t\t\t\t|| (prevRect.top + prevRect.height / 2) !== (currentRect.top + currentRect.height / 2)\n\t\t\t\t) {\n\t\t\t\t\tvar matrix = _matrix(this.el),\n\t\t\t\t\t\tscaleX = matrix && matrix.a,\n\t\t\t\t\t\tscaleY = matrix && matrix.d;\n\n\t\t\t\t\t_css(target, 'transition', 'none');\n\t\t\t\t\t_css(target, 'transform', 'translate3d('\n\t\t\t\t\t\t+ (prevRect.left - currentRect.left) / (scaleX ? scaleX : 1) + 'px,'\n\t\t\t\t\t\t+ (prevRect.top - currentRect.top) / (scaleY ? scaleY : 1) + 'px,0)'\n\t\t\t\t\t);\n\n\t\t\t\t\tforRepaintDummy = target.offsetWidth; // repaint\n\t\t\t\t\t_css(target, 'transition', 'transform ' + ms + 'ms' + (this.options.easing ? ' ' + this.options.easing : ''));\n\t\t\t\t\t_css(target, 'transform', 'translate3d(0,0,0)');\n\t\t\t\t}\n\n\t\t\t\t(typeof target.animated === 'number') && clearTimeout(target.animated);\n\t\t\t\ttarget.animated = setTimeout(function () {\n\t\t\t\t\t_css(target, 'transition', '');\n\t\t\t\t\t_css(target, 'transform', '');\n\t\t\t\t\ttarget.animated = false;\n\t\t\t\t}, ms);\n\t\t\t}\n\t\t},\n\n\t\t_offUpEvents: function () {\n\t\t\tvar ownerDocument = this.el.ownerDocument;\n\n\t\t\t_off(document, 'touchmove', this._onTouchMove);\n\t\t\t_off(document, 'pointermove', this._onTouchMove);\n\t\t\t_off(ownerDocument, 'mouseup', this._onDrop);\n\t\t\t_off(ownerDocument, 'touchend', this._onDrop);\n\t\t\t_off(ownerDocument, 'pointerup', this._onDrop);\n\t\t\t_off(ownerDocument, 'touchcancel', this._onDrop);\n\t\t\t_off(document, 'selectstart', this);\n\t\t},\n\n\t\t_onDrop: function (/**Event*/evt) {\n\t\t\tvar el = this.el,\n\t\t\t\toptions = this.options;\n\t\t\tawaitingDragStarted = false;\n\t\t\tscrolling = false;\n\t\t\tisCircumstantialInvert = false;\n\t\t\tpastFirstInvertThresh = false;\n\n\t\t\tclearInterval(this._loopId);\n\n\t\t\tclearInterval(pointerElemChangedInterval);\n\t\t\t_clearAutoScrolls();\n\t\t\t_cancelThrottle();\n\n\t\t\tclearTimeout(this._dragStartTimer);\n\n\t\t\t_cancelNextTick(this._cloneId);\n\t\t\t_cancelNextTick(this._dragStartId);\n\n\t\t\t// Unbind events\n\t\t\t_off(document, 'mousemove', this._onTouchMove);\n\n\n\t\t\tif (this.nativeDraggable) {\n\t\t\t\t_off(document, 'drop', this);\n\t\t\t\t_off(el, 'dragstart', this._onDragStart);\n\t\t\t\t_off(document, 'dragover', this._handleAutoScroll);\n\t\t\t\t_off(document, 'dragover', _checkAlignment);\n\t\t\t}\n\n\t\t\tthis._offUpEvents();\n\n\t\t\tif (evt) {\n\t\t\t\tif (moved) {\n\t\t\t\t\tevt.cancelable && evt.preventDefault();\n\t\t\t\t\t!options.dropBubble && evt.stopPropagation();\n\t\t\t\t}\n\n\t\t\t\tghostEl && ghostEl.parentNode && ghostEl.parentNode.removeChild(ghostEl);\n\n\t\t\t\tif (rootEl === parentEl || (putSortable && putSortable.lastPutMode !== 'clone')) {\n\t\t\t\t\t// Remove clone\n\t\t\t\t\tcloneEl && cloneEl.parentNode && cloneEl.parentNode.removeChild(cloneEl);\n\t\t\t\t}\n\n\t\t\t\tif (dragEl) {\n\t\t\t\t\tif (this.nativeDraggable) {\n\t\t\t\t\t\t_off(dragEl, 'dragend', this);\n\t\t\t\t\t}\n\n\t\t\t\t\t_disableDraggable(dragEl);\n\t\t\t\t\tdragEl.style['will-change'] = '';\n\n\t\t\t\t\t// Remove class's\n\t\t\t\t\t_toggleClass(dragEl, putSortable ? putSortable.options.ghostClass : this.options.ghostClass, false);\n\t\t\t\t\t_toggleClass(dragEl, this.options.chosenClass, false);\n\n\t\t\t\t\t// Drag stop event\n\t\t\t\t\t_dispatchEvent(this, rootEl, 'unchoose', dragEl, parentEl, rootEl, oldIndex, null, evt);\n\n\t\t\t\t\tif (rootEl !== parentEl) {\n\t\t\t\t\t\tnewIndex = _index(dragEl, options.draggable);\n\n\t\t\t\t\t\tif (newIndex >= 0) {\n\t\t\t\t\t\t\t// Add event\n\t\t\t\t\t\t\t_dispatchEvent(null, parentEl, 'add', dragEl, parentEl, rootEl, oldIndex, newIndex, evt);\n\n\t\t\t\t\t\t\t// Remove event\n\t\t\t\t\t\t\t_dispatchEvent(this, rootEl, 'remove', dragEl, parentEl, rootEl, oldIndex, newIndex, evt);\n\n\t\t\t\t\t\t\t// drag from one list and drop into another\n\t\t\t\t\t\t\t_dispatchEvent(null, parentEl, 'sort', dragEl, parentEl, rootEl, oldIndex, newIndex, evt);\n\t\t\t\t\t\t\t_dispatchEvent(this, rootEl, 'sort', dragEl, parentEl, rootEl, oldIndex, newIndex, evt);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tputSortable && putSortable.save();\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tif (dragEl.nextSibling !== nextEl) {\n\t\t\t\t\t\t\t// Get the index of the dragged element within its parent\n\t\t\t\t\t\t\tnewIndex = _index(dragEl, options.draggable);\n\n\t\t\t\t\t\t\tif (newIndex >= 0) {\n\t\t\t\t\t\t\t\t// drag & drop within the same list\n\t\t\t\t\t\t\t\t_dispatchEvent(this, rootEl, 'update', dragEl, parentEl, rootEl, oldIndex, newIndex, evt);\n\t\t\t\t\t\t\t\t_dispatchEvent(this, rootEl, 'sort', dragEl, parentEl, rootEl, oldIndex, newIndex, evt);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif (Sortable.active) {\n\t\t\t\t\t\t/* jshint eqnull:true */\n\t\t\t\t\t\tif (newIndex == null || newIndex === -1) {\n\t\t\t\t\t\t\tnewIndex = oldIndex;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t_dispatchEvent(this, rootEl, 'end', dragEl, parentEl, rootEl, oldIndex, newIndex, evt);\n\n\t\t\t\t\t\t// Save sorting\n\t\t\t\t\t\tthis.save();\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t}\n\t\t\tthis._nulling();\n\t\t},\n\n\t\t_nulling: function() {\n\t\t\trootEl =\n\t\t\tdragEl =\n\t\t\tparentEl =\n\t\t\tghostEl =\n\t\t\tnextEl =\n\t\t\tcloneEl =\n\t\t\tlastDownEl =\n\n\t\t\tscrollEl =\n\t\t\tscrollParentEl =\n\t\t\tautoScrolls.length =\n\n\t\t\tpointerElemChangedInterval =\n\t\t\tlastPointerElemX =\n\t\t\tlastPointerElemY =\n\n\t\t\ttapEvt =\n\t\t\ttouchEvt =\n\n\t\t\tmoved =\n\t\t\tnewIndex =\n\t\t\toldIndex =\n\n\t\t\tlastTarget =\n\t\t\tlastDirection =\n\n\t\t\tforRepaintDummy =\n\t\t\trealDragElRect =\n\n\t\t\tputSortable =\n\t\t\tactiveGroup =\n\t\t\tSortable.active = null;\n\n\t\t\tsavedInputChecked.forEach(function (el) {\n\t\t\t\tel.checked = true;\n\t\t\t});\n\n\t\t\tsavedInputChecked.length = 0;\n\t\t},\n\n\t\thandleEvent: function (/**Event*/evt) {\n\t\t\tswitch (evt.type) {\n\t\t\t\tcase 'drop':\n\t\t\t\tcase 'dragend':\n\t\t\t\t\tthis._onDrop(evt);\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'dragenter':\n\t\t\t\tcase 'dragover':\n\t\t\t\t\tif (dragEl) {\n\t\t\t\t\t\tthis._onDragOver(evt);\n\t\t\t\t\t\t_globalDragOver(evt);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'selectstart':\n\t\t\t\t\tevt.preventDefault();\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t},\n\n\n\t\t/**\n\t\t * Serializes the item into an array of string.\n\t\t * @returns {String[]}\n\t\t */\n\t\ttoArray: function () {\n\t\t\tvar order = [],\n\t\t\t\tel,\n\t\t\t\tchildren = this.el.children,\n\t\t\t\ti = 0,\n\t\t\t\tn = children.length,\n\t\t\t\toptions = this.options;\n\n\t\t\tfor (; i < n; i++) {\n\t\t\t\tel = children[i];\n\t\t\t\tif (_closest(el, options.draggable, this.el, false)) {\n\t\t\t\t\torder.push(el.getAttribute(options.dataIdAttr) || _generateId(el));\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn order;\n\t\t},\n\n\n\t\t/**\n\t\t * Sorts the elements according to the array.\n\t\t * @param  {String[]}  order  order of the items\n\t\t */\n\t\tsort: function (order) {\n\t\t\tvar items = {}, rootEl = this.el;\n\n\t\t\tthis.toArray().forEach(function (id, i) {\n\t\t\t\tvar el = rootEl.children[i];\n\n\t\t\t\tif (_closest(el, this.options.draggable, rootEl, false)) {\n\t\t\t\t\titems[id] = el;\n\t\t\t\t}\n\t\t\t}, this);\n\n\t\t\torder.forEach(function (id) {\n\t\t\t\tif (items[id]) {\n\t\t\t\t\trootEl.removeChild(items[id]);\n\t\t\t\t\trootEl.appendChild(items[id]);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\n\t\t/**\n\t\t * Save the current sorting\n\t\t */\n\t\tsave: function () {\n\t\t\tvar store = this.options.store;\n\t\t\tstore && store.set && store.set(this);\n\t\t},\n\n\n\t\t/**\n\t\t * For each element in the set, get the first element that matches the selector by testing the element itself and traversing up through its ancestors in the DOM tree.\n\t\t * @param   {HTMLElement}  el\n\t\t * @param   {String}       [selector]  default: `options.draggable`\n\t\t * @returns {HTMLElement|null}\n\t\t */\n\t\tclosest: function (el, selector) {\n\t\t\treturn _closest(el, selector || this.options.draggable, this.el, false);\n\t\t},\n\n\n\t\t/**\n\t\t * Set/get option\n\t\t * @param   {string} name\n\t\t * @param   {*}      [value]\n\t\t * @returns {*}\n\t\t */\n\t\toption: function (name, value) {\n\t\t\tvar options = this.options;\n\n\t\t\tif (value === void 0) {\n\t\t\t\treturn options[name];\n\t\t\t} else {\n\t\t\t\toptions[name] = value;\n\n\t\t\t\tif (name === 'group') {\n\t\t\t\t\t_prepareGroup(options);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\n\t\t/**\n\t\t * Destroy\n\t\t */\n\t\tdestroy: function () {\n\t\t\tvar el = this.el;\n\n\t\t\tel[expando] = null;\n\n\t\t\t_off(el, 'mousedown', this._onTapStart);\n\t\t\t_off(el, 'touchstart', this._onTapStart);\n\t\t\t_off(el, 'pointerdown', this._onTapStart);\n\n\t\t\tif (this.nativeDraggable) {\n\t\t\t\t_off(el, 'dragover', this);\n\t\t\t\t_off(el, 'dragenter', this);\n\t\t\t}\n\t\t\t// Remove draggable attributes\n\t\t\tArray.prototype.forEach.call(el.querySelectorAll('[draggable]'), function (el) {\n\t\t\t\tel.removeAttribute('draggable');\n\t\t\t});\n\n\t\t\tthis._onDrop();\n\n\t\t\tsortables.splice(sortables.indexOf(this.el), 1);\n\n\t\t\tthis.el = el = null;\n\t\t},\n\n\t\t_hideClone: function() {\n\t\t\tif (!cloneEl.cloneHidden) {\n\t\t\t\t_css(cloneEl, 'display', 'none');\n\t\t\t\tcloneEl.cloneHidden = true;\n\t\t\t\tif (cloneEl.parentNode && this.options.removeCloneOnHide) {\n\t\t\t\t\tcloneEl.parentNode.removeChild(cloneEl);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t_showClone: function(putSortable) {\n\t\t\tif (putSortable.lastPutMode !== 'clone') {\n\t\t\t\tthis._hideClone();\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (cloneEl.cloneHidden) {\n\t\t\t\t// show clone at dragEl or original position\n\t\t\t\tif (rootEl.contains(dragEl) && !this.options.group.revertClone) {\n\t\t\t\t\trootEl.insertBefore(cloneEl, dragEl);\n\t\t\t\t} else if (nextEl) {\n\t\t\t\t\trootEl.insertBefore(cloneEl, nextEl);\n\t\t\t\t} else {\n\t\t\t\t\trootEl.appendChild(cloneEl);\n\t\t\t\t}\n\n\t\t\t\tif (this.options.group.revertClone) {\n\t\t\t\t\tthis._animate(dragEl, cloneEl);\n\t\t\t\t}\n\t\t\t\t_css(cloneEl, 'display', '');\n\t\t\t\tcloneEl.cloneHidden = false;\n\t\t\t}\n\t\t}\n\t};\n\n\tfunction _closest(/**HTMLElement*/el, /**String*/selector, /**HTMLElement*/ctx, includeCTX) {\n\t\tif (el) {\n\t\t\tctx = ctx || document;\n\n\t\t\tdo {\n\t\t\t\tif (\n\t\t\t\t\tselector != null &&\n\t\t\t\t\t(\n\t\t\t\t\t\tselector[0] === '>' && el.parentNode === ctx && _matches(el, selector.substring(1)) ||\n\t\t\t\t\t\t_matches(el, selector)\n\t\t\t\t\t) ||\n\t\t\t\t\tincludeCTX && el === ctx\n\t\t\t\t) {\n\t\t\t\t\treturn el;\n\t\t\t\t}\n\n\t\t\t\tif (el === ctx) break;\n\t\t\t\t/* jshint boss:true */\n\t\t\t} while (el = _getParentOrHost(el));\n\t\t}\n\n\t\treturn null;\n\t}\n\n\n\tfunction _getParentOrHost(el) {\n\t\treturn (el.host && el !== document && el.host.nodeType)\n\t\t\t? el.host\n\t\t\t: el.parentNode;\n\t}\n\n\n\tfunction _globalDragOver(/**Event*/evt) {\n\t\tif (evt.dataTransfer) {\n\t\t\tevt.dataTransfer.dropEffect = 'move';\n\t\t}\n\t\tevt.cancelable && evt.preventDefault();\n\t}\n\n\n\tfunction _on(el, event, fn) {\n\t\tel.addEventListener(event, fn, captureMode);\n\t}\n\n\n\tfunction _off(el, event, fn) {\n\t\tel.removeEventListener(event, fn, captureMode);\n\t}\n\n\n\tfunction _toggleClass(el, name, state) {\n\t\tif (el && name) {\n\t\t\tif (el.classList) {\n\t\t\t\tel.classList[state ? 'add' : 'remove'](name);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tvar className = (' ' + el.className + ' ').replace(R_SPACE, ' ').replace(' ' + name + ' ', ' ');\n\t\t\t\tel.className = (className + (state ? ' ' + name : '')).replace(R_SPACE, ' ');\n\t\t\t}\n\t\t}\n\t}\n\n\n\tfunction _css(el, prop, val) {\n\t\tvar style = el && el.style;\n\n\t\tif (style) {\n\t\t\tif (val === void 0) {\n\t\t\t\tif (document.defaultView && document.defaultView.getComputedStyle) {\n\t\t\t\t\tval = document.defaultView.getComputedStyle(el, '');\n\t\t\t\t}\n\t\t\t\telse if (el.currentStyle) {\n\t\t\t\t\tval = el.currentStyle;\n\t\t\t\t}\n\n\t\t\t\treturn prop === void 0 ? val : val[prop];\n\t\t\t}\n\t\t\telse {\n\t\t\t\tif (!(prop in style) && prop.indexOf('webkit') === -1) {\n\t\t\t\t\tprop = '-webkit-' + prop;\n\t\t\t\t}\n\n\t\t\t\tstyle[prop] = val + (typeof val === 'string' ? '' : 'px');\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction _matrix(el) {\n\t\tvar appliedTransforms = '';\n\t\tdo {\n\t\t\tvar transform = _css(el, 'transform');\n\n\t\t\tif (transform && transform !== 'none') {\n\t\t\t\tappliedTransforms = transform + ' ' + appliedTransforms;\n\t\t\t}\n\t\t\t/* jshint boss:true */\n\t\t} while (el = el.parentNode);\n\n\t\tif (window.DOMMatrix) {\n\t\t\treturn new DOMMatrix(appliedTransforms);\n\t\t} else if (window.WebKitCSSMatrix) {\n\t\t\treturn new WebKitCSSMatrix(appliedTransforms);\n\t\t} else if (window.CSSMatrix) {\n\t\t\treturn new CSSMatrix(appliedTransforms);\n\t\t}\n\t}\n\n\n\tfunction _find(ctx, tagName, iterator) {\n\t\tif (ctx) {\n\t\t\tvar list = ctx.getElementsByTagName(tagName), i = 0, n = list.length;\n\n\t\t\tif (iterator) {\n\t\t\t\tfor (; i < n; i++) {\n\t\t\t\t\titerator(list[i], i);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn list;\n\t\t}\n\n\t\treturn [];\n\t}\n\n\n\n\tfunction _dispatchEvent(sortable, rootEl, name, targetEl, toEl, fromEl, startIndex, newIndex, originalEvt) {\n\t\tsortable = (sortable || rootEl[expando]);\n\t\tvar evt,\n\t\t\toptions = sortable.options,\n\t\t\tonName = 'on' + name.charAt(0).toUpperCase() + name.substr(1);\n\t\t// Support for new CustomEvent feature\n\t\tif (window.CustomEvent && !IE11OrLess && !Edge) {\n\t\t\tevt = new CustomEvent(name, {\n\t\t\t\tbubbles: true,\n\t\t\t\tcancelable: true\n\t\t\t});\n\t\t} else {\n\t\t\tevt = document.createEvent('Event');\n\t\t\tevt.initEvent(name, true, true);\n\t\t}\n\n\t\tevt.to = toEl || rootEl;\n\t\tevt.from = fromEl || rootEl;\n\t\tevt.item = targetEl || rootEl;\n\t\tevt.clone = cloneEl;\n\n\t\tevt.oldIndex = startIndex;\n\t\tevt.newIndex = newIndex;\n\n\t\tevt.originalEvent = originalEvt;\n\n\t\tif (rootEl) {\n\t\t\trootEl.dispatchEvent(evt);\n\t        }\n\n\t\tif (options[onName]) {\n\t\t\toptions[onName].call(sortable, evt);\n\t\t}\n\t}\n\n\n\tfunction _onMove(fromEl, toEl, dragEl, dragRect, targetEl, targetRect, originalEvt, willInsertAfter) {\n\t\tvar evt,\n\t\t\tsortable = fromEl[expando],\n\t\t\tonMoveFn = sortable.options.onMove,\n\t\t\tretVal;\n\t\t// Support for new CustomEvent feature\n\t\tif (window.CustomEvent && !IE11OrLess && !Edge) {\n\t\t\tevt = new CustomEvent('move', {\n\t\t\t\tbubbles: true,\n\t\t\t\tcancelable: true\n\t\t\t});\n\t\t} else {\n\t\t\tevt = document.createEvent('Event');\n\t\t\tevt.initEvent('move', true, true);\n\t\t}\n\n\t\tevt.to = toEl;\n\t\tevt.from = fromEl;\n\t\tevt.dragged = dragEl;\n\t\tevt.draggedRect = dragRect;\n\t\tevt.related = targetEl || toEl;\n\t\tevt.relatedRect = targetRect || _getRect(toEl);\n\t\tevt.willInsertAfter = willInsertAfter;\n\n\t\tevt.originalEvent = originalEvt;\n\n\t\tfromEl.dispatchEvent(evt);\n\n\t\tif (onMoveFn) {\n\t\t\tretVal = onMoveFn.call(sortable, evt, originalEvt);\n\t\t}\n\n\t\treturn retVal;\n\t}\n\n\tfunction _disableDraggable(el) {\n\t\tel.draggable = false;\n\t}\n\n\tfunction _unsilent() {\n\t\t_silent = false;\n\t}\n\n\t/**\n\t * Gets nth child of el, ignoring hidden children, sortable's elements (does not ignore clone if it's visible)\n\t * and non-draggable elements\n\t * @param  {HTMLElement} el       The parent element\n\t * @param  {Number} childNum      The index of the child\n\t * @param  {Object} options       Parent Sortable's options\n\t * @return {HTMLElement}          The child at index childNum, or null if not found\n\t */\n\tfunction _getChild(el, childNum, options) {\n\t\tvar currentChild = 0,\n\t\t\ti = 0,\n\t\t\tchildren = el.children;\n\n\t\twhile (i < children.length) {\n\t\t\tif (\n\t\t\t\tchildren[i].style.display !== 'none' &&\n\t\t\t\tchildren[i] !== ghostEl &&\n\t\t\t\tchildren[i] !== dragEl &&\n\t\t\t\t_closest(children[i], options.draggable, el, false)\n\t\t\t) {\n\t\t\t\tif (currentChild === childNum) {\n\t\t\t\t\treturn children[i];\n\t\t\t\t}\n\t\t\t\tcurrentChild++;\n\t\t\t}\n\n\t\t\ti++;\n\t\t}\n\t\treturn null;\n\t}\n\n\t/**\n\t * Gets the last child in the el, ignoring ghostEl or invisible elements (clones)\n\t * @param  {HTMLElement} el       Parent element\n\t * @return {HTMLElement}          The last child, ignoring ghostEl\n\t */\n\tfunction _lastChild(el) {\n\t\tvar last = el.lastElementChild;\n\n\t\twhile (last === ghostEl || last.style.display === 'none') {\n\t\t\tlast = last.previousElementSibling;\n\n\t\t\tif (!last) break;\n\t\t}\n\n\t\treturn last || null;\n\t}\n\n\tfunction _ghostIsLast(evt, axis, el) {\n\t\tvar elRect = _getRect(_lastChild(el)),\n\t\t\tmouseOnAxis = axis === 'vertical' ? evt.clientY : evt.clientX,\n\t\t\tmouseOnOppAxis = axis === 'vertical' ? evt.clientX : evt.clientY,\n\t\t\ttargetS2 = axis === 'vertical' ? elRect.bottom : elRect.right,\n\t\t\ttargetS1Opp = axis === 'vertical' ? elRect.left : elRect.top,\n\t\t\ttargetS2Opp = axis === 'vertical' ? elRect.right : elRect.bottom,\n\t\t\tspacer = 10;\n\n\t\treturn (\n\t\t\taxis === 'vertical' ?\n\t\t\t\t(mouseOnOppAxis > targetS2Opp + spacer || mouseOnOppAxis <= targetS2Opp && mouseOnAxis > targetS2 && mouseOnOppAxis >= targetS1Opp) :\n\t\t\t\t(mouseOnAxis > targetS2 && mouseOnOppAxis > targetS1Opp || mouseOnAxis <= targetS2 && mouseOnOppAxis > targetS2Opp + spacer)\n\t\t);\n\t}\n\n\tfunction _getSwapDirection(evt, target, axis, swapThreshold, invertedSwapThreshold, invertSwap, isLastTarget) {\n\t\tvar targetRect = _getRect(target),\n\t\t\tmouseOnAxis = axis === 'vertical' ? evt.clientY : evt.clientX,\n\t\t\ttargetLength = axis === 'vertical' ? targetRect.height : targetRect.width,\n\t\t\ttargetS1 = axis === 'vertical' ? targetRect.top : targetRect.left,\n\t\t\ttargetS2 = axis === 'vertical' ? targetRect.bottom : targetRect.right,\n\t\t\tdragRect = _getRect(dragEl),\n\t\t\tinvert = false;\n\n\n\t\tif (!invertSwap) {\n\t\t\t// Never invert or create dragEl shadow when target movemenet causes mouse to move past the end of regular swapThreshold\n\t\t\tif (isLastTarget && targetMoveDistance < targetLength * swapThreshold) { // multiplied only by swapThreshold because mouse will already be inside target by (1 - threshold) * targetLength / 2\n\t\t\t\t// check if past first invert threshold on side opposite of lastDirection\n\t\t\t\tif (!pastFirstInvertThresh &&\n\t\t\t\t\t(lastDirection === 1 ?\n\t\t\t\t\t\t(\n\t\t\t\t\t\t\tmouseOnAxis > targetS1 + targetLength * invertedSwapThreshold / 2\n\t\t\t\t\t\t) :\n\t\t\t\t\t\t(\n\t\t\t\t\t\t\tmouseOnAxis < targetS2 - targetLength * invertedSwapThreshold / 2\n\t\t\t\t\t\t)\n\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t\t{\n\t\t\t\t\t// past first invert threshold, do not restrict inverted threshold to dragEl shadow\n\t\t\t\t\tpastFirstInvertThresh = true;\n\t\t\t\t}\n\n\t\t\t\tif (!pastFirstInvertThresh) {\n\t\t\t\t\tvar dragS1 = axis === 'vertical' ? dragRect.top : dragRect.left,\n\t\t\t\t\t\tdragS2 = axis === 'vertical' ? dragRect.bottom : dragRect.right;\n\t\t\t\t\t// dragEl shadow (target move distance shadow)\n\t\t\t\t\tif (\n\t\t\t\t\t\tlastDirection === 1 ?\n\t\t\t\t\t\t(\n\t\t\t\t\t\t\tmouseOnAxis < targetS1 + targetMoveDistance // over dragEl shadow\n\t\t\t\t\t\t) :\n\t\t\t\t\t\t(\n\t\t\t\t\t\t\tmouseOnAxis > targetS2 - targetMoveDistance\n\t\t\t\t\t\t)\n\t\t\t\t\t)\n\t\t\t\t\t{\n\t\t\t\t\t\treturn lastDirection * -1;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tinvert = true;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// Regular\n\t\t\t\tif (\n\t\t\t\t\tmouseOnAxis > targetS1 + (targetLength * (1 - swapThreshold) / 2) &&\n\t\t\t\t\tmouseOnAxis < targetS2 - (targetLength * (1 - swapThreshold) / 2)\n\t\t\t\t) {\n\t\t\t\t\treturn ((mouseOnAxis > targetS1 + targetLength / 2) ? -1 : 1);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tinvert = invert || invertSwap;\n\n\t\tif (invert) {\n\t\t\t// Invert of regular\n\t\t\tif (\n\t\t\t\tmouseOnAxis < targetS1 + (targetLength * invertedSwapThreshold / 2) ||\n\t\t\t\tmouseOnAxis > targetS2 - (targetLength * invertedSwapThreshold / 2)\n\t\t\t)\n\t\t\t{\n\t\t\t\treturn ((mouseOnAxis > targetS1 + targetLength / 2) ? 1 : -1);\n\t\t\t}\n\t\t}\n\n\t\treturn 0;\n\t}\n\n\t/**\n\t * Gets the direction dragEl must be swapped relative to target in order to make it\n\t * seem that dragEl has been \"inserted\" into that element's position\n\t * @param  {HTMLElement} target       The target whose position dragEl is being inserted at\n\t * @param  {Object} options           options of the parent sortable\n\t * @return {Number}                   Direction dragEl must be swapped\n\t */\n\tfunction _getInsertDirection(target, options) {\n\t\tvar dragElIndex = _index(dragEl, options.draggable),\n\t\t\ttargetIndex = _index(target, options.draggable);\n\n\t\tif (dragElIndex < targetIndex) {\n\t\t\treturn 1;\n\t\t} else {\n\t\t\treturn -1;\n\t\t}\n\t}\n\n\n\t/**\n\t * Generate id\n\t * @param   {HTMLElement} el\n\t * @returns {String}\n\t * @private\n\t */\n\tfunction _generateId(el) {\n\t\tvar str = el.tagName + el.className + el.src + el.href + el.textContent,\n\t\t\ti = str.length,\n\t\t\tsum = 0;\n\n\t\twhile (i--) {\n\t\t\tsum += str.charCodeAt(i);\n\t\t}\n\n\t\treturn sum.toString(36);\n\t}\n\n\t/**\n\t * Returns the index of an element within its parent for a selected set of\n\t * elements\n\t * @param  {HTMLElement} el\n\t * @param  {selector} selector\n\t * @return {number}\n\t */\n\tfunction _index(el, selector) {\n\t\tvar index = 0;\n\n\t\tif (!el || !el.parentNode) {\n\t\t\treturn -1;\n\t\t}\n\n\t\twhile (el && (el = el.previousElementSibling)) {\n\t\t\tif ((el.nodeName.toUpperCase() !== 'TEMPLATE') && el !== cloneEl) {\n\t\t\t\tindex++;\n\t\t\t}\n\t\t}\n\n\t\treturn index;\n\t}\n\n\tfunction _matches(/**HTMLElement*/el, /**String*/selector) {\n\t\tif (el) {\n\t\t\ttry {\n\t\t\t\tif (el.matches) {\n\t\t\t\t\treturn el.matches(selector);\n\t\t\t\t} else if (el.msMatchesSelector) {\n\t\t\t\t\treturn el.msMatchesSelector(selector);\n\t\t\t\t} else if (el.webkitMatchesSelector) {\n\t\t\t\t\treturn el.webkitMatchesSelector(selector);\n\t\t\t\t}\n\t\t\t} catch(_) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t}\n\n\tvar _throttleTimeout;\n\tfunction _throttle(callback, ms) {\n\t\treturn function () {\n\t\t\tif (!_throttleTimeout) {\n\t\t\t\tvar args = arguments,\n\t\t\t\t\t_this = this;\n\n\t\t\t\t_throttleTimeout = setTimeout(function () {\n\t\t\t\t\tif (args.length === 1) {\n\t\t\t\t\t\tcallback.call(_this, args[0]);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tcallback.apply(_this, args);\n\t\t\t\t\t}\n\n\t\t\t\t\t_throttleTimeout = void 0;\n\t\t\t\t}, ms);\n\t\t\t}\n\t\t};\n\t}\n\n\tfunction _cancelThrottle() {\n\t\tclearTimeout(_throttleTimeout);\n\t\t_throttleTimeout = void 0;\n\t}\n\n\tfunction _extend(dst, src) {\n\t\tif (dst && src) {\n\t\t\tfor (var key in src) {\n\t\t\t\tif (src.hasOwnProperty(key)) {\n\t\t\t\t\tdst[key] = src[key];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn dst;\n\t}\n\n\tfunction _clone(el) {\n\t\tif (Polymer && Polymer.dom) {\n\t\t\treturn Polymer.dom(el).cloneNode(true);\n\t\t}\n\t\telse if ($) {\n\t\t\treturn $(el).clone(true)[0];\n\t\t}\n\t\telse {\n\t\t\treturn el.cloneNode(true);\n\t\t}\n\t}\n\n\tfunction _saveInputCheckedState(root) {\n\t\tsavedInputChecked.length = 0;\n\n\t\tvar inputs = root.getElementsByTagName('input');\n\t\tvar idx = inputs.length;\n\n\t\twhile (idx--) {\n\t\t\tvar el = inputs[idx];\n\t\t\tel.checked && savedInputChecked.push(el);\n\t\t}\n\t}\n\n\tfunction _nextTick(fn) {\n\t\treturn setTimeout(fn, 0);\n\t}\n\n\tfunction _cancelNextTick(id) {\n\t\treturn clearTimeout(id);\n\t}\n\n\n\t/**\n\t * Returns the \"bounding client rect\" of given element\n\t * @param  {HTMLElement} el                The element whose boundingClientRect is wanted\n\t * @param  {[HTMLElement]} container       the parent the element will be placed in\n\t * @param  {[Boolean]} adjustForTransform  Whether the rect should compensate for parent's transform\n\t * (used for fixed positioning on el)\n\t * @return {Object}                        The boundingClientRect of el\n\t */\n\tfunction _getRect(el, container, adjustForTransform) {\n\t\tif (!el.getBoundingClientRect && el !== win) return;\n\n\t\tvar elRect,\n\t\t\ttop,\n\t\t\tleft,\n\t\t\tbottom,\n\t\t\tright,\n\t\t\theight,\n\t\t\twidth;\n\n\t\tif (el !== win) {\n\t\t\telRect = el.getBoundingClientRect();\n\t\t\ttop = elRect.top;\n\t\t\tleft = elRect.left;\n\t\t\tbottom = elRect.bottom;\n\t\t\tright = elRect.right;\n\t\t\theight = elRect.height;\n\t\t\twidth = elRect.width;\n\t\t} else {\n\t\t\ttop = 0;\n\t\t\tleft = 0;\n\t\t\tbottom = window.innerHeight;\n\t\t\tright = window.innerWidth;\n\t\t\theight = window.innerHeight;\n\t\t\twidth = window.innerWidth;\n\t\t}\n\n\t\tif (adjustForTransform && el !== win) {\n\t\t\t// Adjust for translate()\n\t\t\tcontainer = container || el.parentNode;\n\n\t\t\t// solves #1123 (see: https://stackoverflow.com/a/37953806/6088312)\n\t\t\t// Not needed on <= IE11\n\t\t\tif (!IE11OrLess) {\n\t\t\t\tdo {\n\t\t\t\t\tif (container && container.getBoundingClientRect && _css(container, 'transform') !== 'none') {\n\t\t\t\t\t\tvar containerRect = container.getBoundingClientRect();\n\n\t\t\t\t\t\t// Set relative to edges of padding box of container\n\t\t\t\t\t\ttop -= containerRect.top + parseInt(_css(container, 'border-top-width'));\n\t\t\t\t\t\tleft -= containerRect.left + parseInt(_css(container, 'border-left-width'));\n\t\t\t\t\t\tbottom = top + elRect.height;\n\t\t\t\t\t\tright = left + elRect.width;\n\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\t/* jshint boss:true */\n\t\t\t\t} while (container = container.parentNode);\n\t\t\t}\n\n\t\t\t// Adjust for scale()\n\t\t\tvar matrix = _matrix(el),\n\t\t\t\tscaleX = matrix && matrix.a,\n\t\t\t\tscaleY = matrix && matrix.d;\n\n\t\t\tif (matrix) {\n\t\t\t\ttop /= scaleY;\n\t\t\t\tleft /= scaleX;\n\n\t\t\t\twidth /= scaleX;\n\t\t\t\theight /= scaleY;\n\n\t\t\t\tbottom = top + height;\n\t\t\t\tright = left + width;\n\t\t\t}\n\t\t}\n\n\t\treturn {\n\t\t\ttop: top,\n\t\t\tleft: left,\n\t\t\tbottom: bottom,\n\t\t\tright: right,\n\t\t\twidth: width,\n\t\t\theight: height\n\t\t};\n\t}\n\n\n\t/**\n\t * Checks if a side of an element is scrolled past a side of it's parents\n\t * @param  {HTMLElement}  el       The element who's side being scrolled out of view is in question\n\t * @param  {String}       side     Side of the element in question ('top', 'left', 'right', 'bottom')\n\t * @return {Boolean}               Whether the element is overflowing the viewport on the given side of it's parent\n\t */\n\tfunction _isScrolledPast(el, side) {\n\t\tvar parent = _getParentAutoScrollElement(parent, true),\n\t\t\telSide = _getRect(el)[side];\n\n\t\t/* jshint boss:true */\n\t\twhile (parent) {\n\t\t\tvar parentSide = _getRect(parent)[side],\n\t\t\t\tvisible;\n\n\t\t\tif (side === 'top' || side === 'left') {\n\t\t\t\tvisible = elSide >= parentSide;\n\t\t\t} else {\n\t\t\t\tvisible = elSide <= parentSide;\n\t\t\t}\n\n\t\t\tif (!visible) return true;\n\n\t\t\tif (parent === win) break;\n\n\t\t\tparent = _getParentAutoScrollElement(parent, false);\n\t\t}\n\n\t\treturn false;\n\t}\n\n\t// Fixed #973:\n\t_on(document, 'touchmove', function(evt) {\n\t\tif ((Sortable.active || awaitingDragStarted) && evt.cancelable) {\n\t\t\tevt.preventDefault();\n\t\t}\n\t});\n\n\n\t// Export utils\n\tSortable.utils = {\n\t\ton: _on,\n\t\toff: _off,\n\t\tcss: _css,\n\t\tfind: _find,\n\t\tis: function (el, selector) {\n\t\t\treturn !!_closest(el, selector, el, false);\n\t\t},\n\t\textend: _extend,\n\t\tthrottle: _throttle,\n\t\tclosest: _closest,\n\t\ttoggleClass: _toggleClass,\n\t\tclone: _clone,\n\t\tindex: _index,\n\t\tnextTick: _nextTick,\n\t\tcancelNextTick: _cancelNextTick,\n\t\tdetectDirection: _detectDirection,\n\t\tgetChild: _getChild\n\t};\n\n\n\t/**\n\t * Create sortable instance\n\t * @param {HTMLElement}  el\n\t * @param {Object}      [options]\n\t */\n\tSortable.create = function (el, options) {\n\t\treturn new Sortable(el, options);\n\t};\n\n\n\t// Export\n\tSortable.version = '1.8.3';\n\treturn Sortable;\n});\n","'use strict';\n\nfunction _interopDefault (ex) { return (ex && (typeof ex === 'object') && 'default' in ex) ? ex['default'] : ex; }\n\nvar Sortable = _interopDefault(require('sortablejs'));\n\nfunction $(expr, con) {\n    return typeof expr === 'string' ?\n        (con || document).querySelector(expr) :\n        expr || null;\n}\n\n$.each = (expr, con) => {\n    return typeof expr === 'string' ?\n        Array.from((con || document).querySelectorAll(expr)) :\n        expr || null;\n};\n\n$.create = (tag, o) => {\n    let element = document.createElement(tag);\n\n    for (let i in o) {\n        let val = o[i];\n\n        if (i === 'inside') {\n            $(val).appendChild(element);\n        } else\n        if (i === 'around') {\n            let ref = $(val);\n            ref.parentNode.insertBefore(element, ref);\n            element.appendChild(ref);\n        } else\n        if (i === 'styles') {\n            if (typeof val === 'object') {\n                Object.keys(val).map(prop => {\n                    element.style[prop] = val[prop];\n                });\n            }\n        } else\n        if (i in element) {\n            element[i] = val;\n        } else {\n            element.setAttribute(i, val);\n        }\n    }\n\n    return element;\n};\n\n$.on = (element, event, selector, callback) => {\n    if (!callback) {\n        callback = selector;\n        $.bind(element, event, callback);\n    } else {\n        $.delegate(element, event, selector, callback);\n    }\n};\n\n$.off = (element, event, handler) => {\n    element.removeEventListener(event, handler);\n};\n\n$.bind = (element, event, callback) => {\n    event.split(/\\s+/).forEach(function (event) {\n        element.addEventListener(event, callback);\n    });\n};\n\n$.delegate = (element, event, selector, callback) => {\n    element.addEventListener(event, function (e) {\n        const delegatedTarget = e.target.closest(selector);\n        if (delegatedTarget) {\n            e.delegatedTarget = delegatedTarget;\n            callback.call(this, e, delegatedTarget);\n        }\n    });\n};\n\n$.unbind = (element, o) => {\n    if (element) {\n        for (let event in o) {\n            let callback = o[event];\n\n            event.split(/\\s+/).forEach(function (event) {\n                element.removeEventListener(event, callback);\n            });\n        }\n    }\n};\n\n$.fire = (target, type, properties) => {\n    let evt = document.createEvent('HTMLEvents');\n\n    evt.initEvent(type, true, true);\n\n    for (let j in properties) {\n        evt[j] = properties[j];\n    }\n\n    return target.dispatchEvent(evt);\n};\n\n$.data = (element, attrs) => { // eslint-disable-line\n    if (!attrs) {\n        return element.dataset;\n    }\n\n    for (const attr in attrs) {\n        element.dataset[attr] = attrs[attr];\n    }\n};\n\n$.style = (elements, styleMap) => { // eslint-disable-line\n\n    if (typeof styleMap === 'string') {\n        return $.getStyle(elements, styleMap);\n    }\n\n    if (!Array.isArray(elements)) {\n        elements = [elements];\n    }\n\n    elements.map(element => {\n        for (const prop in styleMap) {\n            element.style[prop] = styleMap[prop];\n        }\n    });\n};\n\n$.removeStyle = (elements, styleProps) => {\n    if (!Array.isArray(elements)) {\n        elements = [elements];\n    }\n\n    if (!Array.isArray(styleProps)) {\n        styleProps = [styleProps];\n    }\n\n    elements.map(element => {\n        for (const prop of styleProps) {\n            element.style[prop] = '';\n        }\n    });\n};\n\n$.getStyle = (element, prop) => {\n    if (!prop) {\n        return getComputedStyle(element);\n    }\n\n    let val = getComputedStyle(element)[prop];\n\n    if (['width', 'height'].includes(prop)) {\n        val = parseFloat(val);\n    }\n\n    return val;\n};\n\n$.closest = (selector, element) => {\n    if (!element) return null;\n\n    if (element.matches(selector)) {\n        return element;\n    }\n\n    return $.closest(selector, element.parentNode);\n};\n\n$.inViewport = (el, parentEl) => {\n    const {\n        top,\n        left,\n        bottom,\n        right\n    } = el.getBoundingClientRect();\n    const {\n        top: pTop,\n        left: pLeft,\n        bottom: pBottom,\n        right: pRight\n    } = parentEl.getBoundingClientRect();\n\n    return top >= pTop && left >= pLeft && bottom <= pBottom && right <= pRight;\n};\n\n$.scrollTop = function scrollTop(element, pixels) {\n    requestAnimationFrame(() => {\n        element.scrollTop = pixels;\n    });\n};\n\n$.scrollbarSize = function scrollbarSize() {\n    if (!$.scrollBarSizeValue) {\n        $.scrollBarSizeValue = getScrollBarSize();\n    }\n    return $.scrollBarSizeValue;\n};\n\nfunction getScrollBarSize() {\n    // assume scrollbar width and height would be the same\n\n    // Create the measurement node\n    const scrollDiv = document.createElement('div');\n    $.style(scrollDiv, {\n        width: '100px',\n        height: '100px',\n        overflow: 'scroll',\n        position: 'absolute',\n        top: '-9999px'\n    });\n    document.body.appendChild(scrollDiv);\n\n    // Get the scrollbar width\n    const scrollbarWidth = scrollDiv.offsetWidth - scrollDiv.clientWidth;\n\n    // Delete the DIV\n    document.body.removeChild(scrollDiv);\n\n    return scrollbarWidth;\n}\n\n$.hasVerticalOverflow = function (element) {\n    return element.scrollHeight > element.offsetHeight + 10;\n};\n\n$.hasHorizontalOverflow = function (element) {\n    return element.scrollWidth > element.offsetWidth + 10;\n};\n\n$.measureTextWidth = function (text) {\n    const div = document.createElement('div');\n    div.style.position = 'absolute';\n    div.style.visibility = 'hidden';\n    div.style.height = 'auto';\n    div.style.width = 'auto';\n    div.style.whiteSpace = 'nowrap';\n    div.innerText = text;\n    document.body.appendChild(div);\n    return div.clientWidth + 1;\n};\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\nvar isObject_1 = isObject;\n\nvar commonjsGlobal = typeof window !== 'undefined' ? window : typeof global !== 'undefined' ? global : typeof self !== 'undefined' ? self : {};\n\nfunction commonjsRequire () {\n\tthrow new Error('Dynamic requires are not currently supported by rollup-plugin-commonjs');\n}\n\nfunction unwrapExports (x) {\n\treturn x && x.__esModule && Object.prototype.hasOwnProperty.call(x, 'default') ? x['default'] : x;\n}\n\nfunction createCommonjsModule(fn, module) {\n\treturn module = { exports: {} }, fn(module, module.exports), module.exports;\n}\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof commonjsGlobal == 'object' && commonjsGlobal && commonjsGlobal.Object === Object && commonjsGlobal;\n\nvar _freeGlobal = freeGlobal;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = _freeGlobal || freeSelf || Function('return this')();\n\nvar _root = root;\n\n/**\n * Gets the timestamp of the number of milliseconds that have elapsed since\n * the Unix epoch (1 January 1970 00:00:00 UTC).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Date\n * @returns {number} Returns the timestamp.\n * @example\n *\n * _.defer(function(stamp) {\n *   console.log(_.now() - stamp);\n * }, _.now());\n * // => Logs the number of milliseconds it took for the deferred invocation.\n */\nvar now = function() {\n  return _root.Date.now();\n};\n\nvar now_1 = now;\n\n/** Built-in value references. */\nvar Symbol = _root.Symbol;\n\nvar _Symbol = Symbol;\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar symToStringTag = _Symbol ? _Symbol.toStringTag : undefined;\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\nvar _getRawTag = getRawTag;\n\n/** Used for built-in method references. */\nvar objectProto$1 = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString$1 = objectProto$1.toString;\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString$1.call(value);\n}\n\nvar _objectToString = objectToString;\n\n/** `Object#toString` result references. */\nvar nullTag = '[object Null]',\n    undefinedTag = '[object Undefined]';\n\n/** Built-in value references. */\nvar symToStringTag$1 = _Symbol ? _Symbol.toStringTag : undefined;\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag$1 && symToStringTag$1 in Object(value))\n    ? _getRawTag(value)\n    : _objectToString(value);\n}\n\nvar _baseGetTag = baseGetTag;\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\nvar isObjectLike_1 = isObjectLike;\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike_1(value) && _baseGetTag(value) == symbolTag);\n}\n\nvar isSymbol_1 = isSymbol;\n\n/** Used as references for various `Number` constants. */\nvar NAN = 0 / 0;\n\n/** Used to match leading and trailing whitespace. */\nvar reTrim = /^\\s+|\\s+$/g;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n  if (isSymbol_1(value)) {\n    return NAN;\n  }\n  if (isObject_1(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject_1(other) ? (other + '') : other;\n  }\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n  value = value.replace(reTrim, '');\n  var isBinary = reIsBinary.test(value);\n  return (isBinary || reIsOctal.test(value))\n    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n    : (reIsBadHex.test(value) ? NAN : +value);\n}\n\nvar toNumber_1 = toNumber;\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked. The debounced function comes with a `cancel` method to cancel\n * delayed `func` invocations and a `flush` method to immediately invoke them.\n * Provide `options` to indicate whether `func` should be invoked on the\n * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n * with the last arguments provided to the debounced function. Subsequent\n * calls to the debounced function return the result of the last `func`\n * invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the debounced function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.debounce` and `_.throttle`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0] The number of milliseconds to delay.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=false]\n *  Specify invoking on the leading edge of the timeout.\n * @param {number} [options.maxWait]\n *  The maximum time `func` is allowed to be delayed before it's invoked.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * jQuery(element).on('click', _.debounce(sendMail, 300, {\n *   'leading': true,\n *   'trailing': false\n * }));\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n * var source = new EventSource('/stream');\n * jQuery(source).on('message', debounced);\n *\n * // Cancel the trailing debounced invocation.\n * jQuery(window).on('popstate', debounced.cancel);\n */\nfunction debounce(func, wait, options) {\n  var lastArgs,\n      lastThis,\n      maxWait,\n      result,\n      timerId,\n      lastCallTime,\n      lastInvokeTime = 0,\n      leading = false,\n      maxing = false,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  wait = toNumber_1(wait) || 0;\n  if (isObject_1(options)) {\n    leading = !!options.leading;\n    maxing = 'maxWait' in options;\n    maxWait = maxing ? nativeMax(toNumber_1(options.maxWait) || 0, wait) : maxWait;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  function invokeFunc(time) {\n    var args = lastArgs,\n        thisArg = lastThis;\n\n    lastArgs = lastThis = undefined;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n\n  function leadingEdge(time) {\n    // Reset any `maxWait` timer.\n    lastInvokeTime = time;\n    // Start the timer for the trailing edge.\n    timerId = setTimeout(timerExpired, wait);\n    // Invoke the leading edge.\n    return leading ? invokeFunc(time) : result;\n  }\n\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime,\n        timeWaiting = wait - timeSinceLastCall;\n\n    return maxing\n      ? nativeMin(timeWaiting, maxWait - timeSinceLastInvoke)\n      : timeWaiting;\n  }\n\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime;\n\n    // Either this is the first call, activity has stopped and we're at the\n    // trailing edge, the system time has gone backwards and we're treating\n    // it as the trailing edge, or we've hit the `maxWait` limit.\n    return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n      (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n  }\n\n  function timerExpired() {\n    var time = now_1();\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    }\n    // Restart the timer.\n    timerId = setTimeout(timerExpired, remainingWait(time));\n  }\n\n  function trailingEdge(time) {\n    timerId = undefined;\n\n    // Only invoke if we have `lastArgs` which means `func` has been\n    // debounced at least once.\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n    lastArgs = lastThis = undefined;\n    return result;\n  }\n\n  function cancel() {\n    if (timerId !== undefined) {\n      clearTimeout(timerId);\n    }\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = undefined;\n  }\n\n  function flush() {\n    return timerId === undefined ? result : trailingEdge(now_1());\n  }\n\n  function debounced() {\n    var time = now_1(),\n        isInvoking = shouldInvoke(time);\n\n    lastArgs = arguments;\n    lastThis = this;\n    lastCallTime = time;\n\n    if (isInvoking) {\n      if (timerId === undefined) {\n        return leadingEdge(lastCallTime);\n      }\n      if (maxing) {\n        // Handle invocations in a tight loop.\n        timerId = setTimeout(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n    if (timerId === undefined) {\n      timerId = setTimeout(timerExpired, wait);\n    }\n    return result;\n  }\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  return debounced;\n}\n\nvar debounce_1 = debounce;\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT$1 = 'Expected a function';\n\n/**\n * Creates a throttled function that only invokes `func` at most once per\n * every `wait` milliseconds. The throttled function comes with a `cancel`\n * method to cancel delayed `func` invocations and a `flush` method to\n * immediately invoke them. Provide `options` to indicate whether `func`\n * should be invoked on the leading and/or trailing edge of the `wait`\n * timeout. The `func` is invoked with the last arguments provided to the\n * throttled function. Subsequent calls to the throttled function return the\n * result of the last `func` invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the throttled function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.throttle` and `_.debounce`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to throttle.\n * @param {number} [wait=0] The number of milliseconds to throttle invocations to.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=true]\n *  Specify invoking on the leading edge of the timeout.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new throttled function.\n * @example\n *\n * // Avoid excessively updating the position while scrolling.\n * jQuery(window).on('scroll', _.throttle(updatePosition, 100));\n *\n * // Invoke `renewToken` when the click event is fired, but not more than once every 5 minutes.\n * var throttled = _.throttle(renewToken, 300000, { 'trailing': false });\n * jQuery(element).on('click', throttled);\n *\n * // Cancel the trailing throttled invocation.\n * jQuery(window).on('popstate', throttled.cancel);\n */\nfunction throttle(func, wait, options) {\n  var leading = true,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT$1);\n  }\n  if (isObject_1(options)) {\n    leading = 'leading' in options ? !!options.leading : leading;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n  return debounce_1(func, wait, {\n    'leading': leading,\n    'maxWait': wait,\n    'trailing': trailing\n  });\n}\n\nvar throttle_1 = throttle;\n\n/** `Object#toString` result references. */\nvar asyncTag = '[object AsyncFunction]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    proxyTag = '[object Proxy]';\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  if (!isObject_1(value)) {\n    return false;\n  }\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 9 which returns 'object' for typed arrays and other constructors.\n  var tag = _baseGetTag(value);\n  return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n}\n\nvar isFunction_1 = isFunction;\n\n/** Used to detect overreaching core-js shims. */\nvar coreJsData = _root['__core-js_shared__'];\n\nvar _coreJsData = coreJsData;\n\n/** Used to detect methods masquerading as native. */\nvar maskSrcKey = (function() {\n  var uid = /[^.]+$/.exec(_coreJsData && _coreJsData.keys && _coreJsData.keys.IE_PROTO || '');\n  return uid ? ('Symbol(src)_1.' + uid) : '';\n}());\n\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */\nfunction isMasked(func) {\n  return !!maskSrcKey && (maskSrcKey in func);\n}\n\nvar _isMasked = isMasked;\n\n/** Used for built-in method references. */\nvar funcProto = Function.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to convert.\n * @returns {string} Returns the source code.\n */\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString.call(func);\n    } catch (e) {}\n    try {\n      return (func + '');\n    } catch (e) {}\n  }\n  return '';\n}\n\nvar _toSource = toSource;\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n/** Used to detect host constructors (Safari). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Used for built-in method references. */\nvar funcProto$1 = Function.prototype,\n    objectProto$2 = Object.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString$1 = funcProto$1.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty$1 = objectProto$2.hasOwnProperty;\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  funcToString$1.call(hasOwnProperty$1).replace(reRegExpChar, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */\nfunction baseIsNative(value) {\n  if (!isObject_1(value) || _isMasked(value)) {\n    return false;\n  }\n  var pattern = isFunction_1(value) ? reIsNative : reIsHostCtor;\n  return pattern.test(_toSource(value));\n}\n\nvar _baseIsNative = baseIsNative;\n\n/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n\nvar _getValue = getValue;\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = _getValue(object, key);\n  return _baseIsNative(value) ? value : undefined;\n}\n\nvar _getNative = getNative;\n\n/* Built-in method references that are verified to be native. */\nvar nativeCreate = _getNative(Object, 'create');\n\nvar _nativeCreate = nativeCreate;\n\n/**\n * Removes all key-value entries from the hash.\n *\n * @private\n * @name clear\n * @memberOf Hash\n */\nfunction hashClear() {\n  this.__data__ = _nativeCreate ? _nativeCreate(null) : {};\n  this.size = 0;\n}\n\nvar _hashClear = hashClear;\n\n/**\n * Removes `key` and its value from the hash.\n *\n * @private\n * @name delete\n * @memberOf Hash\n * @param {Object} hash The hash to modify.\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction hashDelete(key) {\n  var result = this.has(key) && delete this.__data__[key];\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\nvar _hashDelete = hashDelete;\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/** Used for built-in method references. */\nvar objectProto$3 = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty$2 = objectProto$3.hasOwnProperty;\n\n/**\n * Gets the hash value for `key`.\n *\n * @private\n * @name get\n * @memberOf Hash\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction hashGet(key) {\n  var data = this.__data__;\n  if (_nativeCreate) {\n    var result = data[key];\n    return result === HASH_UNDEFINED ? undefined : result;\n  }\n  return hasOwnProperty$2.call(data, key) ? data[key] : undefined;\n}\n\nvar _hashGet = hashGet;\n\n/** Used for built-in method references. */\nvar objectProto$4 = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty$3 = objectProto$4.hasOwnProperty;\n\n/**\n * Checks if a hash value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Hash\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction hashHas(key) {\n  var data = this.__data__;\n  return _nativeCreate ? (data[key] !== undefined) : hasOwnProperty$3.call(data, key);\n}\n\nvar _hashHas = hashHas;\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED$1 = '__lodash_hash_undefined__';\n\n/**\n * Sets the hash `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Hash\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the hash instance.\n */\nfunction hashSet(key, value) {\n  var data = this.__data__;\n  this.size += this.has(key) ? 0 : 1;\n  data[key] = (_nativeCreate && value === undefined) ? HASH_UNDEFINED$1 : value;\n  return this;\n}\n\nvar _hashSet = hashSet;\n\n/**\n * Creates a hash object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Hash(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `Hash`.\nHash.prototype.clear = _hashClear;\nHash.prototype['delete'] = _hashDelete;\nHash.prototype.get = _hashGet;\nHash.prototype.has = _hashHas;\nHash.prototype.set = _hashSet;\n\nvar _Hash = Hash;\n\n/**\n * Removes all key-value entries from the list cache.\n *\n * @private\n * @name clear\n * @memberOf ListCache\n */\nfunction listCacheClear() {\n  this.__data__ = [];\n  this.size = 0;\n}\n\nvar _listCacheClear = listCacheClear;\n\n/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\nvar eq_1 = eq;\n\n/**\n * Gets the index at which the `key` is found in `array` of key-value pairs.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} key The key to search for.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction assocIndexOf(array, key) {\n  var length = array.length;\n  while (length--) {\n    if (eq_1(array[length][0], key)) {\n      return length;\n    }\n  }\n  return -1;\n}\n\nvar _assocIndexOf = assocIndexOf;\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype;\n\n/** Built-in value references. */\nvar splice = arrayProto.splice;\n\n/**\n * Removes `key` and its value from the list cache.\n *\n * @private\n * @name delete\n * @memberOf ListCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction listCacheDelete(key) {\n  var data = this.__data__,\n      index = _assocIndexOf(data, key);\n\n  if (index < 0) {\n    return false;\n  }\n  var lastIndex = data.length - 1;\n  if (index == lastIndex) {\n    data.pop();\n  } else {\n    splice.call(data, index, 1);\n  }\n  --this.size;\n  return true;\n}\n\nvar _listCacheDelete = listCacheDelete;\n\n/**\n * Gets the list cache value for `key`.\n *\n * @private\n * @name get\n * @memberOf ListCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction listCacheGet(key) {\n  var data = this.__data__,\n      index = _assocIndexOf(data, key);\n\n  return index < 0 ? undefined : data[index][1];\n}\n\nvar _listCacheGet = listCacheGet;\n\n/**\n * Checks if a list cache value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf ListCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction listCacheHas(key) {\n  return _assocIndexOf(this.__data__, key) > -1;\n}\n\nvar _listCacheHas = listCacheHas;\n\n/**\n * Sets the list cache `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf ListCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the list cache instance.\n */\nfunction listCacheSet(key, value) {\n  var data = this.__data__,\n      index = _assocIndexOf(data, key);\n\n  if (index < 0) {\n    ++this.size;\n    data.push([key, value]);\n  } else {\n    data[index][1] = value;\n  }\n  return this;\n}\n\nvar _listCacheSet = listCacheSet;\n\n/**\n * Creates an list cache object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction ListCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `ListCache`.\nListCache.prototype.clear = _listCacheClear;\nListCache.prototype['delete'] = _listCacheDelete;\nListCache.prototype.get = _listCacheGet;\nListCache.prototype.has = _listCacheHas;\nListCache.prototype.set = _listCacheSet;\n\nvar _ListCache = ListCache;\n\n/* Built-in method references that are verified to be native. */\nvar Map = _getNative(_root, 'Map');\n\nvar _Map = Map;\n\n/**\n * Removes all key-value entries from the map.\n *\n * @private\n * @name clear\n * @memberOf MapCache\n */\nfunction mapCacheClear() {\n  this.size = 0;\n  this.__data__ = {\n    'hash': new _Hash,\n    'map': new (_Map || _ListCache),\n    'string': new _Hash\n  };\n}\n\nvar _mapCacheClear = mapCacheClear;\n\n/**\n * Checks if `value` is suitable for use as unique object key.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n */\nfunction isKeyable(value) {\n  var type = typeof value;\n  return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n    ? (value !== '__proto__')\n    : (value === null);\n}\n\nvar _isKeyable = isKeyable;\n\n/**\n * Gets the data for `map`.\n *\n * @private\n * @param {Object} map The map to query.\n * @param {string} key The reference key.\n * @returns {*} Returns the map data.\n */\nfunction getMapData(map, key) {\n  var data = map.__data__;\n  return _isKeyable(key)\n    ? data[typeof key == 'string' ? 'string' : 'hash']\n    : data.map;\n}\n\nvar _getMapData = getMapData;\n\n/**\n * Removes `key` and its value from the map.\n *\n * @private\n * @name delete\n * @memberOf MapCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction mapCacheDelete(key) {\n  var result = _getMapData(this, key)['delete'](key);\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\nvar _mapCacheDelete = mapCacheDelete;\n\n/**\n * Gets the map value for `key`.\n *\n * @private\n * @name get\n * @memberOf MapCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction mapCacheGet(key) {\n  return _getMapData(this, key).get(key);\n}\n\nvar _mapCacheGet = mapCacheGet;\n\n/**\n * Checks if a map value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf MapCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction mapCacheHas(key) {\n  return _getMapData(this, key).has(key);\n}\n\nvar _mapCacheHas = mapCacheHas;\n\n/**\n * Sets the map `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf MapCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the map cache instance.\n */\nfunction mapCacheSet(key, value) {\n  var data = _getMapData(this, key),\n      size = data.size;\n\n  data.set(key, value);\n  this.size += data.size == size ? 0 : 1;\n  return this;\n}\n\nvar _mapCacheSet = mapCacheSet;\n\n/**\n * Creates a map cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction MapCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `MapCache`.\nMapCache.prototype.clear = _mapCacheClear;\nMapCache.prototype['delete'] = _mapCacheDelete;\nMapCache.prototype.get = _mapCacheGet;\nMapCache.prototype.has = _mapCacheHas;\nMapCache.prototype.set = _mapCacheSet;\n\nvar _MapCache = MapCache;\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED$2 = '__lodash_hash_undefined__';\n\n/**\n * Adds `value` to the array cache.\n *\n * @private\n * @name add\n * @memberOf SetCache\n * @alias push\n * @param {*} value The value to cache.\n * @returns {Object} Returns the cache instance.\n */\nfunction setCacheAdd(value) {\n  this.__data__.set(value, HASH_UNDEFINED$2);\n  return this;\n}\n\nvar _setCacheAdd = setCacheAdd;\n\n/**\n * Checks if `value` is in the array cache.\n *\n * @private\n * @name has\n * @memberOf SetCache\n * @param {*} value The value to search for.\n * @returns {number} Returns `true` if `value` is found, else `false`.\n */\nfunction setCacheHas(value) {\n  return this.__data__.has(value);\n}\n\nvar _setCacheHas = setCacheHas;\n\n/**\n *\n * Creates an array cache object to store unique values.\n *\n * @private\n * @constructor\n * @param {Array} [values] The values to cache.\n */\nfunction SetCache(values) {\n  var index = -1,\n      length = values == null ? 0 : values.length;\n\n  this.__data__ = new _MapCache;\n  while (++index < length) {\n    this.add(values[index]);\n  }\n}\n\n// Add methods to `SetCache`.\nSetCache.prototype.add = SetCache.prototype.push = _setCacheAdd;\nSetCache.prototype.has = _setCacheHas;\n\nvar _SetCache = SetCache;\n\n/**\n * The base implementation of `_.findIndex` and `_.findLastIndex` without\n * support for iteratee shorthands.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {Function} predicate The function invoked per iteration.\n * @param {number} fromIndex The index to search from.\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction baseFindIndex(array, predicate, fromIndex, fromRight) {\n  var length = array.length,\n      index = fromIndex + (fromRight ? 1 : -1);\n\n  while ((fromRight ? index-- : ++index < length)) {\n    if (predicate(array[index], index, array)) {\n      return index;\n    }\n  }\n  return -1;\n}\n\nvar _baseFindIndex = baseFindIndex;\n\n/**\n * The base implementation of `_.isNaN` without support for number objects.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is `NaN`, else `false`.\n */\nfunction baseIsNaN(value) {\n  return value !== value;\n}\n\nvar _baseIsNaN = baseIsNaN;\n\n/**\n * A specialized version of `_.indexOf` which performs strict equality\n * comparisons of values, i.e. `===`.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} value The value to search for.\n * @param {number} fromIndex The index to search from.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction strictIndexOf(array, value, fromIndex) {\n  var index = fromIndex - 1,\n      length = array.length;\n\n  while (++index < length) {\n    if (array[index] === value) {\n      return index;\n    }\n  }\n  return -1;\n}\n\nvar _strictIndexOf = strictIndexOf;\n\n/**\n * The base implementation of `_.indexOf` without `fromIndex` bounds checks.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} value The value to search for.\n * @param {number} fromIndex The index to search from.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction baseIndexOf(array, value, fromIndex) {\n  return value === value\n    ? _strictIndexOf(array, value, fromIndex)\n    : _baseFindIndex(array, _baseIsNaN, fromIndex);\n}\n\nvar _baseIndexOf = baseIndexOf;\n\n/**\n * A specialized version of `_.includes` for arrays without support for\n * specifying an index to search from.\n *\n * @private\n * @param {Array} [array] The array to inspect.\n * @param {*} target The value to search for.\n * @returns {boolean} Returns `true` if `target` is found, else `false`.\n */\nfunction arrayIncludes(array, value) {\n  var length = array == null ? 0 : array.length;\n  return !!length && _baseIndexOf(array, value, 0) > -1;\n}\n\nvar _arrayIncludes = arrayIncludes;\n\n/**\n * This function is like `arrayIncludes` except that it accepts a comparator.\n *\n * @private\n * @param {Array} [array] The array to inspect.\n * @param {*} target The value to search for.\n * @param {Function} comparator The comparator invoked per element.\n * @returns {boolean} Returns `true` if `target` is found, else `false`.\n */\nfunction arrayIncludesWith(array, value, comparator) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    if (comparator(value, array[index])) {\n      return true;\n    }\n  }\n  return false;\n}\n\nvar _arrayIncludesWith = arrayIncludesWith;\n\n/**\n * Checks if a `cache` value for `key` exists.\n *\n * @private\n * @param {Object} cache The cache to query.\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction cacheHas(cache, key) {\n  return cache.has(key);\n}\n\nvar _cacheHas = cacheHas;\n\n/* Built-in method references that are verified to be native. */\nvar Set = _getNative(_root, 'Set');\n\nvar _Set = Set;\n\n/**\n * This method returns `undefined`.\n *\n * @static\n * @memberOf _\n * @since 2.3.0\n * @category Util\n * @example\n *\n * _.times(2, _.noop);\n * // => [undefined, undefined]\n */\nfunction noop() {\n  // No operation performed.\n}\n\nvar noop_1 = noop;\n\n/**\n * Converts `set` to an array of its values.\n *\n * @private\n * @param {Object} set The set to convert.\n * @returns {Array} Returns the values.\n */\nfunction setToArray(set) {\n  var index = -1,\n      result = Array(set.size);\n\n  set.forEach(function(value) {\n    result[++index] = value;\n  });\n  return result;\n}\n\nvar _setToArray = setToArray;\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/**\n * Creates a set object of `values`.\n *\n * @private\n * @param {Array} values The values to add to the set.\n * @returns {Object} Returns the new set.\n */\nvar createSet = !(_Set && (1 / _setToArray(new _Set([,-0]))[1]) == INFINITY) ? noop_1 : function(values) {\n  return new _Set(values);\n};\n\nvar _createSet = createSet;\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/**\n * The base implementation of `_.uniqBy` without support for iteratee shorthands.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {Function} [iteratee] The iteratee invoked per element.\n * @param {Function} [comparator] The comparator invoked per element.\n * @returns {Array} Returns the new duplicate free array.\n */\nfunction baseUniq(array, iteratee, comparator) {\n  var index = -1,\n      includes = _arrayIncludes,\n      length = array.length,\n      isCommon = true,\n      result = [],\n      seen = result;\n\n  if (comparator) {\n    isCommon = false;\n    includes = _arrayIncludesWith;\n  }\n  else if (length >= LARGE_ARRAY_SIZE) {\n    var set = iteratee ? null : _createSet(array);\n    if (set) {\n      return _setToArray(set);\n    }\n    isCommon = false;\n    includes = _cacheHas;\n    seen = new _SetCache;\n  }\n  else {\n    seen = iteratee ? [] : result;\n  }\n  outer:\n  while (++index < length) {\n    var value = array[index],\n        computed = iteratee ? iteratee(value) : value;\n\n    value = (comparator || value !== 0) ? value : 0;\n    if (isCommon && computed === computed) {\n      var seenIndex = seen.length;\n      while (seenIndex--) {\n        if (seen[seenIndex] === computed) {\n          continue outer;\n        }\n      }\n      if (iteratee) {\n        seen.push(computed);\n      }\n      result.push(value);\n    }\n    else if (!includes(seen, computed, comparator)) {\n      if (seen !== result) {\n        seen.push(computed);\n      }\n      result.push(value);\n    }\n  }\n  return result;\n}\n\nvar _baseUniq = baseUniq;\n\n/**\n * Creates a duplicate-free version of an array, using\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons, in which only the first occurrence of each element\n * is kept. The order of result values is determined by the order they occur\n * in the array.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Array\n * @param {Array} array The array to inspect.\n * @returns {Array} Returns the new duplicate free array.\n * @example\n *\n * _.uniq([2, 1, 2]);\n * // => [2, 1]\n */\nfunction uniq(array) {\n  return (array && array.length) ? _baseUniq(array) : [];\n}\n\nvar uniq_1 = uniq;\n\nfunction camelCaseToDash(str) {\n    return str.replace(/([A-Z])/g, (g) => `-${g[0].toLowerCase()}`);\n}\n\nfunction makeDataAttributeString(props) {\n    const keys = Object.keys(props);\n\n    return keys\n        .map((key) => {\n            const _key = camelCaseToDash(key);\n            const val = props[key];\n\n            if (val === undefined) return '';\n            return `data-${_key}=\"${val}\" `;\n        })\n        .join('')\n        .trim();\n}\n\nfunction copyTextToClipboard(text) {\n    // https://stackoverflow.com/a/30810322/5353542\n    var textArea = document.createElement('textarea');\n\n    //\n    // *** This styling is an extra step which is likely not required. ***\n    //\n    // Why is it here? To ensure:\n    // 1. the element is able to have focus and selection.\n    // 2. if element was to flash render it has minimal visual impact.\n    // 3. less flakyness with selection and copying which **might** occur if\n    //    the textarea element is not visible.\n    //\n    // The likelihood is the element won't even render, not even a flash,\n    // so some of these are just precautions. However in IE the element\n    // is visible whilst the popup box asking the user for permission for\n    // the web page to copy to the clipboard.\n    //\n\n    // Place in top-left corner of screen regardless of scroll position.\n    textArea.style.position = 'fixed';\n    textArea.style.top = 0;\n    textArea.style.left = 0;\n\n    // Ensure it has a small width and height. Setting to 1px / 1em\n    // doesn't work as this gives a negative w/h on some browsers.\n    textArea.style.width = '2em';\n    textArea.style.height = '2em';\n\n    // We don't need padding, reducing the size if it does flash render.\n    textArea.style.padding = 0;\n\n    // Clean up any borders.\n    textArea.style.border = 'none';\n    textArea.style.outline = 'none';\n    textArea.style.boxShadow = 'none';\n\n    // Avoid flash of white box if rendered for any reason.\n    textArea.style.background = 'transparent';\n\n    textArea.value = text;\n\n    document.body.appendChild(textArea);\n\n    textArea.select();\n\n    try {\n        document.execCommand('copy');\n    } catch (err) {\n        console.log('Oops, unable to copy');\n    }\n\n    document.body.removeChild(textArea);\n}\n\nfunction isNumeric(val) {\n    return !isNaN(val);\n}\n\nlet throttle$1 = throttle_1;\n\nlet debounce$1 = debounce_1;\n\nfunction nextTick(fn, context = null) {\n    return (...args) => {\n        return new Promise(resolve => {\n            const execute = () => {\n                const out = fn.apply(context, args);\n                resolve(out);\n            };\n            setTimeout(execute);\n        });\n    };\n}\nfunction linkProperties(target, source, properties) {\n    const props = properties.reduce((acc, prop) => {\n        acc[prop] = {\n            get() {\n                return source[prop];\n            }\n        };\n        return acc;\n    }, {});\n    Object.defineProperties(target, props);\n}\nfunction isSet(val) {\n    return val !== undefined || val !== null;\n}\n\nfunction notSet(val) {\n    return !isSet(val);\n}\n\nfunction isNumber(val) {\n    return !isNaN(val);\n}\n\nfunction ensureArray(val) {\n    if (!Array.isArray(val)) {\n        return [val];\n    }\n    return val;\n}\n\nfunction uniq$1(arr) {\n    return uniq_1(arr);\n}\n\nfunction numberSortAsc(a, b) {\n    return a - b;\n}\nfunction stripHTML(html) {\n    return html.replace(/<[^>]*>/g, '');\n}\nfunction format(str, args) {\n    if (!str) return str;\n\n    Object.keys(args).forEach(arg => {\n        let regex = new RegExp(`{(${arg})}`, 'g');\n        str = str.replace(regex, args[arg]);\n    });\n\n    return str;\n}\n\nclass DataManager {\n    constructor(options) {\n        this.options = options;\n        this.sortRows = nextTick(this.sortRows, this);\n        this.switchColumn = nextTick(this.switchColumn, this);\n        this.removeColumn = nextTick(this.removeColumn, this);\n        this.options.filterRows = nextTick(this.options.filterRows, this);\n    }\n\n    init(data, columns) {\n        if (!data) {\n            data = this.options.data;\n        }\n        if (columns) {\n            this.options.columns = columns;\n        }\n\n        this.data = data;\n\n        this.rowCount = 0;\n        this.columns = [];\n        this.rows = [];\n\n        this.prepareColumns();\n        this.prepareRows();\n        this.prepareTreeRows();\n        this.prepareRowView();\n        this.prepareNumericColumns();\n    }\n\n    // computed property\n    get currentSort() {\n        const col = this.columns.find(col => col.sortOrder !== 'none');\n        return col || {\n            colIndex: -1,\n            sortOrder: 'none'\n        };\n    }\n\n    prepareColumns() {\n        this.columns = [];\n        this.validateColumns();\n        this.prepareDefaultColumns();\n        this.prepareHeader();\n    }\n\n    prepareDefaultColumns() {\n        if (this.options.checkboxColumn && !this.hasColumnById('_checkbox')) {\n            const cell = {\n                id: '_checkbox',\n                content: this.getCheckboxHTML(),\n                editable: false,\n                resizable: false,\n                sortable: false,\n                focusable: false,\n                dropdown: false,\n                width: 32\n            };\n            this.columns.push(cell);\n        }\n\n        if (this.options.serialNoColumn && !this.hasColumnById('_rowIndex')) {\n            let cell = {\n                id: '_rowIndex',\n                content: '',\n                align: 'center',\n                editable: false,\n                resizable: false,\n                focusable: false,\n                dropdown: false\n            };\n\n            this.columns.push(cell);\n        }\n    }\n\n    prepareHeader() {\n        let columns = this.columns.concat(this.options.columns);\n        const baseCell = {\n            isHeader: 1,\n            editable: true,\n            sortable: true,\n            resizable: true,\n            focusable: true,\n            dropdown: true,\n            width: null,\n            format: (value) => {\n                if (value === null || value === undefined) {\n                    return '';\n                }\n                return value + '';\n            }\n        };\n\n        this.columns = columns\n            .map((cell, i) => this.prepareCell(cell, i))\n            .map(col => Object.assign({}, baseCell, col))\n            .map(col => {\n                col.content = col.content || col.name || '';\n                col.id = col.id || col.content;\n                return col;\n            });\n    }\n\n    prepareCell(content, i) {\n        const cell = {\n            content: '',\n            sortOrder: 'none',\n            colIndex: i,\n            column: this.columns[i]\n        };\n\n        if (content !== null && typeof content === 'object') {\n            // passed as column/header\n            Object.assign(cell, content);\n        } else {\n            cell.content = content;\n        }\n\n        return cell;\n    }\n\n    prepareNumericColumns() {\n        const row0 = this.getRow(0);\n        if (!row0) return;\n        this.columns = this.columns.map((column, i) => {\n\n            const cellValue = row0[i].content;\n            if (!column.align && isNumeric(cellValue)) {\n                column.align = 'right';\n            }\n\n            return column;\n        });\n    }\n\n    prepareRows() {\n        this.validateData(this.data);\n\n        this.rows = this.data.map((d, i) => {\n            const index = this._getNextRowCount();\n\n            let row = [];\n            let meta = {\n                rowIndex: index\n            };\n\n            if (Array.isArray(d)) {\n                // row is an array\n                if (this.options.checkboxColumn) {\n                    row.push(this.getCheckboxHTML());\n                }\n                if (this.options.serialNoColumn) {\n                    row.push((index + 1) + '');\n                }\n                row = row.concat(d);\n\n                while (row.length < this.columns.length) {\n                    row.push('');\n                }\n\n            } else {\n                // row is an object\n                for (let col of this.columns) {\n                    if (col.id === '_checkbox') {\n                        row.push(this.getCheckboxHTML());\n                    } else if (col.id === '_rowIndex') {\n                        row.push((index + 1) + '');\n                    } else {\n                        row.push(d[col.id]);\n                    }\n                }\n\n                meta.indent = d.indent || 0;\n            }\n\n            return this.prepareRow(row, meta);\n        });\n    }\n\n    prepareTreeRows() {\n        this.rows.forEach((row, i) => {\n            if (isNumber(row.meta.indent)) {\n                // if (i === 36) debugger;\n                const nextRow = this.getRow(i + 1);\n                row.meta.isLeaf = !nextRow ||\n                    notSet(nextRow.meta.indent) ||\n                    nextRow.meta.indent <= row.meta.indent;\n                row.meta.isTreeNodeClose = false;\n            }\n        });\n    }\n\n    prepareRowView() {\n        // This is order in which rows will be rendered in the table.\n        // When sorting happens, only this.rowViewOrder will change\n        // and not the original this.rows\n        this.rowViewOrder = this.rows.map(row => row.meta.rowIndex);\n    }\n\n    prepareRow(row, meta) {\n        const baseRowCell = {\n            rowIndex: meta.rowIndex,\n            indent: meta.indent\n        };\n\n        row = row\n            .map((cell, i) => this.prepareCell(cell, i))\n            .map(cell => Object.assign({}, baseRowCell, cell));\n\n        // monkey patched in array object\n        row.meta = meta;\n        return row;\n    }\n\n    validateColumns() {\n        const columns = this.options.columns;\n        if (!Array.isArray(columns)) {\n            throw new DataError('`columns` must be an array');\n        }\n\n        columns.forEach((column, i) => {\n            if (typeof column !== 'string' && typeof column !== 'object') {\n                throw new DataError(`column \"${i}\" must be a string or an object`);\n            }\n        });\n    }\n\n    validateData(data) {\n        if (Array.isArray(data) &&\n            (data.length === 0 || Array.isArray(data[0]) || typeof data[0] === 'object')) {\n            return true;\n        }\n        throw new DataError('`data` must be an array of arrays or objects');\n    }\n\n    appendRows(rows) {\n        this.validateData(rows);\n\n        this.rows.push(...this.prepareRows(rows));\n    }\n\n    sortRows(colIndex, sortOrder = 'none') {\n        colIndex = +colIndex;\n\n        // reset sortOrder and update for colIndex\n        this.getColumns()\n            .map(col => {\n                if (col.colIndex === colIndex) {\n                    col.sortOrder = sortOrder;\n                } else {\n                    col.sortOrder = 'none';\n                }\n            });\n\n        this._sortRows(colIndex, sortOrder);\n    }\n\n    _sortRows(colIndex, sortOrder) {\n\n        if (this.currentSort.colIndex === colIndex) {\n            // reverse the array if only sortOrder changed\n            if (\n                (this.currentSort.sortOrder === 'asc' && sortOrder === 'desc') ||\n                (this.currentSort.sortOrder === 'desc' && sortOrder === 'asc')\n            ) {\n                this.reverseArray(this.rowViewOrder);\n                this.currentSort.sortOrder = sortOrder;\n                return;\n            }\n        }\n\n        this.rowViewOrder.sort((a, b) => {\n            const aIndex = a;\n            const bIndex = b;\n\n            let aContent = this.getCell(colIndex, a).content;\n            let bContent = this.getCell(colIndex, b).content;\n            aContent = aContent == null ? '' : aContent;\n            bContent = bContent == null ? '' : bContent;\n\n            if (sortOrder === 'none') {\n                return aIndex - bIndex;\n            } else if (sortOrder === 'asc') {\n                if (aContent < bContent) return -1;\n                if (aContent > bContent) return 1;\n                if (aContent === bContent) return 0;\n            } else if (sortOrder === 'desc') {\n                if (aContent < bContent) return 1;\n                if (aContent > bContent) return -1;\n                if (aContent === bContent) return 0;\n            }\n            return 0;\n        });\n\n        if (this.hasColumnById('_rowIndex')) {\n            // update row index\n            const srNoColIndex = this.getColumnIndexById('_rowIndex');\n            this.rows.forEach((row, index) => {\n                const viewIndex = this.rowViewOrder.indexOf(index);\n                const cell = row[srNoColIndex];\n                cell.content = (viewIndex + 1) + '';\n            });\n        }\n    }\n\n    reverseArray(array) {\n        let left = null;\n        let right = null;\n        let length = array.length;\n\n        for (left = 0, right = length - 1; left < right; left += 1, right -= 1) {\n            const temporary = array[left];\n\n            array[left] = array[right];\n            array[right] = temporary;\n        }\n    }\n\n    switchColumn(index1, index2) {\n        // update columns\n        const temp = this.columns[index1];\n        this.columns[index1] = this.columns[index2];\n        this.columns[index2] = temp;\n\n        this.columns[index1].colIndex = index1;\n        this.columns[index2].colIndex = index2;\n\n        // update rows\n        this.rows.forEach(row => {\n            const newCell1 = Object.assign({}, row[index1], {\n                colIndex: index2\n            });\n            const newCell2 = Object.assign({}, row[index2], {\n                colIndex: index1\n            });\n\n            row[index2] = newCell1;\n            row[index1] = newCell2;\n        });\n    }\n\n    removeColumn(index) {\n        index = +index;\n        const filter = cell => cell.colIndex !== index;\n        const map = (cell, i) => Object.assign({}, cell, {\n            colIndex: i\n        });\n        // update columns\n        this.columns = this.columns\n            .filter(filter)\n            .map(map);\n\n        // update rows\n        this.rows.forEach(row => {\n            // remove cell\n            row.splice(index, 1);\n            // update colIndex\n            row.forEach((cell, i) => {\n                cell.colIndex = i;\n            });\n        });\n    }\n\n    updateRow(row, rowIndex) {\n        if (row.length < this.columns.length) {\n            if (this.hasColumnById('_rowIndex')) {\n                const val = (rowIndex + 1) + '';\n\n                row = [val].concat(row);\n            }\n\n            if (this.hasColumnById('_checkbox')) {\n                const val = '<input type=\"checkbox\" />';\n\n                row = [val].concat(row);\n            }\n        }\n\n        const _row = this.prepareRow(row, {rowIndex});\n        const index = this.rows.findIndex(row => row[0].rowIndex === rowIndex);\n        this.rows[index] = _row;\n\n        return _row;\n    }\n\n    updateCell(colIndex, rowIndex, options) {\n        let cell;\n        if (typeof colIndex === 'object') {\n            // cell object was passed,\n            // must have colIndex, rowIndex\n            cell = colIndex;\n            colIndex = cell.colIndex;\n            rowIndex = cell.rowIndex;\n            // the object passed must be merged with original cell\n            options = cell;\n        }\n        cell = this.getCell(colIndex, rowIndex);\n\n        // mutate object directly\n        for (let key in options) {\n            const newVal = options[key];\n            if (newVal !== undefined) {\n                cell[key] = newVal;\n            }\n        }\n\n        return cell;\n    }\n\n    updateColumn(colIndex, keyValPairs) {\n        const column = this.getColumn(colIndex);\n        for (let key in keyValPairs) {\n            const newVal = keyValPairs[key];\n            if (newVal !== undefined) {\n                column[key] = newVal;\n            }\n        }\n        return column;\n    }\n\n    filterRows(filters) {\n        return this.options.filterRows(this.rows, filters)\n            .then(result => {\n                if (!result) {\n                    result = this.getAllRowIndices();\n                }\n\n                if (!result.then) {\n                    result = Promise.resolve(result);\n                }\n\n                return result.then(rowsToShow => {\n                    this._filteredRows = rowsToShow;\n\n                    const rowsToHide = this.getAllRowIndices()\n                        .filter(index => !rowsToShow.includes(index));\n\n                    return {\n                        rowsToHide,\n                        rowsToShow\n                    };\n                });\n            });\n    }\n\n    getFilteredRowIndices() {\n        return this._filteredRows || this.getAllRowIndices();\n    }\n\n    getAllRowIndices() {\n        return this.rows.map(row => row.meta.rowIndex);\n    }\n\n    getRowCount() {\n        return this.rowCount;\n    }\n\n    _getNextRowCount() {\n        const val = this.rowCount;\n\n        this.rowCount++;\n        return val;\n    }\n\n    getRows(start, end) {\n        return this.rows.slice(start, end);\n    }\n\n    getRowsForView(start, end) {\n        const rows = this.rowViewOrder.map(i => this.rows[i]);\n        return rows.slice(start, end);\n    }\n\n    getColumns(skipStandardColumns) {\n        let columns = this.columns;\n\n        if (skipStandardColumns) {\n            columns = columns.slice(this.getStandardColumnCount());\n        }\n\n        return columns;\n    }\n\n    getStandardColumnCount() {\n        if (this.options.checkboxColumn && this.options.serialNoColumn) {\n            return 2;\n        }\n\n        if (this.options.checkboxColumn || this.options.serialNoColumn) {\n            return 1;\n        }\n\n        return 0;\n    }\n\n    getColumnCount(skipStandardColumns) {\n        let val = this.columns.length;\n\n        if (skipStandardColumns) {\n            val = val - this.getStandardColumnCount();\n        }\n\n        return val;\n    }\n\n    getColumn(colIndex) {\n        colIndex = +colIndex;\n\n        if (colIndex < 0) {\n            // negative indexes\n            colIndex = this.columns.length + colIndex;\n        }\n\n        return this.columns.find(col => col.colIndex === colIndex);\n    }\n\n    getColumnById(id) {\n        return this.columns.find(col => col.id === id);\n    }\n\n    getRow(rowIndex) {\n        rowIndex = +rowIndex;\n        return this.rows[rowIndex];\n    }\n\n    getCell(colIndex, rowIndex) {\n        rowIndex = +rowIndex;\n        colIndex = +colIndex;\n        return this.getRow(rowIndex)[colIndex];\n    }\n\n    getChildren(parentRowIndex) {\n        parentRowIndex = +parentRowIndex;\n        const parentIndent = this.getRow(parentRowIndex).meta.indent;\n        const out = [];\n\n        for (let i = parentRowIndex + 1; i < this.rowCount; i++) {\n            const row = this.getRow(i);\n            if (isNaN(row.meta.indent)) continue;\n\n            if (row.meta.indent > parentIndent) {\n                out.push(i);\n            }\n\n            if (row.meta.indent === parentIndent) {\n                break;\n            }\n        }\n\n        return out;\n    }\n\n    getImmediateChildren(parentRowIndex) {\n        parentRowIndex = +parentRowIndex;\n        const parentIndent = this.getRow(parentRowIndex).meta.indent;\n        const out = [];\n        const childIndent = parentIndent + 1;\n\n        for (let i = parentRowIndex + 1; i < this.rowCount; i++) {\n            const row = this.getRow(i);\n            if (isNaN(row.meta.indent) || row.meta.indent > childIndent) continue;\n\n            if (row.meta.indent === childIndent) {\n                out.push(i);\n            }\n\n            if (row.meta.indent === parentIndent) {\n                break;\n            }\n        }\n\n        return out;\n    }\n\n    get() {\n        return {\n            columns: this.columns,\n            rows: this.rows\n        };\n    }\n\n    /**\n     * Returns the original data which was passed\n     * based on rowIndex\n     * @param {Number} rowIndex\n     * @returns Array|Object\n     * @memberof DataManager\n     */\n    getData(rowIndex) {\n        return this.data[rowIndex];\n    }\n\n    hasColumn(name) {\n        return Boolean(this.columns.find(col => col.content === name));\n    }\n\n    hasColumnById(id) {\n        return Boolean(this.columns.find(col => col.id === id));\n    }\n\n    getColumnIndex(name) {\n        return this.columns.findIndex(col => col.content === name);\n    }\n\n    getColumnIndexById(id) {\n        return this.columns.findIndex(col => col.id === id);\n    }\n\n    getCheckboxHTML() {\n        return '<input type=\"checkbox\" />';\n    }\n}\n\n// Custom Errors\nclass DataError extends TypeError {}\n\n/* eslint-disable max-len */\n\n// Icons from https://feathericons.com/\n\nlet icons = {\n    chevronDown: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"feather feather-chevron-down\"><polyline points=\"6 9 12 15 18 9\"></polyline></svg>',\n    chevronRight: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"feather feather-chevron-right\"><polyline points=\"9 18 15 12 9 6\"></polyline></svg>'\n};\n\nclass CellManager {\n    constructor(instance) {\n        this.instance = instance;\n        linkProperties(this, this.instance, [\n            'wrapper',\n            'options',\n            'style',\n            'header',\n            'bodyScrollable',\n            'columnmanager',\n            'rowmanager',\n            'datamanager',\n            'keyboard'\n        ]);\n\n        this.bindEvents();\n    }\n\n    bindEvents() {\n        this.bindFocusCell();\n        this.bindEditCell();\n        this.bindKeyboardSelection();\n        this.bindCopyCellContents();\n        this.bindMouseEvents();\n        this.bindTreeEvents();\n    }\n\n    bindFocusCell() {\n        this.bindKeyboardNav();\n    }\n\n    bindEditCell() {\n        this.$editingCell = null;\n\n        $.on(this.bodyScrollable, 'dblclick', '.dt-cell', (e, cell) => {\n            this.activateEditing(cell);\n        });\n\n        this.keyboard.on('enter', () => {\n            if (this.$focusedCell && !this.$editingCell) {\n                // enter keypress on focused cell\n                this.activateEditing(this.$focusedCell);\n            } else if (this.$editingCell) {\n                // enter keypress on editing cell\n                this.deactivateEditing();\n            }\n        });\n    }\n\n    bindKeyboardNav() {\n        const focusLastCell = (direction) => {\n            if (!this.$focusedCell || this.$editingCell) {\n                return false;\n            }\n\n            let $cell = this.$focusedCell;\n            const {\n                rowIndex,\n                colIndex\n            } = $.data($cell);\n\n            if (direction === 'left') {\n                $cell = this.getLeftMostCell$(rowIndex);\n            } else if (direction === 'right') {\n                $cell = this.getRightMostCell$(rowIndex);\n            } else if (direction === 'up') {\n                $cell = this.getTopMostCell$(colIndex);\n            } else if (direction === 'down') {\n                $cell = this.getBottomMostCell$(colIndex);\n            }\n\n            this.focusCell($cell);\n            return true;\n        };\n\n        ['left', 'right', 'up', 'down', 'tab', 'shift+tab']\n            .map(direction => this.keyboard.on(direction, () => this.focusCellInDirection(direction)));\n\n        ['left', 'right', 'up', 'down']\n            .map(direction => this.keyboard.on(`ctrl+${direction}`, () => focusLastCell(direction)));\n\n        this.keyboard.on('esc', () => {\n            this.deactivateEditing(false);\n            this.columnmanager.toggleFilter(false);\n        });\n\n        if (this.options.inlineFilters) {\n            this.keyboard.on('ctrl+f', (e) => {\n                const $cell = $.closest('.dt-cell', e.target);\n                const { colIndex } = $.data($cell);\n\n                this.activateFilter(colIndex);\n                return true;\n            });\n\n            $.on(this.header, 'focusin', '.dt-filter', () => {\n                this.unfocusCell(this.$focusedCell);\n            });\n        }\n    }\n\n    bindKeyboardSelection() {\n        const getNextSelectionCursor = (direction) => {\n            let $selectionCursor = this.getSelectionCursor();\n\n            if (direction === 'left') {\n                $selectionCursor = this.getLeftCell$($selectionCursor);\n            } else if (direction === 'right') {\n                $selectionCursor = this.getRightCell$($selectionCursor);\n            } else if (direction === 'up') {\n                $selectionCursor = this.getAboveCell$($selectionCursor);\n            } else if (direction === 'down') {\n                $selectionCursor = this.getBelowCell$($selectionCursor);\n            }\n\n            return $selectionCursor;\n        };\n\n        ['left', 'right', 'up', 'down']\n            .map(direction =>\n                this.keyboard.on(`shift+${direction}`, () => this.selectArea(getNextSelectionCursor(direction))));\n    }\n\n    bindCopyCellContents() {\n        this.keyboard.on('ctrl+c', () => {\n            const noOfCellsCopied = this.copyCellContents(this.$focusedCell, this.$selectionCursor);\n            const message = this.instance.translate('{count} cells copied', {\n                count: noOfCellsCopied\n            });\n\n            if (noOfCellsCopied) {\n                this.instance.showToastMessage(message, 2);\n            }\n        });\n\n        if (this.options.pasteFromClipboard) {\n            this.keyboard.on('ctrl+v', (e) => {\n                // hack\n                // https://stackoverflow.com/a/2177059/5353542\n                this.instance.pasteTarget.focus();\n\n                setTimeout(() => {\n                    const data = this.instance.pasteTarget.value;\n                    this.instance.pasteTarget.value = '';\n                    this.pasteContentInCell(data);\n                }, 10);\n\n                return false;\n            });\n        }\n    }\n\n    bindMouseEvents() {\n        let mouseDown = null;\n\n        $.on(this.bodyScrollable, 'mousedown', '.dt-cell', (e) => {\n            mouseDown = true;\n            this.focusCell($(e.delegatedTarget));\n        });\n\n        $.on(this.bodyScrollable, 'mouseup', () => {\n            mouseDown = false;\n        });\n\n        const selectArea = (e) => {\n            if (!mouseDown) return;\n            this.selectArea($(e.delegatedTarget));\n        };\n\n        $.on(this.bodyScrollable, 'mousemove', '.dt-cell', throttle$1(selectArea, 50));\n    }\n\n    bindTreeEvents() {\n        $.on(this.bodyScrollable, 'click', '.dt-tree-node__toggle', (e, $toggle) => {\n            const $cell = $.closest('.dt-cell', $toggle);\n            const { rowIndex } = $.data($cell);\n\n            if ($cell.classList.contains('dt-cell--tree-close')) {\n                this.rowmanager.openSingleNode(rowIndex);\n            } else {\n                this.rowmanager.closeSingleNode(rowIndex);\n            }\n        });\n    }\n\n    focusCell($cell, {\n        skipClearSelection = 0,\n        skipDOMFocus = 0,\n        skipScrollToCell = 0\n    } = {}) {\n        if (!$cell) return;\n\n        // don't focus if already editing cell\n        if ($cell === this.$editingCell) return;\n\n        const {\n            colIndex,\n            isHeader\n        } = $.data($cell);\n        if (isHeader) {\n            return;\n        }\n\n        const column = this.columnmanager.getColumn(colIndex);\n        if (column.focusable === false) {\n            return;\n        }\n\n        if (!skipScrollToCell) {\n            this.scrollToCell($cell);\n        }\n\n        this.deactivateEditing();\n        if (!skipClearSelection) {\n            this.clearSelection();\n        }\n\n        if (this.$focusedCell) {\n            this.$focusedCell.classList.remove('dt-cell--focus');\n        }\n\n        this.$focusedCell = $cell;\n        $cell.classList.add('dt-cell--focus');\n\n        if (!skipDOMFocus) {\n            // so that keyboard nav works\n            $cell.focus();\n        }\n\n        this.highlightRowColumnHeader($cell);\n    }\n\n    unfocusCell($cell) {\n        if (!$cell) return;\n\n        // remove cell border\n        $cell.classList.remove('dt-cell--focus');\n        this.$focusedCell = null;\n\n        // reset header background\n        if (this.lastHeaders) {\n            this.lastHeaders.forEach(header => header && header.classList.remove('dt-cell--highlight'));\n        }\n    }\n\n    highlightRowColumnHeader($cell) {\n        const {\n            colIndex,\n            rowIndex\n        } = $.data($cell);\n\n        const srNoColIndex = this.datamanager.getColumnIndexById('_rowIndex');\n        const colHeaderSelector = `.dt-cell--header-${colIndex}`;\n        const rowHeaderSelector = `.dt-cell--${srNoColIndex}-${rowIndex}`;\n\n        if (this.lastHeaders) {\n            this.lastHeaders.forEach(header => header && header.classList.remove('dt-cell--highlight'));\n        }\n\n        const colHeader = $(colHeaderSelector, this.wrapper);\n        const rowHeader = $(rowHeaderSelector, this.wrapper);\n\n        this.lastHeaders = [colHeader, rowHeader];\n        this.lastHeaders.forEach(header => header && header.classList.add('dt-cell--highlight'));\n    }\n\n    selectAreaOnClusterChanged() {\n        if (!(this.$focusedCell && this.$selectionCursor)) return;\n        const {\n            colIndex,\n            rowIndex\n        } = $.data(this.$selectionCursor);\n        const $cell = this.getCell$(colIndex, rowIndex);\n\n        if (!$cell || $cell === this.$selectionCursor) return;\n\n        // selectArea needs $focusedCell\n        const fCell = $.data(this.$focusedCell);\n        this.$focusedCell = this.getCell$(fCell.colIndex, fCell.rowIndex);\n\n        this.selectArea($cell);\n    }\n\n    focusCellOnClusterChanged() {\n        if (!this.$focusedCell) return;\n\n        const {\n            colIndex,\n            rowIndex\n        } = $.data(this.$focusedCell);\n        const $cell = this.getCell$(colIndex, rowIndex);\n\n        if (!$cell) return;\n        // this function is called after hyperlist renders the rows after scroll,\n        // focusCell calls clearSelection which resets the area selection\n        // so a flag to skip it\n        // we also skip DOM focus and scroll to cell\n        // because it fights with the user scroll\n        this.focusCell($cell, {\n            skipClearSelection: 1,\n            skipDOMFocus: 1,\n            skipScrollToCell: 1\n        });\n    }\n\n    selectArea($selectionCursor) {\n        if (!this.$focusedCell) return;\n\n        if (this._selectArea(this.$focusedCell, $selectionCursor)) {\n            // valid selection\n            this.$selectionCursor = $selectionCursor;\n        }\n    }\n\n    _selectArea($cell1, $cell2) {\n        if ($cell1 === $cell2) return false;\n\n        const cells = this.getCellsInRange($cell1, $cell2);\n        if (!cells) return false;\n\n        this.clearSelection();\n        this._selectedCells = cells.map(index => this.getCell$(...index));\n        requestAnimationFrame(() => {\n            this._selectedCells.map($cell => $cell.classList.add('dt-cell--highlight'));\n        });\n        return true;\n    }\n\n    getCellsInRange($cell1, $cell2) {\n        let colIndex1, rowIndex1, colIndex2, rowIndex2;\n\n        if (typeof $cell1 === 'number') {\n            [colIndex1, rowIndex1, colIndex2, rowIndex2] = arguments;\n        } else\n        if (typeof $cell1 === 'object') {\n            if (!($cell1 && $cell2)) {\n                return false;\n            }\n\n            const cell1 = $.data($cell1);\n            const cell2 = $.data($cell2);\n\n            colIndex1 = +cell1.colIndex;\n            rowIndex1 = +cell1.rowIndex;\n            colIndex2 = +cell2.colIndex;\n            rowIndex2 = +cell2.rowIndex;\n        }\n\n        if (rowIndex1 > rowIndex2) {\n            [rowIndex1, rowIndex2] = [rowIndex2, rowIndex1];\n        }\n\n        if (colIndex1 > colIndex2) {\n            [colIndex1, colIndex2] = [colIndex2, colIndex1];\n        }\n\n        if (this.isStandardCell(colIndex1) || this.isStandardCell(colIndex2)) {\n            return false;\n        }\n\n        const cells = [];\n        let colIndex = colIndex1;\n        let rowIndex = rowIndex1;\n        const rowIndices = [];\n\n        while (rowIndex <= rowIndex2) {\n            rowIndices.push(rowIndex);\n            rowIndex += 1;\n        }\n\n        rowIndices.map((rowIndex) => {\n            while (colIndex <= colIndex2) {\n                cells.push([colIndex, rowIndex]);\n                colIndex++;\n            }\n            colIndex = colIndex1;\n        });\n\n        return cells;\n    }\n\n    clearSelection() {\n        (this._selectedCells || [])\n            .forEach($cell => $cell.classList.remove('dt-cell--highlight'));\n\n        this._selectedCells = [];\n        this.$selectionCursor = null;\n    }\n\n    getSelectionCursor() {\n        return this.$selectionCursor || this.$focusedCell;\n    }\n\n    activateEditing($cell) {\n        this.focusCell($cell);\n        const {\n            rowIndex,\n            colIndex\n        } = $.data($cell);\n\n        const col = this.columnmanager.getColumn(colIndex);\n        if (col && (col.editable === false || col.focusable === false)) {\n            return;\n        }\n\n        const cell = this.getCell(colIndex, rowIndex);\n        if (cell && cell.editable === false) {\n            return;\n        }\n\n        if (this.$editingCell) {\n            const {\n                _rowIndex,\n                _colIndex\n            } = $.data(this.$editingCell);\n\n            if (rowIndex === _rowIndex && colIndex === _colIndex) {\n                // editing the same cell\n                return;\n            }\n        }\n\n        this.$editingCell = $cell;\n        $cell.classList.add('dt-cell--editing');\n\n        const $editCell = $('.dt-cell__edit', $cell);\n        $editCell.innerHTML = '';\n\n        const editor = this.getEditor(colIndex, rowIndex, cell.content, $editCell);\n\n        if (editor) {\n            this.currentCellEditor = editor;\n            // initialize editing input with cell value\n            editor.initValue(cell.content, rowIndex, col);\n        }\n    }\n\n    deactivateEditing(submitValue = true) {\n        if (submitValue) {\n            this.submitEditing();\n        }\n        // keep focus on the cell so that keyboard navigation works\n        if (this.$focusedCell) this.$focusedCell.focus();\n\n        if (!this.$editingCell) return;\n        this.$editingCell.classList.remove('dt-cell--editing');\n        this.$editingCell = null;\n    }\n\n    getEditor(colIndex, rowIndex, value, parent) {\n        const column = this.datamanager.getColumn(colIndex);\n        const row = this.datamanager.getRow(rowIndex);\n        const data = this.datamanager.getData(rowIndex);\n        let editor = this.options.getEditor ?\n            this.options.getEditor(colIndex, rowIndex, value, parent, column, row, data) :\n            this.getDefaultEditor(parent);\n\n        if (editor === false) {\n            // explicitly returned false\n            return false;\n        }\n        if (editor === undefined) {\n            // didn't return editor, fallback to default\n            editor = this.getDefaultEditor(parent);\n        }\n\n        return editor;\n    }\n\n    getDefaultEditor(parent) {\n        const $input = $.create('input', {\n            class: 'dt-input',\n            type: 'text',\n            inside: parent\n        });\n\n        return {\n            initValue(value) {\n                $input.focus();\n                $input.value = value;\n            },\n            getValue() {\n                return $input.value;\n            },\n            setValue(value) {\n                $input.value = value;\n            }\n        };\n    }\n\n    submitEditing() {\n        let promise = Promise.resolve();\n        if (!this.$editingCell) return promise;\n\n        const $cell = this.$editingCell;\n        const {\n            rowIndex,\n            colIndex\n        } = $.data($cell);\n        const col = this.datamanager.getColumn(colIndex);\n\n        if ($cell) {\n            const editor = this.currentCellEditor;\n\n            if (editor) {\n                let valuePromise = editor.getValue();\n\n                // convert to stubbed Promise\n                if (!valuePromise.then) {\n                    valuePromise = Promise.resolve(valuePromise);\n                }\n\n                promise = valuePromise.then((value) => {\n                    const oldValue = this.getCell(colIndex, rowIndex).content;\n\n                    if (oldValue === value) return false;\n\n                    const done = editor.setValue(value, rowIndex, col);\n\n                    // update cell immediately\n                    this.updateCell(colIndex, rowIndex, value);\n                    $cell.focus();\n\n                    if (done && done.then) {\n                        // revert to oldValue if promise fails\n                        done.catch((e) => {\n                            console.log(e);\n                            this.updateCell(colIndex, rowIndex, oldValue);\n                        });\n                    }\n                    return done;\n                });\n            }\n        }\n\n        this.currentCellEditor = null;\n        return promise;\n    }\n\n    copyCellContents($cell1, $cell2) {\n        if (!$cell2 && $cell1) {\n            // copy only focusedCell\n            const {\n                colIndex,\n                rowIndex\n            } = $.data($cell1);\n            const cell = this.getCell(colIndex, rowIndex);\n            copyTextToClipboard(cell.content);\n            return 1;\n        }\n        const cells = this.getCellsInRange($cell1, $cell2);\n\n        if (!cells) return 0;\n\n        const rows = cells\n            // get cell objects\n            .map(index => this.getCell(...index))\n            // convert to array of rows\n            .reduce((acc, curr) => {\n                const rowIndex = curr.rowIndex;\n\n                acc[rowIndex] = acc[rowIndex] || [];\n                acc[rowIndex].push(curr.content);\n\n                return acc;\n            }, []);\n\n        const values = rows\n            // join values by tab\n            .map(row => row.join('\\t'))\n            // join rows by newline\n            .join('\\n');\n\n        copyTextToClipboard(values);\n\n        // return no of cells copied\n        return rows.reduce((total, row) => total + row.length, 0);\n    }\n\n    pasteContentInCell(data) {\n        if (!this.$focusedCell) return;\n\n        const matrix = data\n            .split('\\n')\n            .map(row => row.split('\\t'))\n            .filter(row => row.length && row.every(it => it));\n\n        let { colIndex, rowIndex } = $.data(this.$focusedCell);\n\n        let focusedCell = {\n            colIndex: +colIndex,\n            rowIndex: +rowIndex\n        };\n\n        matrix.forEach((row, i) => {\n            let rowIndex = i + focusedCell.rowIndex;\n            row.forEach((cell, j) => {\n                let colIndex = j + focusedCell.colIndex;\n                this.updateCell(colIndex, rowIndex, cell);\n            });\n        });\n    }\n\n    activateFilter(colIndex) {\n        this.columnmanager.toggleFilter();\n        this.columnmanager.focusFilter(colIndex);\n\n        if (!this.columnmanager.isFilterShown) {\n            // put focus back on cell\n            this.$focusedCell && this.$focusedCell.focus();\n        }\n    }\n\n    updateCell(colIndex, rowIndex, value) {\n        const cell = this.datamanager.updateCell(colIndex, rowIndex, {\n            content: value\n        });\n        this.refreshCell(cell);\n    }\n\n    refreshCell(cell) {\n        const $cell = $(this.selector(cell.colIndex, cell.rowIndex), this.bodyScrollable);\n        $cell.innerHTML = this.getCellContent(cell);\n    }\n\n    toggleTreeButton(rowIndex, flag) {\n        const colIndex = this.columnmanager.getFirstColumnIndex();\n        const $cell = this.getCell$(colIndex, rowIndex);\n        if ($cell) {\n            $cell.classList[flag ? 'remove' : 'add']('dt-cell--tree-close');\n        }\n    }\n\n    isStandardCell(colIndex) {\n        // Standard cells are in Sr. No and Checkbox column\n        return colIndex < this.columnmanager.getFirstColumnIndex();\n    }\n\n    focusCellInDirection(direction) {\n        if (!this.$focusedCell || (this.$editingCell && ['left', 'right', 'up', 'down'].includes(direction))) {\n            return false;\n        } else if (this.$editingCell && ['tab', 'shift+tab'].includes(direction)) {\n            this.deactivateEditing();\n        }\n\n        let $cell = this.$focusedCell;\n\n        if (direction === 'left' || direction === 'shift+tab') {\n            $cell = this.getLeftCell$($cell);\n        } else if (direction === 'right' || direction === 'tab') {\n            $cell = this.getRightCell$($cell);\n        } else if (direction === 'up') {\n            $cell = this.getAboveCell$($cell);\n        } else if (direction === 'down') {\n            $cell = this.getBelowCell$($cell);\n        }\n\n        if (!$cell) {\n            return false;\n        }\n\n        const {\n            colIndex\n        } = $.data($cell);\n        const column = this.columnmanager.getColumn(colIndex);\n\n        if (!column.focusable) {\n            let $prevFocusedCell = this.$focusedCell;\n            this.unfocusCell($prevFocusedCell);\n            this.$focusedCell = $cell;\n            let ret = this.focusCellInDirection(direction);\n            if (!ret) {\n                this.focusCell($prevFocusedCell);\n            }\n            return ret;\n        }\n\n        this.focusCell($cell);\n        return true;\n    }\n\n    getCell$(colIndex, rowIndex) {\n        return $(this.selector(colIndex, rowIndex), this.bodyScrollable);\n    }\n\n    getAboveCell$($cell) {\n        const {\n            colIndex\n        } = $.data($cell);\n\n        let $aboveRow = $cell.parentElement.previousElementSibling;\n        while ($aboveRow && $aboveRow.classList.contains('dt-row--hide')) {\n            $aboveRow = $aboveRow.previousElementSibling;\n        }\n\n        if (!$aboveRow) return $cell;\n        return $(`.dt-cell--col-${colIndex}`, $aboveRow);\n    }\n\n    getBelowCell$($cell) {\n        const {\n            colIndex\n        } = $.data($cell);\n\n        let $belowRow = $cell.parentElement.nextElementSibling;\n        while ($belowRow && $belowRow.classList.contains('dt-row--hide')) {\n            $belowRow = $belowRow.nextElementSibling;\n        }\n\n        if (!$belowRow) return $cell;\n        return $(`.dt-cell--col-${colIndex}`, $belowRow);\n    }\n\n    getLeftCell$($cell) {\n        return $cell.previousElementSibling;\n    }\n\n    getRightCell$($cell) {\n        return $cell.nextElementSibling;\n    }\n\n    getLeftMostCell$(rowIndex) {\n        return this.getCell$(this.columnmanager.getFirstColumnIndex(), rowIndex);\n    }\n\n    getRightMostCell$(rowIndex) {\n        return this.getCell$(this.columnmanager.getLastColumnIndex(), rowIndex);\n    }\n\n    getTopMostCell$(colIndex) {\n        return this.getCell$(colIndex, this.rowmanager.getFirstRowIndex());\n    }\n\n    getBottomMostCell$(colIndex) {\n        return this.getCell$(colIndex, this.rowmanager.getLastRowIndex());\n    }\n\n    getCell(colIndex, rowIndex) {\n        return this.instance.datamanager.getCell(colIndex, rowIndex);\n    }\n\n    getRowHeight() {\n        return $.style($('.dt-row', this.bodyScrollable), 'height');\n    }\n\n    scrollToCell($cell) {\n        if ($.inViewport($cell, this.bodyScrollable)) return false;\n\n        const {\n            rowIndex\n        } = $.data($cell);\n        this.rowmanager.scrollToRow(rowIndex);\n        return false;\n    }\n\n    getRowCountPerPage() {\n        return Math.ceil(this.instance.getViewportHeight() / this.getRowHeight());\n    }\n\n    getCellHTML(cell) {\n        const {\n            rowIndex,\n            colIndex,\n            isHeader,\n            isFilter,\n            isTotalRow\n        } = cell;\n        const dataAttr = makeDataAttributeString({\n            rowIndex,\n            colIndex,\n            isHeader,\n            isFilter,\n            isTotalRow\n        });\n\n        const row = this.datamanager.getRow(rowIndex);\n\n        const isBodyCell = !(isHeader || isFilter || isTotalRow);\n\n        const className = [\n            'dt-cell',\n            'dt-cell--col-' + colIndex,\n            isBodyCell ? `dt-cell--${colIndex}-${rowIndex}` : '',\n            isBodyCell ? 'dt-cell--row-' + rowIndex : '',\n            isHeader ? 'dt-cell--header' : '',\n            isHeader ? `dt-cell--header-${colIndex}` : '',\n            isFilter ? 'dt-cell--filter' : '',\n            isBodyCell && (row && row.meta.isTreeNodeClose) ? 'dt-cell--tree-close' : ''\n        ].join(' ');\n\n        return `\n            <div class=\"${className}\" ${dataAttr} tabindex=\"0\">\n                ${this.getCellContent(cell)}\n            </div>\n        `;\n    }\n\n    getCellContent(cell) {\n        const {\n            isHeader,\n            isFilter,\n            colIndex\n        } = cell;\n\n        const editable = !isHeader && cell.editable !== false;\n        const editCellHTML = editable ? this.getEditCellHTML(colIndex) : '';\n\n        const sortable = isHeader && cell.sortable !== false;\n        const sortIndicator = sortable ?\n            `<span class=\"sort-indicator\">\n                ${this.options.sortIndicator[cell.sortOrder]}\n            </span>` :\n            '';\n\n        const resizable = isHeader && cell.resizable !== false;\n        const resizeColumn = resizable ? '<span class=\"dt-cell__resize-handle\"></span>' : '';\n\n        const hasDropdown = isHeader && cell.dropdown !== false;\n        const dropdown = hasDropdown ? this.columnmanager.getDropdownHTML() : '';\n\n        const customFormatter = cell.format || (cell.column && cell.column.format) || null;\n\n        let contentHTML;\n        if (isHeader || isFilter || !customFormatter) {\n            contentHTML = cell.content;\n        } else {\n            const row = this.datamanager.getRow(cell.rowIndex);\n            const data = this.datamanager.getData(cell.rowIndex);\n            contentHTML = customFormatter(cell.content, row, cell.column, data);\n        }\n\n        cell.html = contentHTML;\n\n        if (this.options.treeView && !(isHeader || isFilter) && cell.indent !== undefined) {\n            const nextRow = this.datamanager.getRow(cell.rowIndex + 1);\n            const addToggle = nextRow && nextRow.meta.indent > cell.indent;\n            const leftPadding = 20;\n            const unit = 'px';\n\n            // Add toggle and indent in the first column\n            const firstColumnIndex = this.datamanager.getColumnIndexById('_rowIndex') + 1;\n            if (firstColumnIndex === cell.colIndex) {\n                const padding = ((cell.indent || 0)) * leftPadding;\n                const toggleHTML = addToggle ?\n                    `<span class=\"dt-tree-node__toggle\" style=\"left: ${padding - leftPadding}${unit}\">\n                        <span class=\"icon-open\">${icons.chevronDown}</span>\n                        <span class=\"icon-close\">${icons.chevronRight}</span>\n                    </span>` : '';\n                contentHTML = `<span class=\"dt-tree-node\" style=\"padding-left: ${padding}${unit}\">\n                    ${toggleHTML}\n                    <span>${contentHTML}</span>\n                </span>`;\n            }\n        }\n\n        const className = [\n            'dt-cell__content',\n            isHeader ? `dt-cell__content--header-${colIndex}` : `dt-cell__content--col-${colIndex}`\n        ].join(' ');\n\n        return `\n            <div class=\"${className}\">\n                ${contentHTML}\n                ${sortIndicator}\n                ${resizeColumn}\n                ${dropdown}\n            </div>\n            ${editCellHTML}\n        `;\n    }\n\n    getEditCellHTML(colIndex) {\n        return `<div class=\"dt-cell__edit dt-cell__edit--col-${colIndex}\"></div>`;\n    }\n\n    selector(colIndex, rowIndex) {\n        return `.dt-cell--${colIndex}-${rowIndex}`;\n    }\n}\n\nclass ColumnManager {\n    constructor(instance) {\n        this.instance = instance;\n\n        linkProperties(this, this.instance, [\n            'options',\n            'fireEvent',\n            'header',\n            'datamanager',\n            'cellmanager',\n            'style',\n            'wrapper',\n            'rowmanager',\n            'bodyScrollable',\n            'bodyRenderer'\n        ]);\n\n        this.bindEvents();\n    }\n\n    renderHeader() {\n        this.header.innerHTML = '<div></div>';\n        this.refreshHeader();\n    }\n\n    refreshHeader() {\n        const columns = this.datamanager.getColumns();\n\n        // refresh html\n        $('div', this.header).innerHTML = this.getHeaderHTML(columns);\n\n        this.$filterRow = $('.dt-row-filter', this.header);\n        if (this.$filterRow) {\n            $.style(this.$filterRow, { display: 'none' });\n        }\n        // reset columnMap\n        this.$columnMap = [];\n        this.bindMoveColumn();\n    }\n\n    getHeaderHTML(columns) {\n        let html = this.rowmanager.getRowHTML(columns, {\n            isHeader: 1\n        });\n        if (this.options.inlineFilters) {\n            html += this.rowmanager.getRowHTML(columns, {\n                isFilter: 1\n            });\n        }\n        return html;\n    }\n\n    bindEvents() {\n        this.bindDropdown();\n        this.bindResizeColumn();\n        this.bindPerfectColumnWidth();\n        this.bindFilter();\n    }\n\n    bindDropdown() {\n        let toggleClass = '.dt-dropdown__toggle';\n        let dropdownClass = '.dt-dropdown__list';\n\n        // attach the dropdown list to container\n        this.instance.dropdownContainer.innerHTML = this.getDropdownListHTML();\n        this.$dropdownList = this.instance.dropdownContainer.firstElementChild;\n\n        $.on(this.header, 'click', toggleClass, e => {\n            this.openDropdown(e);\n        });\n\n        const deactivateDropdownOnBodyClick = (e) => {\n            const selector = [\n                toggleClass, toggleClass + ' *',\n                dropdownClass, dropdownClass + ' *'\n            ].join(',');\n            if (e.target.matches(selector)) return;\n            deactivateDropdown();\n        };\n        $.on(document.body, 'click', deactivateDropdownOnBodyClick);\n        document.addEventListener('scroll', deactivateDropdown, true);\n\n        this.instance.on('onDestroy', () => {\n            $.off(document.body, 'click', deactivateDropdownOnBodyClick);\n            $.off(document, 'scroll', deactivateDropdown);\n        });\n\n        $.on(this.$dropdownList, 'click', '.dt-dropdown__list-item', (e, $item) => {\n            if (!this._dropdownActiveColIndex) return;\n            const dropdownItems = this.options.headerDropdown;\n            const { index } = $.data($item);\n            const colIndex = this._dropdownActiveColIndex;\n            let callback = dropdownItems[index].action;\n\n            callback && callback.call(this.instance, this.getColumn(colIndex));\n            this.hideDropdown();\n        });\n\n        const _this = this;\n        function deactivateDropdown(e) {\n            _this.hideDropdown();\n        }\n\n        this.hideDropdown();\n    }\n\n    openDropdown(e) {\n        if (!this._dropdownWidth) {\n            $.style(this.$dropdownList, { display: '' });\n            this._dropdownWidth = $.style(this.$dropdownList, 'width');\n        }\n        $.style(this.$dropdownList, {\n            display: '',\n            left: (e.clientX - this._dropdownWidth + 4) + 'px',\n            top: (e.clientY + 4) + 'px'\n        });\n        const $cell = $.closest('.dt-cell', e.target);\n        const { colIndex } = $.data($cell);\n        this._dropdownActiveColIndex = colIndex;\n    }\n\n    hideDropdown() {\n        $.style(this.$dropdownList, {\n            display: 'none'\n        });\n        this._dropdownActiveColIndex = null;\n    }\n\n    bindResizeColumn() {\n        let isDragging = false;\n        let $resizingCell, startWidth, startX;\n\n        $.on(this.header, 'mousedown', '.dt-cell .dt-cell__resize-handle', (e, $handle) => {\n            document.body.classList.add('dt-resize');\n            const $cell = $handle.parentNode.parentNode;\n            $resizingCell = $cell;\n            const {\n                colIndex\n            } = $.data($resizingCell);\n            const col = this.getColumn(colIndex);\n\n            if (col && col.resizable === false) {\n                return;\n            }\n\n            isDragging = true;\n            startWidth = $.style($('.dt-cell__content', $resizingCell), 'width');\n            startX = e.pageX;\n        });\n\n        const onMouseup = (e) => {\n            document.body.classList.remove('dt-resize');\n            if (!$resizingCell) return;\n            isDragging = false;\n\n            const {\n                colIndex\n            } = $.data($resizingCell);\n            this.setColumnWidth(colIndex);\n            this.style.setBodyStyle();\n            $resizingCell = null;\n        };\n        $.on(document.body, 'mouseup', onMouseup);\n        this.instance.on('onDestroy', () => {\n            $.off(document.body, 'mouseup', onMouseup);\n        });\n\n        const onMouseMove = (e) => {\n            if (!isDragging) return;\n            let delta = e.pageX - startX;\n            if (this.options.direction === 'rtl') {\n                delta = -1 * delta;\n            }\n            const finalWidth = startWidth + delta;\n            const {\n                colIndex\n            } = $.data($resizingCell);\n\n            let columnMinWidth = this.options.minimumColumnWidth;\n            if (columnMinWidth > finalWidth) {\n                // don't resize past 30 pixels\n                return;\n            }\n            this.datamanager.updateColumn(colIndex, {\n                width: finalWidth\n            });\n            this.setColumnHeaderWidth(colIndex);\n        };\n        $.on(document.body, 'mousemove', onMouseMove);\n        this.instance.on('onDestroy', () => {\n            $.off(document.body, 'mousemove', onMouseMove);\n        });\n    }\n\n    bindPerfectColumnWidth() {\n        $.on(this.header, 'dblclick', '.dt-cell .dt-cell__resize-handle', (e, $handle) => {\n            const $cell = $handle.parentNode.parentNode;\n            const { colIndex } = $.data($cell);\n\n            let longestCell = this.bodyRenderer.visibleRows\n                .map(d => d[colIndex])\n                .reduce((acc, curr) => acc.content.length > curr.content.length ? acc : curr);\n\n            let $longestCellHTML = this.cellmanager.getCellHTML(longestCell);\n            let $div = document.createElement('div');\n            $div.innerHTML = $longestCellHTML;\n            let cellText = $div.querySelector('.dt-cell__content').textContent;\n\n            let {\n                borderLeftWidth,\n                borderRightWidth,\n                paddingLeft,\n                paddingRight\n            } = $.getStyle(this.bodyScrollable.querySelector('.dt-cell__content'));\n\n            let padding = [borderLeftWidth, borderRightWidth, paddingLeft, paddingRight]\n                .map(parseFloat)\n                .reduce((sum, val) => sum + val);\n\n            let width = $.measureTextWidth(cellText) + padding;\n            this.datamanager.updateColumn(colIndex, { width });\n            this.setColumnHeaderWidth(colIndex);\n            this.setColumnWidth(colIndex);\n        });\n    }\n\n    bindMoveColumn() {\n        if (this.options.disableReorderColumn) return;\n\n        const $parent = $('.dt-row', this.header);\n\n        this.sortable = Sortable.create($parent, {\n            onEnd: (e) => {\n                const {\n                    oldIndex,\n                    newIndex\n                } = e;\n                const $draggedCell = e.item;\n                const {\n                    colIndex\n                } = $.data($draggedCell);\n                if (+colIndex === newIndex) return;\n\n                this.switchColumn(oldIndex, newIndex);\n            },\n            preventOnFilter: false,\n            filter: '.dt-cell__resize-handle, .dt-dropdown',\n            chosenClass: 'dt-cell--dragging',\n            animation: 150\n        });\n    }\n\n    sortColumn(colIndex, nextSortOrder) {\n        this.instance.freeze();\n        this.sortRows(colIndex, nextSortOrder)\n            .then(() => {\n                this.refreshHeader();\n                return this.rowmanager.refreshRows();\n            })\n            .then(() => this.instance.unfreeze())\n            .then(() => {\n                this.fireEvent('onSortColumn', this.getColumn(colIndex));\n            });\n    }\n\n    removeColumn(colIndex) {\n        const removedCol = this.getColumn(colIndex);\n        this.instance.freeze();\n        this.datamanager.removeColumn(colIndex)\n            .then(() => {\n                this.refreshHeader();\n                return this.rowmanager.refreshRows();\n            })\n            .then(() => this.instance.unfreeze())\n            .then(() => {\n                this.fireEvent('onRemoveColumn', removedCol);\n            });\n    }\n\n    switchColumn(oldIndex, newIndex) {\n        this.instance.freeze();\n        this.datamanager.switchColumn(oldIndex, newIndex)\n            .then(() => {\n                this.refreshHeader();\n                return this.rowmanager.refreshRows();\n            })\n            .then(() => {\n                this.setColumnWidth(oldIndex);\n                this.setColumnWidth(newIndex);\n                this.instance.unfreeze();\n            })\n            .then(() => {\n                this.fireEvent('onSwitchColumn',\n                    this.getColumn(oldIndex), this.getColumn(newIndex)\n                );\n            });\n    }\n\n    toggleFilter(flag) {\n        if (!this.options.inlineFilters) return;\n\n        let showFilter;\n        if (flag === undefined) {\n            showFilter = !this.isFilterShown;\n        } else {\n            showFilter = flag;\n        }\n\n        if (showFilter) {\n            $.style(this.$filterRow, { display: '' });\n        } else {\n            $.style(this.$filterRow, { display: 'none' });\n        }\n\n        this.isFilterShown = showFilter;\n        this.style.setBodyStyle();\n    }\n\n    focusFilter(colIndex) {\n        if (!this.isFilterShown) return;\n\n        const $filterInput = $(`.dt-cell--col-${colIndex} .dt-filter`, this.$filterRow);\n        $filterInput.focus();\n    }\n\n    bindFilter() {\n        if (!this.options.inlineFilters) return;\n        const handler = e => {\n            this.applyFilter(this.getAppliedFilters());\n        };\n        $.on(this.header, 'keydown', '.dt-filter', debounce$1(handler, 300));\n    }\n\n    applyFilter(filters) {\n        this.datamanager.filterRows(filters)\n            .then(({\n                rowsToShow\n            }) => {\n                this.rowmanager.showRows(rowsToShow);\n            });\n    }\n\n    getAppliedFilters() {\n        const filters = {};\n        $.each('.dt-filter', this.header).map((input) => {\n            const value = input.value;\n            if (value) {\n                filters[input.dataset.colIndex] = value;\n            }\n        });\n        return filters;\n    }\n\n    applyDefaultSortOrder() {\n        // sort rows if any 1 column has a default sortOrder set\n        const columnsToSort = this.getColumns().filter(col => col.sortOrder !== 'none');\n\n        if (columnsToSort.length === 1) {\n            const column = columnsToSort[0];\n            this.sortColumn(column.colIndex, column.sortOrder);\n        }\n    }\n\n    sortRows(colIndex, sortOrder) {\n        return this.datamanager.sortRows(colIndex, sortOrder);\n    }\n\n    getColumn(colIndex) {\n        return this.datamanager.getColumn(colIndex);\n    }\n\n    getColumns() {\n        return this.datamanager.getColumns();\n    }\n\n    setColumnWidth(colIndex, width) {\n        colIndex = +colIndex;\n\n        let columnWidth = width || this.getColumn(colIndex).width;\n\n        const selector = [\n            `.dt-cell__content--col-${colIndex}`,\n            `.dt-cell__edit--col-${colIndex}`\n        ].join(', ');\n\n        const styles = {\n            width: columnWidth + 'px'\n        };\n\n        this.style.setStyle(selector, styles);\n    }\n\n    setColumnHeaderWidth(colIndex) {\n        colIndex = +colIndex;\n        this.$columnMap = this.$columnMap || [];\n        const selector = `.dt-cell__content--header-${colIndex}`;\n        const {\n            width\n        } = this.getColumn(colIndex);\n\n        let $column = this.$columnMap[colIndex];\n        if (!$column) {\n            $column = this.header.querySelector(selector);\n            this.$columnMap[colIndex] = $column;\n        }\n\n        $column.style.width = width + 'px';\n    }\n\n    getColumnMinWidth(colIndex) {\n        colIndex = +colIndex;\n        return this.getColumn(colIndex).minWidth || 24;\n    }\n\n    getFirstColumnIndex() {\n        return this.datamanager.getColumnIndexById('_rowIndex') + 1;\n    }\n\n    getHeaderCell$(colIndex) {\n        return $(`.dt-cell--header-${colIndex}`, this.header);\n    }\n\n    getLastColumnIndex() {\n        return this.datamanager.getColumnCount() - 1;\n    }\n\n    getDropdownHTML() {\n        const { dropdownButton } = this.options;\n\n        return `\n            <div class=\"dt-dropdown\">\n                <div class=\"dt-dropdown__toggle\">${dropdownButton}</div>\n            </div>\n      `;\n    }\n\n    getDropdownListHTML() {\n        const { headerDropdown: dropdownItems } = this.options;\n\n        return `\n            <div class=\"dt-dropdown__list\">\n            ${dropdownItems.map((d, i) => `\n                <div class=\"dt-dropdown__list-item\" data-index=\"${i}\">${d.label}</div>\n            `).join('')}\n            </div>\n        `;\n    }\n}\n\nclass RowManager {\n    constructor(instance) {\n        this.instance = instance;\n        linkProperties(this, this.instance, [\n            'options',\n            'fireEvent',\n            'wrapper',\n            'bodyScrollable',\n            'bodyRenderer',\n            'style'\n        ]);\n\n        this.bindEvents();\n        this.refreshRows = nextTick(this.refreshRows, this);\n    }\n\n    get datamanager() {\n        return this.instance.datamanager;\n    }\n\n    get cellmanager() {\n        return this.instance.cellmanager;\n    }\n\n    bindEvents() {\n        this.bindCheckbox();\n    }\n\n    bindCheckbox() {\n        if (!this.options.checkboxColumn) return;\n\n        // map of checked rows\n        this.checkMap = [];\n\n        $.on(this.wrapper, 'click', '.dt-cell--col-0 [type=\"checkbox\"]', (e, $checkbox) => {\n            const $cell = $checkbox.closest('.dt-cell');\n            const {\n                rowIndex,\n                isHeader\n            } = $.data($cell);\n            const checked = $checkbox.checked;\n\n            if (isHeader) {\n                this.checkAll(checked);\n            } else {\n                this.checkRow(rowIndex, checked);\n            }\n        });\n    }\n\n    refreshRows() {\n        this.instance.renderBody();\n        this.instance.setDimensions();\n    }\n\n    refreshRow(row, rowIndex) {\n        const _row = this.datamanager.updateRow(row, rowIndex);\n\n        _row.forEach(cell => {\n            this.cellmanager.refreshCell(cell);\n        });\n    }\n\n    getCheckedRows() {\n        if (!this.checkMap) {\n            return [];\n        }\n\n        let out = [];\n        for (let rowIndex in this.checkMap) {\n            const checked = this.checkMap[rowIndex];\n            if (checked === 1) {\n                out.push(rowIndex);\n            }\n        }\n\n        return out;\n    }\n\n    highlightCheckedRows() {\n        this.getCheckedRows()\n            .map(rowIndex => this.checkRow(rowIndex, true));\n    }\n\n    checkRow(rowIndex, toggle) {\n        const value = toggle ? 1 : 0;\n        const selector = rowIndex => `.dt-cell--0-${rowIndex} [type=\"checkbox\"]`;\n        // update internal map\n        this.checkMap[rowIndex] = value;\n        // set checkbox value explicitly\n        $.each(selector(rowIndex), this.bodyScrollable)\n            .map(input => {\n                input.checked = toggle;\n            });\n        // highlight row\n        this.highlightRow(rowIndex, toggle);\n        this.showCheckStatus();\n        this.fireEvent('onCheckRow', this.datamanager.getRow(rowIndex));\n    }\n\n    checkAll(toggle) {\n        const value = toggle ? 1 : 0;\n\n        // update internal map\n        if (toggle) {\n            this.checkMap = Array.from(Array(this.getTotalRows())).map(c => value);\n        } else {\n            this.checkMap = [];\n        }\n        // set checkbox value\n        $.each('.dt-cell--col-0 [type=\"checkbox\"]', this.bodyScrollable)\n            .map(input => {\n                input.checked = toggle;\n            });\n        // highlight all\n        this.highlightAll(toggle);\n        this.showCheckStatus();\n        this.fireEvent('onCheckRow');\n    }\n\n    showCheckStatus() {\n        if (!this.options.checkedRowStatus) return;\n        const checkedRows = this.getCheckedRows();\n        const count = checkedRows.length;\n        if (count > 0) {\n            let message = this.instance.translate('{count} rows selected', {\n                count: count\n            });\n            this.bodyRenderer.showToastMessage(message);\n        } else {\n            this.bodyRenderer.clearToastMessage();\n        }\n    }\n\n    highlightRow(rowIndex, toggle = true) {\n        const $row = this.getRow$(rowIndex);\n        if (!$row) return;\n\n        if (!toggle && this.bodyScrollable.classList.contains('dt-scrollable--highlight-all')) {\n            $row.classList.add('dt-row--unhighlight');\n            return;\n        }\n\n        if (toggle && $row.classList.contains('dt-row--unhighlight')) {\n            $row.classList.remove('dt-row--unhighlight');\n        }\n\n        this._highlightedRows = this._highlightedRows || {};\n\n        if (toggle) {\n            $row.classList.add('dt-row--highlight');\n            this._highlightedRows[rowIndex] = $row;\n        } else {\n            $row.classList.remove('dt-row--highlight');\n            delete this._highlightedRows[rowIndex];\n        }\n    }\n\n    highlightAll(toggle = true) {\n        if (toggle) {\n            this.bodyScrollable.classList.add('dt-scrollable--highlight-all');\n        } else {\n            this.bodyScrollable.classList.remove('dt-scrollable--highlight-all');\n            for (const rowIndex in this._highlightedRows) {\n                const $row = this._highlightedRows[rowIndex];\n                $row.classList.remove('dt-row--highlight');\n            }\n            this._highlightedRows = {};\n        }\n    }\n\n    showRows(rowIndices) {\n        rowIndices = ensureArray(rowIndices);\n        const rows = rowIndices.map(rowIndex => this.datamanager.getRow(rowIndex));\n        this.bodyRenderer.renderRows(rows);\n    }\n\n    showAllRows() {\n        const rowIndices = this.datamanager.getAllRowIndices();\n        this.showRows(rowIndices);\n    }\n\n    getChildrenToShowForNode(rowIndex) {\n        const row = this.datamanager.getRow(rowIndex);\n        row.meta.isTreeNodeClose = false;\n\n        return this.datamanager.getImmediateChildren(rowIndex);\n    }\n\n    openSingleNode(rowIndex) {\n        const childrenToShow = this.getChildrenToShowForNode(rowIndex);\n        const visibleRowIndices = this.bodyRenderer.visibleRowIndices;\n        const rowsToShow = uniq$1([...childrenToShow, ...visibleRowIndices]).sort(numberSortAsc);\n\n        this.showRows(rowsToShow);\n    }\n\n    getChildrenToHideForNode(rowIndex) {\n        const row = this.datamanager.getRow(rowIndex);\n        row.meta.isTreeNodeClose = true;\n\n        const rowsToHide = this.datamanager.getChildren(rowIndex);\n        rowsToHide.forEach(rowIndex => {\n            const row = this.datamanager.getRow(rowIndex);\n            if (!row.meta.isLeaf) {\n                row.meta.isTreeNodeClose = true;\n            }\n        });\n\n        return rowsToHide;\n    }\n\n    closeSingleNode(rowIndex) {\n        const rowsToHide = this.getChildrenToHideForNode(rowIndex);\n        const visibleRows = this.bodyRenderer.visibleRowIndices;\n        const rowsToShow = visibleRows\n            .filter(rowIndex => !rowsToHide.includes(rowIndex))\n            .sort(numberSortAsc);\n\n        this.showRows(rowsToShow);\n    }\n\n    expandAllNodes() {\n        let rows = this.datamanager.getRows();\n        let rootNodes = rows.filter(row => !row.meta.isLeaf);\n\n        const childrenToShow = rootNodes.map(row => this.getChildrenToShowForNode(row.meta.rowIndex)).flat();\n        const visibleRowIndices = this.bodyRenderer.visibleRowIndices;\n        const rowsToShow = uniq$1([...childrenToShow, ...visibleRowIndices]).sort(numberSortAsc);\n\n        this.showRows(rowsToShow);\n    }\n\n    collapseAllNodes() {\n        let rows = this.datamanager.getRows();\n        let rootNodes = rows.filter(row => row.meta.indent === 0);\n\n        const rowsToHide = rootNodes.map(row => this.getChildrenToHideForNode(row.meta.rowIndex)).flat();\n        const visibleRows = this.bodyRenderer.visibleRowIndices;\n        const rowsToShow = visibleRows\n            .filter(rowIndex => !rowsToHide.includes(rowIndex))\n            .sort(numberSortAsc);\n\n        this.showRows(rowsToShow);\n    }\n\n    setTreeDepth(depth) {\n        let rows = this.datamanager.getRows();\n\n        const rowsToOpen = rows.filter(row => row.meta.indent < depth);\n        const rowsToClose = rows.filter(row => row.meta.indent >= depth);\n        const rowsToHide = rowsToClose.filter(row => row.meta.indent > depth);\n\n        rowsToClose.forEach(row => {\n            if (!row.meta.isLeaf) {\n                row.meta.isTreeNodeClose = true;\n            }\n        });\n        rowsToOpen.forEach(row => {\n            if (!row.meta.isLeaf) {\n                row.meta.isTreeNodeClose = false;\n            }\n        });\n\n        const rowsToShow = rows\n            .filter(row => !rowsToHide.includes(row))\n            .map(row => row.meta.rowIndex)\n            .sort(numberSortAsc);\n        this.showRows(rowsToShow);\n    }\n\n    getRow$(rowIndex) {\n        return $(this.selector(rowIndex), this.bodyScrollable);\n    }\n\n    getTotalRows() {\n        return this.datamanager.getRowCount();\n    }\n\n    getFirstRowIndex() {\n        return 0;\n    }\n\n    getLastRowIndex() {\n        return this.datamanager.getRowCount() - 1;\n    }\n\n    scrollToRow(rowIndex) {\n        rowIndex = +rowIndex;\n        this._lastScrollTo = this._lastScrollTo || 0;\n        const $row = this.getRow$(rowIndex);\n        if ($.inViewport($row, this.bodyScrollable)) return;\n\n        const {\n            height\n        } = $row.getBoundingClientRect();\n        const {\n            top,\n            bottom\n        } = this.bodyScrollable.getBoundingClientRect();\n        const rowsInView = Math.floor((bottom - top) / height);\n\n        let offset = 0;\n        if (rowIndex > this._lastScrollTo) {\n            offset = height * ((rowIndex + 1) - rowsInView);\n        } else {\n            offset = height * ((rowIndex + 1) - 1);\n        }\n\n        this._lastScrollTo = rowIndex;\n        $.scrollTop(this.bodyScrollable, offset);\n    }\n\n    getRowHTML(row, props) {\n        const dataAttr = makeDataAttributeString(props);\n        let rowIdentifier = props.rowIndex;\n\n        if (props.isFilter) {\n            row = row.map(cell => (Object.assign({}, cell, {\n                content: this.getFilterInput({\n                    colIndex: cell.colIndex,\n                    name: cell.name\n                }),\n                isFilter: 1,\n                isHeader: undefined,\n                editable: false\n            })));\n\n            rowIdentifier = 'filter';\n        }\n\n        if (props.isHeader) {\n            rowIdentifier = 'header';\n        }\n\n        return `\n            <div class=\"dt-row dt-row-${rowIdentifier}\" ${dataAttr}>\n                ${row.map(cell => this.cellmanager.getCellHTML(cell)).join('')}\n            </div>\n        `;\n    }\n\n    getFilterInput(props) {\n        let title = `title=\"Filter based on ${props.name || 'Index'}\"`;\n        const dataAttr = makeDataAttributeString(props);\n        return `<input class=\"dt-filter dt-input\" type=\"text\" ${dataAttr} tabindex=\"1\" \n            ${props.colIndex === 0 ? 'disabled' : title} />`;\n    }\n\n    selector(rowIndex) {\n        return `.dt-row-${rowIndex}`;\n    }\n}\n\nvar hyperlist = createCommonjsModule(function (module, exports) {\n(function(f){{module.exports=f();}})(function(){return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof commonjsRequire==\"function\"&&commonjsRequire;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r);}return n[o].exports}var i=typeof commonjsRequire==\"function\"&&commonjsRequire;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(_dereq_,module,exports){\n\n// Default configuration.\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar defaultConfig = {\n  width: '100%',\n  height: '100%'\n};\n\n// Check for valid number.\nvar isNumber = function isNumber(input) {\n  return Number(input) === Number(input);\n};\n\n/**\n * Creates a HyperList instance that virtually scrolls very large amounts of\n * data effortlessly.\n */\n\nvar HyperList = function () {\n  _createClass(HyperList, null, [{\n    key: 'create',\n    value: function create(element, userProvidedConfig) {\n      return new HyperList(element, userProvidedConfig);\n    }\n\n    /**\n     * Merge given css style on an element\n     * @param {DOMElement} element\n     * @param {Object} style\n     */\n\n  }, {\n    key: 'mergeStyle',\n    value: function mergeStyle(element, style) {\n      for (var i in style) {\n        if (element.style[i] !== style[i]) {\n          element.style[i] = style[i];\n        }\n      }\n    }\n  }, {\n    key: 'getMaxBrowserHeight',\n    value: function getMaxBrowserHeight() {\n      // Create two elements, the wrapper is `1px` tall and is transparent and\n      // positioned at the top of the page. Inside that is an element that gets\n      // set to 1 billion pixels. Then reads the max height the browser can\n      // calculate.\n      var wrapper = document.createElement('div');\n      var fixture = document.createElement('div');\n\n      // As said above, these values get set to put the fixture elements into the\n      // right visual state.\n      HyperList.mergeStyle(wrapper, { position: 'absolute', height: '1px', opacity: 0 });\n      HyperList.mergeStyle(fixture, { height: '1e7px' });\n\n      // Add the fixture into the wrapper element.\n      wrapper.appendChild(fixture);\n\n      // Apply to the page, the values won't kick in unless this is attached.\n      document.body.appendChild(wrapper);\n\n      // Get the maximum element height in pixels.\n      var maxElementHeight = fixture.offsetHeight;\n\n      // Remove the element immediately after reading the value.\n      document.body.removeChild(wrapper);\n\n      return maxElementHeight;\n    }\n  }]);\n\n  function HyperList(element, userProvidedConfig) {\n    var _this = this;\n\n    _classCallCheck(this, HyperList);\n\n    this._config = {};\n    this._lastRepaint = null;\n    this._maxElementHeight = HyperList.getMaxBrowserHeight();\n\n    this.refresh(element, userProvidedConfig);\n\n    var config = this._config;\n\n    // Create internal render loop.\n    var render = function render() {\n      var scrollTop = _this._getScrollPosition();\n      var lastRepaint = _this._lastRepaint;\n\n      _this._renderAnimationFrame = window.requestAnimationFrame(render);\n\n      if (scrollTop === lastRepaint) {\n        return;\n      }\n\n      if (!lastRepaint || Math.abs(scrollTop - lastRepaint) > _this._averageHeight) {\n        var rendered = _this._renderChunk();\n\n        _this._lastRepaint = scrollTop;\n\n        if (rendered !== false && typeof config.afterRender === 'function') {\n          config.afterRender();\n        }\n      }\n    };\n\n    render();\n  }\n\n  _createClass(HyperList, [{\n    key: 'destroy',\n    value: function destroy() {\n      window.cancelAnimationFrame(this._renderAnimationFrame);\n    }\n  }, {\n    key: 'refresh',\n    value: function refresh(element, userProvidedConfig) {\n      var _this2 = this;\n\n      Object.assign(this._config, defaultConfig, userProvidedConfig);\n\n      if (!element || element.nodeType !== 1) {\n        throw new Error('HyperList requires a valid DOM Node container');\n      }\n\n      this._element = element;\n\n      var config = this._config;\n\n      var scroller = this._scroller || config.scroller || document.createElement(config.scrollerTagName || 'tr');\n\n      // Default configuration option `useFragment` to `true`.\n      if (typeof config.useFragment !== 'boolean') {\n        this._config.useFragment = true;\n      }\n\n      if (!config.generate) {\n        throw new Error('Missing required `generate` function');\n      }\n\n      if (!isNumber(config.total)) {\n        throw new Error('Invalid required `total` value, expected number');\n      }\n\n      if (!Array.isArray(config.itemHeight) && !isNumber(config.itemHeight)) {\n        throw new Error('\\n        Invalid required `itemHeight` value, expected number or array\\n      '.trim());\n      } else if (isNumber(config.itemHeight)) {\n        this._itemHeights = Array(config.total).fill(config.itemHeight);\n      } else {\n        this._itemHeights = config.itemHeight;\n      }\n\n      // Width and height should be coerced to string representations. Either in\n      // `%` or `px`.\n      Object.keys(defaultConfig).filter(function (prop) {\n        return prop in config;\n      }).forEach(function (prop) {\n        var value = config[prop];\n        var isValueNumber = isNumber(value);\n        var isValuePercent = isValueNumber ? false : value.slice(-1) === '%';\n\n        if (value && typeof value !== 'string' && typeof value !== 'number') {\n          var msg = 'Invalid optional `' + prop + '`, expected string or number';\n          throw new Error(msg);\n        } else if (isValueNumber) {\n          config[prop] = value + 'px';\n        }\n\n        if (prop !== 'height') {\n          return;\n        }\n\n        // Compute the containerHeight as number\n        var numberValue = isValueNumber ? value : parseInt(value.replace(/px|%/, ''), 10);\n\n        if (isValuePercent) {\n          _this2._containerHeight = window.innerHeight * numberValue / 100;\n        } else {\n          _this2._containerHeight = isNumber(value) ? value : numberValue;\n        }\n      });\n\n      // Decorate the container element with styles that will match\n      // the user supplied configuration.\n      var elementStyle = {\n        width: '' + config.width,\n        height: '' + config.height,\n        overflow: 'auto',\n        position: 'relative'\n      };\n\n      HyperList.mergeStyle(element, elementStyle);\n\n      var scrollerHeight = config.itemHeight * config.total;\n      var maxElementHeight = this._maxElementHeight;\n\n      if (scrollerHeight > maxElementHeight) {\n        console.warn(['HyperList: The maximum element height', maxElementHeight + 'px has', 'been exceeded; please reduce your item height.'].join(' '));\n      }\n\n      var scrollerStyle = {\n        opacity: '0',\n        position: 'absolute',\n        width: '1px',\n        height: scrollerHeight + 'px'\n      };\n\n      HyperList.mergeStyle(scroller, scrollerStyle);\n\n      // Only append the scroller element once.\n      if (!this._scroller) {\n        element.appendChild(scroller);\n      }\n\n      // Set the scroller instance.\n      this._scroller = scroller;\n      this._scrollHeight = this._computeScrollHeight();\n\n      // Reuse the item positions if refreshed, otherwise set to empty array.\n      this._itemPositions = this._itemPositions || Array(config.total).fill(0);\n\n      // Each index in the array should represent the position in the DOM.\n      this._computePositions(0);\n\n      // Render after refreshing. Force render if we're calling refresh manually.\n      this._renderChunk(this._lastRepaint !== null);\n\n      if (typeof config.afterRender === 'function') {\n        config.afterRender();\n      }\n    }\n  }, {\n    key: '_getRow',\n    value: function _getRow(i) {\n      var config = this._config;\n      var item = config.generate(i);\n      var height = item.height;\n\n      if (height !== undefined && isNumber(height)) {\n        item = item.element;\n\n        // The height isn't the same as predicted, compute positions again\n        if (height !== this._itemHeights) {\n          this._itemHeights[i] = height;\n          this._computePositions(i);\n          this._scrollHeight = this._computeScrollHeight(i);\n        }\n      } else {\n        height = this._itemHeights[i];\n      }\n\n      if (!item || item.nodeType !== 1) {\n        throw new Error('Generator did not return a DOM Node for index: ' + i);\n      }\n\n      var oldClass = item.getAttribute('class') || '';\n      item.setAttribute('class', oldClass + ' ' + (config.rowClassName || 'vrow'));\n\n      var top = this._itemPositions[i];\n\n      HyperList.mergeStyle(item, {\n        position: 'absolute',\n        top: top + 'px'\n      });\n\n      return item;\n    }\n  }, {\n    key: '_getScrollPosition',\n    value: function _getScrollPosition() {\n      var config = this._config;\n\n      if (typeof config.overrideScrollPosition === 'function') {\n        return config.overrideScrollPosition();\n      }\n\n      return this._element.scrollTop;\n    }\n  }, {\n    key: '_renderChunk',\n    value: function _renderChunk(force) {\n      var config = this._config;\n      var element = this._element;\n      var scrollTop = this._getScrollPosition();\n      var total = config.total;\n\n      var from = config.reverse ? this._getReverseFrom(scrollTop) : this._getFrom(scrollTop) - 1;\n\n      if (from < 0 || from - this._screenItemsLen < 0) {\n        from = 0;\n      }\n\n      if (!force && this._lastFrom === from) {\n        return false;\n      }\n\n      this._lastFrom = from;\n\n      var to = from + this._cachedItemsLen;\n\n      if (to > total || to + this._cachedItemsLen > total) {\n        to = total;\n      }\n\n      // Append all the new rows in a document fragment that we will later append\n      // to the parent node\n      var fragment = config.useFragment ? document.createDocumentFragment() : []\n      // Sometimes you'll pass fake elements to this tool and Fragments require\n      // real elements.\n\n\n      // The element that forces the container to scroll.\n      ;var scroller = this._scroller;\n\n      // Keep the scroller in the list of children.\n      fragment[config.useFragment ? 'appendChild' : 'push'](scroller);\n\n      for (var i = from; i < to; i++) {\n        var row = this._getRow(i);\n\n        fragment[config.useFragment ? 'appendChild' : 'push'](row);\n      }\n\n      if (config.applyPatch) {\n        return config.applyPatch(element, fragment);\n      }\n\n      element.innerHTML = '';\n      element.appendChild(fragment);\n    }\n  }, {\n    key: '_computePositions',\n    value: function _computePositions() {\n      var from = arguments.length <= 0 || arguments[0] === undefined ? 1 : arguments[0];\n\n      var config = this._config;\n      var total = config.total;\n      var reverse = config.reverse;\n\n      if (from < 1 && !reverse) {\n        from = 1;\n      }\n\n      for (var i = from; i < total; i++) {\n        if (reverse) {\n          if (i === 0) {\n            this._itemPositions[0] = this._scrollHeight - this._itemHeights[0];\n          } else {\n            this._itemPositions[i] = this._itemPositions[i - 1] - this._itemHeights[i];\n          }\n        } else {\n          this._itemPositions[i] = this._itemHeights[i - 1] + this._itemPositions[i - 1];\n        }\n      }\n    }\n  }, {\n    key: '_computeScrollHeight',\n    value: function _computeScrollHeight() {\n      var _this3 = this;\n\n      var config = this._config;\n      var total = config.total;\n      var scrollHeight = this._itemHeights.reduce(function (a, b) {\n        return a + b;\n      }, 0);\n\n      HyperList.mergeStyle(this._scroller, {\n        opacity: 0,\n        position: 'absolute',\n        width: '1px',\n        height: scrollHeight + 'px'\n      });\n\n      // Calculate the height median\n      var sortedItemHeights = this._itemHeights.slice(0).sort(function (a, b) {\n        return a - b;\n      });\n      var middle = Math.floor(total / 2);\n      var averageHeight = total % 2 === 0 ? (sortedItemHeights[middle] + sortedItemHeights[middle - 1]) / 2 : sortedItemHeights[middle];\n\n      var containerHeight = this._element.clientHeight ? this._element.clientHeight : this._containerHeight;\n      this._screenItemsLen = Math.ceil(containerHeight / averageHeight);\n      this._containerHeight = containerHeight;\n\n      // Cache 3 times the number of items that fit in the container viewport.\n      this._cachedItemsLen = Math.max(this._cachedItemsLen || 0, this._screenItemsLen * 3);\n      this._averageHeight = averageHeight;\n\n      if (config.reverse) {\n        window.requestAnimationFrame(function () {\n          _this3._element.scrollTop = scrollHeight;\n        });\n      }\n\n      return scrollHeight;\n    }\n  }, {\n    key: '_getFrom',\n    value: function _getFrom(scrollTop) {\n      var i = 0;\n\n      while (this._itemPositions[i] < scrollTop) {\n        i++;\n      }\n\n      return i;\n    }\n  }, {\n    key: '_getReverseFrom',\n    value: function _getReverseFrom(scrollTop) {\n      var i = this._config.total - 1;\n\n      while (i > 0 && this._itemPositions[i] < scrollTop + this._containerHeight) {\n        i--;\n      }\n\n      return i;\n    }\n  }]);\n\n  return HyperList;\n}();\n\nexports.default = HyperList;\nmodule.exports = exports['default'];\n\n},{}]},{},[1])(1)\n});\n});\n\nvar HyperList = unwrapExports(hyperlist);\n\nclass BodyRenderer {\n    constructor(instance) {\n        this.instance = instance;\n        this.options = instance.options;\n        this.datamanager = instance.datamanager;\n        this.rowmanager = instance.rowmanager;\n        this.cellmanager = instance.cellmanager;\n        this.bodyScrollable = instance.bodyScrollable;\n        this.footer = this.instance.footer;\n        this.log = instance.log;\n    }\n\n    renderRows(rows) {\n        this.visibleRows = rows;\n        this.visibleRowIndices = rows.map(row => row.meta.rowIndex);\n\n        if (rows.length === 0) {\n            this.bodyScrollable.innerHTML = this.getNoDataHTML();\n            return;\n        }\n\n        const rowViewOrder = this.datamanager.rowViewOrder.map(index => {\n            if (this.visibleRowIndices.includes(index)) {\n                return index;\n            }\n            return null;\n        }).filter(index => index !== null);\n\n        const computedStyle = getComputedStyle(this.bodyScrollable);\n\n        let config = {\n            width: computedStyle.width,\n            height: computedStyle.height,\n            itemHeight: this.options.cellHeight,\n            total: rows.length,\n            generate: (index) => {\n                const el = document.createElement('div');\n                const rowIndex = rowViewOrder[index];\n                const row = this.datamanager.getRow(rowIndex);\n                const rowHTML = this.rowmanager.getRowHTML(row, row.meta);\n                el.innerHTML = rowHTML;\n                return el.children[0];\n            },\n            afterRender: () => {\n                this.restoreState();\n            }\n        };\n\n        if (!this.hyperlist) {\n            this.hyperlist = new HyperList(this.bodyScrollable, config);\n        } else {\n            this.hyperlist.refresh(this.bodyScrollable, config);\n        }\n\n        this.renderFooter();\n    }\n\n    render() {\n        const rows = this.datamanager.getRowsForView();\n        this.renderRows(rows);\n        // setDimensions requires atleast 1 row to exist in dom\n        this.instance.setDimensions();\n    }\n\n    renderFooter() {\n        if (!this.options.showTotalRow) return;\n\n        const totalRow = this.getTotalRow();\n        let html = this.rowmanager.getRowHTML(totalRow, { isTotalRow: 1, rowIndex: 'totalRow' });\n\n        this.footer.innerHTML = html;\n    }\n\n    getTotalRow() {\n        const columns = this.datamanager.getColumns();\n        const totalRowTemplate = columns.map(col => {\n            let content = null;\n            if (['_rowIndex', '_checkbox'].includes(col.id)) {\n                content = '';\n            }\n            return {\n                content,\n                isTotalRow: 1,\n                colIndex: col.colIndex,\n                column: col\n            };\n        });\n\n        const totalRow = totalRowTemplate.map((cell, i) => {\n            if (cell.content === '') return cell;\n\n            if (this.options.hooks.columnTotal) {\n                const columnValues = this.visibleRows.map(row => row[i].content);\n                const result = this.options.hooks.columnTotal.call(this.instance, columnValues, cell);\n                if (result != null) {\n                    cell.content = result;\n                    return cell;\n                }\n            }\n\n            cell.content = this.visibleRows.reduce((acc, prevRow) => {\n                const prevCell = prevRow[i];\n                if (typeof prevCell.content === 'number') {\n                    if (acc == null) acc = 0;\n                    return acc + prevCell.content;\n                }\n                return acc;\n            }, cell.content);\n\n            return cell;\n        });\n\n        return totalRow;\n    }\n\n    restoreState() {\n        this.rowmanager.highlightCheckedRows();\n        this.cellmanager.selectAreaOnClusterChanged();\n        this.cellmanager.focusCellOnClusterChanged();\n    }\n\n    showToastMessage(message, hideAfter) {\n        this.instance.toastMessage.innerHTML = this.getToastMessageHTML(message);\n\n        if (hideAfter) {\n            setTimeout(() => {\n                this.clearToastMessage();\n            }, hideAfter * 1000);\n        }\n    }\n\n    clearToastMessage() {\n        this.instance.toastMessage.innerHTML = '';\n    }\n\n    getNoDataHTML() {\n        return `<div class=\"dt-scrollable__no-data\">${this.options.noDataMessage}</div>`;\n    }\n\n    getToastMessageHTML(message) {\n        return `<span class=\"dt-toast__message\">${message}</span>`;\n    }\n}\n\nclass Style {\n    constructor(instance) {\n        this.instance = instance;\n\n        linkProperties(this, this.instance, [\n            'options', 'datamanager', 'columnmanager',\n            'header', 'footer', 'bodyScrollable', 'datatableWrapper',\n            'getColumn', 'bodyRenderer'\n        ]);\n\n        this.scopeClass = 'dt-instance-' + instance.constructor.instances;\n        instance.datatableWrapper.classList.add(this.scopeClass);\n\n        const styleEl = document.createElement('style');\n        instance.wrapper.insertBefore(styleEl, instance.datatableWrapper);\n        this.styleEl = styleEl;\n\n        this.bindResizeWindow();\n        this.bindScrollHeader();\n    }\n\n    get stylesheet() {\n        return this.styleEl.sheet;\n    }\n\n    bindResizeWindow() {\n        this.onWindowResize = this.onWindowResize.bind(this);\n        this.onWindowResize = throttle$1(this.onWindowResize, 300);\n\n        if (this.options.layout === 'fluid') {\n            $.on(window, 'resize', this.onWindowResize);\n        }\n    }\n\n    bindScrollHeader() {\n        this._settingHeaderPosition = false;\n\n        $.on(this.bodyScrollable, 'scroll', (e) => {\n            if (this._settingHeaderPosition) return;\n\n            this._settingHeaderPosition = true;\n\n            requestAnimationFrame(() => {\n                const left = -e.target.scrollLeft;\n\n                $.style(this.header, {\n                    transform: `translateX(${left}px)`\n                });\n                $.style(this.footer, {\n                    transform: `translateX(${left}px)`\n                });\n                this._settingHeaderPosition = false;\n            });\n        });\n    }\n\n    onWindowResize() {\n        this.distributeRemainingWidth();\n        this.refreshColumnWidth();\n        this.setBodyStyle();\n    }\n\n    destroy() {\n        this.styleEl.remove();\n        $.off(window, 'resize', this.onWindowResize);\n    }\n\n    setStyle(selector, styleObject) {\n        if (selector.includes(',')) {\n            selector.split(',')\n                .map(s => s.trim())\n                .forEach(selector => {\n                    this.setStyle(selector, styleObject);\n                });\n            return;\n        }\n\n        selector = selector.trim();\n        if (!selector) return;\n\n        this._styleRulesMap = this._styleRulesMap || {};\n        const prefixedSelector = this._getPrefixedSelector(selector);\n\n        if (this._styleRulesMap[prefixedSelector]) {\n            this.removeStyle(selector);\n\n            // merge with old styleobject\n            styleObject = Object.assign({}, this._styleRulesMap[prefixedSelector], styleObject);\n        }\n\n        const styleString = this._getRuleString(styleObject);\n        const ruleString = `${prefixedSelector} { ${styleString} }`;\n\n        this._styleRulesMap[prefixedSelector] = styleObject;\n        this.stylesheet.insertRule(ruleString);\n    }\n\n    removeStyle(selector) {\n        if (selector.includes(',')) {\n            selector.split(',')\n                .map(s => s.trim())\n                .forEach(selector => {\n                    this.removeStyle(selector);\n                });\n            return;\n        }\n\n        selector = selector.trim();\n        if (!selector) return;\n\n        // find and remove\n        const prefixedSelector = this._getPrefixedSelector(selector);\n        const index = Array.from(this.stylesheet.cssRules)\n            .findIndex(rule => rule.selectorText === prefixedSelector);\n\n        if (index === -1) return;\n        this.stylesheet.deleteRule(index);\n    }\n\n    _getPrefixedSelector(selector) {\n        return `.${this.scopeClass} ${selector}`;\n    }\n\n    _getRuleString(styleObject) {\n        return Object.keys(styleObject)\n            .map(prop => {\n                let dashed = prop;\n                if (!prop.includes('-')) {\n                    dashed = camelCaseToDash(prop);\n                }\n                return `${dashed}:${styleObject[prop]};`;\n            })\n            .join('');\n    }\n\n    setDimensions() {\n        this.setCellHeight();\n        this.setupMinWidth();\n        this.setupNaturalColumnWidth();\n        this.setupColumnWidth();\n        this.distributeRemainingWidth();\n        this.setColumnStyle();\n        this.setBodyStyle();\n    }\n\n    setCellHeight() {\n        this.setStyle('.dt-cell', {\n            height: this.options.cellHeight + 'px'\n        });\n    }\n\n    setupMinWidth() {\n        $.each('.dt-cell--header', this.header).map(col => {\n            const { colIndex } = $.data(col);\n            const column = this.getColumn(colIndex);\n\n            if (!column.minWidth) {\n                const width = $.style($('.dt-cell__content', col), 'width');\n                // only set this once\n                column.minWidth = width;\n            }\n        });\n    }\n\n    setupNaturalColumnWidth() {\n        if (!$('.dt-row')) return;\n\n        $.each('.dt-row-header .dt-cell', this.header).map($headerCell => {\n            const { colIndex } = $.data($headerCell);\n            const column = this.datamanager.getColumn(colIndex);\n            let width = $.style($('.dt-cell__content', $headerCell), 'width');\n            if (typeof width === 'number' && width >= this.options.minimumColumnWidth) {\n                column.naturalWidth = width;\n            } else {\n                column.naturalWidth = this.options.minimumColumnWidth;\n            }\n        });\n\n        // set initial width as naturally calculated by table's first row\n        $.each('.dt-row-0 .dt-cell', this.bodyScrollable).map($cell => {\n            const {\n                colIndex\n            } = $.data($cell);\n            const column = this.datamanager.getColumn(colIndex);\n\n            let naturalWidth = $.style($('.dt-cell__content', $cell), 'width');\n\n            if (typeof naturalWidth === 'number' && naturalWidth >= column.naturalWidth) {\n                column.naturalWidth = naturalWidth;\n            } else {\n                column.naturalWidth = column.naturalWidth;\n            }\n        });\n    }\n\n    setupColumnWidth() {\n        if (this.options.layout === 'ratio') {\n            let totalWidth = $.style(this.datatableWrapper, 'width');\n\n            if (this.options.serialNoColumn) {\n                const rowIndexColumn = this.datamanager.getColumnById('_rowIndex');\n                totalWidth = totalWidth - rowIndexColumn.width - 1;\n            }\n\n            if (this.options.checkboxColumn) {\n                const rowIndexColumn = this.datamanager.getColumnById('_checkbox');\n                totalWidth = totalWidth - rowIndexColumn.width - 1;\n            }\n\n            const totalParts = this.datamanager.getColumns()\n                .map(column => {\n                    if (column.id === '_rowIndex' || column.id === '_checkbox') {\n                        return 0;\n                    }\n                    if (!column.width) {\n                        column.width = 1;\n                    }\n                    column.ratioWidth = parseInt(column.width, 10);\n                    return column.ratioWidth;\n                })\n                .reduce((a, c) => a + c);\n\n            const onePart = totalWidth / totalParts;\n\n            this.datamanager.getColumns()\n                .map(column => {\n                    if (column.id === '_rowIndex' || column.id === '_checkbox') return;\n                    column.width = Math.floor(onePart * column.ratioWidth) - 1;\n                });\n        } else {\n            this.datamanager.getColumns()\n                .map(column => {\n                    if (!column.width) {\n                        column.width = column.naturalWidth;\n                    }\n                    if (column.id === '_rowIndex') {\n                        column.width = this.getRowIndexColumnWidth();\n                    }\n                    if (column.width < this.options.minimumColumnWidth) {\n                        column.width = this.options.minimumColumnWidth;\n                    }\n                });\n        }\n    }\n\n    distributeRemainingWidth() {\n        if (this.options.layout !== 'fluid') return;\n\n        const wrapperWidth = $.style(this.instance.datatableWrapper, 'width');\n        let firstRow = $('.dt-row', this.bodyScrollable);\n        let firstRowWidth = wrapperWidth;\n        if (!firstRow) {\n            let headerRow = $('.dt-row', this.instance.header);\n            let cellWidths = Array.from(headerRow.children)\n                .map(cell => cell.offsetWidth);\n            firstRowWidth = cellWidths.reduce((sum, a) => sum + a, 0);\n        } else {\n            firstRowWidth = $.style(firstRow, 'width');\n        }\n        const resizableColumns = this.datamanager.getColumns().filter(col => col.resizable);\n        const deltaWidth = (wrapperWidth - firstRowWidth) / resizableColumns.length;\n\n        resizableColumns.map(col => {\n            const width = $.style(this.getColumnHeaderElement(col.colIndex), 'width');\n            let finalWidth = Math.floor(width + deltaWidth) - 2;\n\n            this.datamanager.updateColumn(col.colIndex, {\n                width: finalWidth\n            });\n        });\n    }\n\n    setColumnStyle() {\n        // align columns\n        this.datamanager.getColumns()\n            .map(column => {\n                // alignment\n                if (!column.align) {\n                    column.align = 'left';\n                }\n                if (!['left', 'center', 'right'].includes(column.align)) {\n                    column.align = 'left';\n                }\n                this.setStyle(`.dt-cell--col-${column.colIndex}`, {\n                    'text-align': column.align\n                });\n\n                // width\n                this.columnmanager.setColumnHeaderWidth(column.colIndex);\n                this.columnmanager.setColumnWidth(column.colIndex);\n            });\n    }\n\n    refreshColumnWidth() {\n        this.datamanager.getColumns()\n            .map(column => {\n                this.columnmanager.setColumnHeaderWidth(column.colIndex);\n                this.columnmanager.setColumnWidth(column.colIndex);\n            });\n    }\n\n    setBodyStyle() {\n        const bodyWidth = $.style(this.datatableWrapper, 'width');\n        const firstRow = $('.dt-row', this.bodyScrollable);\n        if (!firstRow) return;\n        const rowWidth = $.style(firstRow, 'width');\n\n        let width = bodyWidth > rowWidth ? rowWidth : bodyWidth;\n        $.style(this.bodyScrollable, {\n            width: width + 'px'\n        });\n\n        // remove the body height, so that it resets to it's original\n        $.removeStyle(this.bodyScrollable, 'height');\n\n        // when there are less rows than the container\n        // adapt the container height\n        let bodyHeight = $.getStyle(this.bodyScrollable, 'height');\n        const scrollHeight = (this.bodyRenderer.hyperlist || {})._scrollHeight || Infinity;\n        const hasHorizontalOverflow = $.hasHorizontalOverflow(this.bodyScrollable);\n\n        let height;\n\n        if (scrollHeight < bodyHeight) {\n            height = scrollHeight;\n\n            // account for scrollbar size when\n            // there is horizontal overflow\n            if (hasHorizontalOverflow) {\n                height += $.scrollbarSize();\n            }\n\n            $.style(this.bodyScrollable, {\n                height: height + 'px'\n            });\n        }\n\n        const verticalOverflow = this.bodyScrollable.scrollHeight - this.bodyScrollable.offsetHeight;\n        if (verticalOverflow < $.scrollbarSize()) {\n            // if verticalOverflow is less than scrollbar size\n            // then most likely scrollbar is causing the scroll\n            // which is not needed\n            $.style(this.bodyScrollable, {\n                overflowY: 'hidden'\n            });\n        }\n\n        if (this.options.layout === 'fluid') {\n            $.style(this.bodyScrollable, {\n                overflowX: 'hidden'\n            });\n        }\n    }\n\n    getColumnHeaderElement(colIndex) {\n        colIndex = +colIndex;\n        if (colIndex < 0) return null;\n        return $(`.dt-cell--col-${colIndex}`, this.header);\n    }\n\n    getRowIndexColumnWidth() {\n        const rowCount = this.datamanager.getRowCount();\n        const padding = 22;\n        return $.measureTextWidth(rowCount + '') + padding;\n    }\n}\n\nconst KEYCODES = {\n    13: 'enter',\n    91: 'meta',\n    16: 'shift',\n    17: 'ctrl',\n    18: 'alt',\n    37: 'left',\n    38: 'up',\n    39: 'right',\n    40: 'down',\n    9: 'tab',\n    27: 'esc',\n    67: 'c',\n    70: 'f',\n    86: 'v'\n};\n\nclass Keyboard {\n    constructor(element) {\n        this.listeners = {};\n        $.on(element, 'keydown', this.handler.bind(this));\n    }\n\n    handler(e) {\n        let key = KEYCODES[e.keyCode];\n\n        if (e.shiftKey && key !== 'shift') {\n            key = 'shift+' + key;\n        }\n\n        if ((e.ctrlKey && key !== 'ctrl') || (e.metaKey && key !== 'meta')) {\n            key = 'ctrl+' + key;\n        }\n\n        const listeners = this.listeners[key];\n\n        if (listeners && listeners.length > 0) {\n            for (let listener of listeners) {\n                const preventBubbling = listener(e);\n                if (preventBubbling === undefined || preventBubbling === true) {\n                    e.preventDefault();\n                }\n            }\n        }\n    }\n\n    on(key, listener) {\n        const keys = key.split(',').map(k => k.trim());\n\n        keys.map(key => {\n            this.listeners[key] = this.listeners[key] || [];\n            this.listeners[key].push(listener);\n        });\n    }\n}\n\nvar en = {\n\t\"Sort Ascending\": \"Sort Ascending\",\n\t\"Sort Descending\": \"Sort Descending\",\n\t\"Reset sorting\": \"Reset sorting\",\n\t\"Remove column\": \"Remove column\",\n\t\"No Data\": \"No Data\",\n\t\"{count} cells copied\": {\"1\":\"{count} cell copied\",\"default\":\"{count} cells copied\"},\n\t\"{count} rows selected\": {\"1\":\"{count} row selected\",\"default\":\"{count} rows selected\"}\n};\n\nvar de = {\n\t\"Sort Ascending\": \"Aufsteigend sortieren\",\n\t\"Sort Descending\": \"Absteigend sortieren\",\n\t\"Reset sorting\": \"Sortierung zurücksetzen\",\n\t\"Remove column\": \"Spalte entfernen\",\n\t\"No Data\": \"Keine Daten\",\n\t\"{count} cells copied\": {\"1\":\"{count} Zelle kopiert\",\"default\":\"{count} Zellen kopiert\"},\n\t\"{count} rows selected\": {\"1\":\"{count} Zeile ausgewählt\",\"default\":\"{count} Zeilen ausgewählt\"}\n};\n\nvar fr = {\n\t\"Sort Ascending\": \"Trier par ordre croissant\",\n\t\"Sort Descending\": \"Trier par ordre décroissant\",\n\t\"Reset sorting\": \"Réinitialiser le tri\",\n\t\"Remove column\": \"Supprimer colonne\",\n\t\"No Data\": \"Pas de données\",\n\t\"{count} cells copied\": {\"1\":\"{count} cellule copiée\",\"default\":\"{count} cellules copiées\"},\n\t\"{count} rows selected\": {\"1\":\"{count} ligne sélectionnée\",\"default\":\"{count} lignes sélectionnées\"}\n};\n\nvar it = {\n\t\"Sort Ascending\": \"Ordinamento ascendente\",\n\t\"Sort Descending\": \"Ordinamento decrescente\",\n\t\"Reset sorting\": \"Azzeramento ordinamento\",\n\t\"Remove column\": \"Rimuovi colonna\",\n\t\"No Data\": \"Nessun dato\",\n\t\"{count} cells copied\": {\"1\":\"Copiato {count} cella\",\"default\":\"{count} celle copiate\"},\n\t\"{count} rows selected\": {\"1\":\"{count} linea selezionata\",\"default\":\"{count} linee selezionate\"}\n};\n\nfunction getTranslations() {\n    return {\n        en,\n        de,\n        fr,\n        it,\n    };\n}\n\nclass TranslationManager {\n    constructor(language) {\n        this.language = language;\n        this.translations = getTranslations();\n    }\n\n    addTranslations(translations) {\n        this.translations = Object.assign(this.translations, translations);\n    }\n\n    translate(sourceText, args) {\n        let translation = (this.translations[this.language] &&\n            this.translations[this.language][sourceText]) || sourceText;\n\n        if (typeof translation === 'object') {\n            translation = args && args.count ?\n                this.getPluralizedTranslation(translation, args.count) :\n                sourceText;\n        }\n\n        return format(translation, args || {});\n    }\n\n    getPluralizedTranslation(translations, count) {\n        return translations[count] || translations['default'];\n    }\n}\n\nfunction filterRows(rows, filters) {\n    let filteredRowIndices = [];\n\n    if (Object.keys(filters).length === 0) {\n        return rows.map(row => row.meta.rowIndex);\n    }\n\n    for (let colIndex in filters) {\n        const keyword = filters[colIndex];\n\n        const filteredRows = filteredRowIndices.length ?\n            filteredRowIndices.map(i => rows[i]) :\n            rows;\n\n        const cells = filteredRows.map(row => row[colIndex]);\n\n        let filter = guessFilter(keyword);\n        let filterMethod = getFilterMethod(filter);\n\n        if (filterMethod) {\n            filteredRowIndices = filterMethod(filter.text, cells);\n        } else {\n            filteredRowIndices = cells.map(cell => cell.rowIndex);\n        }\n    }\n\n    return filteredRowIndices;\n}\nfunction getFilterMethod(filter) {\n    const stringCompareValue = cell =>\n        String(stripHTML(cell.html || '') || cell.content || '').toLowerCase();\n\n    const numberCompareValue = cell => parseFloat(cell.content);\n\n    const getCompareValues = (cell, keyword) => {\n        if (cell.column.compareValue) {\n            const compareValues = cell.column.compareValue(cell, keyword);\n            if (compareValues && Array.isArray(compareValues)) return compareValues;\n        }\n\n        // check if it can be converted to number\n        const float = numberCompareValue(cell);\n        if (!isNaN(float)) {\n            return [float, keyword];\n        }\n\n        return [stringCompareValue(cell), keyword];\n    };\n\n    let filterMethodMap = {\n        contains(keyword, cells) {\n            return cells\n                .filter(cell => {\n                    const hay = stringCompareValue(cell);\n                    const needle = (keyword || '').toLowerCase();\n                    return !needle || hay.includes(needle);\n                })\n                .map(cell => cell.rowIndex);\n        },\n\n        greaterThan(keyword, cells) {\n            return cells\n                .filter(cell => {\n                    const [compareValue, keywordValue] = getCompareValues(cell, keyword);\n                    return compareValue > keywordValue;\n                })\n                .map(cell => cell.rowIndex);\n        },\n\n        lessThan(keyword, cells) {\n            return cells\n                .filter(cell => {\n                    const [compareValue, keywordValue] = getCompareValues(cell, keyword);\n                    return compareValue < keywordValue;\n                })\n                .map(cell => cell.rowIndex);\n        },\n\n        equals(keyword, cells) {\n            return cells\n                .filter(cell => {\n                    const value = parseFloat(cell.content);\n                    return value === keyword;\n                })\n                .map(cell => cell.rowIndex);\n        },\n\n        notEquals(keyword, cells) {\n            return cells\n                .filter(cell => {\n                    const value = parseFloat(cell.content);\n                    return value !== keyword;\n                })\n                .map(cell => cell.rowIndex);\n        },\n\n        range(rangeValues, cells) {\n            return cells\n                .filter(cell => {\n                    const values1 = getCompareValues(cell, rangeValues[0]);\n                    const values2 = getCompareValues(cell, rangeValues[1]);\n                    const value = values1[0];\n                    return value >= values1[1] && value <= values2[1];\n                })\n                .map(cell => cell.rowIndex);\n        },\n\n        containsNumber(keyword, cells) {\n            return cells\n                .filter(cell => {\n                    let number = parseFloat(keyword, 10);\n                    let string = keyword;\n                    let hayNumber = numberCompareValue(cell);\n                    let hayString = stringCompareValue(cell);\n\n                    return number === hayNumber || hayString.includes(string);\n                })\n                .map(cell => cell.rowIndex);\n        }\n    };\n\n    return filterMethodMap[filter.type];\n}\n\nfunction guessFilter(keyword = '') {\n    if (keyword.length === 0) return {};\n\n    let compareString = keyword;\n\n    if (['>', '<', '='].includes(compareString[0])) {\n        compareString = keyword.slice(1);\n    } else if (compareString.startsWith('!=')) {\n        compareString = keyword.slice(2);\n    }\n\n    if (keyword.startsWith('>')) {\n        if (compareString) {\n            return {\n                type: 'greaterThan',\n                text: compareString.trim()\n            };\n        }\n    }\n\n    if (keyword.startsWith('<')) {\n        if (compareString) {\n            return {\n                type: 'lessThan',\n                text: compareString.trim()\n            };\n        }\n    }\n\n    if (keyword.startsWith('=')) {\n        if (isNumber(compareString)) {\n            return {\n                type: 'equals',\n                text: Number(keyword.slice(1).trim())\n            };\n        }\n    }\n\n    if (isNumber(compareString)) {\n        return {\n            type: 'containsNumber',\n            text: compareString\n        };\n    }\n\n    if (keyword.startsWith('!=')) {\n        if (isNumber(compareString)) {\n            return {\n                type: 'notEquals',\n                text: Number(keyword.slice(2).trim())\n            };\n        }\n    }\n\n    if (keyword.split(':').length === 2) {\n        compareString = keyword.split(':');\n        return {\n            type: 'range',\n            text: compareString.map(v => v.trim())\n        };\n    }\n\n    return {\n        type: 'contains',\n        text: compareString.toLowerCase()\n    };\n}\n\nfunction getDefaultOptions(instance) {\n    return {\n        columns: [],\n        data: [],\n        dropdownButton: icons.chevronDown,\n        headerDropdown: [\n            {\n                label: instance.translate('Sort Ascending'),\n                action: function (column) {\n                    this.sortColumn(column.colIndex, 'asc');\n                }\n            },\n            {\n                label: instance.translate('Sort Descending'),\n                action: function (column) {\n                    this.sortColumn(column.colIndex, 'desc');\n                }\n            },\n            {\n                label: instance.translate('Reset sorting'),\n                action: function (column) {\n                    this.sortColumn(column.colIndex, 'none');\n                }\n            },\n            {\n                label: instance.translate('Remove column'),\n                action: function (column) {\n                    this.removeColumn(column.colIndex);\n                }\n            }\n        ],\n        events: {\n            onRemoveColumn(column) {},\n            onSwitchColumn(column1, column2) {},\n            onSortColumn(column) {},\n            onCheckRow(row) {},\n            onDestroy() {}\n        },\n        hooks: {\n            columnTotal: null\n        },\n        sortIndicator: {\n            asc: '↑',\n            desc: '↓',\n            none: ''\n        },\n        overrideComponents: {\n            // ColumnManager: CustomColumnManager\n        },\n        filterRows: filterRows,\n        freezeMessage: '',\n        getEditor: null,\n        serialNoColumn: true,\n        checkboxColumn: false,\n        clusterize: true,\n        logs: false,\n        layout: 'fixed', // fixed, fluid, ratio\n        noDataMessage: instance.translate('No Data'),\n        cellHeight: 40,\n        minimumColumnWidth: 30,\n        inlineFilters: false,\n        treeView: false,\n        checkedRowStatus: true,\n        dynamicRowHeight: false,\n        pasteFromClipboard: false,\n        showTotalRow: false,\n        direction: 'ltr',\n        disableReorderColumn: false\n    };\n}\n\nlet defaultComponents = {\n    DataManager,\n    CellManager,\n    ColumnManager,\n    RowManager,\n    BodyRenderer,\n    Style,\n    Keyboard\n};\n\nclass DataTable {\n    constructor(wrapper, options) {\n        DataTable.instances++;\n\n        if (typeof wrapper === 'string') {\n            // css selector\n            wrapper = document.querySelector(wrapper);\n        }\n        this.wrapper = wrapper;\n        if (!(this.wrapper instanceof HTMLElement)) {\n            throw new Error('Invalid argument given for `wrapper`');\n        }\n\n        this.initializeTranslations(options);\n        this.setDefaultOptions();\n        this.buildOptions(options);\n        this.prepare();\n        this.initializeComponents();\n\n        if (this.options.data) {\n            this.refresh();\n            this.columnmanager.applyDefaultSortOrder();\n        }\n    }\n\n    initializeTranslations(options) {\n        this.language = options.language || 'en';\n        this.translationManager = new TranslationManager(this.language);\n\n        if (options.translations) {\n            this.translationManager.addTranslations(options.translations);\n        }\n    }\n\n    setDefaultOptions() {\n        this.DEFAULT_OPTIONS = getDefaultOptions(this);\n    }\n\n    buildOptions(options) {\n        this.options = this.options || {};\n\n        this.options = Object.assign(\n            {}, this.DEFAULT_OPTIONS,\n            this.options || {}, options\n        );\n\n        options.headerDropdown = options.headerDropdown || [];\n        this.options.headerDropdown = [\n            ...this.DEFAULT_OPTIONS.headerDropdown,\n            ...options.headerDropdown\n        ];\n\n        // custom user events\n        this.events = Object.assign(\n            {}, this.DEFAULT_OPTIONS.events,\n            this.options.events || {},\n            options.events || {}\n        );\n        this.fireEvent = this.fireEvent.bind(this);\n    }\n\n    prepare() {\n        this.prepareDom();\n        this.unfreeze();\n    }\n\n    initializeComponents() {\n        let components = Object.assign({}, defaultComponents, this.options.overrideComponents);\n        let {\n            Style: Style$$1,\n            Keyboard: Keyboard$$1,\n            DataManager: DataManager$$1,\n            RowManager: RowManager$$1,\n            ColumnManager: ColumnManager$$1,\n            CellManager: CellManager$$1,\n            BodyRenderer: BodyRenderer$$1\n        } = components;\n\n        this.style = new Style$$1(this);\n        this.keyboard = new Keyboard$$1(this.wrapper);\n        this.datamanager = new DataManager$$1(this.options);\n        this.rowmanager = new RowManager$$1(this);\n        this.columnmanager = new ColumnManager$$1(this);\n        this.cellmanager = new CellManager$$1(this);\n        this.bodyRenderer = new BodyRenderer$$1(this);\n    }\n\n    prepareDom() {\n        this.wrapper.innerHTML = `\n            <div class=\"datatable\" dir=\"${this.options.direction}\">\n                <div class=\"dt-header\"></div>\n                <div class=\"dt-scrollable\"></div>\n                <div class=\"dt-footer\"></div>\n                <div class=\"dt-freeze\">\n                    <span class=\"dt-freeze__message\">\n                        ${this.options.freezeMessage}\n                    </span>\n                </div>\n                <div class=\"dt-toast\"></div>\n                <div class=\"dt-dropdown-container\"></div>\n                <textarea class=\"dt-paste-target\"></textarea>\n            </div>\n        `;\n\n        this.datatableWrapper = $('.datatable', this.wrapper);\n        this.header = $('.dt-header', this.wrapper);\n        this.footer = $('.dt-footer', this.wrapper);\n        this.bodyScrollable = $('.dt-scrollable', this.wrapper);\n        this.freezeContainer = $('.dt-freeze', this.wrapper);\n        this.toastMessage = $('.dt-toast', this.wrapper);\n        this.pasteTarget = $('.dt-paste-target', this.wrapper);\n        this.dropdownContainer = $('.dt-dropdown-container', this.wrapper);\n    }\n\n    refresh(data, columns) {\n        this.datamanager.init(data, columns);\n        this.render();\n        this.setDimensions();\n    }\n\n    destroy() {\n        this.wrapper.innerHTML = '';\n        this.style.destroy();\n        this.fireEvent('onDestroy');\n    }\n\n    appendRows(rows) {\n        this.datamanager.appendRows(rows);\n        this.rowmanager.refreshRows();\n    }\n\n    refreshRow(row, rowIndex) {\n        this.rowmanager.refreshRow(row, rowIndex);\n    }\n\n    render() {\n        this.renderHeader();\n        this.renderBody();\n    }\n\n    renderHeader() {\n        this.columnmanager.renderHeader();\n    }\n\n    renderBody() {\n        this.bodyRenderer.render();\n    }\n\n    setDimensions() {\n        this.style.setDimensions();\n    }\n\n    showToastMessage(message, hideAfter) {\n        this.bodyRenderer.showToastMessage(message, hideAfter);\n    }\n\n    clearToastMessage() {\n        this.bodyRenderer.clearToastMessage();\n    }\n\n    getColumn(colIndex) {\n        return this.datamanager.getColumn(colIndex);\n    }\n\n    getColumns() {\n        return this.datamanager.getColumns();\n    }\n\n    getRows() {\n        return this.datamanager.getRows();\n    }\n\n    getCell(colIndex, rowIndex) {\n        return this.datamanager.getCell(colIndex, rowIndex);\n    }\n\n    getColumnHeaderElement(colIndex) {\n        return this.columnmanager.getColumnHeaderElement(colIndex);\n    }\n\n    getViewportHeight() {\n        if (!this.viewportHeight) {\n            this.viewportHeight = $.style(this.bodyScrollable, 'height');\n        }\n\n        return this.viewportHeight;\n    }\n\n    sortColumn(colIndex, sortOrder) {\n        this.columnmanager.sortColumn(colIndex, sortOrder);\n    }\n\n    removeColumn(colIndex) {\n        this.columnmanager.removeColumn(colIndex);\n    }\n\n    scrollToLastColumn() {\n        this.datatableWrapper.scrollLeft = 9999;\n    }\n\n    freeze() {\n        $.style(this.freezeContainer, {\n            display: ''\n        });\n    }\n\n    unfreeze() {\n        $.style(this.freezeContainer, {\n            display: 'none'\n        });\n    }\n\n    updateOptions(options) {\n        this.buildOptions(options);\n    }\n\n    fireEvent(eventName, ...args) {\n        // fire internalEventHandlers if any\n        // and then user events\n        const handlers = [\n            ...(this._internalEventHandlers[eventName] || []),\n            this.events[eventName]\n        ].filter(Boolean);\n\n        for (let handler of handlers) {\n            handler.apply(this, args);\n        }\n    }\n\n    on(event, handler) {\n        this._internalEventHandlers = this._internalEventHandlers || {};\n        this._internalEventHandlers[event] = this._internalEventHandlers[event] || [];\n        this._internalEventHandlers[event].push(handler);\n    }\n\n    log() {\n        if (this.options.logs) {\n            console.log.apply(console, arguments);\n        }\n    }\n\n    translate(str, args) {\n        return this.translationManager.translate(str, args);\n    }\n}\n\nDataTable.instances = 0;\n\nvar name = \"frappe-datatable\";\nvar version = \"0.0.0-development\";\nvar description = \"A modern datatable library for the web\";\nvar main = \"dist/frappe-datatable.cjs.js\";\nvar unpkg = \"dist/frappe-datatable.min.js\";\nvar jsdelivr = \"dist/frappe-datatable.min.js\";\nvar scripts = {\"start\":\"yarn run dev\",\"build\":\"rollup -c && NODE_ENV=production rollup -c\",\"dev\":\"rollup -c -w\",\"cy:server\":\"http-server -p 8989\",\"cy:open\":\"cypress open\",\"cy:run\":\"cypress run\",\"test\":\"start-server-and-test cy:server http://localhost:8989 cy:run\",\"test-local\":\"start-server-and-test cy:server http://localhost:8989 cy:open\",\"travis-deploy-once\":\"travis-deploy-once\",\"semantic-release\":\"semantic-release\",\"lint\":\"eslint src\",\"lint-and-build\":\"yarn lint && yarn build\",\"commit\":\"npx git-cz\"};\nvar files = [\"dist\",\"src\"];\nvar devDependencies = {\"autoprefixer\":\"^9.0.0\",\"chai\":\"3.5.0\",\"cypress\":\"^9.2.0\",\"cz-conventional-changelog\":\"^2.1.0\",\"deepmerge\":\"^2.0.1\",\"eslint\":\"^5.0.1\",\"eslint-config-airbnb\":\"^16.1.0\",\"eslint-config-airbnb-base\":\"^12.1.0\",\"eslint-plugin-import\":\"^2.11.0\",\"http-server\":\"^0.11.1\",\"mocha\":\"3.3.0\",\"postcss-custom-properties\":\"^7.0.0\",\"postcss-nested\":\"^3.0.0\",\"rollup\":\"^0.59.4\",\"rollup-plugin-commonjs\":\"^8.3.0\",\"rollup-plugin-eslint\":\"^4.0.0\",\"rollup-plugin-json\":\"^2.3.0\",\"rollup-plugin-node-resolve\":\"^3.0.3\",\"rollup-plugin-postcss\":\"^1.2.8\",\"rollup-plugin-uglify-es\":\"^0.0.1\",\"semantic-release\":\"^17.1.1\",\"start-server-and-test\":\"^1.4.1\",\"travis-deploy-once\":\"^5.0.1\"};\nvar repository = {\"type\":\"git\",\"url\":\"https://github.com/frappe/datatable.git\"};\nvar keywords = [\"datatable\",\"data\",\"grid\",\"table\"];\nvar author = \"Faris Ansari\";\nvar license = \"MIT\";\nvar bugs = {\"url\":\"https://github.com/frappe/datatable/issues\"};\nvar homepage = \"https://frappe.io/datatable\";\nvar dependencies = {\"hyperlist\":\"^1.0.0-beta\",\"lodash\":\"^4.17.5\",\"sortablejs\":\"^1.7.0\"};\nvar config = {\"commitizen\":{\"path\":\"cz-conventional-changelog\"}};\nvar packageJson = {\n\tname: name,\n\tversion: version,\n\tdescription: description,\n\tmain: main,\n\tunpkg: unpkg,\n\tjsdelivr: jsdelivr,\n\tscripts: scripts,\n\tfiles: files,\n\tdevDependencies: devDependencies,\n\trepository: repository,\n\tkeywords: keywords,\n\tauthor: author,\n\tlicense: license,\n\tbugs: bugs,\n\thomepage: homepage,\n\tdependencies: dependencies,\n\tconfig: config\n};\n\nDataTable.__version__ = packageJson.version;\n\nmodule.exports = DataTable;\n","import DataTable from \"frappe-datatable\";\n\nfrappe.DataTable = DataTable;","frappe.provide(\"frappe.utils.datatable\");\n\nfrappe.utils.datatable.get_translations = function () {\n\tlet translations = {};\n\ttranslations[frappe.boot.lang] = {\n\t\t\"Sort Ascending\": __(\"Sort Ascending\"),\n\t\t\"Sort Descending\": __(\"Sort Descending\"),\n\t\t\"Reset sorting\": __(\"Reset sorting\"),\n\t\t\"Remove column\": __(\"Remove column\"),\n\t\t\"No Data\": __(\"No Data\"),\n\t\t\"{count} cells copied\": {\n\t\t\t\"1\": __(\"{count} cell copied\"),\n\t\t\t\"default\": __(\"{count} cells copied\")\n\t\t},\n\t\t\"{count} rows selected\": {\n\t\t\t\"1\": __(\"{count} row selected\"),\n\t\t\t\"default\": __(\"{count} rows selected\")\n\t\t}\n\t};\n\n\treturn translations;\n};\n","!function(t,e){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=e():\"function\"==typeof define&&define.amd?define([],e):\"object\"==typeof exports?exports.Driver=e():t.Driver=e()}(window,function(){return function(t){var e={};function n(o){if(e[o])return e[o].exports;var i=e[o]={i:o,l:!1,exports:{}};return t[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&\"object\"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,\"default\",{enumerable:!0,value:t}),2&e&&\"string\"!=typeof t)for(var i in t)n.d(o,i,function(e){return t[e]}.bind(null,i));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,\"a\",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p=\"/dist/\",n(n.s=57)}([function(t,e,n){var o=n(2),i=n(11),r=n(4),s=n(13),a=n(22),c=function(t,e,n){var u,l,h,f,p=t&c.F,d=t&c.G,v=t&c.S,y=t&c.P,g=t&c.B,m=d?o:v?o[e]||(o[e]={}):(o[e]||{}).prototype,b=d?i:i[e]||(i[e]={}),w=b.prototype||(b.prototype={});for(u in d&&(n=e),n)h=((l=!p&&m&&void 0!==m[u])?m:n)[u],f=g&&l?a(h,o):y&&\"function\"==typeof h?a(Function.call,h):h,m&&s(m,u,h,t&c.U),b[u]!=h&&r(b,u,f),y&&w[u]!=h&&(w[u]=h)};o.core=i,c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,t.exports=c},function(t,e,n){var o=n(17)(\"wks\"),i=n(14),r=n(2).Symbol,s=\"function\"==typeof r;(t.exports=function(t){return o[t]||(o[t]=s&&r[t]||(s?r:i)(\"Symbol.\"+t))}).store=o},function(t,e){var n=t.exports=\"undefined\"!=typeof window&&window.Math==Math?window:\"undefined\"!=typeof self&&self.Math==Math?self:Function(\"return this\")();\"number\"==typeof __g&&(__g=n)},function(t,e){t.exports=function(t){return\"object\"==typeof t?null!==t:\"function\"==typeof t}},function(t,e,n){var o=n(5),i=n(16);t.exports=n(6)?function(t,e,n){return o.f(t,e,i(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){var o=n(12),i=n(35),r=n(21),s=Object.defineProperty;e.f=n(6)?Object.defineProperty:function(t,e,n){if(o(t),e=r(e,!0),o(n),i)try{return s(t,e,n)}catch(t){}if(\"get\"in n||\"set\"in n)throw TypeError(\"Accessors not supported!\");return\"value\"in n&&(t[e]=n.value),t}},function(t,e,n){t.exports=!n(7)(function(){return 7!=Object.defineProperty({},\"a\",{get:function(){return 7}}).a})},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){var o=n(39),i=n(24);t.exports=function(t){return o(i(t))}},function(t,e,n){var o=n(0);o(o.S+o.F*!n(6),\"Object\",{defineProperty:n(5).f})},function(t,e){var n=t.exports={version:\"2.6.9\"};\"number\"==typeof __e&&(__e=n)},function(t,e,n){var o=n(3);t.exports=function(t){if(!o(t))throw TypeError(t+\" is not an object!\");return t}},function(t,e,n){var o=n(2),i=n(4),r=n(8),s=n(14)(\"src\"),a=n(59),c=(\"\"+a).split(\"toString\");n(11).inspectSource=function(t){return a.call(t)},(t.exports=function(t,e,n,a){var u=\"function\"==typeof n;u&&(r(n,\"name\")||i(n,\"name\",e)),t[e]!==n&&(u&&(r(n,s)||i(n,s,t[e]?\"\"+t[e]:c.join(String(e)))),t===o?t[e]=n:a?t[e]?t[e]=n:i(t,e,n):(delete t[e],i(t,e,n)))})(Function.prototype,\"toString\",function(){return\"function\"==typeof this&&this[s]||a.call(this)})},function(t,e){var n=0,o=Math.random();t.exports=function(t){return\"Symbol(\".concat(void 0===t?\"\":t,\")_\",(++n+o).toString(36))}},function(t,e,n){var o=n(45),i=n(28);t.exports=Object.keys||function(t){return o(t,i)}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,n){var o=n(11),i=n(2),r=i[\"__core-js_shared__\"]||(i[\"__core-js_shared__\"]={});(t.exports=function(t,e){return r[t]||(r[t]=void 0!==e?e:{})})(\"versions\",[]).push({version:o.version,mode:n(18)?\"pure\":\"global\",copyright:\"© 2019 Denis Pushkarev (zloirock.ru)\"})},function(t,e){t.exports=!1},function(t,e,n){var o=n(24);t.exports=function(t){return Object(o(t))}},function(t,e,n){\"use strict\";var o=n(2),i=n(8),r=n(6),s=n(0),a=n(13),c=n(62).KEY,u=n(7),l=n(17),h=n(26),f=n(14),p=n(1),d=n(43),v=n(44),y=n(63),g=n(42),m=n(12),b=n(3),w=n(19),x=n(9),S=n(21),O=n(16),k=n(30),P=n(67),E=n(49),N=n(47),j=n(5),L=n(15),T=E.f,C=j.f,_=P.f,M=o.Symbol,H=o.JSON,B=H&&H.stringify,F=p(\"_hidden\"),I=p(\"toPrimitive\"),R={}.propertyIsEnumerable,A=l(\"symbol-registry\"),z=l(\"symbols\"),D=l(\"op-symbols\"),V=Object.prototype,W=\"function\"==typeof M&&!!N.f,q=o.QObject,G=!q||!q.prototype||!q.prototype.findChild,K=r&&u(function(){return 7!=k(C({},\"a\",{get:function(){return C(this,\"a\",{value:7}).a}})).a})?function(t,e,n){var o=T(V,e);o&&delete V[e],C(t,e,n),o&&t!==V&&C(V,e,o)}:C,U=function(t){var e=z[t]=k(M.prototype);return e._k=t,e},Y=W&&\"symbol\"==typeof M.iterator?function(t){return\"symbol\"==typeof t}:function(t){return t instanceof M},J=function(t,e,n){return t===V&&J(D,e,n),m(t),e=S(e,!0),m(n),i(z,e)?(n.enumerable?(i(t,F)&&t[F][e]&&(t[F][e]=!1),n=k(n,{enumerable:O(0,!1)})):(i(t,F)||C(t,F,O(1,{})),t[F][e]=!0),K(t,e,n)):C(t,e,n)},X=function(t,e){m(t);for(var n,o=y(e=x(e)),i=0,r=o.length;r>i;)J(t,n=o[i++],e[n]);return t},Q=function(t){var e=R.call(this,t=S(t,!0));return!(this===V&&i(z,t)&&!i(D,t))&&(!(e||!i(this,t)||!i(z,t)||i(this,F)&&this[F][t])||e)},$=function(t,e){if(t=x(t),e=S(e,!0),t!==V||!i(z,e)||i(D,e)){var n=T(t,e);return!n||!i(z,e)||i(t,F)&&t[F][e]||(n.enumerable=!0),n}},Z=function(t){for(var e,n=_(x(t)),o=[],r=0;n.length>r;)i(z,e=n[r++])||e==F||e==c||o.push(e);return o},tt=function(t){for(var e,n=t===V,o=_(n?D:x(t)),r=[],s=0;o.length>s;)!i(z,e=o[s++])||n&&!i(V,e)||r.push(z[e]);return r};W||(a((M=function(){if(this instanceof M)throw TypeError(\"Symbol is not a constructor!\");var t=f(arguments.length>0?arguments[0]:void 0),e=function(n){this===V&&e.call(D,n),i(this,F)&&i(this[F],t)&&(this[F][t]=!1),K(this,t,O(1,n))};return r&&G&&K(V,t,{configurable:!0,set:e}),U(t)}).prototype,\"toString\",function(){return this._k}),E.f=$,j.f=J,n(48).f=P.f=Z,n(29).f=Q,N.f=tt,r&&!n(18)&&a(V,\"propertyIsEnumerable\",Q,!0),d.f=function(t){return U(p(t))}),s(s.G+s.W+s.F*!W,{Symbol:M});for(var et=\"hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables\".split(\",\"),nt=0;et.length>nt;)p(et[nt++]);for(var ot=L(p.store),it=0;ot.length>it;)v(ot[it++]);s(s.S+s.F*!W,\"Symbol\",{for:function(t){return i(A,t+=\"\")?A[t]:A[t]=M(t)},keyFor:function(t){if(!Y(t))throw TypeError(t+\" is not a symbol!\");for(var e in A)if(A[e]===t)return e},useSetter:function(){G=!0},useSimple:function(){G=!1}}),s(s.S+s.F*!W,\"Object\",{create:function(t,e){return void 0===e?k(t):X(k(t),e)},defineProperty:J,defineProperties:X,getOwnPropertyDescriptor:$,getOwnPropertyNames:Z,getOwnPropertySymbols:tt});var rt=u(function(){N.f(1)});s(s.S+s.F*rt,\"Object\",{getOwnPropertySymbols:function(t){return N.f(w(t))}}),H&&s(s.S+s.F*(!W||u(function(){var t=M();return\"[null]\"!=B([t])||\"{}\"!=B({a:t})||\"{}\"!=B(Object(t))})),\"JSON\",{stringify:function(t){for(var e,n,o=[t],i=1;arguments.length>i;)o.push(arguments[i++]);if(n=e=o[1],(b(e)||void 0!==t)&&!Y(t))return g(e)||(e=function(t,e){if(\"function\"==typeof n&&(e=n.call(this,t,e)),!Y(e))return e}),o[1]=e,B.apply(H,o)}}),M.prototype[I]||n(4)(M.prototype,I,M.prototype.valueOf),h(M,\"Symbol\"),h(Math,\"Math\",!0),h(o.JSON,\"JSON\",!0)},function(t,e,n){var o=n(3);t.exports=function(t,e){if(!o(t))return t;var n,i;if(e&&\"function\"==typeof(n=t.toString)&&!o(i=n.call(t)))return i;if(\"function\"==typeof(n=t.valueOf)&&!o(i=n.call(t)))return i;if(!e&&\"function\"==typeof(n=t.toString)&&!o(i=n.call(t)))return i;throw TypeError(\"Can't convert object to primitive value\")}},function(t,e,n){var o=n(37);t.exports=function(t,e,n){if(o(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,o){return t.call(e,n,o)};case 3:return function(n,o,i){return t.call(e,n,o,i)}}return function(){return t.apply(e,arguments)}}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e){t.exports=function(t){if(null==t)throw TypeError(\"Can't call method on  \"+t);return t}},function(t,e,n){\"use strict\";var o=n(7);t.exports=function(t,e){return!!t&&o(function(){e?t.call(null,function(){},1):t.call(null)})}},function(t,e,n){var o=n(5).f,i=n(8),r=n(1)(\"toStringTag\");t.exports=function(t,e,n){t&&!i(t=n?t:t.prototype,r)&&o(t,r,{configurable:!0,value:e})}},function(t,e,n){var o=n(17)(\"keys\"),i=n(14);t.exports=function(t){return o[t]||(o[t]=i(t))}},function(t,e){t.exports=\"constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf\".split(\",\")},function(t,e){e.f={}.propertyIsEnumerable},function(t,e,n){var o=n(12),i=n(65),r=n(28),s=n(27)(\"IE_PROTO\"),a=function(){},c=function(){var t,e=n(36)(\"iframe\"),o=r.length;for(e.style.display=\"none\",n(66).appendChild(e),e.src=\"javascript:\",(t=e.contentWindow.document).open(),t.write(\"<script>document.F=Object<\\/script>\"),t.close(),c=t.F;o--;)delete c.prototype[r[o]];return c()};t.exports=Object.create||function(t,e){var n;return null!==t?(a.prototype=o(t),n=new a,a.prototype=null,n[s]=t):n=c(),void 0===e?n:i(n,e)}},function(t,e,n){\"use strict\";var o=n(68),i=n(69),r=n(32),s=n(9);t.exports=n(70)(Array,\"Array\",function(t,e){this._t=s(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,i(1)):i(0,\"keys\"==e?n:\"values\"==e?t[n]:[n,t[n]])},\"values\"),r.Arguments=r.Array,o(\"keys\"),o(\"values\"),o(\"entries\")},function(t,e){t.exports={}},function(t,e,n){n(44)(\"asyncIterator\")},function(t,e,n){\"use strict\";var o=n(0),i=n(38)(0),r=n(25)([].forEach,!0);o(o.P+o.F*!r,\"Array\",{forEach:function(t){return i(this,t,arguments[1])}})},function(t,e,n){t.exports=!n(6)&&!n(7)(function(){return 7!=Object.defineProperty(n(36)(\"div\"),\"a\",{get:function(){return 7}}).a})},function(t,e,n){var o=n(3),i=n(2).document,r=o(i)&&o(i.createElement);t.exports=function(t){return r?i.createElement(t):{}}},function(t,e){t.exports=function(t){if(\"function\"!=typeof t)throw TypeError(t+\" is not a function!\");return t}},function(t,e,n){var o=n(22),i=n(39),r=n(19),s=n(40),a=n(60);t.exports=function(t,e){var n=1==t,c=2==t,u=3==t,l=4==t,h=6==t,f=5==t||h,p=e||a;return function(e,a,d){for(var v,y,g=r(e),m=i(g),b=o(a,d,3),w=s(m.length),x=0,S=n?p(e,w):c?p(e,0):void 0;w>x;x++)if((f||x in m)&&(y=b(v=m[x],x,g),t))if(n)S[x]=y;else if(y)switch(t){case 3:return!0;case 5:return v;case 6:return x;case 2:S.push(v)}else if(l)return!1;return h?-1:u||l?l:S}}},function(t,e,n){var o=n(23);t.exports=Object(\"z\").propertyIsEnumerable(0)?Object:function(t){return\"String\"==o(t)?t.split(\"\"):Object(t)}},function(t,e,n){var o=n(41),i=Math.min;t.exports=function(t){return t>0?i(o(t),9007199254740991):0}},function(t,e){var n=Math.ceil,o=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?o:n)(t)}},function(t,e,n){var o=n(23);t.exports=Array.isArray||function(t){return\"Array\"==o(t)}},function(t,e,n){e.f=n(1)},function(t,e,n){var o=n(2),i=n(11),r=n(18),s=n(43),a=n(5).f;t.exports=function(t){var e=i.Symbol||(i.Symbol=r?{}:o.Symbol||{});\"_\"==t.charAt(0)||t in e||a(e,t,{value:s.f(t)})}},function(t,e,n){var o=n(8),i=n(9),r=n(46)(!1),s=n(27)(\"IE_PROTO\");t.exports=function(t,e){var n,a=i(t),c=0,u=[];for(n in a)n!=s&&o(a,n)&&u.push(n);for(;e.length>c;)o(a,n=e[c++])&&(~r(u,n)||u.push(n));return u}},function(t,e,n){var o=n(9),i=n(40),r=n(64);t.exports=function(t){return function(e,n,s){var a,c=o(e),u=i(c.length),l=r(s,u);if(t&&n!=n){for(;u>l;)if((a=c[l++])!=a)return!0}else for(;u>l;l++)if((t||l in c)&&c[l]===n)return t||l||0;return!t&&-1}}},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,n){var o=n(45),i=n(28).concat(\"length\",\"prototype\");e.f=Object.getOwnPropertyNames||function(t){return o(t,i)}},function(t,e,n){var o=n(29),i=n(16),r=n(9),s=n(21),a=n(8),c=n(35),u=Object.getOwnPropertyDescriptor;e.f=n(6)?u:function(t,e){if(t=r(t),e=s(e,!0),c)try{return u(t,e)}catch(t){}if(a(t,e))return i(!o.f.call(t,e),t[e])}},function(t,e,n){for(var o=n(31),i=n(15),r=n(13),s=n(2),a=n(4),c=n(32),u=n(1),l=u(\"iterator\"),h=u(\"toStringTag\"),f=c.Array,p={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},d=i(p),v=0;v<d.length;v++){var y,g=d[v],m=p[g],b=s[g],w=b&&b.prototype;if(w&&(w[l]||a(w,l,f),w[h]||a(w,h,g),c[g]=f,m))for(y in o)w[y]||r(w,y,o[y],!0)}},function(t,e,n){\"use strict\";var o=n(73),i={};i[n(1)(\"toStringTag\")]=\"z\",i+\"\"!=\"[object z]\"&&n(13)(Object.prototype,\"toString\",function(){return\"[object \"+o(this)+\"]\"},!0)},function(t,e,n){var o=n(19),i=n(15);n(74)(\"keys\",function(){return function(t){return i(o(t))}})},function(t,e,n){\"use strict\";var o=n(0),i=n(38)(2);o(o.P+o.F*!n(25)([].filter,!0),\"Array\",{filter:function(t){return i(this,t,arguments[1])}})},function(t,e,n){var o=n(0);o(o.P,\"Function\",{bind:n(75)})},function(t,e,n){var o=n(0);o(o.S,\"Object\",{create:n(30)})},function(t,e,n){var o=n(0);o(o.S,\"Object\",{setPrototypeOf:n(81).set})},function(t,e,n){n(58),t.exports=n(82)},function(t,e){},function(t,e,n){t.exports=n(17)(\"native-function-to-string\",Function.toString)},function(t,e,n){var o=n(61);t.exports=function(t,e){return new(o(t))(e)}},function(t,e,n){var o=n(3),i=n(42),r=n(1)(\"species\");t.exports=function(t){var e;return i(t)&&(\"function\"!=typeof(e=t.constructor)||e!==Array&&!i(e.prototype)||(e=void 0),o(e)&&null===(e=e[r])&&(e=void 0)),void 0===e?Array:e}},function(t,e,n){var o=n(14)(\"meta\"),i=n(3),r=n(8),s=n(5).f,a=0,c=Object.isExtensible||function(){return!0},u=!n(7)(function(){return c(Object.preventExtensions({}))}),l=function(t){s(t,o,{value:{i:\"O\"+ ++a,w:{}}})},h=t.exports={KEY:o,NEED:!1,fastKey:function(t,e){if(!i(t))return\"symbol\"==typeof t?t:(\"string\"==typeof t?\"S\":\"P\")+t;if(!r(t,o)){if(!c(t))return\"F\";if(!e)return\"E\";l(t)}return t[o].i},getWeak:function(t,e){if(!r(t,o)){if(!c(t))return!0;if(!e)return!1;l(t)}return t[o].w},onFreeze:function(t){return u&&h.NEED&&c(t)&&!r(t,o)&&l(t),t}}},function(t,e,n){var o=n(15),i=n(47),r=n(29);t.exports=function(t){var e=o(t),n=i.f;if(n)for(var s,a=n(t),c=r.f,u=0;a.length>u;)c.call(t,s=a[u++])&&e.push(s);return e}},function(t,e,n){var o=n(41),i=Math.max,r=Math.min;t.exports=function(t,e){return(t=o(t))<0?i(t+e,0):r(t,e)}},function(t,e,n){var o=n(5),i=n(12),r=n(15);t.exports=n(6)?Object.defineProperties:function(t,e){i(t);for(var n,s=r(e),a=s.length,c=0;a>c;)o.f(t,n=s[c++],e[n]);return t}},function(t,e,n){var o=n(2).document;t.exports=o&&o.documentElement},function(t,e,n){var o=n(9),i=n(48).f,r={}.toString,s=\"object\"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return s&&\"[object Window]\"==r.call(t)?function(t){try{return i(t)}catch(t){return s.slice()}}(t):i(o(t))}},function(t,e,n){var o=n(1)(\"unscopables\"),i=Array.prototype;null==i[o]&&n(4)(i,o,{}),t.exports=function(t){i[o][t]=!0}},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e,n){\"use strict\";var o=n(18),i=n(0),r=n(13),s=n(4),a=n(32),c=n(71),u=n(26),l=n(72),h=n(1)(\"iterator\"),f=!([].keys&&\"next\"in[].keys()),p=function(){return this};t.exports=function(t,e,n,d,v,y,g){c(n,e,d);var m,b,w,x=function(t){if(!f&&t in P)return P[t];switch(t){case\"keys\":case\"values\":return function(){return new n(this,t)}}return function(){return new n(this,t)}},S=e+\" Iterator\",O=\"values\"==v,k=!1,P=t.prototype,E=P[h]||P[\"@@iterator\"]||v&&P[v],N=E||x(v),j=v?O?x(\"entries\"):N:void 0,L=\"Array\"==e&&P.entries||E;if(L&&(w=l(L.call(new t)))!==Object.prototype&&w.next&&(u(w,S,!0),o||\"function\"==typeof w[h]||s(w,h,p)),O&&E&&\"values\"!==E.name&&(k=!0,N=function(){return E.call(this)}),o&&!g||!f&&!k&&P[h]||s(P,h,N),a[e]=N,a[S]=p,v)if(m={values:O?N:x(\"values\"),keys:y?N:x(\"keys\"),entries:j},g)for(b in m)b in P||r(P,b,m[b]);else i(i.P+i.F*(f||k),e,m);return m}},function(t,e,n){\"use strict\";var o=n(30),i=n(16),r=n(26),s={};n(4)(s,n(1)(\"iterator\"),function(){return this}),t.exports=function(t,e,n){t.prototype=o(s,{next:i(1,n)}),r(t,e+\" Iterator\")}},function(t,e,n){var o=n(8),i=n(19),r=n(27)(\"IE_PROTO\"),s=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=i(t),o(t,r)?t[r]:\"function\"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?s:null}},function(t,e,n){var o=n(23),i=n(1)(\"toStringTag\"),r=\"Arguments\"==o(function(){return arguments}());t.exports=function(t){var e,n,s;return void 0===t?\"Undefined\":null===t?\"Null\":\"string\"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),i))?n:r?o(e):\"Object\"==(s=o(e))&&\"function\"==typeof e.callee?\"Arguments\":s}},function(t,e,n){var o=n(0),i=n(11),r=n(7);t.exports=function(t,e){var n=(i.Object||{})[t]||Object[t],s={};s[t]=e(n),o(o.S+o.F*r(function(){n(1)}),\"Object\",s)}},function(t,e,n){\"use strict\";var o=n(37),i=n(3),r=n(76),s=[].slice,a={};t.exports=Function.bind||function(t){var e=o(this),n=s.call(arguments,1),c=function(){var o=n.concat(s.call(arguments));return this instanceof c?function(t,e,n){if(!(e in a)){for(var o=[],i=0;i<e;i++)o[i]=\"a[\"+i+\"]\";a[e]=Function(\"F,a\",\"return new F(\"+o.join(\",\")+\")\")}return a[e](t,n)}(e,o.length,o):r(e,o,t)};return i(e.prototype)&&(c.prototype=e.prototype),c}},function(t,e){t.exports=function(t,e,n){var o=void 0===n;switch(e.length){case 0:return o?t():t.call(n);case 1:return o?t(e[0]):t.call(n,e[0]);case 2:return o?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return o?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return o?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3])}return t.apply(n,e)}},function(t,e,n){\"use strict\";n(78)(\"trim\",function(t){return function(){return t(this,3)}})},function(t,e,n){var o=n(0),i=n(24),r=n(7),s=n(79),a=\"[\"+s+\"]\",c=RegExp(\"^\"+a+a+\"*\"),u=RegExp(a+a+\"*$\"),l=function(t,e,n){var i={},a=r(function(){return!!s[t]()||\"​\"!=\"​\"[t]()}),c=i[t]=a?e(h):s[t];n&&(i[n]=c),o(o.P+o.F*a,\"String\",i)},h=l.trim=function(t,e){return t=String(i(t)),1&e&&(t=t.replace(c,\"\")),2&e&&(t=t.replace(u,\"\")),t};t.exports=l},function(t,e){t.exports=\"\\t\\n\\v\\f\\r   ᠎             　\\u2028\\u2029\\ufeff\"},function(t,e,n){\"use strict\";var o=n(0),i=n(46)(!1),r=[].indexOf,s=!!r&&1/[1].indexOf(1,-0)<0;o(o.P+o.F*(s||!n(25)(r)),\"Array\",{indexOf:function(t){return s?r.apply(this,arguments)||0:i(this,t,arguments[1])}})},function(t,e,n){var o=n(3),i=n(12),r=function(t,e){if(i(t),!o(e)&&null!==e)throw TypeError(e+\": can't set as prototype!\")};t.exports={set:Object.setPrototypeOf||(\"__proto__\"in{}?function(t,e,o){try{(o=n(22)(Function.call,n(49).f(Object.prototype,\"__proto__\").set,2))(t,[]),e=!(t instanceof Array)}catch(t){e=!0}return function(t,n){return r(t,n),e?t.__proto__=n:o(t,n),t}}({},!1):void 0),check:r}},function(t,e,n){\"use strict\";n.r(e);n(34),n(20),n(50),n(31),n(51),n(52),n(10),n(53),n(54);var o=.75,i=10,r=!0,s=!0,a=!0,c=!1,u=\"driver-highlighted-element-stage\",l='<div id=\"'.concat(\"driver-page-overlay\",'\"></div>'),h='<div id=\"'.concat(u,'\"></div>');n(33),n(77);function f(t){return(f=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}var p=function(t){var e=document.createElement(\"div\");return e.innerHTML=t.trim(),e.firstChild},d=function t(e,n){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2]){for(var o=[\"\",\"-webkit-\",\"-ms-\",\"moz-\",\"-o-\"],i=0;i<o.length;i++){var r=t(e,o[i]+n);if(r)return r}return\"\"}var s=\"\";return e.currentStyle?s=e.currentStyle[n]:document.defaultView&&document.defaultView.getComputedStyle&&(s=document.defaultView.getComputedStyle(e,null).getPropertyValue(n)),s&&s.toLowerCase?s.toLowerCase():s},v=function(t){return t&&\"object\"===f(t)&&\"nodeType\"in t};function y(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,\"value\"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var g=function(){function t(e,n,o){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.options=e,this.highlightedElement=null,this.lastHighlightedElement=null,this.hideTimer=null,this.window=n,this.document=o,this.removeNode=this.removeNode.bind(this)}var e,n,o;return e=t,(n=[{key:\"attachNode\",value:function(){var t=this.document.getElementById(\"driver-page-overlay\");t||(t=p(l),document.body.appendChild(t)),this.node=t,this.node.style.opacity=\"0\",this.options.animate||this.node.parentElement&&this.node.parentElement.removeChild(this.node)}},{key:\"highlight\",value:function(t){t&&t.node?t.isSame(this.highlightedElement)||(this.window.clearTimeout(this.hideTimer),t.onHighlightStarted(),this.highlightedElement&&!this.highlightedElement.isSame(this.lastHighlightedElement)&&this.highlightedElement.onDeselected(),t.getCalculatedPosition().canHighlight()&&(this.lastHighlightedElement=this.highlightedElement,this.highlightedElement=t,this.show(),this.highlightedElement.onHighlighted())):console.warn(\"Invalid element to highlight. Must be an instance of `Element`\")}},{key:\"show\",value:function(){var t=this;this.node&&this.node.parentElement||(this.attachNode(),window.setTimeout(function(){t.node.style.opacity=\"\".concat(t.options.opacity),t.node.style.position=\"fixed\",t.node.style.left=\"0\",t.node.style.top=\"0\",t.node.style.bottom=\"0\",t.node.style.right=\"0\"}))}},{key:\"getHighlightedElement\",value:function(){return this.highlightedElement}},{key:\"getLastHighlightedElement\",value:function(){return this.lastHighlightedElement}},{key:\"clear\",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.options.onReset&&this.options.onReset(this.highlightedElement),this.highlightedElement){this.highlightedElement.onDeselected(!0)}this.highlightedElement=null,this.lastHighlightedElement=null,this.node&&(this.window.clearTimeout(this.hideTimer),this.options.animate&&!t?(this.node.style.opacity=\"0\",this.hideTimer=this.window.setTimeout(this.removeNode,300)):this.removeNode())}},{key:\"removeNode\",value:function(){this.node&&this.node.parentElement&&this.node.parentElement.removeChild(this.node)}},{key:\"refresh\",value:function(){this.highlightedElement&&(this.highlightedElement.showPopover(),this.highlightedElement.showStage())}}])&&y(e.prototype,n),o&&y(e,o),t}();n(80);function m(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,\"value\"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var b=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.left,o=void 0===n?0:n,i=e.top,r=void 0===i?0:i,s=e.right,a=void 0===s?0:s,c=e.bottom,u=void 0===c?0:c;!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.left=o,this.right=a,this.top=r,this.bottom=u}var e,n,o;return e=t,(n=[{key:\"canHighlight\",value:function(){return this.left<this.right&&this.top<this.bottom}}])&&m(e.prototype,n),o&&m(e,o),t}();function w(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,\"value\"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var x=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.node,o=e.options,i=e.popover,r=e.stage,s=e.overlay,a=e.window,c=e.document;!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.node=n,this.document=c,this.window=a,this.options=o,this.overlay=s,this.popover=i,this.stage=r,this.animationTimeout=null}var e,n,o;return e=t,(n=[{key:\"isInView\",value:function(){for(var t=this.node.offsetTop,e=this.node.offsetLeft,n=this.node.offsetWidth,o=this.node.offsetHeight,i=this.node;i.offsetParent;)t+=(i=i.offsetParent).offsetTop,e+=i.offsetLeft;return t>=this.window.pageYOffset&&e>=this.window.pageXOffset&&t+o<=this.window.pageYOffset+this.window.innerHeight&&e+n<=this.window.pageXOffset+this.window.innerWidth}},{key:\"scrollManually\",value:function(){var t=this.node.getBoundingClientRect().top+this.window.pageYOffset-this.window.innerHeight/2;this.window.scrollTo(0,t)}},{key:\"bringInView\",value:function(){if(this.node&&!this.isInView())if(this.node.scrollIntoView)try{this.node.scrollIntoView(this.options.scrollIntoViewOptions||{behavior:\"instant\",block:\"center\"})}catch(t){this.scrollManually()}else this.scrollManually()}},{key:\"getCalculatedPosition\",value:function(){var t=this.document.body,e=this.document.documentElement,n=this.window,o=this.window.pageYOffset||e.scrollTop||t.scrollTop,i=n.pageXOffset||e.scrollLeft||t.scrollLeft,r=this.node.getBoundingClientRect();return new b({top:r.top+o,left:r.left+i,right:r.left+i+r.width,bottom:r.top+o+r.height})}},{key:\"getPopover\",value:function(){return this.popover}},{key:\"onDeselected\",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.hidePopover(),t&&this.hideStage(),this.removeHighlightClasses(),this.window.clearTimeout(this.animationTimeout),this.options.onDeselected&&this.options.onDeselected(this)}},{key:\"isSame\",value:function(t){return!(!t||!t.node)&&t.node===this.node}},{key:\"onHighlightStarted\",value:function(){this.options.onHighlightStarted&&this.options.onHighlightStarted(this)}},{key:\"onHighlighted\",value:function(){this.isInView()||this.bringInView(),this.showPopover(),this.showStage(),this.addHighlightClasses(),this.options.onHighlighted&&this.options.onHighlighted(this)}},{key:\"removeHighlightClasses\",value:function(){this.node.classList.remove(\"driver-highlighted-element\"),this.node.classList.remove(\"driver-position-relative\");for(var t=this.document.querySelectorAll(\".\".concat(\"driver-fix-stacking\")),e=0;e<t.length;e++)t[e].classList.remove(\"driver-fix-stacking\")}},{key:\"addHighlightClasses\",value:function(){this.node.classList.add(\"driver-highlighted-element\"),this.canMakeRelative()&&this.node.classList.add(\"driver-position-relative\"),this.fixStackingContext()}},{key:\"fixStackingContext\",value:function(){for(var t=this.node.parentNode;t&&t.tagName&&\"body\"!==t.tagName.toLowerCase();){var e=d(t,\"z-index\"),n=parseFloat(d(t,\"opacity\")),o=d(t,\"transform\",!0),i=d(t,\"transform-style\",!0),r=d(t,\"transform-box\",!0),s=d(t,\"filter\",!0),a=d(t,\"perspective\",!0);(/[0-9]+/.test(e)||n<1||o&&\"none\"!==o||i&&\"flat\"!==i||r&&\"border-box\"!==r||s&&\"none\"!==s||a&&\"none\"!==a)&&t.classList.add(\"driver-fix-stacking\"),t=t.parentNode}}},{key:\"canMakeRelative\",value:function(){var t=this.getStyleProperty(\"position\");return-1===[\"absolute\",\"fixed\",\"relative\"].indexOf(t)}},{key:\"getStyleProperty\",value:function(t){return d(this.node,t)}},{key:\"showStage\",value:function(){this.stage.show(this.getCalculatedPosition())}},{key:\"getNode\",value:function(){return this.node}},{key:\"hideStage\",value:function(){this.stage.hide()}},{key:\"hidePopover\",value:function(){this.popover&&this.popover.hide()}},{key:\"showPopover\",value:function(){var t=this;if(this.popover){var e=this.getCalculatedPosition(),n=300;this.options.animate&&this.overlay.lastHighlightedElement||(n=0),this.animationTimeout=this.window.setTimeout(function(){t.popover.show(e)},n)}}},{key:\"getFullPageSize\",value:function(){var t=this.document.body,e=this.document.documentElement;return{height:Math.max(t.scrollHeight,t.offsetHeight,e.scrollHeight,e.offsetHeight),width:Math.max(t.scrollWidth,t.offsetWidth,e.scrollWidth,e.offsetWidth)}}},{key:\"getSize\",value:function(){return{height:Math.max(this.node.scrollHeight,this.node.offsetHeight),width:Math.max(this.node.scrollWidth,this.node.offsetWidth)}}}])&&w(e.prototype,n),o&&w(e,o),t}();n(55),n(56);function S(t){return(S=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function O(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function k(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,\"value\"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function P(t,e){return!e||\"object\"!==S(e)&&\"function\"!=typeof e?function(t){if(void 0===t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return t}(t):e}function E(t){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function N(t,e){return(N=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var j=function(t){function e(t,n,o){var i;return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e),(i=P(this,E(e).call(this))).options=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},o=Object.keys(n);\"function\"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),o.forEach(function(e){O(t,e,n[e])})}return t}({isFirst:!0,isLast:!0,totalCount:1,currentIndex:0,offset:0,showButtons:!0,closeBtnText:\"Close\",doneBtnText:\"Done\",startBtnText:\"Next &rarr;\",nextBtnText:\"Next &rarr;\",prevBtnText:\"&larr; Previous\"},t),i.window=n,i.document=o,i}var n,o,i;return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&N(t,e)}(e,x),n=e,(o=[{key:\"attachNode\",value:function(){var t=this.document.getElementById(\"driver-popover-item\");t&&t.parentElement.removeChild(t),t=p(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:\"\";return'\\n  <div id=\"'.concat(\"driver-popover-item\",'\" class=\"').concat(t,'\">\\n    <div class=\"').concat(\"driver-popover-tip\",'\"></div>\\n    <div class=\"').concat(\"driver-popover-title\",'\">Popover Title</div>\\n    <div class=\"').concat(\"driver-popover-description\",'\">Popover Description</div>\\n    <div class=\"driver-clearfix ').concat(\"driver-popover-footer\",'\">\\n      <button class=\"').concat(\"driver-close-btn\",'\">Close</button>\\n      <span class=\"driver-btn-group ').concat(\"driver-navigation-btns\",'\">\\n        <button class=\"').concat(\"driver-prev-btn\",'\">&larr; Previous</button>\\n        <button class=\"').concat(\"driver-next-btn\",'\">Next &rarr;</button>\\n      </span>\\n    </div>\\n  </div>')}(this.options.className)),document.body.appendChild(t),this.node=t,this.tipNode=t.querySelector(\".\".concat(\"driver-popover-tip\")),this.titleNode=t.querySelector(\".\".concat(\"driver-popover-title\")),this.descriptionNode=t.querySelector(\".\".concat(\"driver-popover-description\")),this.footerNode=t.querySelector(\".\".concat(\"driver-popover-footer\")),this.nextBtnNode=t.querySelector(\".\".concat(\"driver-next-btn\")),this.prevBtnNode=t.querySelector(\".\".concat(\"driver-prev-btn\")),this.closeBtnNode=t.querySelector(\".\".concat(\"driver-close-btn\"))}},{key:\"getTitleNode\",value:function(){return this.titleNode}},{key:\"getDescriptionNode\",value:function(){return this.descriptionNode}},{key:\"hide\",value:function(){this.node&&(this.node.style.display=\"none\")}},{key:\"setInitialState\",value:function(){this.node.style.display=\"block\",this.node.style.left=\"0\",this.node.style.top=\"0\",this.node.style.bottom=\"\",this.node.style.right=\"\",this.node.querySelector(\".\".concat(\"driver-popover-tip\")).className=\"driver-popover-tip\"}},{key:\"show\",value:function(t){switch(this.attachNode(),this.setInitialState(),this.titleNode.innerHTML=this.options.title,this.descriptionNode.innerHTML=this.options.description||\"\",this.renderFooter(),this.options.position){case\"left\":case\"left-top\":this.positionOnLeft(t);break;case\"left-center\":this.positionOnLeftCenter(t);break;case\"left-bottom\":this.positionOnLeftBottom(t);break;case\"right\":case\"right-top\":this.positionOnRight(t);break;case\"right-center\":this.positionOnRightCenter(t);break;case\"right-bottom\":this.positionOnRightBottom(t);break;case\"top\":case\"top-left\":this.positionOnTop(t);break;case\"top-center\":this.positionOnTopCenter(t);break;case\"top-right\":this.positionOnTopRight(t);break;case\"bottom\":case\"bottom-left\":this.positionOnBottom(t);break;case\"bottom-center\":this.positionOnBottomCenter(t);break;case\"bottom-right\":this.positionOnBottomRight(t);break;case\"mid-center\":this.positionOnMidCenter(t);break;case\"auto\":default:this.autoPosition(t)}this.bringInView()}},{key:\"renderFooter\",value:function(){this.nextBtnNode.innerHTML=this.options.nextBtnText,this.prevBtnNode.innerHTML=this.options.prevBtnText,this.closeBtnNode.innerHTML=this.options.closeBtnText;var t=this.options.totalCount&&1!==this.options.totalCount;this.options.showButtons?(t?(this.nextBtnNode.style.display=\"inline-block\",this.prevBtnNode.style.display=\"inline-block\",this.closeBtnNode.classList.remove(\"driver-close-only-btn\")):(this.nextBtnNode.style.display=\"none\",this.prevBtnNode.style.display=\"none\",this.closeBtnNode.classList.add(\"driver-close-only-btn\")),this.footerNode.style.display=\"block\",this.options.isFirst?(this.prevBtnNode.classList.add(\"driver-disabled\"),this.nextBtnNode.innerHTML=this.options.startBtnText):this.prevBtnNode.classList.remove(\"driver-disabled\"),this.options.isLast?this.nextBtnNode.innerHTML=this.options.doneBtnText:this.nextBtnNode.innerHTML=this.options.nextBtnText):this.footerNode.style.display=\"none\"}},{key:\"positionOnLeft\",value:function(t){var e=this.getSize().width,n=this.options.padding+10;this.node.style.left=\"\".concat(t.left-e-n,\"px\"),this.node.style.top=\"\".concat(t.top+this.options.offset-this.options.padding,\"px\"),this.node.style.right=\"\",this.node.style.bottom=\"\",this.tipNode.classList.add(\"right\")}},{key:\"positionOnLeftBottom\",value:function(t){var e=this.getSize(),n=e.width,o=this.options.padding+10;this.node.style.left=\"\".concat(t.left-n-o,\"px\"),this.node.style.top=\"\".concat(t.bottom+this.options.padding+this.options.offset-e.height,\"px\"),this.node.style.bottom=\"\",this.node.style.right=\"\",this.tipNode.classList.add(\"right\",\"position-bottom\")}},{key:\"positionOnLeftCenter\",value:function(t){var e=this.getSize(),n=e.width,o=e.height/2,i=this.options.padding+10,r=(t.bottom-t.top)/2,s=t.top-o+r+this.options.offset;this.node.style.left=\"\".concat(t.left-n-i,\"px\"),this.node.style.top=\"\".concat(s,\"px\"),this.node.style.right=\"\",this.node.style.bottom=\"\",this.tipNode.classList.add(\"right\",\"position-center\")}},{key:\"positionOnRight\",value:function(t){var e=this.options.padding+10;this.node.style.left=\"\".concat(t.right+e,\"px\"),this.node.style.top=\"\".concat(t.top+this.options.offset-this.options.padding,\"px\"),this.node.style.right=\"\",this.node.style.bottom=\"\",this.tipNode.classList.add(\"left\")}},{key:\"positionOnRightCenter\",value:function(t){var e=this.getSize(),n=this.options.padding+10,o=e.height/2,i=(t.bottom-t.top)/2,r=t.top-o+i+this.options.offset;this.node.style.left=\"\".concat(t.right+n,\"px\"),this.node.style.top=\"\".concat(r,\"px\"),this.node.style.right=\"\",this.node.style.bottom=\"\",this.tipNode.classList.add(\"left\",\"position-center\")}},{key:\"positionOnRightBottom\",value:function(t){var e=this.options.padding+10,n=this.getSize();this.node.style.left=\"\".concat(t.right+e,\"px\"),this.node.style.top=\"\".concat(t.bottom+this.options.padding+this.options.offset-n.height,\"px\"),this.node.style.bottom=\"\",this.node.style.right=\"\",this.tipNode.classList.add(\"left\",\"position-bottom\")}},{key:\"positionOnTop\",value:function(t){var e=this.getSize().height,n=this.options.padding+10;this.node.style.top=\"\".concat(t.top-e-n,\"px\"),this.node.style.left=\"\".concat(t.left-this.options.padding+this.options.offset,\"px\"),this.node.style.right=\"\",this.node.style.bottom=\"\",this.tipNode.classList.add(\"bottom\")}},{key:\"positionOnTopCenter\",value:function(t){var e=this.getSize(),n=e.height,o=e.width/2,i=this.options.padding+10,r=this.options.offset+t.left+(t.right-t.left)/2;this.node.style.top=\"\".concat(t.top-n-i,\"px\"),this.node.style.left=\"\".concat(r-o-this.options.padding,\"px\"),this.node.style.right=\"\",this.node.style.bottom=\"\",this.tipNode.classList.add(\"bottom\",\"position-center\")}},{key:\"positionOnTopRight\",value:function(t){var e=this.getSize(),n=e.height,o=this.options.padding+10;this.node.style.top=\"\".concat(t.top-n-o,\"px\"),this.node.style.left=\"\".concat(t.right+this.options.padding+this.options.offset-e.width,\"px\"),this.node.style.right=\"\",this.node.style.bottom=\"\",this.tipNode.classList.add(\"bottom\",\"position-right\")}},{key:\"positionOnBottom\",value:function(t){var e=this.options.padding+10;this.node.style.top=\"\".concat(t.bottom+e,\"px\"),this.node.style.left=\"\".concat(t.left-this.options.padding+this.options.offset,\"px\"),this.node.style.right=\"\",this.node.style.bottom=\"\",this.tipNode.classList.add(\"top\")}},{key:\"positionOnBottomCenter\",value:function(t){var e=this.getSize().width/2,n=this.options.padding+10,o=this.options.offset+t.left+(t.right-t.left)/2;this.node.style.top=\"\".concat(t.bottom+n,\"px\"),this.node.style.left=\"\".concat(o-e-this.options.padding,\"px\"),this.node.style.right=\"\",this.node.style.bottom=\"\",this.tipNode.classList.add(\"top\",\"position-center\")}},{key:\"positionOnBottomRight\",value:function(t){var e=this.getSize(),n=this.options.padding+10;this.node.style.top=\"\".concat(t.bottom+n,\"px\"),this.node.style.left=\"\".concat(t.right+this.options.padding+this.options.offset-e.width,\"px\"),this.node.style.right=\"\",this.node.style.bottom=\"\",this.tipNode.classList.add(\"top\",\"position-right\")}},{key:\"positionOnMidCenter\",value:function(t){var e=this.getSize(),n=e.height,o=e.width/2,i=n/2,r=(t.bottom-t.top)/2,s=t.top-i+r+this.options.offset,a=this.options.offset+t.left+(t.right-t.left)/2;this.node.style.top=\"\".concat(s,\"px\"),this.node.style.left=\"\".concat(a-o-this.options.padding,\"px\"),this.node.style.right=\"\",this.node.style.bottom=\"\",this.tipNode.classList.add(\"mid-center\")}},{key:\"autoPosition\",value:function(t){var e=this.getFullPageSize(),n=this.getSize(),o=e.height,i=n.height,r=this.options.padding+10;t.bottom+i+r>=o?this.positionOnTop(t):this.positionOnBottom(t)}}])&&k(n.prototype,o),i&&k(n,i),e}();function L(t){return(L=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function T(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,\"value\"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function C(t,e){return!e||\"object\"!==L(e)&&\"function\"!=typeof e?function(t){if(void 0===t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return t}(t):e}function _(t){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function M(t,e){return(M=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var H=function(t){function e(t,n,o){var i;return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e),(i=C(this,_(e).call(this))).options=t,i.window=n,i.document=o,i}var n,o,i;return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&M(t,e)}(e,x),n=e,(o=[{key:\"attachNode\",value:function(){var t=this.document.getElementById(u);t||(t=p(h),document.body.appendChild(t)),this.node=t,this.options.animate?this.node.classList.remove(\"driver-stage-no-animation\"):this.node.classList.add(\"driver-stage-no-animation\")}},{key:\"hide\",value:function(){this.node&&this.node.parentElement&&this.node.parentElement.removeChild(this.node)}},{key:\"setInitialStyle\",value:function(){this.node.style.display=\"block\",this.node.style.left=\"0\",this.node.style.top=\"0\",this.node.style.bottom=\"\",this.node.style.right=\"\"}},{key:\"show\",value:function(t){this.attachNode(),this.setInitialStyle();var e=2*this.options.padding,n=t.right-t.left+e,o=t.bottom-t.top+e;this.node.style.display=\"block\",this.node.style.position=\"absolute\",this.node.style.width=\"\".concat(n,\"px\"),this.node.style.height=\"\".concat(o,\"px\"),this.node.style.top=\"\".concat(t.top-e/2,\"px\"),this.node.style.left=\"\".concat(t.left-e/2,\"px\"),this.node.style.backgroundColor=this.options.stageBackground}}])&&T(n.prototype,o),i&&T(n,i),e}();function B(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},o=Object.keys(n);\"function\"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),o.forEach(function(e){F(t,e,n[e])})}return t}function F(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function I(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,\"value\"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}n.d(e,\"default\",function(){return R});var R=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.options=B({animate:r,opacity:o,padding:i,scrollIntoViewOptions:null,allowClose:s,keyboardControl:a,overlayClickNext:c,stageBackground:\"#ffffff\",onHighlightStarted:function(){return null},onHighlighted:function(){return null},onDeselected:function(){return null},onReset:function(){return null},onNext:function(){return null},onPrevious:function(){return null}},e),this.document=document,this.window=window,this.isActivated=!1,this.steps=[],this.currentStep=0,this.currentMovePrevented=!1,this.overlay=new g(this.options,window,document),this.onResize=this.onResize.bind(this),this.onKeyUp=this.onKeyUp.bind(this),this.onClick=this.onClick.bind(this),this.moveNext=this.moveNext.bind(this),this.movePrevious=this.movePrevious.bind(this),this.preventMove=this.preventMove.bind(this),this.bind()}var e,n,u;return e=t,(n=[{key:\"getSteps\",value:function(){return this.steps}},{key:\"setSteps\",value:function(t){this.steps=t}},{key:\"bind\",value:function(){this.window.addEventListener(\"resize\",this.onResize,!1),this.window.addEventListener(\"keyup\",this.onKeyUp,!1),\"ontouchstart\"in document.documentElement?this.window.addEventListener(\"touchstart\",this.onClick,!1):this.window.addEventListener(\"click\",this.onClick,!1)}},{key:\"onClick\",value:function(t){if(this.isActivated&&this.hasHighlightedElement()){t.stopPropagation();var e=this.overlay.getHighlightedElement(),n=this.document.getElementById(\"driver-popover-item\"),o=e.node.contains(t.target),i=n&&n.contains(t.target);if(o||i||!this.options.overlayClickNext)if(o||i||!this.options.allowClose){var r=t.target.classList.contains(\"driver-next-btn\"),s=t.target.classList.contains(\"driver-prev-btn\");t.target.classList.contains(\"driver-close-btn\")?this.reset():r?this.handleNext():s&&this.handlePrevious()}else this.reset();else this.handleNext()}}},{key:\"onResize\",value:function(){this.isActivated&&this.refresh()}},{key:\"refresh\",value:function(){this.overlay.refresh()}},{key:\"onKeyUp\",value:function(t){if(this.isActivated&&this.options.keyboardControl)if(27!==t.keyCode){var e=this.getHighlightedElement();e&&e.popover&&(39===t.keyCode?this.handleNext():37===t.keyCode&&this.handlePrevious())}else this.reset()}},{key:\"movePrevious\",value:function(){var t=this.steps[this.currentStep-1];t?(this.overlay.highlight(t),this.currentStep-=1):this.reset()}},{key:\"preventMove\",value:function(){this.currentMovePrevented=!0}},{key:\"handleNext\",value:function(){this.currentMovePrevented=!1;var t=this.steps[this.currentStep];t&&t.options&&t.options.onNext&&t.options.onNext(this.overlay.highlightedElement),this.currentMovePrevented||this.moveNext()}},{key:\"handlePrevious\",value:function(){this.currentMovePrevented=!1;var t=this.steps[this.currentStep];t&&t.options&&t.options.onPrevious&&t.options.onPrevious(this.overlay.highlightedElement),this.currentMovePrevented||this.movePrevious()}},{key:\"moveNext\",value:function(){var t=this.steps[this.currentStep+1];t?(this.overlay.highlight(t),this.currentStep+=1):this.reset()}},{key:\"hasNextStep\",value:function(){return!!this.steps[this.currentStep+1]}},{key:\"hasPreviousStep\",value:function(){return!!this.steps[this.currentStep-1]}},{key:\"reset\",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.currentStep=0,this.isActivated=!1,this.overlay.clear(t)}},{key:\"hasHighlightedElement\",value:function(){var t=this.overlay.getHighlightedElement();return t&&t.node}},{key:\"getHighlightedElement\",value:function(){return this.overlay.getHighlightedElement()}},{key:\"getLastHighlightedElement\",value:function(){return this.overlay.getLastHighlightedElement()}},{key:\"defineSteps\",value:function(t){this.steps=[];for(var e=0;e<t.length;e++){var n=this.prepareElementFromStep(t[e],t,e);n&&this.steps.push(n)}}},{key:\"prepareElementFromStep\",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=B({},this.options),i=t,r=\"string\"!=typeof t&&!v(t);if(!t||r&&!t.element)throw new Error(\"Element is required in step \".concat(n));r&&(i=t.element,o=B({},this.options,t));var s=v(i)?i:this.document.querySelector(i);if(!s)return console.warn(\"Element to highlight \".concat(i,\" not found\")),null;var a=null;if(o.popover&&o.popover.title){var c=[this.options.className,o.popover.className].filter(function(t){return t}).join(\" \"),u=B({},o,o.popover,{className:c,totalCount:e.length,currentIndex:n,isFirst:0===n,isLast:0===e.length||n===e.length-1});a=new j(u,this.window,this.document)}var l=B({},o),h=new H(l,this.window,this.document);return new x({node:s,options:o,popover:a,stage:h,overlay:this.overlay,window:this.window,document:this.document})}},{key:\"start\",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(!this.steps||0===this.steps.length)throw new Error(\"There are no steps defined to iterate\");this.isActivated=!0,this.currentStep=t,this.overlay.highlight(this.steps[t])}},{key:\"highlight\",value:function(t){this.isActivated=!0;var e=this.prepareElementFromStep(t);e&&this.overlay.highlight(e)}}])&&I(e.prototype,n),u&&I(e,u),t}()}]).default});\n//# sourceMappingURL=driver.min.js.map","import Driver from 'driver.js';\n\nfrappe.Driver = Driver;","typeof navigator === \"object\" && // Polyfill for creating CustomEvents on IE9/10/11\n// code pulled from:\n// https://github.com/d4tocchini/customevent-polyfill\n// https://developer.mozilla.org/en-US/docs/Web/API/CustomEvent#Polyfill\n(function () {\n  if (typeof window === 'undefined') {\n    return;\n  }\n\n  try {\n    var ce = new window.CustomEvent('test', {\n      cancelable: true\n    });\n    ce.preventDefault();\n\n    if (ce.defaultPrevented !== true) {\n      // IE has problems with .preventDefault() on custom events\n      // http://stackoverflow.com/questions/23349191\n      throw new Error('Could not prevent default');\n    }\n  } catch (e) {\n    var CustomEvent = function CustomEvent(event, params) {\n      var evt, origPrevent;\n      params = params || {};\n      params.bubbles = !!params.bubbles;\n      params.cancelable = !!params.cancelable;\n      evt = document.createEvent('CustomEvent');\n      evt.initCustomEvent(event, params.bubbles, params.cancelable, params.detail);\n      origPrevent = evt.preventDefault;\n\n      evt.preventDefault = function () {\n        origPrevent.call(this);\n\n        try {\n          Object.defineProperty(this, 'defaultPrevented', {\n            get: function get() {\n              return true;\n            }\n          });\n        } catch (e) {\n          this.defaultPrevented = true;\n        }\n      };\n\n      return evt;\n    };\n\n    CustomEvent.prototype = window.Event.prototype;\n    window.CustomEvent = CustomEvent; // expose definition to window\n  }\n})();\n\nvar commonjsGlobal = typeof globalThis !== 'undefined' ? globalThis : typeof window !== 'undefined' ? window : typeof global !== 'undefined' ? global : typeof self !== 'undefined' ? self : {};\n\nfunction createCommonjsModule(fn, module) {\n\treturn module = { exports: {} }, fn(module, module.exports), module.exports;\n}\n\nvar check = function (it) {\n  return it && it.Math == Math && it;\n};\n\n// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nvar global_1 =\n  // eslint-disable-next-line no-undef\n  check(typeof globalThis == 'object' && globalThis) ||\n  check(typeof window == 'object' && window) ||\n  check(typeof self == 'object' && self) ||\n  check(typeof commonjsGlobal == 'object' && commonjsGlobal) ||\n  // eslint-disable-next-line no-new-func\n  Function('return this')();\n\nvar fails = function (exec) {\n  try {\n    return !!exec();\n  } catch (error) {\n    return true;\n  }\n};\n\n// Thank's IE8 for his funny defineProperty\nvar descriptors = !fails(function () {\n  return Object.defineProperty({}, 1, { get: function () { return 7; } })[1] != 7;\n});\n\nvar nativePropertyIsEnumerable = {}.propertyIsEnumerable;\nvar getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n// Nashorn ~ JDK8 bug\nvar NASHORN_BUG = getOwnPropertyDescriptor && !nativePropertyIsEnumerable.call({ 1: 2 }, 1);\n\n// `Object.prototype.propertyIsEnumerable` method implementation\n// https://tc39.github.io/ecma262/#sec-object.prototype.propertyisenumerable\nvar f = NASHORN_BUG ? function propertyIsEnumerable(V) {\n  var descriptor = getOwnPropertyDescriptor(this, V);\n  return !!descriptor && descriptor.enumerable;\n} : nativePropertyIsEnumerable;\n\nvar objectPropertyIsEnumerable = {\n\tf: f\n};\n\nvar createPropertyDescriptor = function (bitmap, value) {\n  return {\n    enumerable: !(bitmap & 1),\n    configurable: !(bitmap & 2),\n    writable: !(bitmap & 4),\n    value: value\n  };\n};\n\nvar toString = {}.toString;\n\nvar classofRaw = function (it) {\n  return toString.call(it).slice(8, -1);\n};\n\nvar split = ''.split;\n\n// fallback for non-array-like ES3 and non-enumerable old V8 strings\nvar indexedObject = fails(function () {\n  // throws an error in rhino, see https://github.com/mozilla/rhino/issues/346\n  // eslint-disable-next-line no-prototype-builtins\n  return !Object('z').propertyIsEnumerable(0);\n}) ? function (it) {\n  return classofRaw(it) == 'String' ? split.call(it, '') : Object(it);\n} : Object;\n\n// `RequireObjectCoercible` abstract operation\n// https://tc39.github.io/ecma262/#sec-requireobjectcoercible\nvar requireObjectCoercible = function (it) {\n  if (it == undefined) throw TypeError(\"Can't call method on \" + it);\n  return it;\n};\n\n// toObject with fallback for non-array-like ES3 strings\n\n\n\nvar toIndexedObject = function (it) {\n  return indexedObject(requireObjectCoercible(it));\n};\n\nvar isObject = function (it) {\n  return typeof it === 'object' ? it !== null : typeof it === 'function';\n};\n\n// `ToPrimitive` abstract operation\n// https://tc39.github.io/ecma262/#sec-toprimitive\n// instead of the ES6 spec version, we didn't implement @@toPrimitive case\n// and the second argument - flag - preferred type is a string\nvar toPrimitive = function (input, PREFERRED_STRING) {\n  if (!isObject(input)) return input;\n  var fn, val;\n  if (PREFERRED_STRING && typeof (fn = input.toString) == 'function' && !isObject(val = fn.call(input))) return val;\n  if (typeof (fn = input.valueOf) == 'function' && !isObject(val = fn.call(input))) return val;\n  if (!PREFERRED_STRING && typeof (fn = input.toString) == 'function' && !isObject(val = fn.call(input))) return val;\n  throw TypeError(\"Can't convert object to primitive value\");\n};\n\nvar hasOwnProperty = {}.hasOwnProperty;\n\nvar has = function (it, key) {\n  return hasOwnProperty.call(it, key);\n};\n\nvar document$1 = global_1.document;\n// typeof document.createElement is 'object' in old IE\nvar EXISTS = isObject(document$1) && isObject(document$1.createElement);\n\nvar documentCreateElement = function (it) {\n  return EXISTS ? document$1.createElement(it) : {};\n};\n\n// Thank's IE8 for his funny defineProperty\nvar ie8DomDefine = !descriptors && !fails(function () {\n  return Object.defineProperty(documentCreateElement('div'), 'a', {\n    get: function () { return 7; }\n  }).a != 7;\n});\n\nvar nativeGetOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n// `Object.getOwnPropertyDescriptor` method\n// https://tc39.github.io/ecma262/#sec-object.getownpropertydescriptor\nvar f$1 = descriptors ? nativeGetOwnPropertyDescriptor : function getOwnPropertyDescriptor(O, P) {\n  O = toIndexedObject(O);\n  P = toPrimitive(P, true);\n  if (ie8DomDefine) try {\n    return nativeGetOwnPropertyDescriptor(O, P);\n  } catch (error) { /* empty */ }\n  if (has(O, P)) return createPropertyDescriptor(!objectPropertyIsEnumerable.f.call(O, P), O[P]);\n};\n\nvar objectGetOwnPropertyDescriptor = {\n\tf: f$1\n};\n\nvar anObject = function (it) {\n  if (!isObject(it)) {\n    throw TypeError(String(it) + ' is not an object');\n  } return it;\n};\n\nvar nativeDefineProperty = Object.defineProperty;\n\n// `Object.defineProperty` method\n// https://tc39.github.io/ecma262/#sec-object.defineproperty\nvar f$2 = descriptors ? nativeDefineProperty : function defineProperty(O, P, Attributes) {\n  anObject(O);\n  P = toPrimitive(P, true);\n  anObject(Attributes);\n  if (ie8DomDefine) try {\n    return nativeDefineProperty(O, P, Attributes);\n  } catch (error) { /* empty */ }\n  if ('get' in Attributes || 'set' in Attributes) throw TypeError('Accessors not supported');\n  if ('value' in Attributes) O[P] = Attributes.value;\n  return O;\n};\n\nvar objectDefineProperty = {\n\tf: f$2\n};\n\nvar createNonEnumerableProperty = descriptors ? function (object, key, value) {\n  return objectDefineProperty.f(object, key, createPropertyDescriptor(1, value));\n} : function (object, key, value) {\n  object[key] = value;\n  return object;\n};\n\nvar setGlobal = function (key, value) {\n  try {\n    createNonEnumerableProperty(global_1, key, value);\n  } catch (error) {\n    global_1[key] = value;\n  } return value;\n};\n\nvar SHARED = '__core-js_shared__';\nvar store = global_1[SHARED] || setGlobal(SHARED, {});\n\nvar sharedStore = store;\n\nvar functionToString = Function.toString;\n\n// this helper broken in `3.4.1-3.4.4`, so we can't use `shared` helper\nif (typeof sharedStore.inspectSource != 'function') {\n  sharedStore.inspectSource = function (it) {\n    return functionToString.call(it);\n  };\n}\n\nvar inspectSource = sharedStore.inspectSource;\n\nvar WeakMap$1 = global_1.WeakMap;\n\nvar nativeWeakMap = typeof WeakMap$1 === 'function' && /native code/.test(inspectSource(WeakMap$1));\n\nvar isPure = false;\n\nvar shared = createCommonjsModule(function (module) {\n(module.exports = function (key, value) {\n  return sharedStore[key] || (sharedStore[key] = value !== undefined ? value : {});\n})('versions', []).push({\n  version: '3.6.5',\n  mode:  'global',\n  copyright: '© 2020 Denis Pushkarev (zloirock.ru)'\n});\n});\n\nvar id = 0;\nvar postfix = Math.random();\n\nvar uid = function (key) {\n  return 'Symbol(' + String(key === undefined ? '' : key) + ')_' + (++id + postfix).toString(36);\n};\n\nvar keys = shared('keys');\n\nvar sharedKey = function (key) {\n  return keys[key] || (keys[key] = uid(key));\n};\n\nvar hiddenKeys = {};\n\nvar WeakMap$2 = global_1.WeakMap;\nvar set, get, has$1;\n\nvar enforce = function (it) {\n  return has$1(it) ? get(it) : set(it, {});\n};\n\nvar getterFor = function (TYPE) {\n  return function (it) {\n    var state;\n    if (!isObject(it) || (state = get(it)).type !== TYPE) {\n      throw TypeError('Incompatible receiver, ' + TYPE + ' required');\n    } return state;\n  };\n};\n\nif (nativeWeakMap) {\n  var store$1 = new WeakMap$2();\n  var wmget = store$1.get;\n  var wmhas = store$1.has;\n  var wmset = store$1.set;\n  set = function (it, metadata) {\n    wmset.call(store$1, it, metadata);\n    return metadata;\n  };\n  get = function (it) {\n    return wmget.call(store$1, it) || {};\n  };\n  has$1 = function (it) {\n    return wmhas.call(store$1, it);\n  };\n} else {\n  var STATE = sharedKey('state');\n  hiddenKeys[STATE] = true;\n  set = function (it, metadata) {\n    createNonEnumerableProperty(it, STATE, metadata);\n    return metadata;\n  };\n  get = function (it) {\n    return has(it, STATE) ? it[STATE] : {};\n  };\n  has$1 = function (it) {\n    return has(it, STATE);\n  };\n}\n\nvar internalState = {\n  set: set,\n  get: get,\n  has: has$1,\n  enforce: enforce,\n  getterFor: getterFor\n};\n\nvar redefine = createCommonjsModule(function (module) {\nvar getInternalState = internalState.get;\nvar enforceInternalState = internalState.enforce;\nvar TEMPLATE = String(String).split('String');\n\n(module.exports = function (O, key, value, options) {\n  var unsafe = options ? !!options.unsafe : false;\n  var simple = options ? !!options.enumerable : false;\n  var noTargetGet = options ? !!options.noTargetGet : false;\n  if (typeof value == 'function') {\n    if (typeof key == 'string' && !has(value, 'name')) createNonEnumerableProperty(value, 'name', key);\n    enforceInternalState(value).source = TEMPLATE.join(typeof key == 'string' ? key : '');\n  }\n  if (O === global_1) {\n    if (simple) O[key] = value;\n    else setGlobal(key, value);\n    return;\n  } else if (!unsafe) {\n    delete O[key];\n  } else if (!noTargetGet && O[key]) {\n    simple = true;\n  }\n  if (simple) O[key] = value;\n  else createNonEnumerableProperty(O, key, value);\n// add fake Function#toString for correct work wrapped methods / constructors with methods like LoDash isNative\n})(Function.prototype, 'toString', function toString() {\n  return typeof this == 'function' && getInternalState(this).source || inspectSource(this);\n});\n});\n\nvar path = global_1;\n\nvar aFunction = function (variable) {\n  return typeof variable == 'function' ? variable : undefined;\n};\n\nvar getBuiltIn = function (namespace, method) {\n  return arguments.length < 2 ? aFunction(path[namespace]) || aFunction(global_1[namespace])\n    : path[namespace] && path[namespace][method] || global_1[namespace] && global_1[namespace][method];\n};\n\nvar ceil = Math.ceil;\nvar floor = Math.floor;\n\n// `ToInteger` abstract operation\n// https://tc39.github.io/ecma262/#sec-tointeger\nvar toInteger = function (argument) {\n  return isNaN(argument = +argument) ? 0 : (argument > 0 ? floor : ceil)(argument);\n};\n\nvar min = Math.min;\n\n// `ToLength` abstract operation\n// https://tc39.github.io/ecma262/#sec-tolength\nvar toLength = function (argument) {\n  return argument > 0 ? min(toInteger(argument), 0x1FFFFFFFFFFFFF) : 0; // 2 ** 53 - 1 == 9007199254740991\n};\n\nvar max = Math.max;\nvar min$1 = Math.min;\n\n// Helper for a popular repeating case of the spec:\n// Let integer be ? ToInteger(index).\n// If integer < 0, let result be max((length + integer), 0); else let result be min(integer, length).\nvar toAbsoluteIndex = function (index, length) {\n  var integer = toInteger(index);\n  return integer < 0 ? max(integer + length, 0) : min$1(integer, length);\n};\n\n// `Array.prototype.{ indexOf, includes }` methods implementation\nvar createMethod = function (IS_INCLUDES) {\n  return function ($this, el, fromIndex) {\n    var O = toIndexedObject($this);\n    var length = toLength(O.length);\n    var index = toAbsoluteIndex(fromIndex, length);\n    var value;\n    // Array#includes uses SameValueZero equality algorithm\n    // eslint-disable-next-line no-self-compare\n    if (IS_INCLUDES && el != el) while (length > index) {\n      value = O[index++];\n      // eslint-disable-next-line no-self-compare\n      if (value != value) return true;\n    // Array#indexOf ignores holes, Array#includes - not\n    } else for (;length > index; index++) {\n      if ((IS_INCLUDES || index in O) && O[index] === el) return IS_INCLUDES || index || 0;\n    } return !IS_INCLUDES && -1;\n  };\n};\n\nvar arrayIncludes = {\n  // `Array.prototype.includes` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.includes\n  includes: createMethod(true),\n  // `Array.prototype.indexOf` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.indexof\n  indexOf: createMethod(false)\n};\n\nvar indexOf = arrayIncludes.indexOf;\n\n\nvar objectKeysInternal = function (object, names) {\n  var O = toIndexedObject(object);\n  var i = 0;\n  var result = [];\n  var key;\n  for (key in O) !has(hiddenKeys, key) && has(O, key) && result.push(key);\n  // Don't enum bug & hidden keys\n  while (names.length > i) if (has(O, key = names[i++])) {\n    ~indexOf(result, key) || result.push(key);\n  }\n  return result;\n};\n\n// IE8- don't enum bug keys\nvar enumBugKeys = [\n  'constructor',\n  'hasOwnProperty',\n  'isPrototypeOf',\n  'propertyIsEnumerable',\n  'toLocaleString',\n  'toString',\n  'valueOf'\n];\n\nvar hiddenKeys$1 = enumBugKeys.concat('length', 'prototype');\n\n// `Object.getOwnPropertyNames` method\n// https://tc39.github.io/ecma262/#sec-object.getownpropertynames\nvar f$3 = Object.getOwnPropertyNames || function getOwnPropertyNames(O) {\n  return objectKeysInternal(O, hiddenKeys$1);\n};\n\nvar objectGetOwnPropertyNames = {\n\tf: f$3\n};\n\nvar f$4 = Object.getOwnPropertySymbols;\n\nvar objectGetOwnPropertySymbols = {\n\tf: f$4\n};\n\n// all object keys, includes non-enumerable and symbols\nvar ownKeys = getBuiltIn('Reflect', 'ownKeys') || function ownKeys(it) {\n  var keys = objectGetOwnPropertyNames.f(anObject(it));\n  var getOwnPropertySymbols = objectGetOwnPropertySymbols.f;\n  return getOwnPropertySymbols ? keys.concat(getOwnPropertySymbols(it)) : keys;\n};\n\nvar copyConstructorProperties = function (target, source) {\n  var keys = ownKeys(source);\n  var defineProperty = objectDefineProperty.f;\n  var getOwnPropertyDescriptor = objectGetOwnPropertyDescriptor.f;\n  for (var i = 0; i < keys.length; i++) {\n    var key = keys[i];\n    if (!has(target, key)) defineProperty(target, key, getOwnPropertyDescriptor(source, key));\n  }\n};\n\nvar replacement = /#|\\.prototype\\./;\n\nvar isForced = function (feature, detection) {\n  var value = data[normalize(feature)];\n  return value == POLYFILL ? true\n    : value == NATIVE ? false\n    : typeof detection == 'function' ? fails(detection)\n    : !!detection;\n};\n\nvar normalize = isForced.normalize = function (string) {\n  return String(string).replace(replacement, '.').toLowerCase();\n};\n\nvar data = isForced.data = {};\nvar NATIVE = isForced.NATIVE = 'N';\nvar POLYFILL = isForced.POLYFILL = 'P';\n\nvar isForced_1 = isForced;\n\nvar getOwnPropertyDescriptor$1 = objectGetOwnPropertyDescriptor.f;\n\n\n\n\n\n\n/*\n  options.target      - name of the target object\n  options.global      - target is the global object\n  options.stat        - export as static methods of target\n  options.proto       - export as prototype methods of target\n  options.real        - real prototype method for the `pure` version\n  options.forced      - export even if the native feature is available\n  options.bind        - bind methods to the target, required for the `pure` version\n  options.wrap        - wrap constructors to preventing global pollution, required for the `pure` version\n  options.unsafe      - use the simple assignment of property instead of delete + defineProperty\n  options.sham        - add a flag to not completely full polyfills\n  options.enumerable  - export as enumerable property\n  options.noTargetGet - prevent calling a getter on target\n*/\nvar _export = function (options, source) {\n  var TARGET = options.target;\n  var GLOBAL = options.global;\n  var STATIC = options.stat;\n  var FORCED, target, key, targetProperty, sourceProperty, descriptor;\n  if (GLOBAL) {\n    target = global_1;\n  } else if (STATIC) {\n    target = global_1[TARGET] || setGlobal(TARGET, {});\n  } else {\n    target = (global_1[TARGET] || {}).prototype;\n  }\n  if (target) for (key in source) {\n    sourceProperty = source[key];\n    if (options.noTargetGet) {\n      descriptor = getOwnPropertyDescriptor$1(target, key);\n      targetProperty = descriptor && descriptor.value;\n    } else targetProperty = target[key];\n    FORCED = isForced_1(GLOBAL ? key : TARGET + (STATIC ? '.' : '#') + key, options.forced);\n    // contained in target\n    if (!FORCED && targetProperty !== undefined) {\n      if (typeof sourceProperty === typeof targetProperty) continue;\n      copyConstructorProperties(sourceProperty, targetProperty);\n    }\n    // add a flag to not completely full polyfills\n    if (options.sham || (targetProperty && targetProperty.sham)) {\n      createNonEnumerableProperty(sourceProperty, 'sham', true);\n    }\n    // extend global\n    redefine(target, key, sourceProperty, options);\n  }\n};\n\nvar nativeSymbol = !!Object.getOwnPropertySymbols && !fails(function () {\n  // Chrome 38 Symbol has incorrect toString conversion\n  // eslint-disable-next-line no-undef\n  return !String(Symbol());\n});\n\nvar useSymbolAsUid = nativeSymbol\n  // eslint-disable-next-line no-undef\n  && !Symbol.sham\n  // eslint-disable-next-line no-undef\n  && typeof Symbol.iterator == 'symbol';\n\n// `IsArray` abstract operation\n// https://tc39.github.io/ecma262/#sec-isarray\nvar isArray = Array.isArray || function isArray(arg) {\n  return classofRaw(arg) == 'Array';\n};\n\n// `ToObject` abstract operation\n// https://tc39.github.io/ecma262/#sec-toobject\nvar toObject = function (argument) {\n  return Object(requireObjectCoercible(argument));\n};\n\n// `Object.keys` method\n// https://tc39.github.io/ecma262/#sec-object.keys\nvar objectKeys = Object.keys || function keys(O) {\n  return objectKeysInternal(O, enumBugKeys);\n};\n\n// `Object.defineProperties` method\n// https://tc39.github.io/ecma262/#sec-object.defineproperties\nvar objectDefineProperties = descriptors ? Object.defineProperties : function defineProperties(O, Properties) {\n  anObject(O);\n  var keys = objectKeys(Properties);\n  var length = keys.length;\n  var index = 0;\n  var key;\n  while (length > index) objectDefineProperty.f(O, key = keys[index++], Properties[key]);\n  return O;\n};\n\nvar html = getBuiltIn('document', 'documentElement');\n\nvar GT = '>';\nvar LT = '<';\nvar PROTOTYPE = 'prototype';\nvar SCRIPT = 'script';\nvar IE_PROTO = sharedKey('IE_PROTO');\n\nvar EmptyConstructor = function () { /* empty */ };\n\nvar scriptTag = function (content) {\n  return LT + SCRIPT + GT + content + LT + '/' + SCRIPT + GT;\n};\n\n// Create object with fake `null` prototype: use ActiveX Object with cleared prototype\nvar NullProtoObjectViaActiveX = function (activeXDocument) {\n  activeXDocument.write(scriptTag(''));\n  activeXDocument.close();\n  var temp = activeXDocument.parentWindow.Object;\n  activeXDocument = null; // avoid memory leak\n  return temp;\n};\n\n// Create object with fake `null` prototype: use iframe Object with cleared prototype\nvar NullProtoObjectViaIFrame = function () {\n  // Thrash, waste and sodomy: IE GC bug\n  var iframe = documentCreateElement('iframe');\n  var JS = 'java' + SCRIPT + ':';\n  var iframeDocument;\n  iframe.style.display = 'none';\n  html.appendChild(iframe);\n  // https://github.com/zloirock/core-js/issues/475\n  iframe.src = String(JS);\n  iframeDocument = iframe.contentWindow.document;\n  iframeDocument.open();\n  iframeDocument.write(scriptTag('document.F=Object'));\n  iframeDocument.close();\n  return iframeDocument.F;\n};\n\n// Check for document.domain and active x support\n// No need to use active x approach when document.domain is not set\n// see https://github.com/es-shims/es5-shim/issues/150\n// variation of https://github.com/kitcambridge/es5-shim/commit/4f738ac066346\n// avoid IE GC bug\nvar activeXDocument;\nvar NullProtoObject = function () {\n  try {\n    /* global ActiveXObject */\n    activeXDocument = document.domain && new ActiveXObject('htmlfile');\n  } catch (error) { /* ignore */ }\n  NullProtoObject = activeXDocument ? NullProtoObjectViaActiveX(activeXDocument) : NullProtoObjectViaIFrame();\n  var length = enumBugKeys.length;\n  while (length--) delete NullProtoObject[PROTOTYPE][enumBugKeys[length]];\n  return NullProtoObject();\n};\n\nhiddenKeys[IE_PROTO] = true;\n\n// `Object.create` method\n// https://tc39.github.io/ecma262/#sec-object.create\nvar objectCreate = Object.create || function create(O, Properties) {\n  var result;\n  if (O !== null) {\n    EmptyConstructor[PROTOTYPE] = anObject(O);\n    result = new EmptyConstructor();\n    EmptyConstructor[PROTOTYPE] = null;\n    // add \"__proto__\" for Object.getPrototypeOf polyfill\n    result[IE_PROTO] = O;\n  } else result = NullProtoObject();\n  return Properties === undefined ? result : objectDefineProperties(result, Properties);\n};\n\nvar nativeGetOwnPropertyNames = objectGetOwnPropertyNames.f;\n\nvar toString$1 = {}.toString;\n\nvar windowNames = typeof window == 'object' && window && Object.getOwnPropertyNames\n  ? Object.getOwnPropertyNames(window) : [];\n\nvar getWindowNames = function (it) {\n  try {\n    return nativeGetOwnPropertyNames(it);\n  } catch (error) {\n    return windowNames.slice();\n  }\n};\n\n// fallback for IE11 buggy Object.getOwnPropertyNames with iframe and window\nvar f$5 = function getOwnPropertyNames(it) {\n  return windowNames && toString$1.call(it) == '[object Window]'\n    ? getWindowNames(it)\n    : nativeGetOwnPropertyNames(toIndexedObject(it));\n};\n\nvar objectGetOwnPropertyNamesExternal = {\n\tf: f$5\n};\n\nvar WellKnownSymbolsStore = shared('wks');\nvar Symbol$1 = global_1.Symbol;\nvar createWellKnownSymbol = useSymbolAsUid ? Symbol$1 : Symbol$1 && Symbol$1.withoutSetter || uid;\n\nvar wellKnownSymbol = function (name) {\n  if (!has(WellKnownSymbolsStore, name)) {\n    if (nativeSymbol && has(Symbol$1, name)) WellKnownSymbolsStore[name] = Symbol$1[name];\n    else WellKnownSymbolsStore[name] = createWellKnownSymbol('Symbol.' + name);\n  } return WellKnownSymbolsStore[name];\n};\n\nvar f$6 = wellKnownSymbol;\n\nvar wellKnownSymbolWrapped = {\n\tf: f$6\n};\n\nvar defineProperty = objectDefineProperty.f;\n\nvar defineWellKnownSymbol = function (NAME) {\n  var Symbol = path.Symbol || (path.Symbol = {});\n  if (!has(Symbol, NAME)) defineProperty(Symbol, NAME, {\n    value: wellKnownSymbolWrapped.f(NAME)\n  });\n};\n\nvar defineProperty$1 = objectDefineProperty.f;\n\n\n\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\n\nvar setToStringTag = function (it, TAG, STATIC) {\n  if (it && !has(it = STATIC ? it : it.prototype, TO_STRING_TAG)) {\n    defineProperty$1(it, TO_STRING_TAG, { configurable: true, value: TAG });\n  }\n};\n\nvar aFunction$1 = function (it) {\n  if (typeof it != 'function') {\n    throw TypeError(String(it) + ' is not a function');\n  } return it;\n};\n\n// optional / simple context binding\nvar functionBindContext = function (fn, that, length) {\n  aFunction$1(fn);\n  if (that === undefined) return fn;\n  switch (length) {\n    case 0: return function () {\n      return fn.call(that);\n    };\n    case 1: return function (a) {\n      return fn.call(that, a);\n    };\n    case 2: return function (a, b) {\n      return fn.call(that, a, b);\n    };\n    case 3: return function (a, b, c) {\n      return fn.call(that, a, b, c);\n    };\n  }\n  return function (/* ...args */) {\n    return fn.apply(that, arguments);\n  };\n};\n\nvar SPECIES = wellKnownSymbol('species');\n\n// `ArraySpeciesCreate` abstract operation\n// https://tc39.github.io/ecma262/#sec-arrayspeciescreate\nvar arraySpeciesCreate = function (originalArray, length) {\n  var C;\n  if (isArray(originalArray)) {\n    C = originalArray.constructor;\n    // cross-realm fallback\n    if (typeof C == 'function' && (C === Array || isArray(C.prototype))) C = undefined;\n    else if (isObject(C)) {\n      C = C[SPECIES];\n      if (C === null) C = undefined;\n    }\n  } return new (C === undefined ? Array : C)(length === 0 ? 0 : length);\n};\n\nvar push = [].push;\n\n// `Array.prototype.{ forEach, map, filter, some, every, find, findIndex }` methods implementation\nvar createMethod$1 = function (TYPE) {\n  var IS_MAP = TYPE == 1;\n  var IS_FILTER = TYPE == 2;\n  var IS_SOME = TYPE == 3;\n  var IS_EVERY = TYPE == 4;\n  var IS_FIND_INDEX = TYPE == 6;\n  var NO_HOLES = TYPE == 5 || IS_FIND_INDEX;\n  return function ($this, callbackfn, that, specificCreate) {\n    var O = toObject($this);\n    var self = indexedObject(O);\n    var boundFunction = functionBindContext(callbackfn, that, 3);\n    var length = toLength(self.length);\n    var index = 0;\n    var create = specificCreate || arraySpeciesCreate;\n    var target = IS_MAP ? create($this, length) : IS_FILTER ? create($this, 0) : undefined;\n    var value, result;\n    for (;length > index; index++) if (NO_HOLES || index in self) {\n      value = self[index];\n      result = boundFunction(value, index, O);\n      if (TYPE) {\n        if (IS_MAP) target[index] = result; // map\n        else if (result) switch (TYPE) {\n          case 3: return true;              // some\n          case 5: return value;             // find\n          case 6: return index;             // findIndex\n          case 2: push.call(target, value); // filter\n        } else if (IS_EVERY) return false;  // every\n      }\n    }\n    return IS_FIND_INDEX ? -1 : IS_SOME || IS_EVERY ? IS_EVERY : target;\n  };\n};\n\nvar arrayIteration = {\n  // `Array.prototype.forEach` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.foreach\n  forEach: createMethod$1(0),\n  // `Array.prototype.map` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.map\n  map: createMethod$1(1),\n  // `Array.prototype.filter` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.filter\n  filter: createMethod$1(2),\n  // `Array.prototype.some` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.some\n  some: createMethod$1(3),\n  // `Array.prototype.every` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.every\n  every: createMethod$1(4),\n  // `Array.prototype.find` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.find\n  find: createMethod$1(5),\n  // `Array.prototype.findIndex` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.findIndex\n  findIndex: createMethod$1(6)\n};\n\nvar $forEach = arrayIteration.forEach;\n\nvar HIDDEN = sharedKey('hidden');\nvar SYMBOL = 'Symbol';\nvar PROTOTYPE$1 = 'prototype';\nvar TO_PRIMITIVE = wellKnownSymbol('toPrimitive');\nvar setInternalState = internalState.set;\nvar getInternalState = internalState.getterFor(SYMBOL);\nvar ObjectPrototype = Object[PROTOTYPE$1];\nvar $Symbol = global_1.Symbol;\nvar $stringify = getBuiltIn('JSON', 'stringify');\nvar nativeGetOwnPropertyDescriptor$1 = objectGetOwnPropertyDescriptor.f;\nvar nativeDefineProperty$1 = objectDefineProperty.f;\nvar nativeGetOwnPropertyNames$1 = objectGetOwnPropertyNamesExternal.f;\nvar nativePropertyIsEnumerable$1 = objectPropertyIsEnumerable.f;\nvar AllSymbols = shared('symbols');\nvar ObjectPrototypeSymbols = shared('op-symbols');\nvar StringToSymbolRegistry = shared('string-to-symbol-registry');\nvar SymbolToStringRegistry = shared('symbol-to-string-registry');\nvar WellKnownSymbolsStore$1 = shared('wks');\nvar QObject = global_1.QObject;\n// Don't use setters in Qt Script, https://github.com/zloirock/core-js/issues/173\nvar USE_SETTER = !QObject || !QObject[PROTOTYPE$1] || !QObject[PROTOTYPE$1].findChild;\n\n// fallback for old Android, https://code.google.com/p/v8/issues/detail?id=687\nvar setSymbolDescriptor = descriptors && fails(function () {\n  return objectCreate(nativeDefineProperty$1({}, 'a', {\n    get: function () { return nativeDefineProperty$1(this, 'a', { value: 7 }).a; }\n  })).a != 7;\n}) ? function (O, P, Attributes) {\n  var ObjectPrototypeDescriptor = nativeGetOwnPropertyDescriptor$1(ObjectPrototype, P);\n  if (ObjectPrototypeDescriptor) delete ObjectPrototype[P];\n  nativeDefineProperty$1(O, P, Attributes);\n  if (ObjectPrototypeDescriptor && O !== ObjectPrototype) {\n    nativeDefineProperty$1(ObjectPrototype, P, ObjectPrototypeDescriptor);\n  }\n} : nativeDefineProperty$1;\n\nvar wrap = function (tag, description) {\n  var symbol = AllSymbols[tag] = objectCreate($Symbol[PROTOTYPE$1]);\n  setInternalState(symbol, {\n    type: SYMBOL,\n    tag: tag,\n    description: description\n  });\n  if (!descriptors) symbol.description = description;\n  return symbol;\n};\n\nvar isSymbol = useSymbolAsUid ? function (it) {\n  return typeof it == 'symbol';\n} : function (it) {\n  return Object(it) instanceof $Symbol;\n};\n\nvar $defineProperty = function defineProperty(O, P, Attributes) {\n  if (O === ObjectPrototype) $defineProperty(ObjectPrototypeSymbols, P, Attributes);\n  anObject(O);\n  var key = toPrimitive(P, true);\n  anObject(Attributes);\n  if (has(AllSymbols, key)) {\n    if (!Attributes.enumerable) {\n      if (!has(O, HIDDEN)) nativeDefineProperty$1(O, HIDDEN, createPropertyDescriptor(1, {}));\n      O[HIDDEN][key] = true;\n    } else {\n      if (has(O, HIDDEN) && O[HIDDEN][key]) O[HIDDEN][key] = false;\n      Attributes = objectCreate(Attributes, { enumerable: createPropertyDescriptor(0, false) });\n    } return setSymbolDescriptor(O, key, Attributes);\n  } return nativeDefineProperty$1(O, key, Attributes);\n};\n\nvar $defineProperties = function defineProperties(O, Properties) {\n  anObject(O);\n  var properties = toIndexedObject(Properties);\n  var keys = objectKeys(properties).concat($getOwnPropertySymbols(properties));\n  $forEach(keys, function (key) {\n    if (!descriptors || $propertyIsEnumerable.call(properties, key)) $defineProperty(O, key, properties[key]);\n  });\n  return O;\n};\n\nvar $create = function create(O, Properties) {\n  return Properties === undefined ? objectCreate(O) : $defineProperties(objectCreate(O), Properties);\n};\n\nvar $propertyIsEnumerable = function propertyIsEnumerable(V) {\n  var P = toPrimitive(V, true);\n  var enumerable = nativePropertyIsEnumerable$1.call(this, P);\n  if (this === ObjectPrototype && has(AllSymbols, P) && !has(ObjectPrototypeSymbols, P)) return false;\n  return enumerable || !has(this, P) || !has(AllSymbols, P) || has(this, HIDDEN) && this[HIDDEN][P] ? enumerable : true;\n};\n\nvar $getOwnPropertyDescriptor = function getOwnPropertyDescriptor(O, P) {\n  var it = toIndexedObject(O);\n  var key = toPrimitive(P, true);\n  if (it === ObjectPrototype && has(AllSymbols, key) && !has(ObjectPrototypeSymbols, key)) return;\n  var descriptor = nativeGetOwnPropertyDescriptor$1(it, key);\n  if (descriptor && has(AllSymbols, key) && !(has(it, HIDDEN) && it[HIDDEN][key])) {\n    descriptor.enumerable = true;\n  }\n  return descriptor;\n};\n\nvar $getOwnPropertyNames = function getOwnPropertyNames(O) {\n  var names = nativeGetOwnPropertyNames$1(toIndexedObject(O));\n  var result = [];\n  $forEach(names, function (key) {\n    if (!has(AllSymbols, key) && !has(hiddenKeys, key)) result.push(key);\n  });\n  return result;\n};\n\nvar $getOwnPropertySymbols = function getOwnPropertySymbols(O) {\n  var IS_OBJECT_PROTOTYPE = O === ObjectPrototype;\n  var names = nativeGetOwnPropertyNames$1(IS_OBJECT_PROTOTYPE ? ObjectPrototypeSymbols : toIndexedObject(O));\n  var result = [];\n  $forEach(names, function (key) {\n    if (has(AllSymbols, key) && (!IS_OBJECT_PROTOTYPE || has(ObjectPrototype, key))) {\n      result.push(AllSymbols[key]);\n    }\n  });\n  return result;\n};\n\n// `Symbol` constructor\n// https://tc39.github.io/ecma262/#sec-symbol-constructor\nif (!nativeSymbol) {\n  $Symbol = function Symbol() {\n    if (this instanceof $Symbol) throw TypeError('Symbol is not a constructor');\n    var description = !arguments.length || arguments[0] === undefined ? undefined : String(arguments[0]);\n    var tag = uid(description);\n    var setter = function (value) {\n      if (this === ObjectPrototype) setter.call(ObjectPrototypeSymbols, value);\n      if (has(this, HIDDEN) && has(this[HIDDEN], tag)) this[HIDDEN][tag] = false;\n      setSymbolDescriptor(this, tag, createPropertyDescriptor(1, value));\n    };\n    if (descriptors && USE_SETTER) setSymbolDescriptor(ObjectPrototype, tag, { configurable: true, set: setter });\n    return wrap(tag, description);\n  };\n\n  redefine($Symbol[PROTOTYPE$1], 'toString', function toString() {\n    return getInternalState(this).tag;\n  });\n\n  redefine($Symbol, 'withoutSetter', function (description) {\n    return wrap(uid(description), description);\n  });\n\n  objectPropertyIsEnumerable.f = $propertyIsEnumerable;\n  objectDefineProperty.f = $defineProperty;\n  objectGetOwnPropertyDescriptor.f = $getOwnPropertyDescriptor;\n  objectGetOwnPropertyNames.f = objectGetOwnPropertyNamesExternal.f = $getOwnPropertyNames;\n  objectGetOwnPropertySymbols.f = $getOwnPropertySymbols;\n\n  wellKnownSymbolWrapped.f = function (name) {\n    return wrap(wellKnownSymbol(name), name);\n  };\n\n  if (descriptors) {\n    // https://github.com/tc39/proposal-Symbol-description\n    nativeDefineProperty$1($Symbol[PROTOTYPE$1], 'description', {\n      configurable: true,\n      get: function description() {\n        return getInternalState(this).description;\n      }\n    });\n    {\n      redefine(ObjectPrototype, 'propertyIsEnumerable', $propertyIsEnumerable, { unsafe: true });\n    }\n  }\n}\n\n_export({ global: true, wrap: true, forced: !nativeSymbol, sham: !nativeSymbol }, {\n  Symbol: $Symbol\n});\n\n$forEach(objectKeys(WellKnownSymbolsStore$1), function (name) {\n  defineWellKnownSymbol(name);\n});\n\n_export({ target: SYMBOL, stat: true, forced: !nativeSymbol }, {\n  // `Symbol.for` method\n  // https://tc39.github.io/ecma262/#sec-symbol.for\n  'for': function (key) {\n    var string = String(key);\n    if (has(StringToSymbolRegistry, string)) return StringToSymbolRegistry[string];\n    var symbol = $Symbol(string);\n    StringToSymbolRegistry[string] = symbol;\n    SymbolToStringRegistry[symbol] = string;\n    return symbol;\n  },\n  // `Symbol.keyFor` method\n  // https://tc39.github.io/ecma262/#sec-symbol.keyfor\n  keyFor: function keyFor(sym) {\n    if (!isSymbol(sym)) throw TypeError(sym + ' is not a symbol');\n    if (has(SymbolToStringRegistry, sym)) return SymbolToStringRegistry[sym];\n  },\n  useSetter: function () { USE_SETTER = true; },\n  useSimple: function () { USE_SETTER = false; }\n});\n\n_export({ target: 'Object', stat: true, forced: !nativeSymbol, sham: !descriptors }, {\n  // `Object.create` method\n  // https://tc39.github.io/ecma262/#sec-object.create\n  create: $create,\n  // `Object.defineProperty` method\n  // https://tc39.github.io/ecma262/#sec-object.defineproperty\n  defineProperty: $defineProperty,\n  // `Object.defineProperties` method\n  // https://tc39.github.io/ecma262/#sec-object.defineproperties\n  defineProperties: $defineProperties,\n  // `Object.getOwnPropertyDescriptor` method\n  // https://tc39.github.io/ecma262/#sec-object.getownpropertydescriptors\n  getOwnPropertyDescriptor: $getOwnPropertyDescriptor\n});\n\n_export({ target: 'Object', stat: true, forced: !nativeSymbol }, {\n  // `Object.getOwnPropertyNames` method\n  // https://tc39.github.io/ecma262/#sec-object.getownpropertynames\n  getOwnPropertyNames: $getOwnPropertyNames,\n  // `Object.getOwnPropertySymbols` method\n  // https://tc39.github.io/ecma262/#sec-object.getownpropertysymbols\n  getOwnPropertySymbols: $getOwnPropertySymbols\n});\n\n// Chrome 38 and 39 `Object.getOwnPropertySymbols` fails on primitives\n// https://bugs.chromium.org/p/v8/issues/detail?id=3443\n_export({ target: 'Object', stat: true, forced: fails(function () { objectGetOwnPropertySymbols.f(1); }) }, {\n  getOwnPropertySymbols: function getOwnPropertySymbols(it) {\n    return objectGetOwnPropertySymbols.f(toObject(it));\n  }\n});\n\n// `JSON.stringify` method behavior with symbols\n// https://tc39.github.io/ecma262/#sec-json.stringify\nif ($stringify) {\n  var FORCED_JSON_STRINGIFY = !nativeSymbol || fails(function () {\n    var symbol = $Symbol();\n    // MS Edge converts symbol values to JSON as {}\n    return $stringify([symbol]) != '[null]'\n      // WebKit converts symbol values to JSON as null\n      || $stringify({ a: symbol }) != '{}'\n      // V8 throws on boxed symbols\n      || $stringify(Object(symbol)) != '{}';\n  });\n\n  _export({ target: 'JSON', stat: true, forced: FORCED_JSON_STRINGIFY }, {\n    // eslint-disable-next-line no-unused-vars\n    stringify: function stringify(it, replacer, space) {\n      var args = [it];\n      var index = 1;\n      var $replacer;\n      while (arguments.length > index) args.push(arguments[index++]);\n      $replacer = replacer;\n      if (!isObject(replacer) && it === undefined || isSymbol(it)) return; // IE8 returns string on undefined\n      if (!isArray(replacer)) replacer = function (key, value) {\n        if (typeof $replacer == 'function') value = $replacer.call(this, key, value);\n        if (!isSymbol(value)) return value;\n      };\n      args[1] = replacer;\n      return $stringify.apply(null, args);\n    }\n  });\n}\n\n// `Symbol.prototype[@@toPrimitive]` method\n// https://tc39.github.io/ecma262/#sec-symbol.prototype-@@toprimitive\nif (!$Symbol[PROTOTYPE$1][TO_PRIMITIVE]) {\n  createNonEnumerableProperty($Symbol[PROTOTYPE$1], TO_PRIMITIVE, $Symbol[PROTOTYPE$1].valueOf);\n}\n// `Symbol.prototype[@@toStringTag]` property\n// https://tc39.github.io/ecma262/#sec-symbol.prototype-@@tostringtag\nsetToStringTag($Symbol, SYMBOL);\n\nhiddenKeys[HIDDEN] = true;\n\nvar defineProperty$2 = objectDefineProperty.f;\n\n\nvar NativeSymbol = global_1.Symbol;\n\nif (descriptors && typeof NativeSymbol == 'function' && (!('description' in NativeSymbol.prototype) ||\n  // Safari 12 bug\n  NativeSymbol().description !== undefined\n)) {\n  var EmptyStringDescriptionStore = {};\n  // wrap Symbol constructor for correct work with undefined description\n  var SymbolWrapper = function Symbol() {\n    var description = arguments.length < 1 || arguments[0] === undefined ? undefined : String(arguments[0]);\n    var result = this instanceof SymbolWrapper\n      ? new NativeSymbol(description)\n      // in Edge 13, String(Symbol(undefined)) === 'Symbol(undefined)'\n      : description === undefined ? NativeSymbol() : NativeSymbol(description);\n    if (description === '') EmptyStringDescriptionStore[result] = true;\n    return result;\n  };\n  copyConstructorProperties(SymbolWrapper, NativeSymbol);\n  var symbolPrototype = SymbolWrapper.prototype = NativeSymbol.prototype;\n  symbolPrototype.constructor = SymbolWrapper;\n\n  var symbolToString = symbolPrototype.toString;\n  var native = String(NativeSymbol('test')) == 'Symbol(test)';\n  var regexp = /^Symbol\\((.*)\\)[^)]+$/;\n  defineProperty$2(symbolPrototype, 'description', {\n    configurable: true,\n    get: function description() {\n      var symbol = isObject(this) ? this.valueOf() : this;\n      var string = symbolToString.call(symbol);\n      if (has(EmptyStringDescriptionStore, symbol)) return '';\n      var desc = native ? string.slice(7, -1) : string.replace(regexp, '$1');\n      return desc === '' ? undefined : desc;\n    }\n  });\n\n  _export({ global: true, forced: true }, {\n    Symbol: SymbolWrapper\n  });\n}\n\n// `Symbol.iterator` well-known symbol\n// https://tc39.github.io/ecma262/#sec-symbol.iterator\ndefineWellKnownSymbol('iterator');\n\nvar arrayMethodIsStrict = function (METHOD_NAME, argument) {\n  var method = [][METHOD_NAME];\n  return !!method && fails(function () {\n    // eslint-disable-next-line no-useless-call,no-throw-literal\n    method.call(null, argument || function () { throw 1; }, 1);\n  });\n};\n\nvar defineProperty$3 = Object.defineProperty;\nvar cache = {};\n\nvar thrower = function (it) { throw it; };\n\nvar arrayMethodUsesToLength = function (METHOD_NAME, options) {\n  if (has(cache, METHOD_NAME)) return cache[METHOD_NAME];\n  if (!options) options = {};\n  var method = [][METHOD_NAME];\n  var ACCESSORS = has(options, 'ACCESSORS') ? options.ACCESSORS : false;\n  var argument0 = has(options, 0) ? options[0] : thrower;\n  var argument1 = has(options, 1) ? options[1] : undefined;\n\n  return cache[METHOD_NAME] = !!method && !fails(function () {\n    if (ACCESSORS && !descriptors) return true;\n    var O = { length: -1 };\n\n    if (ACCESSORS) defineProperty$3(O, 1, { enumerable: true, get: thrower });\n    else O[1] = 1;\n\n    method.call(O, argument0, argument1);\n  });\n};\n\nvar $forEach$1 = arrayIteration.forEach;\n\n\n\nvar STRICT_METHOD = arrayMethodIsStrict('forEach');\nvar USES_TO_LENGTH = arrayMethodUsesToLength('forEach');\n\n// `Array.prototype.forEach` method implementation\n// https://tc39.github.io/ecma262/#sec-array.prototype.foreach\nvar arrayForEach = (!STRICT_METHOD || !USES_TO_LENGTH) ? function forEach(callbackfn /* , thisArg */) {\n  return $forEach$1(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n} : [].forEach;\n\n// `Array.prototype.forEach` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.foreach\n_export({ target: 'Array', proto: true, forced: [].forEach != arrayForEach }, {\n  forEach: arrayForEach\n});\n\nvar $indexOf = arrayIncludes.indexOf;\n\n\n\nvar nativeIndexOf = [].indexOf;\n\nvar NEGATIVE_ZERO = !!nativeIndexOf && 1 / [1].indexOf(1, -0) < 0;\nvar STRICT_METHOD$1 = arrayMethodIsStrict('indexOf');\nvar USES_TO_LENGTH$1 = arrayMethodUsesToLength('indexOf', { ACCESSORS: true, 1: 0 });\n\n// `Array.prototype.indexOf` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.indexof\n_export({ target: 'Array', proto: true, forced: NEGATIVE_ZERO || !STRICT_METHOD$1 || !USES_TO_LENGTH$1 }, {\n  indexOf: function indexOf(searchElement /* , fromIndex = 0 */) {\n    return NEGATIVE_ZERO\n      // convert -0 to +0\n      ? nativeIndexOf.apply(this, arguments) || 0\n      : $indexOf(this, searchElement, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\nvar UNSCOPABLES = wellKnownSymbol('unscopables');\nvar ArrayPrototype = Array.prototype;\n\n// Array.prototype[@@unscopables]\n// https://tc39.github.io/ecma262/#sec-array.prototype-@@unscopables\nif (ArrayPrototype[UNSCOPABLES] == undefined) {\n  objectDefineProperty.f(ArrayPrototype, UNSCOPABLES, {\n    configurable: true,\n    value: objectCreate(null)\n  });\n}\n\n// add a key to Array.prototype[@@unscopables]\nvar addToUnscopables = function (key) {\n  ArrayPrototype[UNSCOPABLES][key] = true;\n};\n\nvar iterators = {};\n\nvar correctPrototypeGetter = !fails(function () {\n  function F() { /* empty */ }\n  F.prototype.constructor = null;\n  return Object.getPrototypeOf(new F()) !== F.prototype;\n});\n\nvar IE_PROTO$1 = sharedKey('IE_PROTO');\nvar ObjectPrototype$1 = Object.prototype;\n\n// `Object.getPrototypeOf` method\n// https://tc39.github.io/ecma262/#sec-object.getprototypeof\nvar objectGetPrototypeOf = correctPrototypeGetter ? Object.getPrototypeOf : function (O) {\n  O = toObject(O);\n  if (has(O, IE_PROTO$1)) return O[IE_PROTO$1];\n  if (typeof O.constructor == 'function' && O instanceof O.constructor) {\n    return O.constructor.prototype;\n  } return O instanceof Object ? ObjectPrototype$1 : null;\n};\n\nvar ITERATOR = wellKnownSymbol('iterator');\nvar BUGGY_SAFARI_ITERATORS = false;\n\nvar returnThis = function () { return this; };\n\n// `%IteratorPrototype%` object\n// https://tc39.github.io/ecma262/#sec-%iteratorprototype%-object\nvar IteratorPrototype, PrototypeOfArrayIteratorPrototype, arrayIterator;\n\nif ([].keys) {\n  arrayIterator = [].keys();\n  // Safari 8 has buggy iterators w/o `next`\n  if (!('next' in arrayIterator)) BUGGY_SAFARI_ITERATORS = true;\n  else {\n    PrototypeOfArrayIteratorPrototype = objectGetPrototypeOf(objectGetPrototypeOf(arrayIterator));\n    if (PrototypeOfArrayIteratorPrototype !== Object.prototype) IteratorPrototype = PrototypeOfArrayIteratorPrototype;\n  }\n}\n\nif (IteratorPrototype == undefined) IteratorPrototype = {};\n\n// 25.1.2.1.1 %IteratorPrototype%[@@iterator]()\nif ( !has(IteratorPrototype, ITERATOR)) {\n  createNonEnumerableProperty(IteratorPrototype, ITERATOR, returnThis);\n}\n\nvar iteratorsCore = {\n  IteratorPrototype: IteratorPrototype,\n  BUGGY_SAFARI_ITERATORS: BUGGY_SAFARI_ITERATORS\n};\n\nvar IteratorPrototype$1 = iteratorsCore.IteratorPrototype;\n\n\n\n\n\nvar returnThis$1 = function () { return this; };\n\nvar createIteratorConstructor = function (IteratorConstructor, NAME, next) {\n  var TO_STRING_TAG = NAME + ' Iterator';\n  IteratorConstructor.prototype = objectCreate(IteratorPrototype$1, { next: createPropertyDescriptor(1, next) });\n  setToStringTag(IteratorConstructor, TO_STRING_TAG, false);\n  iterators[TO_STRING_TAG] = returnThis$1;\n  return IteratorConstructor;\n};\n\nvar aPossiblePrototype = function (it) {\n  if (!isObject(it) && it !== null) {\n    throw TypeError(\"Can't set \" + String(it) + ' as a prototype');\n  } return it;\n};\n\n// `Object.setPrototypeOf` method\n// https://tc39.github.io/ecma262/#sec-object.setprototypeof\n// Works with __proto__ only. Old v8 can't work with null proto objects.\n/* eslint-disable no-proto */\nvar objectSetPrototypeOf = Object.setPrototypeOf || ('__proto__' in {} ? function () {\n  var CORRECT_SETTER = false;\n  var test = {};\n  var setter;\n  try {\n    setter = Object.getOwnPropertyDescriptor(Object.prototype, '__proto__').set;\n    setter.call(test, []);\n    CORRECT_SETTER = test instanceof Array;\n  } catch (error) { /* empty */ }\n  return function setPrototypeOf(O, proto) {\n    anObject(O);\n    aPossiblePrototype(proto);\n    if (CORRECT_SETTER) setter.call(O, proto);\n    else O.__proto__ = proto;\n    return O;\n  };\n}() : undefined);\n\nvar IteratorPrototype$2 = iteratorsCore.IteratorPrototype;\nvar BUGGY_SAFARI_ITERATORS$1 = iteratorsCore.BUGGY_SAFARI_ITERATORS;\nvar ITERATOR$1 = wellKnownSymbol('iterator');\nvar KEYS = 'keys';\nvar VALUES = 'values';\nvar ENTRIES = 'entries';\n\nvar returnThis$2 = function () { return this; };\n\nvar defineIterator = function (Iterable, NAME, IteratorConstructor, next, DEFAULT, IS_SET, FORCED) {\n  createIteratorConstructor(IteratorConstructor, NAME, next);\n\n  var getIterationMethod = function (KIND) {\n    if (KIND === DEFAULT && defaultIterator) return defaultIterator;\n    if (!BUGGY_SAFARI_ITERATORS$1 && KIND in IterablePrototype) return IterablePrototype[KIND];\n    switch (KIND) {\n      case KEYS: return function keys() { return new IteratorConstructor(this, KIND); };\n      case VALUES: return function values() { return new IteratorConstructor(this, KIND); };\n      case ENTRIES: return function entries() { return new IteratorConstructor(this, KIND); };\n    } return function () { return new IteratorConstructor(this); };\n  };\n\n  var TO_STRING_TAG = NAME + ' Iterator';\n  var INCORRECT_VALUES_NAME = false;\n  var IterablePrototype = Iterable.prototype;\n  var nativeIterator = IterablePrototype[ITERATOR$1]\n    || IterablePrototype['@@iterator']\n    || DEFAULT && IterablePrototype[DEFAULT];\n  var defaultIterator = !BUGGY_SAFARI_ITERATORS$1 && nativeIterator || getIterationMethod(DEFAULT);\n  var anyNativeIterator = NAME == 'Array' ? IterablePrototype.entries || nativeIterator : nativeIterator;\n  var CurrentIteratorPrototype, methods, KEY;\n\n  // fix native\n  if (anyNativeIterator) {\n    CurrentIteratorPrototype = objectGetPrototypeOf(anyNativeIterator.call(new Iterable()));\n    if (IteratorPrototype$2 !== Object.prototype && CurrentIteratorPrototype.next) {\n      if ( objectGetPrototypeOf(CurrentIteratorPrototype) !== IteratorPrototype$2) {\n        if (objectSetPrototypeOf) {\n          objectSetPrototypeOf(CurrentIteratorPrototype, IteratorPrototype$2);\n        } else if (typeof CurrentIteratorPrototype[ITERATOR$1] != 'function') {\n          createNonEnumerableProperty(CurrentIteratorPrototype, ITERATOR$1, returnThis$2);\n        }\n      }\n      // Set @@toStringTag to native iterators\n      setToStringTag(CurrentIteratorPrototype, TO_STRING_TAG, true);\n    }\n  }\n\n  // fix Array#{values, @@iterator}.name in V8 / FF\n  if (DEFAULT == VALUES && nativeIterator && nativeIterator.name !== VALUES) {\n    INCORRECT_VALUES_NAME = true;\n    defaultIterator = function values() { return nativeIterator.call(this); };\n  }\n\n  // define iterator\n  if ( IterablePrototype[ITERATOR$1] !== defaultIterator) {\n    createNonEnumerableProperty(IterablePrototype, ITERATOR$1, defaultIterator);\n  }\n  iterators[NAME] = defaultIterator;\n\n  // export additional methods\n  if (DEFAULT) {\n    methods = {\n      values: getIterationMethod(VALUES),\n      keys: IS_SET ? defaultIterator : getIterationMethod(KEYS),\n      entries: getIterationMethod(ENTRIES)\n    };\n    if (FORCED) for (KEY in methods) {\n      if (BUGGY_SAFARI_ITERATORS$1 || INCORRECT_VALUES_NAME || !(KEY in IterablePrototype)) {\n        redefine(IterablePrototype, KEY, methods[KEY]);\n      }\n    } else _export({ target: NAME, proto: true, forced: BUGGY_SAFARI_ITERATORS$1 || INCORRECT_VALUES_NAME }, methods);\n  }\n\n  return methods;\n};\n\nvar ARRAY_ITERATOR = 'Array Iterator';\nvar setInternalState$1 = internalState.set;\nvar getInternalState$1 = internalState.getterFor(ARRAY_ITERATOR);\n\n// `Array.prototype.entries` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.entries\n// `Array.prototype.keys` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.keys\n// `Array.prototype.values` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.values\n// `Array.prototype[@@iterator]` method\n// https://tc39.github.io/ecma262/#sec-array.prototype-@@iterator\n// `CreateArrayIterator` internal method\n// https://tc39.github.io/ecma262/#sec-createarrayiterator\nvar es_array_iterator = defineIterator(Array, 'Array', function (iterated, kind) {\n  setInternalState$1(this, {\n    type: ARRAY_ITERATOR,\n    target: toIndexedObject(iterated), // target\n    index: 0,                          // next index\n    kind: kind                         // kind\n  });\n// `%ArrayIteratorPrototype%.next` method\n// https://tc39.github.io/ecma262/#sec-%arrayiteratorprototype%.next\n}, function () {\n  var state = getInternalState$1(this);\n  var target = state.target;\n  var kind = state.kind;\n  var index = state.index++;\n  if (!target || index >= target.length) {\n    state.target = undefined;\n    return { value: undefined, done: true };\n  }\n  if (kind == 'keys') return { value: index, done: false };\n  if (kind == 'values') return { value: target[index], done: false };\n  return { value: [index, target[index]], done: false };\n}, 'values');\n\n// argumentsList[@@iterator] is %ArrayProto_values%\n// https://tc39.github.io/ecma262/#sec-createunmappedargumentsobject\n// https://tc39.github.io/ecma262/#sec-createmappedargumentsobject\niterators.Arguments = iterators.Array;\n\n// https://tc39.github.io/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables('keys');\naddToUnscopables('values');\naddToUnscopables('entries');\n\nvar nativeJoin = [].join;\n\nvar ES3_STRINGS = indexedObject != Object;\nvar STRICT_METHOD$2 = arrayMethodIsStrict('join', ',');\n\n// `Array.prototype.join` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.join\n_export({ target: 'Array', proto: true, forced: ES3_STRINGS || !STRICT_METHOD$2 }, {\n  join: function join(separator) {\n    return nativeJoin.call(toIndexedObject(this), separator === undefined ? ',' : separator);\n  }\n});\n\nvar createProperty = function (object, key, value) {\n  var propertyKey = toPrimitive(key);\n  if (propertyKey in object) objectDefineProperty.f(object, propertyKey, createPropertyDescriptor(0, value));\n  else object[propertyKey] = value;\n};\n\nvar engineUserAgent = getBuiltIn('navigator', 'userAgent') || '';\n\nvar process = global_1.process;\nvar versions = process && process.versions;\nvar v8 = versions && versions.v8;\nvar match, version;\n\nif (v8) {\n  match = v8.split('.');\n  version = match[0] + match[1];\n} else if (engineUserAgent) {\n  match = engineUserAgent.match(/Edge\\/(\\d+)/);\n  if (!match || match[1] >= 74) {\n    match = engineUserAgent.match(/Chrome\\/(\\d+)/);\n    if (match) version = match[1];\n  }\n}\n\nvar engineV8Version = version && +version;\n\nvar SPECIES$1 = wellKnownSymbol('species');\n\nvar arrayMethodHasSpeciesSupport = function (METHOD_NAME) {\n  // We can't use this feature detection in V8 since it causes\n  // deoptimization and serious performance degradation\n  // https://github.com/zloirock/core-js/issues/677\n  return engineV8Version >= 51 || !fails(function () {\n    var array = [];\n    var constructor = array.constructor = {};\n    constructor[SPECIES$1] = function () {\n      return { foo: 1 };\n    };\n    return array[METHOD_NAME](Boolean).foo !== 1;\n  });\n};\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('slice');\nvar USES_TO_LENGTH$2 = arrayMethodUsesToLength('slice', { ACCESSORS: true, 0: 0, 1: 2 });\n\nvar SPECIES$2 = wellKnownSymbol('species');\nvar nativeSlice = [].slice;\nvar max$1 = Math.max;\n\n// `Array.prototype.slice` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.slice\n// fallback for not array-like ES3 strings and DOM objects\n_export({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT || !USES_TO_LENGTH$2 }, {\n  slice: function slice(start, end) {\n    var O = toIndexedObject(this);\n    var length = toLength(O.length);\n    var k = toAbsoluteIndex(start, length);\n    var fin = toAbsoluteIndex(end === undefined ? length : end, length);\n    // inline `ArraySpeciesCreate` for usage native `Array#slice` where it's possible\n    var Constructor, result, n;\n    if (isArray(O)) {\n      Constructor = O.constructor;\n      // cross-realm fallback\n      if (typeof Constructor == 'function' && (Constructor === Array || isArray(Constructor.prototype))) {\n        Constructor = undefined;\n      } else if (isObject(Constructor)) {\n        Constructor = Constructor[SPECIES$2];\n        if (Constructor === null) Constructor = undefined;\n      }\n      if (Constructor === Array || Constructor === undefined) {\n        return nativeSlice.call(O, k, fin);\n      }\n    }\n    result = new (Constructor === undefined ? Array : Constructor)(max$1(fin - k, 0));\n    for (n = 0; k < fin; k++, n++) if (k in O) createProperty(result, n, O[k]);\n    result.length = n;\n    return result;\n  }\n});\n\nvar TO_STRING_TAG$1 = wellKnownSymbol('toStringTag');\nvar test = {};\n\ntest[TO_STRING_TAG$1] = 'z';\n\nvar toStringTagSupport = String(test) === '[object z]';\n\nvar TO_STRING_TAG$2 = wellKnownSymbol('toStringTag');\n// ES3 wrong here\nvar CORRECT_ARGUMENTS = classofRaw(function () { return arguments; }()) == 'Arguments';\n\n// fallback for IE11 Script Access Denied error\nvar tryGet = function (it, key) {\n  try {\n    return it[key];\n  } catch (error) { /* empty */ }\n};\n\n// getting tag from ES6+ `Object.prototype.toString`\nvar classof = toStringTagSupport ? classofRaw : function (it) {\n  var O, tag, result;\n  return it === undefined ? 'Undefined' : it === null ? 'Null'\n    // @@toStringTag case\n    : typeof (tag = tryGet(O = Object(it), TO_STRING_TAG$2)) == 'string' ? tag\n    // builtinTag case\n    : CORRECT_ARGUMENTS ? classofRaw(O)\n    // ES3 arguments fallback\n    : (result = classofRaw(O)) == 'Object' && typeof O.callee == 'function' ? 'Arguments' : result;\n};\n\n// `Object.prototype.toString` method implementation\n// https://tc39.github.io/ecma262/#sec-object.prototype.tostring\nvar objectToString = toStringTagSupport ? {}.toString : function toString() {\n  return '[object ' + classof(this) + ']';\n};\n\n// `Object.prototype.toString` method\n// https://tc39.github.io/ecma262/#sec-object.prototype.tostring\nif (!toStringTagSupport) {\n  redefine(Object.prototype, 'toString', objectToString, { unsafe: true });\n}\n\n// `RegExp.prototype.flags` getter implementation\n// https://tc39.github.io/ecma262/#sec-get-regexp.prototype.flags\nvar regexpFlags = function () {\n  var that = anObject(this);\n  var result = '';\n  if (that.global) result += 'g';\n  if (that.ignoreCase) result += 'i';\n  if (that.multiline) result += 'm';\n  if (that.dotAll) result += 's';\n  if (that.unicode) result += 'u';\n  if (that.sticky) result += 'y';\n  return result;\n};\n\n// babel-minify transpiles RegExp('a', 'y') -> /a/y and it causes SyntaxError,\n// so we use an intermediate function.\nfunction RE(s, f) {\n  return RegExp(s, f);\n}\n\nvar UNSUPPORTED_Y = fails(function () {\n  // babel-minify transpiles RegExp('a', 'y') -> /a/y and it causes SyntaxError\n  var re = RE('a', 'y');\n  re.lastIndex = 2;\n  return re.exec('abcd') != null;\n});\n\nvar BROKEN_CARET = fails(function () {\n  // https://bugzilla.mozilla.org/show_bug.cgi?id=773687\n  var re = RE('^r', 'gy');\n  re.lastIndex = 2;\n  return re.exec('str') != null;\n});\n\nvar regexpStickyHelpers = {\n\tUNSUPPORTED_Y: UNSUPPORTED_Y,\n\tBROKEN_CARET: BROKEN_CARET\n};\n\nvar nativeExec = RegExp.prototype.exec;\n// This always refers to the native implementation, because the\n// String#replace polyfill uses ./fix-regexp-well-known-symbol-logic.js,\n// which loads this file before patching the method.\nvar nativeReplace = String.prototype.replace;\n\nvar patchedExec = nativeExec;\n\nvar UPDATES_LAST_INDEX_WRONG = (function () {\n  var re1 = /a/;\n  var re2 = /b*/g;\n  nativeExec.call(re1, 'a');\n  nativeExec.call(re2, 'a');\n  return re1.lastIndex !== 0 || re2.lastIndex !== 0;\n})();\n\nvar UNSUPPORTED_Y$1 = regexpStickyHelpers.UNSUPPORTED_Y || regexpStickyHelpers.BROKEN_CARET;\n\n// nonparticipating capturing group, copied from es5-shim's String#split patch.\nvar NPCG_INCLUDED = /()??/.exec('')[1] !== undefined;\n\nvar PATCH = UPDATES_LAST_INDEX_WRONG || NPCG_INCLUDED || UNSUPPORTED_Y$1;\n\nif (PATCH) {\n  patchedExec = function exec(str) {\n    var re = this;\n    var lastIndex, reCopy, match, i;\n    var sticky = UNSUPPORTED_Y$1 && re.sticky;\n    var flags = regexpFlags.call(re);\n    var source = re.source;\n    var charsAdded = 0;\n    var strCopy = str;\n\n    if (sticky) {\n      flags = flags.replace('y', '');\n      if (flags.indexOf('g') === -1) {\n        flags += 'g';\n      }\n\n      strCopy = String(str).slice(re.lastIndex);\n      // Support anchored sticky behavior.\n      if (re.lastIndex > 0 && (!re.multiline || re.multiline && str[re.lastIndex - 1] !== '\\n')) {\n        source = '(?: ' + source + ')';\n        strCopy = ' ' + strCopy;\n        charsAdded++;\n      }\n      // ^(? + rx + ) is needed, in combination with some str slicing, to\n      // simulate the 'y' flag.\n      reCopy = new RegExp('^(?:' + source + ')', flags);\n    }\n\n    if (NPCG_INCLUDED) {\n      reCopy = new RegExp('^' + source + '$(?!\\\\s)', flags);\n    }\n    if (UPDATES_LAST_INDEX_WRONG) lastIndex = re.lastIndex;\n\n    match = nativeExec.call(sticky ? reCopy : re, strCopy);\n\n    if (sticky) {\n      if (match) {\n        match.input = match.input.slice(charsAdded);\n        match[0] = match[0].slice(charsAdded);\n        match.index = re.lastIndex;\n        re.lastIndex += match[0].length;\n      } else re.lastIndex = 0;\n    } else if (UPDATES_LAST_INDEX_WRONG && match) {\n      re.lastIndex = re.global ? match.index + match[0].length : lastIndex;\n    }\n    if (NPCG_INCLUDED && match && match.length > 1) {\n      // Fix browsers whose `exec` methods don't consistently return `undefined`\n      // for NPCG, like IE8. NOTE: This doesn' work for /(.?)?/\n      nativeReplace.call(match[0], reCopy, function () {\n        for (i = 1; i < arguments.length - 2; i++) {\n          if (arguments[i] === undefined) match[i] = undefined;\n        }\n      });\n    }\n\n    return match;\n  };\n}\n\nvar regexpExec = patchedExec;\n\n_export({ target: 'RegExp', proto: true, forced: /./.exec !== regexpExec }, {\n  exec: regexpExec\n});\n\nvar TO_STRING = 'toString';\nvar RegExpPrototype = RegExp.prototype;\nvar nativeToString = RegExpPrototype[TO_STRING];\n\nvar NOT_GENERIC = fails(function () { return nativeToString.call({ source: 'a', flags: 'b' }) != '/a/b'; });\n// FF44- RegExp#toString has a wrong name\nvar INCORRECT_NAME = nativeToString.name != TO_STRING;\n\n// `RegExp.prototype.toString` method\n// https://tc39.github.io/ecma262/#sec-regexp.prototype.tostring\nif (NOT_GENERIC || INCORRECT_NAME) {\n  redefine(RegExp.prototype, TO_STRING, function toString() {\n    var R = anObject(this);\n    var p = String(R.source);\n    var rf = R.flags;\n    var f = String(rf === undefined && R instanceof RegExp && !('flags' in RegExpPrototype) ? regexpFlags.call(R) : rf);\n    return '/' + p + '/' + f;\n  }, { unsafe: true });\n}\n\n// `String.prototype.{ codePointAt, at }` methods implementation\nvar createMethod$2 = function (CONVERT_TO_STRING) {\n  return function ($this, pos) {\n    var S = String(requireObjectCoercible($this));\n    var position = toInteger(pos);\n    var size = S.length;\n    var first, second;\n    if (position < 0 || position >= size) return CONVERT_TO_STRING ? '' : undefined;\n    first = S.charCodeAt(position);\n    return first < 0xD800 || first > 0xDBFF || position + 1 === size\n      || (second = S.charCodeAt(position + 1)) < 0xDC00 || second > 0xDFFF\n        ? CONVERT_TO_STRING ? S.charAt(position) : first\n        : CONVERT_TO_STRING ? S.slice(position, position + 2) : (first - 0xD800 << 10) + (second - 0xDC00) + 0x10000;\n  };\n};\n\nvar stringMultibyte = {\n  // `String.prototype.codePointAt` method\n  // https://tc39.github.io/ecma262/#sec-string.prototype.codepointat\n  codeAt: createMethod$2(false),\n  // `String.prototype.at` method\n  // https://github.com/mathiasbynens/String.prototype.at\n  charAt: createMethod$2(true)\n};\n\nvar charAt = stringMultibyte.charAt;\n\n\n\nvar STRING_ITERATOR = 'String Iterator';\nvar setInternalState$2 = internalState.set;\nvar getInternalState$2 = internalState.getterFor(STRING_ITERATOR);\n\n// `String.prototype[@@iterator]` method\n// https://tc39.github.io/ecma262/#sec-string.prototype-@@iterator\ndefineIterator(String, 'String', function (iterated) {\n  setInternalState$2(this, {\n    type: STRING_ITERATOR,\n    string: String(iterated),\n    index: 0\n  });\n// `%StringIteratorPrototype%.next` method\n// https://tc39.github.io/ecma262/#sec-%stringiteratorprototype%.next\n}, function next() {\n  var state = getInternalState$2(this);\n  var string = state.string;\n  var index = state.index;\n  var point;\n  if (index >= string.length) return { value: undefined, done: true };\n  point = charAt(string, index);\n  state.index += point.length;\n  return { value: point, done: false };\n});\n\n// TODO: Remove from `core-js@4` since it's moved to entry points\n\n\n\n\n\n\n\nvar SPECIES$3 = wellKnownSymbol('species');\n\nvar REPLACE_SUPPORTS_NAMED_GROUPS = !fails(function () {\n  // #replace needs built-in support for named groups.\n  // #match works fine because it just return the exec results, even if it has\n  // a \"grops\" property.\n  var re = /./;\n  re.exec = function () {\n    var result = [];\n    result.groups = { a: '7' };\n    return result;\n  };\n  return ''.replace(re, '$<a>') !== '7';\n});\n\n// IE <= 11 replaces $0 with the whole match, as if it was $&\n// https://stackoverflow.com/questions/6024666/getting-ie-to-replace-a-regex-with-the-literal-string-0\nvar REPLACE_KEEPS_$0 = (function () {\n  return 'a'.replace(/./, '$0') === '$0';\n})();\n\nvar REPLACE = wellKnownSymbol('replace');\n// Safari <= 13.0.3(?) substitutes nth capture where n>m with an empty string\nvar REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE = (function () {\n  if (/./[REPLACE]) {\n    return /./[REPLACE]('a', '$0') === '';\n  }\n  return false;\n})();\n\n// Chrome 51 has a buggy \"split\" implementation when RegExp#exec !== nativeExec\n// Weex JS has frozen built-in prototypes, so use try / catch wrapper\nvar SPLIT_WORKS_WITH_OVERWRITTEN_EXEC = !fails(function () {\n  var re = /(?:)/;\n  var originalExec = re.exec;\n  re.exec = function () { return originalExec.apply(this, arguments); };\n  var result = 'ab'.split(re);\n  return result.length !== 2 || result[0] !== 'a' || result[1] !== 'b';\n});\n\nvar fixRegexpWellKnownSymbolLogic = function (KEY, length, exec, sham) {\n  var SYMBOL = wellKnownSymbol(KEY);\n\n  var DELEGATES_TO_SYMBOL = !fails(function () {\n    // String methods call symbol-named RegEp methods\n    var O = {};\n    O[SYMBOL] = function () { return 7; };\n    return ''[KEY](O) != 7;\n  });\n\n  var DELEGATES_TO_EXEC = DELEGATES_TO_SYMBOL && !fails(function () {\n    // Symbol-named RegExp methods call .exec\n    var execCalled = false;\n    var re = /a/;\n\n    if (KEY === 'split') {\n      // We can't use real regex here since it causes deoptimization\n      // and serious performance degradation in V8\n      // https://github.com/zloirock/core-js/issues/306\n      re = {};\n      // RegExp[@@split] doesn't call the regex's exec method, but first creates\n      // a new one. We need to return the patched regex when creating the new one.\n      re.constructor = {};\n      re.constructor[SPECIES$3] = function () { return re; };\n      re.flags = '';\n      re[SYMBOL] = /./[SYMBOL];\n    }\n\n    re.exec = function () { execCalled = true; return null; };\n\n    re[SYMBOL]('');\n    return !execCalled;\n  });\n\n  if (\n    !DELEGATES_TO_SYMBOL ||\n    !DELEGATES_TO_EXEC ||\n    (KEY === 'replace' && !(\n      REPLACE_SUPPORTS_NAMED_GROUPS &&\n      REPLACE_KEEPS_$0 &&\n      !REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE\n    )) ||\n    (KEY === 'split' && !SPLIT_WORKS_WITH_OVERWRITTEN_EXEC)\n  ) {\n    var nativeRegExpMethod = /./[SYMBOL];\n    var methods = exec(SYMBOL, ''[KEY], function (nativeMethod, regexp, str, arg2, forceStringMethod) {\n      if (regexp.exec === regexpExec) {\n        if (DELEGATES_TO_SYMBOL && !forceStringMethod) {\n          // The native String method already delegates to @@method (this\n          // polyfilled function), leasing to infinite recursion.\n          // We avoid it by directly calling the native @@method method.\n          return { done: true, value: nativeRegExpMethod.call(regexp, str, arg2) };\n        }\n        return { done: true, value: nativeMethod.call(str, regexp, arg2) };\n      }\n      return { done: false };\n    }, {\n      REPLACE_KEEPS_$0: REPLACE_KEEPS_$0,\n      REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE: REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE\n    });\n    var stringMethod = methods[0];\n    var regexMethod = methods[1];\n\n    redefine(String.prototype, KEY, stringMethod);\n    redefine(RegExp.prototype, SYMBOL, length == 2\n      // 21.2.5.8 RegExp.prototype[@@replace](string, replaceValue)\n      // 21.2.5.11 RegExp.prototype[@@split](string, limit)\n      ? function (string, arg) { return regexMethod.call(string, this, arg); }\n      // 21.2.5.6 RegExp.prototype[@@match](string)\n      // 21.2.5.9 RegExp.prototype[@@search](string)\n      : function (string) { return regexMethod.call(string, this); }\n    );\n  }\n\n  if (sham) createNonEnumerableProperty(RegExp.prototype[SYMBOL], 'sham', true);\n};\n\nvar charAt$1 = stringMultibyte.charAt;\n\n// `AdvanceStringIndex` abstract operation\n// https://tc39.github.io/ecma262/#sec-advancestringindex\nvar advanceStringIndex = function (S, index, unicode) {\n  return index + (unicode ? charAt$1(S, index).length : 1);\n};\n\n// `RegExpExec` abstract operation\n// https://tc39.github.io/ecma262/#sec-regexpexec\nvar regexpExecAbstract = function (R, S) {\n  var exec = R.exec;\n  if (typeof exec === 'function') {\n    var result = exec.call(R, S);\n    if (typeof result !== 'object') {\n      throw TypeError('RegExp exec method returned something other than an Object or null');\n    }\n    return result;\n  }\n\n  if (classofRaw(R) !== 'RegExp') {\n    throw TypeError('RegExp#exec called on incompatible receiver');\n  }\n\n  return regexpExec.call(R, S);\n};\n\nvar max$2 = Math.max;\nvar min$2 = Math.min;\nvar floor$1 = Math.floor;\nvar SUBSTITUTION_SYMBOLS = /\\$([$&'`]|\\d\\d?|<[^>]*>)/g;\nvar SUBSTITUTION_SYMBOLS_NO_NAMED = /\\$([$&'`]|\\d\\d?)/g;\n\nvar maybeToString = function (it) {\n  return it === undefined ? it : String(it);\n};\n\n// @@replace logic\nfixRegexpWellKnownSymbolLogic('replace', 2, function (REPLACE, nativeReplace, maybeCallNative, reason) {\n  var REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE = reason.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE;\n  var REPLACE_KEEPS_$0 = reason.REPLACE_KEEPS_$0;\n  var UNSAFE_SUBSTITUTE = REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE ? '$' : '$0';\n\n  return [\n    // `String.prototype.replace` method\n    // https://tc39.github.io/ecma262/#sec-string.prototype.replace\n    function replace(searchValue, replaceValue) {\n      var O = requireObjectCoercible(this);\n      var replacer = searchValue == undefined ? undefined : searchValue[REPLACE];\n      return replacer !== undefined\n        ? replacer.call(searchValue, O, replaceValue)\n        : nativeReplace.call(String(O), searchValue, replaceValue);\n    },\n    // `RegExp.prototype[@@replace]` method\n    // https://tc39.github.io/ecma262/#sec-regexp.prototype-@@replace\n    function (regexp, replaceValue) {\n      if (\n        (!REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE && REPLACE_KEEPS_$0) ||\n        (typeof replaceValue === 'string' && replaceValue.indexOf(UNSAFE_SUBSTITUTE) === -1)\n      ) {\n        var res = maybeCallNative(nativeReplace, regexp, this, replaceValue);\n        if (res.done) return res.value;\n      }\n\n      var rx = anObject(regexp);\n      var S = String(this);\n\n      var functionalReplace = typeof replaceValue === 'function';\n      if (!functionalReplace) replaceValue = String(replaceValue);\n\n      var global = rx.global;\n      if (global) {\n        var fullUnicode = rx.unicode;\n        rx.lastIndex = 0;\n      }\n      var results = [];\n      while (true) {\n        var result = regexpExecAbstract(rx, S);\n        if (result === null) break;\n\n        results.push(result);\n        if (!global) break;\n\n        var matchStr = String(result[0]);\n        if (matchStr === '') rx.lastIndex = advanceStringIndex(S, toLength(rx.lastIndex), fullUnicode);\n      }\n\n      var accumulatedResult = '';\n      var nextSourcePosition = 0;\n      for (var i = 0; i < results.length; i++) {\n        result = results[i];\n\n        var matched = String(result[0]);\n        var position = max$2(min$2(toInteger(result.index), S.length), 0);\n        var captures = [];\n        // NOTE: This is equivalent to\n        //   captures = result.slice(1).map(maybeToString)\n        // but for some reason `nativeSlice.call(result, 1, result.length)` (called in\n        // the slice polyfill when slicing native arrays) \"doesn't work\" in safari 9 and\n        // causes a crash (https://pastebin.com/N21QzeQA) when trying to debug it.\n        for (var j = 1; j < result.length; j++) captures.push(maybeToString(result[j]));\n        var namedCaptures = result.groups;\n        if (functionalReplace) {\n          var replacerArgs = [matched].concat(captures, position, S);\n          if (namedCaptures !== undefined) replacerArgs.push(namedCaptures);\n          var replacement = String(replaceValue.apply(undefined, replacerArgs));\n        } else {\n          replacement = getSubstitution(matched, S, position, captures, namedCaptures, replaceValue);\n        }\n        if (position >= nextSourcePosition) {\n          accumulatedResult += S.slice(nextSourcePosition, position) + replacement;\n          nextSourcePosition = position + matched.length;\n        }\n      }\n      return accumulatedResult + S.slice(nextSourcePosition);\n    }\n  ];\n\n  // https://tc39.github.io/ecma262/#sec-getsubstitution\n  function getSubstitution(matched, str, position, captures, namedCaptures, replacement) {\n    var tailPos = position + matched.length;\n    var m = captures.length;\n    var symbols = SUBSTITUTION_SYMBOLS_NO_NAMED;\n    if (namedCaptures !== undefined) {\n      namedCaptures = toObject(namedCaptures);\n      symbols = SUBSTITUTION_SYMBOLS;\n    }\n    return nativeReplace.call(replacement, symbols, function (match, ch) {\n      var capture;\n      switch (ch.charAt(0)) {\n        case '$': return '$';\n        case '&': return matched;\n        case '`': return str.slice(0, position);\n        case \"'\": return str.slice(tailPos);\n        case '<':\n          capture = namedCaptures[ch.slice(1, -1)];\n          break;\n        default: // \\d\\d?\n          var n = +ch;\n          if (n === 0) return match;\n          if (n > m) {\n            var f = floor$1(n / 10);\n            if (f === 0) return match;\n            if (f <= m) return captures[f - 1] === undefined ? ch.charAt(1) : captures[f - 1] + ch.charAt(1);\n            return match;\n          }\n          capture = captures[n - 1];\n      }\n      return capture === undefined ? '' : capture;\n    });\n  }\n});\n\n// `SameValue` abstract operation\n// https://tc39.github.io/ecma262/#sec-samevalue\nvar sameValue = Object.is || function is(x, y) {\n  // eslint-disable-next-line no-self-compare\n  return x === y ? x !== 0 || 1 / x === 1 / y : x != x && y != y;\n};\n\n// @@search logic\nfixRegexpWellKnownSymbolLogic('search', 1, function (SEARCH, nativeSearch, maybeCallNative) {\n  return [\n    // `String.prototype.search` method\n    // https://tc39.github.io/ecma262/#sec-string.prototype.search\n    function search(regexp) {\n      var O = requireObjectCoercible(this);\n      var searcher = regexp == undefined ? undefined : regexp[SEARCH];\n      return searcher !== undefined ? searcher.call(regexp, O) : new RegExp(regexp)[SEARCH](String(O));\n    },\n    // `RegExp.prototype[@@search]` method\n    // https://tc39.github.io/ecma262/#sec-regexp.prototype-@@search\n    function (regexp) {\n      var res = maybeCallNative(nativeSearch, regexp, this);\n      if (res.done) return res.value;\n\n      var rx = anObject(regexp);\n      var S = String(this);\n\n      var previousLastIndex = rx.lastIndex;\n      if (!sameValue(previousLastIndex, 0)) rx.lastIndex = 0;\n      var result = regexpExecAbstract(rx, S);\n      if (!sameValue(rx.lastIndex, previousLastIndex)) rx.lastIndex = previousLastIndex;\n      return result === null ? -1 : result.index;\n    }\n  ];\n});\n\nvar MATCH = wellKnownSymbol('match');\n\n// `IsRegExp` abstract operation\n// https://tc39.github.io/ecma262/#sec-isregexp\nvar isRegexp = function (it) {\n  var isRegExp;\n  return isObject(it) && ((isRegExp = it[MATCH]) !== undefined ? !!isRegExp : classofRaw(it) == 'RegExp');\n};\n\nvar SPECIES$4 = wellKnownSymbol('species');\n\n// `SpeciesConstructor` abstract operation\n// https://tc39.github.io/ecma262/#sec-speciesconstructor\nvar speciesConstructor = function (O, defaultConstructor) {\n  var C = anObject(O).constructor;\n  var S;\n  return C === undefined || (S = anObject(C)[SPECIES$4]) == undefined ? defaultConstructor : aFunction$1(S);\n};\n\nvar arrayPush = [].push;\nvar min$3 = Math.min;\nvar MAX_UINT32 = 0xFFFFFFFF;\n\n// babel-minify transpiles RegExp('x', 'y') -> /x/y and it causes SyntaxError\nvar SUPPORTS_Y = !fails(function () { return !RegExp(MAX_UINT32, 'y'); });\n\n// @@split logic\nfixRegexpWellKnownSymbolLogic('split', 2, function (SPLIT, nativeSplit, maybeCallNative) {\n  var internalSplit;\n  if (\n    'abbc'.split(/(b)*/)[1] == 'c' ||\n    'test'.split(/(?:)/, -1).length != 4 ||\n    'ab'.split(/(?:ab)*/).length != 2 ||\n    '.'.split(/(.?)(.?)/).length != 4 ||\n    '.'.split(/()()/).length > 1 ||\n    ''.split(/.?/).length\n  ) {\n    // based on es5-shim implementation, need to rework it\n    internalSplit = function (separator, limit) {\n      var string = String(requireObjectCoercible(this));\n      var lim = limit === undefined ? MAX_UINT32 : limit >>> 0;\n      if (lim === 0) return [];\n      if (separator === undefined) return [string];\n      // If `separator` is not a regex, use native split\n      if (!isRegexp(separator)) {\n        return nativeSplit.call(string, separator, lim);\n      }\n      var output = [];\n      var flags = (separator.ignoreCase ? 'i' : '') +\n                  (separator.multiline ? 'm' : '') +\n                  (separator.unicode ? 'u' : '') +\n                  (separator.sticky ? 'y' : '');\n      var lastLastIndex = 0;\n      // Make `global` and avoid `lastIndex` issues by working with a copy\n      var separatorCopy = new RegExp(separator.source, flags + 'g');\n      var match, lastIndex, lastLength;\n      while (match = regexpExec.call(separatorCopy, string)) {\n        lastIndex = separatorCopy.lastIndex;\n        if (lastIndex > lastLastIndex) {\n          output.push(string.slice(lastLastIndex, match.index));\n          if (match.length > 1 && match.index < string.length) arrayPush.apply(output, match.slice(1));\n          lastLength = match[0].length;\n          lastLastIndex = lastIndex;\n          if (output.length >= lim) break;\n        }\n        if (separatorCopy.lastIndex === match.index) separatorCopy.lastIndex++; // Avoid an infinite loop\n      }\n      if (lastLastIndex === string.length) {\n        if (lastLength || !separatorCopy.test('')) output.push('');\n      } else output.push(string.slice(lastLastIndex));\n      return output.length > lim ? output.slice(0, lim) : output;\n    };\n  // Chakra, V8\n  } else if ('0'.split(undefined, 0).length) {\n    internalSplit = function (separator, limit) {\n      return separator === undefined && limit === 0 ? [] : nativeSplit.call(this, separator, limit);\n    };\n  } else internalSplit = nativeSplit;\n\n  return [\n    // `String.prototype.split` method\n    // https://tc39.github.io/ecma262/#sec-string.prototype.split\n    function split(separator, limit) {\n      var O = requireObjectCoercible(this);\n      var splitter = separator == undefined ? undefined : separator[SPLIT];\n      return splitter !== undefined\n        ? splitter.call(separator, O, limit)\n        : internalSplit.call(String(O), separator, limit);\n    },\n    // `RegExp.prototype[@@split]` method\n    // https://tc39.github.io/ecma262/#sec-regexp.prototype-@@split\n    //\n    // NOTE: This cannot be properly polyfilled in engines that don't support\n    // the 'y' flag.\n    function (regexp, limit) {\n      var res = maybeCallNative(internalSplit, regexp, this, limit, internalSplit !== nativeSplit);\n      if (res.done) return res.value;\n\n      var rx = anObject(regexp);\n      var S = String(this);\n      var C = speciesConstructor(rx, RegExp);\n\n      var unicodeMatching = rx.unicode;\n      var flags = (rx.ignoreCase ? 'i' : '') +\n                  (rx.multiline ? 'm' : '') +\n                  (rx.unicode ? 'u' : '') +\n                  (SUPPORTS_Y ? 'y' : 'g');\n\n      // ^(? + rx + ) is needed, in combination with some S slicing, to\n      // simulate the 'y' flag.\n      var splitter = new C(SUPPORTS_Y ? rx : '^(?:' + rx.source + ')', flags);\n      var lim = limit === undefined ? MAX_UINT32 : limit >>> 0;\n      if (lim === 0) return [];\n      if (S.length === 0) return regexpExecAbstract(splitter, S) === null ? [S] : [];\n      var p = 0;\n      var q = 0;\n      var A = [];\n      while (q < S.length) {\n        splitter.lastIndex = SUPPORTS_Y ? q : 0;\n        var z = regexpExecAbstract(splitter, SUPPORTS_Y ? S : S.slice(q));\n        var e;\n        if (\n          z === null ||\n          (e = min$3(toLength(splitter.lastIndex + (SUPPORTS_Y ? 0 : q)), S.length)) === p\n        ) {\n          q = advanceStringIndex(S, q, unicodeMatching);\n        } else {\n          A.push(S.slice(p, q));\n          if (A.length === lim) return A;\n          for (var i = 1; i <= z.length - 1; i++) {\n            A.push(z[i]);\n            if (A.length === lim) return A;\n          }\n          q = p = e;\n        }\n      }\n      A.push(S.slice(p));\n      return A;\n    }\n  ];\n}, !SUPPORTS_Y);\n\n// iterable DOM collections\n// flag - `iterable` interface - 'entries', 'keys', 'values', 'forEach' methods\nvar domIterables = {\n  CSSRuleList: 0,\n  CSSStyleDeclaration: 0,\n  CSSValueList: 0,\n  ClientRectList: 0,\n  DOMRectList: 0,\n  DOMStringList: 0,\n  DOMTokenList: 1,\n  DataTransferItemList: 0,\n  FileList: 0,\n  HTMLAllCollection: 0,\n  HTMLCollection: 0,\n  HTMLFormElement: 0,\n  HTMLSelectElement: 0,\n  MediaList: 0,\n  MimeTypeArray: 0,\n  NamedNodeMap: 0,\n  NodeList: 1,\n  PaintRequestList: 0,\n  Plugin: 0,\n  PluginArray: 0,\n  SVGLengthList: 0,\n  SVGNumberList: 0,\n  SVGPathSegList: 0,\n  SVGPointList: 0,\n  SVGStringList: 0,\n  SVGTransformList: 0,\n  SourceBufferList: 0,\n  StyleSheetList: 0,\n  TextTrackCueList: 0,\n  TextTrackList: 0,\n  TouchList: 0\n};\n\nfor (var COLLECTION_NAME in domIterables) {\n  var Collection = global_1[COLLECTION_NAME];\n  var CollectionPrototype = Collection && Collection.prototype;\n  // some Chrome versions have non-configurable methods on DOMTokenList\n  if (CollectionPrototype && CollectionPrototype.forEach !== arrayForEach) try {\n    createNonEnumerableProperty(CollectionPrototype, 'forEach', arrayForEach);\n  } catch (error) {\n    CollectionPrototype.forEach = arrayForEach;\n  }\n}\n\nvar ITERATOR$2 = wellKnownSymbol('iterator');\nvar TO_STRING_TAG$3 = wellKnownSymbol('toStringTag');\nvar ArrayValues = es_array_iterator.values;\n\nfor (var COLLECTION_NAME$1 in domIterables) {\n  var Collection$1 = global_1[COLLECTION_NAME$1];\n  var CollectionPrototype$1 = Collection$1 && Collection$1.prototype;\n  if (CollectionPrototype$1) {\n    // some Chrome versions have non-configurable methods on DOMTokenList\n    if (CollectionPrototype$1[ITERATOR$2] !== ArrayValues) try {\n      createNonEnumerableProperty(CollectionPrototype$1, ITERATOR$2, ArrayValues);\n    } catch (error) {\n      CollectionPrototype$1[ITERATOR$2] = ArrayValues;\n    }\n    if (!CollectionPrototype$1[TO_STRING_TAG$3]) {\n      createNonEnumerableProperty(CollectionPrototype$1, TO_STRING_TAG$3, COLLECTION_NAME$1);\n    }\n    if (domIterables[COLLECTION_NAME$1]) for (var METHOD_NAME in es_array_iterator) {\n      // some Chrome versions have non-configurable methods on DOMTokenList\n      if (CollectionPrototype$1[METHOD_NAME] !== es_array_iterator[METHOD_NAME]) try {\n        createNonEnumerableProperty(CollectionPrototype$1, METHOD_NAME, es_array_iterator[METHOD_NAME]);\n      } catch (error) {\n        CollectionPrototype$1[METHOD_NAME] = es_array_iterator[METHOD_NAME];\n      }\n    }\n  }\n}\n\nvar ITERATOR$3 = wellKnownSymbol('iterator');\n\nvar nativeUrl = !fails(function () {\n  var url = new URL('b?a=1&b=2&c=3', 'http://a');\n  var searchParams = url.searchParams;\n  var result = '';\n  url.pathname = 'c%20d';\n  searchParams.forEach(function (value, key) {\n    searchParams['delete']('b');\n    result += key + value;\n  });\n  return (isPure && !url.toJSON)\n    || !searchParams.sort\n    || url.href !== 'http://a/c%20d?a=1&c=3'\n    || searchParams.get('c') !== '3'\n    || String(new URLSearchParams('?a=1')) !== 'a=1'\n    || !searchParams[ITERATOR$3]\n    // throws in Edge\n    || new URL('https://a@b').username !== 'a'\n    || new URLSearchParams(new URLSearchParams('a=b')).get('a') !== 'b'\n    // not punycoded in Edge\n    || new URL('http://тест').host !== 'xn--e1aybc'\n    // not escaped in Chrome 62-\n    || new URL('http://a#б').hash !== '#%D0%B1'\n    // fails in Chrome 66-\n    || result !== 'a1c3'\n    // throws in Safari\n    || new URL('http://x', undefined).host !== 'x';\n});\n\nvar anInstance = function (it, Constructor, name) {\n  if (!(it instanceof Constructor)) {\n    throw TypeError('Incorrect ' + (name ? name + ' ' : '') + 'invocation');\n  } return it;\n};\n\nvar nativeAssign = Object.assign;\nvar defineProperty$4 = Object.defineProperty;\n\n// `Object.assign` method\n// https://tc39.github.io/ecma262/#sec-object.assign\nvar objectAssign = !nativeAssign || fails(function () {\n  // should have correct order of operations (Edge bug)\n  if (descriptors && nativeAssign({ b: 1 }, nativeAssign(defineProperty$4({}, 'a', {\n    enumerable: true,\n    get: function () {\n      defineProperty$4(this, 'b', {\n        value: 3,\n        enumerable: false\n      });\n    }\n  }), { b: 2 })).b !== 1) return true;\n  // should work with symbols and should have deterministic property order (V8 bug)\n  var A = {};\n  var B = {};\n  // eslint-disable-next-line no-undef\n  var symbol = Symbol();\n  var alphabet = 'abcdefghijklmnopqrst';\n  A[symbol] = 7;\n  alphabet.split('').forEach(function (chr) { B[chr] = chr; });\n  return nativeAssign({}, A)[symbol] != 7 || objectKeys(nativeAssign({}, B)).join('') != alphabet;\n}) ? function assign(target, source) { // eslint-disable-line no-unused-vars\n  var T = toObject(target);\n  var argumentsLength = arguments.length;\n  var index = 1;\n  var getOwnPropertySymbols = objectGetOwnPropertySymbols.f;\n  var propertyIsEnumerable = objectPropertyIsEnumerable.f;\n  while (argumentsLength > index) {\n    var S = indexedObject(arguments[index++]);\n    var keys = getOwnPropertySymbols ? objectKeys(S).concat(getOwnPropertySymbols(S)) : objectKeys(S);\n    var length = keys.length;\n    var j = 0;\n    var key;\n    while (length > j) {\n      key = keys[j++];\n      if (!descriptors || propertyIsEnumerable.call(S, key)) T[key] = S[key];\n    }\n  } return T;\n} : nativeAssign;\n\n// call something on iterator step with safe closing on error\nvar callWithSafeIterationClosing = function (iterator, fn, value, ENTRIES) {\n  try {\n    return ENTRIES ? fn(anObject(value)[0], value[1]) : fn(value);\n  // 7.4.6 IteratorClose(iterator, completion)\n  } catch (error) {\n    var returnMethod = iterator['return'];\n    if (returnMethod !== undefined) anObject(returnMethod.call(iterator));\n    throw error;\n  }\n};\n\nvar ITERATOR$4 = wellKnownSymbol('iterator');\nvar ArrayPrototype$1 = Array.prototype;\n\n// check on default Array iterator\nvar isArrayIteratorMethod = function (it) {\n  return it !== undefined && (iterators.Array === it || ArrayPrototype$1[ITERATOR$4] === it);\n};\n\nvar ITERATOR$5 = wellKnownSymbol('iterator');\n\nvar getIteratorMethod = function (it) {\n  if (it != undefined) return it[ITERATOR$5]\n    || it['@@iterator']\n    || iterators[classof(it)];\n};\n\n// `Array.from` method implementation\n// https://tc39.github.io/ecma262/#sec-array.from\nvar arrayFrom = function from(arrayLike /* , mapfn = undefined, thisArg = undefined */) {\n  var O = toObject(arrayLike);\n  var C = typeof this == 'function' ? this : Array;\n  var argumentsLength = arguments.length;\n  var mapfn = argumentsLength > 1 ? arguments[1] : undefined;\n  var mapping = mapfn !== undefined;\n  var iteratorMethod = getIteratorMethod(O);\n  var index = 0;\n  var length, result, step, iterator, next, value;\n  if (mapping) mapfn = functionBindContext(mapfn, argumentsLength > 2 ? arguments[2] : undefined, 2);\n  // if the target is not iterable or it's an array with the default iterator - use a simple case\n  if (iteratorMethod != undefined && !(C == Array && isArrayIteratorMethod(iteratorMethod))) {\n    iterator = iteratorMethod.call(O);\n    next = iterator.next;\n    result = new C();\n    for (;!(step = next.call(iterator)).done; index++) {\n      value = mapping ? callWithSafeIterationClosing(iterator, mapfn, [step.value, index], true) : step.value;\n      createProperty(result, index, value);\n    }\n  } else {\n    length = toLength(O.length);\n    result = new C(length);\n    for (;length > index; index++) {\n      value = mapping ? mapfn(O[index], index) : O[index];\n      createProperty(result, index, value);\n    }\n  }\n  result.length = index;\n  return result;\n};\n\n// based on https://github.com/bestiejs/punycode.js/blob/master/punycode.js\nvar maxInt = 2147483647; // aka. 0x7FFFFFFF or 2^31-1\nvar base = 36;\nvar tMin = 1;\nvar tMax = 26;\nvar skew = 38;\nvar damp = 700;\nvar initialBias = 72;\nvar initialN = 128; // 0x80\nvar delimiter = '-'; // '\\x2D'\nvar regexNonASCII = /[^\\0-\\u007E]/; // non-ASCII chars\nvar regexSeparators = /[.\\u3002\\uFF0E\\uFF61]/g; // RFC 3490 separators\nvar OVERFLOW_ERROR = 'Overflow: input needs wider integers to process';\nvar baseMinusTMin = base - tMin;\nvar floor$2 = Math.floor;\nvar stringFromCharCode = String.fromCharCode;\n\n/**\n * Creates an array containing the numeric code points of each Unicode\n * character in the string. While JavaScript uses UCS-2 internally,\n * this function will convert a pair of surrogate halves (each of which\n * UCS-2 exposes as separate characters) into a single code point,\n * matching UTF-16.\n */\nvar ucs2decode = function (string) {\n  var output = [];\n  var counter = 0;\n  var length = string.length;\n  while (counter < length) {\n    var value = string.charCodeAt(counter++);\n    if (value >= 0xD800 && value <= 0xDBFF && counter < length) {\n      // It's a high surrogate, and there is a next character.\n      var extra = string.charCodeAt(counter++);\n      if ((extra & 0xFC00) == 0xDC00) { // Low surrogate.\n        output.push(((value & 0x3FF) << 10) + (extra & 0x3FF) + 0x10000);\n      } else {\n        // It's an unmatched surrogate; only append this code unit, in case the\n        // next code unit is the high surrogate of a surrogate pair.\n        output.push(value);\n        counter--;\n      }\n    } else {\n      output.push(value);\n    }\n  }\n  return output;\n};\n\n/**\n * Converts a digit/integer into a basic code point.\n */\nvar digitToBasic = function (digit) {\n  //  0..25 map to ASCII a..z or A..Z\n  // 26..35 map to ASCII 0..9\n  return digit + 22 + 75 * (digit < 26);\n};\n\n/**\n * Bias adaptation function as per section 3.4 of RFC 3492.\n * https://tools.ietf.org/html/rfc3492#section-3.4\n */\nvar adapt = function (delta, numPoints, firstTime) {\n  var k = 0;\n  delta = firstTime ? floor$2(delta / damp) : delta >> 1;\n  delta += floor$2(delta / numPoints);\n  for (; delta > baseMinusTMin * tMax >> 1; k += base) {\n    delta = floor$2(delta / baseMinusTMin);\n  }\n  return floor$2(k + (baseMinusTMin + 1) * delta / (delta + skew));\n};\n\n/**\n * Converts a string of Unicode symbols (e.g. a domain name label) to a\n * Punycode string of ASCII-only symbols.\n */\n// eslint-disable-next-line  max-statements\nvar encode = function (input) {\n  var output = [];\n\n  // Convert the input in UCS-2 to an array of Unicode code points.\n  input = ucs2decode(input);\n\n  // Cache the length.\n  var inputLength = input.length;\n\n  // Initialize the state.\n  var n = initialN;\n  var delta = 0;\n  var bias = initialBias;\n  var i, currentValue;\n\n  // Handle the basic code points.\n  for (i = 0; i < input.length; i++) {\n    currentValue = input[i];\n    if (currentValue < 0x80) {\n      output.push(stringFromCharCode(currentValue));\n    }\n  }\n\n  var basicLength = output.length; // number of basic code points.\n  var handledCPCount = basicLength; // number of code points that have been handled;\n\n  // Finish the basic string with a delimiter unless it's empty.\n  if (basicLength) {\n    output.push(delimiter);\n  }\n\n  // Main encoding loop:\n  while (handledCPCount < inputLength) {\n    // All non-basic code points < n have been handled already. Find the next larger one:\n    var m = maxInt;\n    for (i = 0; i < input.length; i++) {\n      currentValue = input[i];\n      if (currentValue >= n && currentValue < m) {\n        m = currentValue;\n      }\n    }\n\n    // Increase `delta` enough to advance the decoder's <n,i> state to <m,0>, but guard against overflow.\n    var handledCPCountPlusOne = handledCPCount + 1;\n    if (m - n > floor$2((maxInt - delta) / handledCPCountPlusOne)) {\n      throw RangeError(OVERFLOW_ERROR);\n    }\n\n    delta += (m - n) * handledCPCountPlusOne;\n    n = m;\n\n    for (i = 0; i < input.length; i++) {\n      currentValue = input[i];\n      if (currentValue < n && ++delta > maxInt) {\n        throw RangeError(OVERFLOW_ERROR);\n      }\n      if (currentValue == n) {\n        // Represent delta as a generalized variable-length integer.\n        var q = delta;\n        for (var k = base; /* no condition */; k += base) {\n          var t = k <= bias ? tMin : (k >= bias + tMax ? tMax : k - bias);\n          if (q < t) break;\n          var qMinusT = q - t;\n          var baseMinusT = base - t;\n          output.push(stringFromCharCode(digitToBasic(t + qMinusT % baseMinusT)));\n          q = floor$2(qMinusT / baseMinusT);\n        }\n\n        output.push(stringFromCharCode(digitToBasic(q)));\n        bias = adapt(delta, handledCPCountPlusOne, handledCPCount == basicLength);\n        delta = 0;\n        ++handledCPCount;\n      }\n    }\n\n    ++delta;\n    ++n;\n  }\n  return output.join('');\n};\n\nvar stringPunycodeToAscii = function (input) {\n  var encoded = [];\n  var labels = input.toLowerCase().replace(regexSeparators, '\\u002E').split('.');\n  var i, label;\n  for (i = 0; i < labels.length; i++) {\n    label = labels[i];\n    encoded.push(regexNonASCII.test(label) ? 'xn--' + encode(label) : label);\n  }\n  return encoded.join('.');\n};\n\nvar redefineAll = function (target, src, options) {\n  for (var key in src) redefine(target, key, src[key], options);\n  return target;\n};\n\nvar getIterator = function (it) {\n  var iteratorMethod = getIteratorMethod(it);\n  if (typeof iteratorMethod != 'function') {\n    throw TypeError(String(it) + ' is not iterable');\n  } return anObject(iteratorMethod.call(it));\n};\n\n// TODO: in core-js@4, move /modules/ dependencies to public entries for better optimization by tools like `preset-env`\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar $fetch = getBuiltIn('fetch');\nvar Headers = getBuiltIn('Headers');\nvar ITERATOR$6 = wellKnownSymbol('iterator');\nvar URL_SEARCH_PARAMS = 'URLSearchParams';\nvar URL_SEARCH_PARAMS_ITERATOR = URL_SEARCH_PARAMS + 'Iterator';\nvar setInternalState$3 = internalState.set;\nvar getInternalParamsState = internalState.getterFor(URL_SEARCH_PARAMS);\nvar getInternalIteratorState = internalState.getterFor(URL_SEARCH_PARAMS_ITERATOR);\n\nvar plus = /\\+/g;\nvar sequences = Array(4);\n\nvar percentSequence = function (bytes) {\n  return sequences[bytes - 1] || (sequences[bytes - 1] = RegExp('((?:%[\\\\da-f]{2}){' + bytes + '})', 'gi'));\n};\n\nvar percentDecode = function (sequence) {\n  try {\n    return decodeURIComponent(sequence);\n  } catch (error) {\n    return sequence;\n  }\n};\n\nvar deserialize = function (it) {\n  var result = it.replace(plus, ' ');\n  var bytes = 4;\n  try {\n    return decodeURIComponent(result);\n  } catch (error) {\n    while (bytes) {\n      result = result.replace(percentSequence(bytes--), percentDecode);\n    }\n    return result;\n  }\n};\n\nvar find = /[!'()~]|%20/g;\n\nvar replace = {\n  '!': '%21',\n  \"'\": '%27',\n  '(': '%28',\n  ')': '%29',\n  '~': '%7E',\n  '%20': '+'\n};\n\nvar replacer = function (match) {\n  return replace[match];\n};\n\nvar serialize = function (it) {\n  return encodeURIComponent(it).replace(find, replacer);\n};\n\nvar parseSearchParams = function (result, query) {\n  if (query) {\n    var attributes = query.split('&');\n    var index = 0;\n    var attribute, entry;\n    while (index < attributes.length) {\n      attribute = attributes[index++];\n      if (attribute.length) {\n        entry = attribute.split('=');\n        result.push({\n          key: deserialize(entry.shift()),\n          value: deserialize(entry.join('='))\n        });\n      }\n    }\n  }\n};\n\nvar updateSearchParams = function (query) {\n  this.entries.length = 0;\n  parseSearchParams(this.entries, query);\n};\n\nvar validateArgumentsLength = function (passed, required) {\n  if (passed < required) throw TypeError('Not enough arguments');\n};\n\nvar URLSearchParamsIterator = createIteratorConstructor(function Iterator(params, kind) {\n  setInternalState$3(this, {\n    type: URL_SEARCH_PARAMS_ITERATOR,\n    iterator: getIterator(getInternalParamsState(params).entries),\n    kind: kind\n  });\n}, 'Iterator', function next() {\n  var state = getInternalIteratorState(this);\n  var kind = state.kind;\n  var step = state.iterator.next();\n  var entry = step.value;\n  if (!step.done) {\n    step.value = kind === 'keys' ? entry.key : kind === 'values' ? entry.value : [entry.key, entry.value];\n  } return step;\n});\n\n// `URLSearchParams` constructor\n// https://url.spec.whatwg.org/#interface-urlsearchparams\nvar URLSearchParamsConstructor = function URLSearchParams(/* init */) {\n  anInstance(this, URLSearchParamsConstructor, URL_SEARCH_PARAMS);\n  var init = arguments.length > 0 ? arguments[0] : undefined;\n  var that = this;\n  var entries = [];\n  var iteratorMethod, iterator, next, step, entryIterator, entryNext, first, second, key;\n\n  setInternalState$3(that, {\n    type: URL_SEARCH_PARAMS,\n    entries: entries,\n    updateURL: function () { /* empty */ },\n    updateSearchParams: updateSearchParams\n  });\n\n  if (init !== undefined) {\n    if (isObject(init)) {\n      iteratorMethod = getIteratorMethod(init);\n      if (typeof iteratorMethod === 'function') {\n        iterator = iteratorMethod.call(init);\n        next = iterator.next;\n        while (!(step = next.call(iterator)).done) {\n          entryIterator = getIterator(anObject(step.value));\n          entryNext = entryIterator.next;\n          if (\n            (first = entryNext.call(entryIterator)).done ||\n            (second = entryNext.call(entryIterator)).done ||\n            !entryNext.call(entryIterator).done\n          ) throw TypeError('Expected sequence with length 2');\n          entries.push({ key: first.value + '', value: second.value + '' });\n        }\n      } else for (key in init) if (has(init, key)) entries.push({ key: key, value: init[key] + '' });\n    } else {\n      parseSearchParams(entries, typeof init === 'string' ? init.charAt(0) === '?' ? init.slice(1) : init : init + '');\n    }\n  }\n};\n\nvar URLSearchParamsPrototype = URLSearchParamsConstructor.prototype;\n\nredefineAll(URLSearchParamsPrototype, {\n  // `URLSearchParams.prototype.appent` method\n  // https://url.spec.whatwg.org/#dom-urlsearchparams-append\n  append: function append(name, value) {\n    validateArgumentsLength(arguments.length, 2);\n    var state = getInternalParamsState(this);\n    state.entries.push({ key: name + '', value: value + '' });\n    state.updateURL();\n  },\n  // `URLSearchParams.prototype.delete` method\n  // https://url.spec.whatwg.org/#dom-urlsearchparams-delete\n  'delete': function (name) {\n    validateArgumentsLength(arguments.length, 1);\n    var state = getInternalParamsState(this);\n    var entries = state.entries;\n    var key = name + '';\n    var index = 0;\n    while (index < entries.length) {\n      if (entries[index].key === key) entries.splice(index, 1);\n      else index++;\n    }\n    state.updateURL();\n  },\n  // `URLSearchParams.prototype.get` method\n  // https://url.spec.whatwg.org/#dom-urlsearchparams-get\n  get: function get(name) {\n    validateArgumentsLength(arguments.length, 1);\n    var entries = getInternalParamsState(this).entries;\n    var key = name + '';\n    var index = 0;\n    for (; index < entries.length; index++) {\n      if (entries[index].key === key) return entries[index].value;\n    }\n    return null;\n  },\n  // `URLSearchParams.prototype.getAll` method\n  // https://url.spec.whatwg.org/#dom-urlsearchparams-getall\n  getAll: function getAll(name) {\n    validateArgumentsLength(arguments.length, 1);\n    var entries = getInternalParamsState(this).entries;\n    var key = name + '';\n    var result = [];\n    var index = 0;\n    for (; index < entries.length; index++) {\n      if (entries[index].key === key) result.push(entries[index].value);\n    }\n    return result;\n  },\n  // `URLSearchParams.prototype.has` method\n  // https://url.spec.whatwg.org/#dom-urlsearchparams-has\n  has: function has(name) {\n    validateArgumentsLength(arguments.length, 1);\n    var entries = getInternalParamsState(this).entries;\n    var key = name + '';\n    var index = 0;\n    while (index < entries.length) {\n      if (entries[index++].key === key) return true;\n    }\n    return false;\n  },\n  // `URLSearchParams.prototype.set` method\n  // https://url.spec.whatwg.org/#dom-urlsearchparams-set\n  set: function set(name, value) {\n    validateArgumentsLength(arguments.length, 1);\n    var state = getInternalParamsState(this);\n    var entries = state.entries;\n    var found = false;\n    var key = name + '';\n    var val = value + '';\n    var index = 0;\n    var entry;\n    for (; index < entries.length; index++) {\n      entry = entries[index];\n      if (entry.key === key) {\n        if (found) entries.splice(index--, 1);\n        else {\n          found = true;\n          entry.value = val;\n        }\n      }\n    }\n    if (!found) entries.push({ key: key, value: val });\n    state.updateURL();\n  },\n  // `URLSearchParams.prototype.sort` method\n  // https://url.spec.whatwg.org/#dom-urlsearchparams-sort\n  sort: function sort() {\n    var state = getInternalParamsState(this);\n    var entries = state.entries;\n    // Array#sort is not stable in some engines\n    var slice = entries.slice();\n    var entry, entriesIndex, sliceIndex;\n    entries.length = 0;\n    for (sliceIndex = 0; sliceIndex < slice.length; sliceIndex++) {\n      entry = slice[sliceIndex];\n      for (entriesIndex = 0; entriesIndex < sliceIndex; entriesIndex++) {\n        if (entries[entriesIndex].key > entry.key) {\n          entries.splice(entriesIndex, 0, entry);\n          break;\n        }\n      }\n      if (entriesIndex === sliceIndex) entries.push(entry);\n    }\n    state.updateURL();\n  },\n  // `URLSearchParams.prototype.forEach` method\n  forEach: function forEach(callback /* , thisArg */) {\n    var entries = getInternalParamsState(this).entries;\n    var boundFunction = functionBindContext(callback, arguments.length > 1 ? arguments[1] : undefined, 3);\n    var index = 0;\n    var entry;\n    while (index < entries.length) {\n      entry = entries[index++];\n      boundFunction(entry.value, entry.key, this);\n    }\n  },\n  // `URLSearchParams.prototype.keys` method\n  keys: function keys() {\n    return new URLSearchParamsIterator(this, 'keys');\n  },\n  // `URLSearchParams.prototype.values` method\n  values: function values() {\n    return new URLSearchParamsIterator(this, 'values');\n  },\n  // `URLSearchParams.prototype.entries` method\n  entries: function entries() {\n    return new URLSearchParamsIterator(this, 'entries');\n  }\n}, { enumerable: true });\n\n// `URLSearchParams.prototype[@@iterator]` method\nredefine(URLSearchParamsPrototype, ITERATOR$6, URLSearchParamsPrototype.entries);\n\n// `URLSearchParams.prototype.toString` method\n// https://url.spec.whatwg.org/#urlsearchparams-stringification-behavior\nredefine(URLSearchParamsPrototype, 'toString', function toString() {\n  var entries = getInternalParamsState(this).entries;\n  var result = [];\n  var index = 0;\n  var entry;\n  while (index < entries.length) {\n    entry = entries[index++];\n    result.push(serialize(entry.key) + '=' + serialize(entry.value));\n  } return result.join('&');\n}, { enumerable: true });\n\nsetToStringTag(URLSearchParamsConstructor, URL_SEARCH_PARAMS);\n\n_export({ global: true, forced: !nativeUrl }, {\n  URLSearchParams: URLSearchParamsConstructor\n});\n\n// Wrap `fetch` for correct work with polyfilled `URLSearchParams`\n// https://github.com/zloirock/core-js/issues/674\nif (!nativeUrl && typeof $fetch == 'function' && typeof Headers == 'function') {\n  _export({ global: true, enumerable: true, forced: true }, {\n    fetch: function fetch(input /* , init */) {\n      var args = [input];\n      var init, body, headers;\n      if (arguments.length > 1) {\n        init = arguments[1];\n        if (isObject(init)) {\n          body = init.body;\n          if (classof(body) === URL_SEARCH_PARAMS) {\n            headers = init.headers ? new Headers(init.headers) : new Headers();\n            if (!headers.has('content-type')) {\n              headers.set('content-type', 'application/x-www-form-urlencoded;charset=UTF-8');\n            }\n            init = objectCreate(init, {\n              body: createPropertyDescriptor(0, String(body)),\n              headers: createPropertyDescriptor(0, headers)\n            });\n          }\n        }\n        args.push(init);\n      } return $fetch.apply(this, args);\n    }\n  });\n}\n\nvar web_urlSearchParams = {\n  URLSearchParams: URLSearchParamsConstructor,\n  getState: getInternalParamsState\n};\n\n// TODO: in core-js@4, move /modules/ dependencies to public entries for better optimization by tools like `preset-env`\n\n\n\n\n\n\n\n\n\n\n\nvar codeAt = stringMultibyte.codeAt;\n\n\n\n\n\nvar NativeURL = global_1.URL;\nvar URLSearchParams$1 = web_urlSearchParams.URLSearchParams;\nvar getInternalSearchParamsState = web_urlSearchParams.getState;\nvar setInternalState$4 = internalState.set;\nvar getInternalURLState = internalState.getterFor('URL');\nvar floor$3 = Math.floor;\nvar pow = Math.pow;\n\nvar INVALID_AUTHORITY = 'Invalid authority';\nvar INVALID_SCHEME = 'Invalid scheme';\nvar INVALID_HOST = 'Invalid host';\nvar INVALID_PORT = 'Invalid port';\n\nvar ALPHA = /[A-Za-z]/;\nvar ALPHANUMERIC = /[\\d+-.A-Za-z]/;\nvar DIGIT = /\\d/;\nvar HEX_START = /^(0x|0X)/;\nvar OCT = /^[0-7]+$/;\nvar DEC = /^\\d+$/;\nvar HEX = /^[\\dA-Fa-f]+$/;\n// eslint-disable-next-line no-control-regex\nvar FORBIDDEN_HOST_CODE_POINT = /[\\u0000\\u0009\\u000A\\u000D #%/:?@[\\\\]]/;\n// eslint-disable-next-line no-control-regex\nvar FORBIDDEN_HOST_CODE_POINT_EXCLUDING_PERCENT = /[\\u0000\\u0009\\u000A\\u000D #/:?@[\\\\]]/;\n// eslint-disable-next-line no-control-regex\nvar LEADING_AND_TRAILING_C0_CONTROL_OR_SPACE = /^[\\u0000-\\u001F ]+|[\\u0000-\\u001F ]+$/g;\n// eslint-disable-next-line no-control-regex\nvar TAB_AND_NEW_LINE = /[\\u0009\\u000A\\u000D]/g;\nvar EOF;\n\nvar parseHost = function (url, input) {\n  var result, codePoints, index;\n  if (input.charAt(0) == '[') {\n    if (input.charAt(input.length - 1) != ']') return INVALID_HOST;\n    result = parseIPv6(input.slice(1, -1));\n    if (!result) return INVALID_HOST;\n    url.host = result;\n  // opaque host\n  } else if (!isSpecial(url)) {\n    if (FORBIDDEN_HOST_CODE_POINT_EXCLUDING_PERCENT.test(input)) return INVALID_HOST;\n    result = '';\n    codePoints = arrayFrom(input);\n    for (index = 0; index < codePoints.length; index++) {\n      result += percentEncode(codePoints[index], C0ControlPercentEncodeSet);\n    }\n    url.host = result;\n  } else {\n    input = stringPunycodeToAscii(input);\n    if (FORBIDDEN_HOST_CODE_POINT.test(input)) return INVALID_HOST;\n    result = parseIPv4(input);\n    if (result === null) return INVALID_HOST;\n    url.host = result;\n  }\n};\n\nvar parseIPv4 = function (input) {\n  var parts = input.split('.');\n  var partsLength, numbers, index, part, radix, number, ipv4;\n  if (parts.length && parts[parts.length - 1] == '') {\n    parts.pop();\n  }\n  partsLength = parts.length;\n  if (partsLength > 4) return input;\n  numbers = [];\n  for (index = 0; index < partsLength; index++) {\n    part = parts[index];\n    if (part == '') return input;\n    radix = 10;\n    if (part.length > 1 && part.charAt(0) == '0') {\n      radix = HEX_START.test(part) ? 16 : 8;\n      part = part.slice(radix == 8 ? 1 : 2);\n    }\n    if (part === '') {\n      number = 0;\n    } else {\n      if (!(radix == 10 ? DEC : radix == 8 ? OCT : HEX).test(part)) return input;\n      number = parseInt(part, radix);\n    }\n    numbers.push(number);\n  }\n  for (index = 0; index < partsLength; index++) {\n    number = numbers[index];\n    if (index == partsLength - 1) {\n      if (number >= pow(256, 5 - partsLength)) return null;\n    } else if (number > 255) return null;\n  }\n  ipv4 = numbers.pop();\n  for (index = 0; index < numbers.length; index++) {\n    ipv4 += numbers[index] * pow(256, 3 - index);\n  }\n  return ipv4;\n};\n\n// eslint-disable-next-line max-statements\nvar parseIPv6 = function (input) {\n  var address = [0, 0, 0, 0, 0, 0, 0, 0];\n  var pieceIndex = 0;\n  var compress = null;\n  var pointer = 0;\n  var value, length, numbersSeen, ipv4Piece, number, swaps, swap;\n\n  var char = function () {\n    return input.charAt(pointer);\n  };\n\n  if (char() == ':') {\n    if (input.charAt(1) != ':') return;\n    pointer += 2;\n    pieceIndex++;\n    compress = pieceIndex;\n  }\n  while (char()) {\n    if (pieceIndex == 8) return;\n    if (char() == ':') {\n      if (compress !== null) return;\n      pointer++;\n      pieceIndex++;\n      compress = pieceIndex;\n      continue;\n    }\n    value = length = 0;\n    while (length < 4 && HEX.test(char())) {\n      value = value * 16 + parseInt(char(), 16);\n      pointer++;\n      length++;\n    }\n    if (char() == '.') {\n      if (length == 0) return;\n      pointer -= length;\n      if (pieceIndex > 6) return;\n      numbersSeen = 0;\n      while (char()) {\n        ipv4Piece = null;\n        if (numbersSeen > 0) {\n          if (char() == '.' && numbersSeen < 4) pointer++;\n          else return;\n        }\n        if (!DIGIT.test(char())) return;\n        while (DIGIT.test(char())) {\n          number = parseInt(char(), 10);\n          if (ipv4Piece === null) ipv4Piece = number;\n          else if (ipv4Piece == 0) return;\n          else ipv4Piece = ipv4Piece * 10 + number;\n          if (ipv4Piece > 255) return;\n          pointer++;\n        }\n        address[pieceIndex] = address[pieceIndex] * 256 + ipv4Piece;\n        numbersSeen++;\n        if (numbersSeen == 2 || numbersSeen == 4) pieceIndex++;\n      }\n      if (numbersSeen != 4) return;\n      break;\n    } else if (char() == ':') {\n      pointer++;\n      if (!char()) return;\n    } else if (char()) return;\n    address[pieceIndex++] = value;\n  }\n  if (compress !== null) {\n    swaps = pieceIndex - compress;\n    pieceIndex = 7;\n    while (pieceIndex != 0 && swaps > 0) {\n      swap = address[pieceIndex];\n      address[pieceIndex--] = address[compress + swaps - 1];\n      address[compress + --swaps] = swap;\n    }\n  } else if (pieceIndex != 8) return;\n  return address;\n};\n\nvar findLongestZeroSequence = function (ipv6) {\n  var maxIndex = null;\n  var maxLength = 1;\n  var currStart = null;\n  var currLength = 0;\n  var index = 0;\n  for (; index < 8; index++) {\n    if (ipv6[index] !== 0) {\n      if (currLength > maxLength) {\n        maxIndex = currStart;\n        maxLength = currLength;\n      }\n      currStart = null;\n      currLength = 0;\n    } else {\n      if (currStart === null) currStart = index;\n      ++currLength;\n    }\n  }\n  if (currLength > maxLength) {\n    maxIndex = currStart;\n    maxLength = currLength;\n  }\n  return maxIndex;\n};\n\nvar serializeHost = function (host) {\n  var result, index, compress, ignore0;\n  // ipv4\n  if (typeof host == 'number') {\n    result = [];\n    for (index = 0; index < 4; index++) {\n      result.unshift(host % 256);\n      host = floor$3(host / 256);\n    } return result.join('.');\n  // ipv6\n  } else if (typeof host == 'object') {\n    result = '';\n    compress = findLongestZeroSequence(host);\n    for (index = 0; index < 8; index++) {\n      if (ignore0 && host[index] === 0) continue;\n      if (ignore0) ignore0 = false;\n      if (compress === index) {\n        result += index ? ':' : '::';\n        ignore0 = true;\n      } else {\n        result += host[index].toString(16);\n        if (index < 7) result += ':';\n      }\n    }\n    return '[' + result + ']';\n  } return host;\n};\n\nvar C0ControlPercentEncodeSet = {};\nvar fragmentPercentEncodeSet = objectAssign({}, C0ControlPercentEncodeSet, {\n  ' ': 1, '\"': 1, '<': 1, '>': 1, '`': 1\n});\nvar pathPercentEncodeSet = objectAssign({}, fragmentPercentEncodeSet, {\n  '#': 1, '?': 1, '{': 1, '}': 1\n});\nvar userinfoPercentEncodeSet = objectAssign({}, pathPercentEncodeSet, {\n  '/': 1, ':': 1, ';': 1, '=': 1, '@': 1, '[': 1, '\\\\': 1, ']': 1, '^': 1, '|': 1\n});\n\nvar percentEncode = function (char, set) {\n  var code = codeAt(char, 0);\n  return code > 0x20 && code < 0x7F && !has(set, char) ? char : encodeURIComponent(char);\n};\n\nvar specialSchemes = {\n  ftp: 21,\n  file: null,\n  http: 80,\n  https: 443,\n  ws: 80,\n  wss: 443\n};\n\nvar isSpecial = function (url) {\n  return has(specialSchemes, url.scheme);\n};\n\nvar includesCredentials = function (url) {\n  return url.username != '' || url.password != '';\n};\n\nvar cannotHaveUsernamePasswordPort = function (url) {\n  return !url.host || url.cannotBeABaseURL || url.scheme == 'file';\n};\n\nvar isWindowsDriveLetter = function (string, normalized) {\n  var second;\n  return string.length == 2 && ALPHA.test(string.charAt(0))\n    && ((second = string.charAt(1)) == ':' || (!normalized && second == '|'));\n};\n\nvar startsWithWindowsDriveLetter = function (string) {\n  var third;\n  return string.length > 1 && isWindowsDriveLetter(string.slice(0, 2)) && (\n    string.length == 2 ||\n    ((third = string.charAt(2)) === '/' || third === '\\\\' || third === '?' || third === '#')\n  );\n};\n\nvar shortenURLsPath = function (url) {\n  var path = url.path;\n  var pathSize = path.length;\n  if (pathSize && (url.scheme != 'file' || pathSize != 1 || !isWindowsDriveLetter(path[0], true))) {\n    path.pop();\n  }\n};\n\nvar isSingleDot = function (segment) {\n  return segment === '.' || segment.toLowerCase() === '%2e';\n};\n\nvar isDoubleDot = function (segment) {\n  segment = segment.toLowerCase();\n  return segment === '..' || segment === '%2e.' || segment === '.%2e' || segment === '%2e%2e';\n};\n\n// States:\nvar SCHEME_START = {};\nvar SCHEME = {};\nvar NO_SCHEME = {};\nvar SPECIAL_RELATIVE_OR_AUTHORITY = {};\nvar PATH_OR_AUTHORITY = {};\nvar RELATIVE = {};\nvar RELATIVE_SLASH = {};\nvar SPECIAL_AUTHORITY_SLASHES = {};\nvar SPECIAL_AUTHORITY_IGNORE_SLASHES = {};\nvar AUTHORITY = {};\nvar HOST = {};\nvar HOSTNAME = {};\nvar PORT = {};\nvar FILE = {};\nvar FILE_SLASH = {};\nvar FILE_HOST = {};\nvar PATH_START = {};\nvar PATH = {};\nvar CANNOT_BE_A_BASE_URL_PATH = {};\nvar QUERY = {};\nvar FRAGMENT = {};\n\n// eslint-disable-next-line max-statements\nvar parseURL = function (url, input, stateOverride, base) {\n  var state = stateOverride || SCHEME_START;\n  var pointer = 0;\n  var buffer = '';\n  var seenAt = false;\n  var seenBracket = false;\n  var seenPasswordToken = false;\n  var codePoints, char, bufferCodePoints, failure;\n\n  if (!stateOverride) {\n    url.scheme = '';\n    url.username = '';\n    url.password = '';\n    url.host = null;\n    url.port = null;\n    url.path = [];\n    url.query = null;\n    url.fragment = null;\n    url.cannotBeABaseURL = false;\n    input = input.replace(LEADING_AND_TRAILING_C0_CONTROL_OR_SPACE, '');\n  }\n\n  input = input.replace(TAB_AND_NEW_LINE, '');\n\n  codePoints = arrayFrom(input);\n\n  while (pointer <= codePoints.length) {\n    char = codePoints[pointer];\n    switch (state) {\n      case SCHEME_START:\n        if (char && ALPHA.test(char)) {\n          buffer += char.toLowerCase();\n          state = SCHEME;\n        } else if (!stateOverride) {\n          state = NO_SCHEME;\n          continue;\n        } else return INVALID_SCHEME;\n        break;\n\n      case SCHEME:\n        if (char && (ALPHANUMERIC.test(char) || char == '+' || char == '-' || char == '.')) {\n          buffer += char.toLowerCase();\n        } else if (char == ':') {\n          if (stateOverride && (\n            (isSpecial(url) != has(specialSchemes, buffer)) ||\n            (buffer == 'file' && (includesCredentials(url) || url.port !== null)) ||\n            (url.scheme == 'file' && !url.host)\n          )) return;\n          url.scheme = buffer;\n          if (stateOverride) {\n            if (isSpecial(url) && specialSchemes[url.scheme] == url.port) url.port = null;\n            return;\n          }\n          buffer = '';\n          if (url.scheme == 'file') {\n            state = FILE;\n          } else if (isSpecial(url) && base && base.scheme == url.scheme) {\n            state = SPECIAL_RELATIVE_OR_AUTHORITY;\n          } else if (isSpecial(url)) {\n            state = SPECIAL_AUTHORITY_SLASHES;\n          } else if (codePoints[pointer + 1] == '/') {\n            state = PATH_OR_AUTHORITY;\n            pointer++;\n          } else {\n            url.cannotBeABaseURL = true;\n            url.path.push('');\n            state = CANNOT_BE_A_BASE_URL_PATH;\n          }\n        } else if (!stateOverride) {\n          buffer = '';\n          state = NO_SCHEME;\n          pointer = 0;\n          continue;\n        } else return INVALID_SCHEME;\n        break;\n\n      case NO_SCHEME:\n        if (!base || (base.cannotBeABaseURL && char != '#')) return INVALID_SCHEME;\n        if (base.cannotBeABaseURL && char == '#') {\n          url.scheme = base.scheme;\n          url.path = base.path.slice();\n          url.query = base.query;\n          url.fragment = '';\n          url.cannotBeABaseURL = true;\n          state = FRAGMENT;\n          break;\n        }\n        state = base.scheme == 'file' ? FILE : RELATIVE;\n        continue;\n\n      case SPECIAL_RELATIVE_OR_AUTHORITY:\n        if (char == '/' && codePoints[pointer + 1] == '/') {\n          state = SPECIAL_AUTHORITY_IGNORE_SLASHES;\n          pointer++;\n        } else {\n          state = RELATIVE;\n          continue;\n        } break;\n\n      case PATH_OR_AUTHORITY:\n        if (char == '/') {\n          state = AUTHORITY;\n          break;\n        } else {\n          state = PATH;\n          continue;\n        }\n\n      case RELATIVE:\n        url.scheme = base.scheme;\n        if (char == EOF) {\n          url.username = base.username;\n          url.password = base.password;\n          url.host = base.host;\n          url.port = base.port;\n          url.path = base.path.slice();\n          url.query = base.query;\n        } else if (char == '/' || (char == '\\\\' && isSpecial(url))) {\n          state = RELATIVE_SLASH;\n        } else if (char == '?') {\n          url.username = base.username;\n          url.password = base.password;\n          url.host = base.host;\n          url.port = base.port;\n          url.path = base.path.slice();\n          url.query = '';\n          state = QUERY;\n        } else if (char == '#') {\n          url.username = base.username;\n          url.password = base.password;\n          url.host = base.host;\n          url.port = base.port;\n          url.path = base.path.slice();\n          url.query = base.query;\n          url.fragment = '';\n          state = FRAGMENT;\n        } else {\n          url.username = base.username;\n          url.password = base.password;\n          url.host = base.host;\n          url.port = base.port;\n          url.path = base.path.slice();\n          url.path.pop();\n          state = PATH;\n          continue;\n        } break;\n\n      case RELATIVE_SLASH:\n        if (isSpecial(url) && (char == '/' || char == '\\\\')) {\n          state = SPECIAL_AUTHORITY_IGNORE_SLASHES;\n        } else if (char == '/') {\n          state = AUTHORITY;\n        } else {\n          url.username = base.username;\n          url.password = base.password;\n          url.host = base.host;\n          url.port = base.port;\n          state = PATH;\n          continue;\n        } break;\n\n      case SPECIAL_AUTHORITY_SLASHES:\n        state = SPECIAL_AUTHORITY_IGNORE_SLASHES;\n        if (char != '/' || buffer.charAt(pointer + 1) != '/') continue;\n        pointer++;\n        break;\n\n      case SPECIAL_AUTHORITY_IGNORE_SLASHES:\n        if (char != '/' && char != '\\\\') {\n          state = AUTHORITY;\n          continue;\n        } break;\n\n      case AUTHORITY:\n        if (char == '@') {\n          if (seenAt) buffer = '%40' + buffer;\n          seenAt = true;\n          bufferCodePoints = arrayFrom(buffer);\n          for (var i = 0; i < bufferCodePoints.length; i++) {\n            var codePoint = bufferCodePoints[i];\n            if (codePoint == ':' && !seenPasswordToken) {\n              seenPasswordToken = true;\n              continue;\n            }\n            var encodedCodePoints = percentEncode(codePoint, userinfoPercentEncodeSet);\n            if (seenPasswordToken) url.password += encodedCodePoints;\n            else url.username += encodedCodePoints;\n          }\n          buffer = '';\n        } else if (\n          char == EOF || char == '/' || char == '?' || char == '#' ||\n          (char == '\\\\' && isSpecial(url))\n        ) {\n          if (seenAt && buffer == '') return INVALID_AUTHORITY;\n          pointer -= arrayFrom(buffer).length + 1;\n          buffer = '';\n          state = HOST;\n        } else buffer += char;\n        break;\n\n      case HOST:\n      case HOSTNAME:\n        if (stateOverride && url.scheme == 'file') {\n          state = FILE_HOST;\n          continue;\n        } else if (char == ':' && !seenBracket) {\n          if (buffer == '') return INVALID_HOST;\n          failure = parseHost(url, buffer);\n          if (failure) return failure;\n          buffer = '';\n          state = PORT;\n          if (stateOverride == HOSTNAME) return;\n        } else if (\n          char == EOF || char == '/' || char == '?' || char == '#' ||\n          (char == '\\\\' && isSpecial(url))\n        ) {\n          if (isSpecial(url) && buffer == '') return INVALID_HOST;\n          if (stateOverride && buffer == '' && (includesCredentials(url) || url.port !== null)) return;\n          failure = parseHost(url, buffer);\n          if (failure) return failure;\n          buffer = '';\n          state = PATH_START;\n          if (stateOverride) return;\n          continue;\n        } else {\n          if (char == '[') seenBracket = true;\n          else if (char == ']') seenBracket = false;\n          buffer += char;\n        } break;\n\n      case PORT:\n        if (DIGIT.test(char)) {\n          buffer += char;\n        } else if (\n          char == EOF || char == '/' || char == '?' || char == '#' ||\n          (char == '\\\\' && isSpecial(url)) ||\n          stateOverride\n        ) {\n          if (buffer != '') {\n            var port = parseInt(buffer, 10);\n            if (port > 0xFFFF) return INVALID_PORT;\n            url.port = (isSpecial(url) && port === specialSchemes[url.scheme]) ? null : port;\n            buffer = '';\n          }\n          if (stateOverride) return;\n          state = PATH_START;\n          continue;\n        } else return INVALID_PORT;\n        break;\n\n      case FILE:\n        url.scheme = 'file';\n        if (char == '/' || char == '\\\\') state = FILE_SLASH;\n        else if (base && base.scheme == 'file') {\n          if (char == EOF) {\n            url.host = base.host;\n            url.path = base.path.slice();\n            url.query = base.query;\n          } else if (char == '?') {\n            url.host = base.host;\n            url.path = base.path.slice();\n            url.query = '';\n            state = QUERY;\n          } else if (char == '#') {\n            url.host = base.host;\n            url.path = base.path.slice();\n            url.query = base.query;\n            url.fragment = '';\n            state = FRAGMENT;\n          } else {\n            if (!startsWithWindowsDriveLetter(codePoints.slice(pointer).join(''))) {\n              url.host = base.host;\n              url.path = base.path.slice();\n              shortenURLsPath(url);\n            }\n            state = PATH;\n            continue;\n          }\n        } else {\n          state = PATH;\n          continue;\n        } break;\n\n      case FILE_SLASH:\n        if (char == '/' || char == '\\\\') {\n          state = FILE_HOST;\n          break;\n        }\n        if (base && base.scheme == 'file' && !startsWithWindowsDriveLetter(codePoints.slice(pointer).join(''))) {\n          if (isWindowsDriveLetter(base.path[0], true)) url.path.push(base.path[0]);\n          else url.host = base.host;\n        }\n        state = PATH;\n        continue;\n\n      case FILE_HOST:\n        if (char == EOF || char == '/' || char == '\\\\' || char == '?' || char == '#') {\n          if (!stateOverride && isWindowsDriveLetter(buffer)) {\n            state = PATH;\n          } else if (buffer == '') {\n            url.host = '';\n            if (stateOverride) return;\n            state = PATH_START;\n          } else {\n            failure = parseHost(url, buffer);\n            if (failure) return failure;\n            if (url.host == 'localhost') url.host = '';\n            if (stateOverride) return;\n            buffer = '';\n            state = PATH_START;\n          } continue;\n        } else buffer += char;\n        break;\n\n      case PATH_START:\n        if (isSpecial(url)) {\n          state = PATH;\n          if (char != '/' && char != '\\\\') continue;\n        } else if (!stateOverride && char == '?') {\n          url.query = '';\n          state = QUERY;\n        } else if (!stateOverride && char == '#') {\n          url.fragment = '';\n          state = FRAGMENT;\n        } else if (char != EOF) {\n          state = PATH;\n          if (char != '/') continue;\n        } break;\n\n      case PATH:\n        if (\n          char == EOF || char == '/' ||\n          (char == '\\\\' && isSpecial(url)) ||\n          (!stateOverride && (char == '?' || char == '#'))\n        ) {\n          if (isDoubleDot(buffer)) {\n            shortenURLsPath(url);\n            if (char != '/' && !(char == '\\\\' && isSpecial(url))) {\n              url.path.push('');\n            }\n          } else if (isSingleDot(buffer)) {\n            if (char != '/' && !(char == '\\\\' && isSpecial(url))) {\n              url.path.push('');\n            }\n          } else {\n            if (url.scheme == 'file' && !url.path.length && isWindowsDriveLetter(buffer)) {\n              if (url.host) url.host = '';\n              buffer = buffer.charAt(0) + ':'; // normalize windows drive letter\n            }\n            url.path.push(buffer);\n          }\n          buffer = '';\n          if (url.scheme == 'file' && (char == EOF || char == '?' || char == '#')) {\n            while (url.path.length > 1 && url.path[0] === '') {\n              url.path.shift();\n            }\n          }\n          if (char == '?') {\n            url.query = '';\n            state = QUERY;\n          } else if (char == '#') {\n            url.fragment = '';\n            state = FRAGMENT;\n          }\n        } else {\n          buffer += percentEncode(char, pathPercentEncodeSet);\n        } break;\n\n      case CANNOT_BE_A_BASE_URL_PATH:\n        if (char == '?') {\n          url.query = '';\n          state = QUERY;\n        } else if (char == '#') {\n          url.fragment = '';\n          state = FRAGMENT;\n        } else if (char != EOF) {\n          url.path[0] += percentEncode(char, C0ControlPercentEncodeSet);\n        } break;\n\n      case QUERY:\n        if (!stateOverride && char == '#') {\n          url.fragment = '';\n          state = FRAGMENT;\n        } else if (char != EOF) {\n          if (char == \"'\" && isSpecial(url)) url.query += '%27';\n          else if (char == '#') url.query += '%23';\n          else url.query += percentEncode(char, C0ControlPercentEncodeSet);\n        } break;\n\n      case FRAGMENT:\n        if (char != EOF) url.fragment += percentEncode(char, fragmentPercentEncodeSet);\n        break;\n    }\n\n    pointer++;\n  }\n};\n\n// `URL` constructor\n// https://url.spec.whatwg.org/#url-class\nvar URLConstructor = function URL(url /* , base */) {\n  var that = anInstance(this, URLConstructor, 'URL');\n  var base = arguments.length > 1 ? arguments[1] : undefined;\n  var urlString = String(url);\n  var state = setInternalState$4(that, { type: 'URL' });\n  var baseState, failure;\n  if (base !== undefined) {\n    if (base instanceof URLConstructor) baseState = getInternalURLState(base);\n    else {\n      failure = parseURL(baseState = {}, String(base));\n      if (failure) throw TypeError(failure);\n    }\n  }\n  failure = parseURL(state, urlString, null, baseState);\n  if (failure) throw TypeError(failure);\n  var searchParams = state.searchParams = new URLSearchParams$1();\n  var searchParamsState = getInternalSearchParamsState(searchParams);\n  searchParamsState.updateSearchParams(state.query);\n  searchParamsState.updateURL = function () {\n    state.query = String(searchParams) || null;\n  };\n  if (!descriptors) {\n    that.href = serializeURL.call(that);\n    that.origin = getOrigin.call(that);\n    that.protocol = getProtocol.call(that);\n    that.username = getUsername.call(that);\n    that.password = getPassword.call(that);\n    that.host = getHost.call(that);\n    that.hostname = getHostname.call(that);\n    that.port = getPort.call(that);\n    that.pathname = getPathname.call(that);\n    that.search = getSearch.call(that);\n    that.searchParams = getSearchParams.call(that);\n    that.hash = getHash.call(that);\n  }\n};\n\nvar URLPrototype = URLConstructor.prototype;\n\nvar serializeURL = function () {\n  var url = getInternalURLState(this);\n  var scheme = url.scheme;\n  var username = url.username;\n  var password = url.password;\n  var host = url.host;\n  var port = url.port;\n  var path = url.path;\n  var query = url.query;\n  var fragment = url.fragment;\n  var output = scheme + ':';\n  if (host !== null) {\n    output += '//';\n    if (includesCredentials(url)) {\n      output += username + (password ? ':' + password : '') + '@';\n    }\n    output += serializeHost(host);\n    if (port !== null) output += ':' + port;\n  } else if (scheme == 'file') output += '//';\n  output += url.cannotBeABaseURL ? path[0] : path.length ? '/' + path.join('/') : '';\n  if (query !== null) output += '?' + query;\n  if (fragment !== null) output += '#' + fragment;\n  return output;\n};\n\nvar getOrigin = function () {\n  var url = getInternalURLState(this);\n  var scheme = url.scheme;\n  var port = url.port;\n  if (scheme == 'blob') try {\n    return new URL(scheme.path[0]).origin;\n  } catch (error) {\n    return 'null';\n  }\n  if (scheme == 'file' || !isSpecial(url)) return 'null';\n  return scheme + '://' + serializeHost(url.host) + (port !== null ? ':' + port : '');\n};\n\nvar getProtocol = function () {\n  return getInternalURLState(this).scheme + ':';\n};\n\nvar getUsername = function () {\n  return getInternalURLState(this).username;\n};\n\nvar getPassword = function () {\n  return getInternalURLState(this).password;\n};\n\nvar getHost = function () {\n  var url = getInternalURLState(this);\n  var host = url.host;\n  var port = url.port;\n  return host === null ? ''\n    : port === null ? serializeHost(host)\n    : serializeHost(host) + ':' + port;\n};\n\nvar getHostname = function () {\n  var host = getInternalURLState(this).host;\n  return host === null ? '' : serializeHost(host);\n};\n\nvar getPort = function () {\n  var port = getInternalURLState(this).port;\n  return port === null ? '' : String(port);\n};\n\nvar getPathname = function () {\n  var url = getInternalURLState(this);\n  var path = url.path;\n  return url.cannotBeABaseURL ? path[0] : path.length ? '/' + path.join('/') : '';\n};\n\nvar getSearch = function () {\n  var query = getInternalURLState(this).query;\n  return query ? '?' + query : '';\n};\n\nvar getSearchParams = function () {\n  return getInternalURLState(this).searchParams;\n};\n\nvar getHash = function () {\n  var fragment = getInternalURLState(this).fragment;\n  return fragment ? '#' + fragment : '';\n};\n\nvar accessorDescriptor = function (getter, setter) {\n  return { get: getter, set: setter, configurable: true, enumerable: true };\n};\n\nif (descriptors) {\n  objectDefineProperties(URLPrototype, {\n    // `URL.prototype.href` accessors pair\n    // https://url.spec.whatwg.org/#dom-url-href\n    href: accessorDescriptor(serializeURL, function (href) {\n      var url = getInternalURLState(this);\n      var urlString = String(href);\n      var failure = parseURL(url, urlString);\n      if (failure) throw TypeError(failure);\n      getInternalSearchParamsState(url.searchParams).updateSearchParams(url.query);\n    }),\n    // `URL.prototype.origin` getter\n    // https://url.spec.whatwg.org/#dom-url-origin\n    origin: accessorDescriptor(getOrigin),\n    // `URL.prototype.protocol` accessors pair\n    // https://url.spec.whatwg.org/#dom-url-protocol\n    protocol: accessorDescriptor(getProtocol, function (protocol) {\n      var url = getInternalURLState(this);\n      parseURL(url, String(protocol) + ':', SCHEME_START);\n    }),\n    // `URL.prototype.username` accessors pair\n    // https://url.spec.whatwg.org/#dom-url-username\n    username: accessorDescriptor(getUsername, function (username) {\n      var url = getInternalURLState(this);\n      var codePoints = arrayFrom(String(username));\n      if (cannotHaveUsernamePasswordPort(url)) return;\n      url.username = '';\n      for (var i = 0; i < codePoints.length; i++) {\n        url.username += percentEncode(codePoints[i], userinfoPercentEncodeSet);\n      }\n    }),\n    // `URL.prototype.password` accessors pair\n    // https://url.spec.whatwg.org/#dom-url-password\n    password: accessorDescriptor(getPassword, function (password) {\n      var url = getInternalURLState(this);\n      var codePoints = arrayFrom(String(password));\n      if (cannotHaveUsernamePasswordPort(url)) return;\n      url.password = '';\n      for (var i = 0; i < codePoints.length; i++) {\n        url.password += percentEncode(codePoints[i], userinfoPercentEncodeSet);\n      }\n    }),\n    // `URL.prototype.host` accessors pair\n    // https://url.spec.whatwg.org/#dom-url-host\n    host: accessorDescriptor(getHost, function (host) {\n      var url = getInternalURLState(this);\n      if (url.cannotBeABaseURL) return;\n      parseURL(url, String(host), HOST);\n    }),\n    // `URL.prototype.hostname` accessors pair\n    // https://url.spec.whatwg.org/#dom-url-hostname\n    hostname: accessorDescriptor(getHostname, function (hostname) {\n      var url = getInternalURLState(this);\n      if (url.cannotBeABaseURL) return;\n      parseURL(url, String(hostname), HOSTNAME);\n    }),\n    // `URL.prototype.port` accessors pair\n    // https://url.spec.whatwg.org/#dom-url-port\n    port: accessorDescriptor(getPort, function (port) {\n      var url = getInternalURLState(this);\n      if (cannotHaveUsernamePasswordPort(url)) return;\n      port = String(port);\n      if (port == '') url.port = null;\n      else parseURL(url, port, PORT);\n    }),\n    // `URL.prototype.pathname` accessors pair\n    // https://url.spec.whatwg.org/#dom-url-pathname\n    pathname: accessorDescriptor(getPathname, function (pathname) {\n      var url = getInternalURLState(this);\n      if (url.cannotBeABaseURL) return;\n      url.path = [];\n      parseURL(url, pathname + '', PATH_START);\n    }),\n    // `URL.prototype.search` accessors pair\n    // https://url.spec.whatwg.org/#dom-url-search\n    search: accessorDescriptor(getSearch, function (search) {\n      var url = getInternalURLState(this);\n      search = String(search);\n      if (search == '') {\n        url.query = null;\n      } else {\n        if ('?' == search.charAt(0)) search = search.slice(1);\n        url.query = '';\n        parseURL(url, search, QUERY);\n      }\n      getInternalSearchParamsState(url.searchParams).updateSearchParams(url.query);\n    }),\n    // `URL.prototype.searchParams` getter\n    // https://url.spec.whatwg.org/#dom-url-searchparams\n    searchParams: accessorDescriptor(getSearchParams),\n    // `URL.prototype.hash` accessors pair\n    // https://url.spec.whatwg.org/#dom-url-hash\n    hash: accessorDescriptor(getHash, function (hash) {\n      var url = getInternalURLState(this);\n      hash = String(hash);\n      if (hash == '') {\n        url.fragment = null;\n        return;\n      }\n      if ('#' == hash.charAt(0)) hash = hash.slice(1);\n      url.fragment = '';\n      parseURL(url, hash, FRAGMENT);\n    })\n  });\n}\n\n// `URL.prototype.toJSON` method\n// https://url.spec.whatwg.org/#dom-url-tojson\nredefine(URLPrototype, 'toJSON', function toJSON() {\n  return serializeURL.call(this);\n}, { enumerable: true });\n\n// `URL.prototype.toString` method\n// https://url.spec.whatwg.org/#URL-stringification-behavior\nredefine(URLPrototype, 'toString', function toString() {\n  return serializeURL.call(this);\n}, { enumerable: true });\n\nif (NativeURL) {\n  var nativeCreateObjectURL = NativeURL.createObjectURL;\n  var nativeRevokeObjectURL = NativeURL.revokeObjectURL;\n  // `URL.createObjectURL` method\n  // https://developer.mozilla.org/en-US/docs/Web/API/URL/createObjectURL\n  // eslint-disable-next-line no-unused-vars\n  if (nativeCreateObjectURL) redefine(URLConstructor, 'createObjectURL', function createObjectURL(blob) {\n    return nativeCreateObjectURL.apply(NativeURL, arguments);\n  });\n  // `URL.revokeObjectURL` method\n  // https://developer.mozilla.org/en-US/docs/Web/API/URL/revokeObjectURL\n  // eslint-disable-next-line no-unused-vars\n  if (nativeRevokeObjectURL) redefine(URLConstructor, 'revokeObjectURL', function revokeObjectURL(url) {\n    return nativeRevokeObjectURL.apply(NativeURL, arguments);\n  });\n}\n\nsetToStringTag(URLConstructor, 'URL');\n\n_export({ global: true, forced: !nativeUrl, sham: !descriptors }, {\n  URL: URLConstructor\n});\n\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function (obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function (obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction ownKeys$1(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys$1(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys$1(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n}\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return _arrayLikeToArray(arr);\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nfunction _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n\n  return arr2;\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\n(function (global) {\n  /**\r\n   * Polyfill URLSearchParams\r\n   *\r\n   * Inspired from : https://github.com/WebReflection/url-search-params/blob/master/src/url-search-params.js\r\n   */\n  var checkIfIteratorIsSupported = function checkIfIteratorIsSupported() {\n    try {\n      return !!Symbol.iterator;\n    } catch (error) {\n      return false;\n    }\n  };\n\n  var iteratorSupported = checkIfIteratorIsSupported();\n\n  var createIterator = function createIterator(items) {\n    var iterator = {\n      next: function next() {\n        var value = items.shift();\n        return {\n          done: value === void 0,\n          value: value\n        };\n      }\n    };\n\n    if (iteratorSupported) {\n      iterator[Symbol.iterator] = function () {\n        return iterator;\n      };\n    }\n\n    return iterator;\n  };\n  /**\r\n   * Search param name and values should be encoded according to https://url.spec.whatwg.org/#urlencoded-serializing\r\n   * encodeURIComponent() produces the same result except encoding spaces as `%20` instead of `+`.\r\n   */\n\n\n  var serializeParam = function serializeParam(value) {\n    return encodeURIComponent(value).replace(/%20/g, '+');\n  };\n\n  var deserializeParam = function deserializeParam(value) {\n    return decodeURIComponent(String(value).replace(/\\+/g, ' '));\n  };\n\n  var polyfillURLSearchParams = function polyfillURLSearchParams() {\n    var URLSearchParams = function URLSearchParams(searchString) {\n      Object.defineProperty(this, '_entries', {\n        writable: true,\n        value: {}\n      });\n\n      var typeofSearchString = _typeof(searchString);\n\n      if (typeofSearchString === 'undefined') ; else if (typeofSearchString === 'string') {\n        if (searchString !== '') {\n          this._fromString(searchString);\n        }\n      } else if (searchString instanceof URLSearchParams) {\n        var _this = this;\n\n        searchString.forEach(function (value, name) {\n          _this.append(name, value);\n        });\n      } else if (searchString !== null && typeofSearchString === 'object') {\n        if (Object.prototype.toString.call(searchString) === '[object Array]') {\n          for (var i = 0; i < searchString.length; i++) {\n            var entry = searchString[i];\n\n            if (Object.prototype.toString.call(entry) === '[object Array]' || entry.length !== 2) {\n              this.append(entry[0], entry[1]);\n            } else {\n              throw new TypeError('Expected [string, any] as entry at index ' + i + ' of URLSearchParams\\'s input');\n            }\n          }\n        } else {\n          for (var key in searchString) {\n            if (searchString.hasOwnProperty(key)) {\n              this.append(key, searchString[key]);\n            }\n          }\n        }\n      } else {\n        throw new TypeError('Unsupported input\\'s type for URLSearchParams');\n      }\n    };\n\n    var proto = URLSearchParams.prototype;\n\n    proto.append = function (name, value) {\n      if (name in this._entries) {\n        this._entries[name].push(String(value));\n      } else {\n        this._entries[name] = [String(value)];\n      }\n    };\n\n    proto.delete = function (name) {\n      delete this._entries[name];\n    };\n\n    proto.get = function (name) {\n      return name in this._entries ? this._entries[name][0] : null;\n    };\n\n    proto.getAll = function (name) {\n      return name in this._entries ? this._entries[name].slice(0) : [];\n    };\n\n    proto.has = function (name) {\n      return name in this._entries;\n    };\n\n    proto.set = function (name, value) {\n      this._entries[name] = [String(value)];\n    };\n\n    proto.forEach = function (callback, thisArg) {\n      var entries;\n\n      for (var name in this._entries) {\n        if (this._entries.hasOwnProperty(name)) {\n          entries = this._entries[name];\n\n          for (var i = 0; i < entries.length; i++) {\n            callback.call(thisArg, entries[i], name, this);\n          }\n        }\n      }\n    };\n\n    proto.keys = function () {\n      var items = [];\n      this.forEach(function (value, name) {\n        items.push(name);\n      });\n      return createIterator(items);\n    };\n\n    proto.values = function () {\n      var items = [];\n      this.forEach(function (value) {\n        items.push(value);\n      });\n      return createIterator(items);\n    };\n\n    proto.entries = function () {\n      var items = [];\n      this.forEach(function (value, name) {\n        items.push([name, value]);\n      });\n      return createIterator(items);\n    };\n\n    if (iteratorSupported) {\n      proto[Symbol.iterator] = proto.entries;\n    }\n\n    proto.toString = function () {\n      var searchArray = [];\n      this.forEach(function (value, name) {\n        searchArray.push(serializeParam(name) + '=' + serializeParam(value));\n      });\n      return searchArray.join('&');\n    };\n\n    global.URLSearchParams = URLSearchParams;\n  };\n\n  var checkIfURLSearchParamsSupported = function checkIfURLSearchParamsSupported() {\n    try {\n      var URLSearchParams = global.URLSearchParams;\n      return new URLSearchParams('?a=1').toString() === 'a=1' && typeof URLSearchParams.prototype.set === 'function';\n    } catch (e) {\n      return false;\n    }\n  };\n\n  if (!checkIfURLSearchParamsSupported()) {\n    polyfillURLSearchParams();\n  }\n\n  var proto = global.URLSearchParams.prototype;\n\n  if (typeof proto.sort !== 'function') {\n    proto.sort = function () {\n      var _this = this;\n\n      var items = [];\n      this.forEach(function (value, name) {\n        items.push([name, value]);\n\n        if (!_this._entries) {\n          _this.delete(name);\n        }\n      });\n      items.sort(function (a, b) {\n        if (a[0] < b[0]) {\n          return -1;\n        } else if (a[0] > b[0]) {\n          return +1;\n        } else {\n          return 0;\n        }\n      });\n\n      if (_this._entries) {\n        // force reset because IE keeps keys index\n        _this._entries = {};\n      }\n\n      for (var i = 0; i < items.length; i++) {\n        this.append(items[i][0], items[i][1]);\n      }\n    };\n  }\n\n  if (typeof proto._fromString !== 'function') {\n    Object.defineProperty(proto, '_fromString', {\n      enumerable: false,\n      configurable: false,\n      writable: false,\n      value: function value(searchString) {\n        if (this._entries) {\n          this._entries = {};\n        } else {\n          var keys = [];\n          this.forEach(function (value, name) {\n            keys.push(name);\n          });\n\n          for (var i = 0; i < keys.length; i++) {\n            this.delete(keys[i]);\n          }\n        }\n\n        searchString = searchString.replace(/^\\?/, '');\n        var attributes = searchString.split('&');\n        var attribute;\n\n        for (var i = 0; i < attributes.length; i++) {\n          attribute = attributes[i].split('=');\n          this.append(deserializeParam(attribute[0]), attribute.length > 1 ? deserializeParam(attribute[1]) : '');\n        }\n      }\n    });\n  } // HTMLAnchorElement\n\n})(typeof commonjsGlobal !== 'undefined' ? commonjsGlobal : typeof window !== 'undefined' ? window : typeof self !== 'undefined' ? self : commonjsGlobal);\n\n(function (global) {\n  /**\r\n   * Polyfill URL\r\n   *\r\n   * Inspired from : https://github.com/arv/DOM-URL-Polyfill/blob/master/src/url.js\r\n   */\n  var checkIfURLIsSupported = function checkIfURLIsSupported() {\n    try {\n      var u = new global.URL('b', 'http://a');\n      u.pathname = 'c d';\n      return u.href === 'http://a/c%20d' && u.searchParams;\n    } catch (e) {\n      return false;\n    }\n  };\n\n  var polyfillURL = function polyfillURL() {\n    var _URL = global.URL;\n\n    var URL = function URL(url, base) {\n      if (typeof url !== 'string') url = String(url); // Only create another document if the base is different from current location.\n\n      var doc = document,\n          baseElement;\n\n      if (base && (global.location === void 0 || base !== global.location.href)) {\n        doc = document.implementation.createHTMLDocument('');\n        baseElement = doc.createElement('base');\n        baseElement.href = base;\n        doc.head.appendChild(baseElement);\n\n        try {\n          if (baseElement.href.indexOf(base) !== 0) throw new Error(baseElement.href);\n        } catch (err) {\n          throw new Error('URL unable to set base ' + base + ' due to ' + err);\n        }\n      }\n\n      var anchorElement = doc.createElement('a');\n      anchorElement.href = url;\n\n      if (baseElement) {\n        doc.body.appendChild(anchorElement);\n        anchorElement.href = anchorElement.href; // force href to refresh\n      }\n\n      if (anchorElement.protocol === ':' || !/:/.test(anchorElement.href)) {\n        throw new TypeError('Invalid URL');\n      }\n\n      Object.defineProperty(this, '_anchorElement', {\n        value: anchorElement\n      }); // create a linked searchParams which reflect its changes on URL\n\n      var searchParams = new global.URLSearchParams(this.search);\n      var enableSearchUpdate = true;\n      var enableSearchParamsUpdate = true;\n\n      var _this = this;\n\n      ['append', 'delete', 'set'].forEach(function (methodName) {\n        var method = searchParams[methodName];\n\n        searchParams[methodName] = function () {\n          method.apply(searchParams, arguments);\n\n          if (enableSearchUpdate) {\n            enableSearchParamsUpdate = false;\n            _this.search = searchParams.toString();\n            enableSearchParamsUpdate = true;\n          }\n        };\n      });\n      Object.defineProperty(this, 'searchParams', {\n        value: searchParams,\n        enumerable: true\n      });\n      var search = void 0;\n      Object.defineProperty(this, '_updateSearchParams', {\n        enumerable: false,\n        configurable: false,\n        writable: false,\n        value: function value() {\n          if (this.search !== search) {\n            search = this.search;\n\n            if (enableSearchParamsUpdate) {\n              enableSearchUpdate = false;\n\n              this.searchParams._fromString(this.search);\n\n              enableSearchUpdate = true;\n            }\n          }\n        }\n      });\n    };\n\n    var proto = URL.prototype;\n\n    var linkURLWithAnchorAttribute = function linkURLWithAnchorAttribute(attributeName) {\n      Object.defineProperty(proto, attributeName, {\n        get: function get() {\n          return this._anchorElement[attributeName];\n        },\n        set: function set(value) {\n          this._anchorElement[attributeName] = value;\n        },\n        enumerable: true\n      });\n    };\n\n    ['hash', 'host', 'hostname', 'port', 'protocol'].forEach(function (attributeName) {\n      linkURLWithAnchorAttribute(attributeName);\n    });\n    Object.defineProperty(proto, 'search', {\n      get: function get() {\n        return this._anchorElement['search'];\n      },\n      set: function set(value) {\n        this._anchorElement['search'] = value;\n\n        this._updateSearchParams();\n      },\n      enumerable: true\n    });\n    Object.defineProperties(proto, {\n      'toString': {\n        get: function get() {\n          var _this = this;\n\n          return function () {\n            return _this.href;\n          };\n        }\n      },\n      'href': {\n        get: function get() {\n          return this._anchorElement.href.replace(/\\?$/, '');\n        },\n        set: function set(value) {\n          this._anchorElement.href = value;\n\n          this._updateSearchParams();\n        },\n        enumerable: true\n      },\n      'pathname': {\n        get: function get() {\n          return this._anchorElement.pathname.replace(/(^\\/?)/, '/');\n        },\n        set: function set(value) {\n          this._anchorElement.pathname = value;\n        },\n        enumerable: true\n      },\n      'origin': {\n        get: function get() {\n          // get expected port from protocol\n          var expectedPort = {\n            'http:': 80,\n            'https:': 443,\n            'ftp:': 21\n          }[this._anchorElement.protocol]; // add port to origin if, expected port is different than actual port\n          // and it is not empty f.e http://foo:8080\n          // 8080 != 80 && 8080 != ''\n\n          var addPortToOrigin = this._anchorElement.port != expectedPort && this._anchorElement.port !== '';\n          return this._anchorElement.protocol + '//' + this._anchorElement.hostname + (addPortToOrigin ? ':' + this._anchorElement.port : '');\n        },\n        enumerable: true\n      },\n      'password': {\n        // TODO\n        get: function get() {\n          return '';\n        },\n        set: function set(value) {},\n        enumerable: true\n      },\n      'username': {\n        // TODO\n        get: function get() {\n          return '';\n        },\n        set: function set(value) {},\n        enumerable: true\n      }\n    });\n\n    URL.createObjectURL = function (blob) {\n      return _URL.createObjectURL.apply(_URL, arguments);\n    };\n\n    URL.revokeObjectURL = function (url) {\n      return _URL.revokeObjectURL.apply(_URL, arguments);\n    };\n\n    global.URL = URL;\n  };\n\n  if (!checkIfURLIsSupported()) {\n    polyfillURL();\n  }\n\n  if (global.location !== void 0 && !('origin' in global.location)) {\n    var getOrigin = function getOrigin() {\n      return global.location.protocol + '//' + global.location.hostname + (global.location.port ? ':' + global.location.port : '');\n    };\n\n    try {\n      Object.defineProperty(global.location, 'origin', {\n        get: getOrigin,\n        enumerable: true\n      });\n    } catch (e) {\n      setInterval(function () {\n        global.location.origin = getOrigin();\n      }, 100);\n    }\n  }\n})(typeof commonjsGlobal !== 'undefined' ? commonjsGlobal : typeof window !== 'undefined' ? window : typeof self !== 'undefined' ? self : commonjsGlobal);\n\nvar IS_CONCAT_SPREADABLE = wellKnownSymbol('isConcatSpreadable');\nvar MAX_SAFE_INTEGER = 0x1FFFFFFFFFFFFF;\nvar MAXIMUM_ALLOWED_INDEX_EXCEEDED = 'Maximum allowed index exceeded';\n\n// We can't use this feature detection in V8 since it causes\n// deoptimization and serious performance degradation\n// https://github.com/zloirock/core-js/issues/679\nvar IS_CONCAT_SPREADABLE_SUPPORT = engineV8Version >= 51 || !fails(function () {\n  var array = [];\n  array[IS_CONCAT_SPREADABLE] = false;\n  return array.concat()[0] !== array;\n});\n\nvar SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('concat');\n\nvar isConcatSpreadable = function (O) {\n  if (!isObject(O)) return false;\n  var spreadable = O[IS_CONCAT_SPREADABLE];\n  return spreadable !== undefined ? !!spreadable : isArray(O);\n};\n\nvar FORCED = !IS_CONCAT_SPREADABLE_SUPPORT || !SPECIES_SUPPORT;\n\n// `Array.prototype.concat` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.concat\n// with adding support of @@isConcatSpreadable and @@species\n_export({ target: 'Array', proto: true, forced: FORCED }, {\n  concat: function concat(arg) { // eslint-disable-line no-unused-vars\n    var O = toObject(this);\n    var A = arraySpeciesCreate(O, 0);\n    var n = 0;\n    var i, k, length, len, E;\n    for (i = -1, length = arguments.length; i < length; i++) {\n      E = i === -1 ? O : arguments[i];\n      if (isConcatSpreadable(E)) {\n        len = toLength(E.length);\n        if (n + len > MAX_SAFE_INTEGER) throw TypeError(MAXIMUM_ALLOWED_INDEX_EXCEEDED);\n        for (k = 0; k < len; k++, n++) if (k in E) createProperty(A, n, E[k]);\n      } else {\n        if (n >= MAX_SAFE_INTEGER) throw TypeError(MAXIMUM_ALLOWED_INDEX_EXCEEDED);\n        createProperty(A, n++, E);\n      }\n    }\n    A.length = n;\n    return A;\n  }\n});\n\nvar $filter = arrayIteration.filter;\n\n\n\nvar HAS_SPECIES_SUPPORT$1 = arrayMethodHasSpeciesSupport('filter');\n// Edge 14- issue\nvar USES_TO_LENGTH$3 = arrayMethodUsesToLength('filter');\n\n// `Array.prototype.filter` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.filter\n// with adding support of @@species\n_export({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT$1 || !USES_TO_LENGTH$3 }, {\n  filter: function filter(callbackfn /* , thisArg */) {\n    return $filter(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\nvar $find = arrayIteration.find;\n\n\n\nvar FIND = 'find';\nvar SKIPS_HOLES = true;\n\nvar USES_TO_LENGTH$4 = arrayMethodUsesToLength(FIND);\n\n// Shouldn't skip holes\nif (FIND in []) Array(1)[FIND](function () { SKIPS_HOLES = false; });\n\n// `Array.prototype.find` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.find\n_export({ target: 'Array', proto: true, forced: SKIPS_HOLES || !USES_TO_LENGTH$4 }, {\n  find: function find(callbackfn /* , that = undefined */) {\n    return $find(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\n// https://tc39.github.io/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables(FIND);\n\nvar ITERATOR$7 = wellKnownSymbol('iterator');\nvar SAFE_CLOSING = false;\n\ntry {\n  var called = 0;\n  var iteratorWithReturn = {\n    next: function () {\n      return { done: !!called++ };\n    },\n    'return': function () {\n      SAFE_CLOSING = true;\n    }\n  };\n  iteratorWithReturn[ITERATOR$7] = function () {\n    return this;\n  };\n  // eslint-disable-next-line no-throw-literal\n  Array.from(iteratorWithReturn, function () { throw 2; });\n} catch (error) { /* empty */ }\n\nvar checkCorrectnessOfIteration = function (exec, SKIP_CLOSING) {\n  if (!SKIP_CLOSING && !SAFE_CLOSING) return false;\n  var ITERATION_SUPPORT = false;\n  try {\n    var object = {};\n    object[ITERATOR$7] = function () {\n      return {\n        next: function () {\n          return { done: ITERATION_SUPPORT = true };\n        }\n      };\n    };\n    exec(object);\n  } catch (error) { /* empty */ }\n  return ITERATION_SUPPORT;\n};\n\nvar INCORRECT_ITERATION = !checkCorrectnessOfIteration(function (iterable) {\n  Array.from(iterable);\n});\n\n// `Array.from` method\n// https://tc39.github.io/ecma262/#sec-array.from\n_export({ target: 'Array', stat: true, forced: INCORRECT_ITERATION }, {\n  from: arrayFrom\n});\n\nvar $includes = arrayIncludes.includes;\n\n\n\nvar USES_TO_LENGTH$5 = arrayMethodUsesToLength('indexOf', { ACCESSORS: true, 1: 0 });\n\n// `Array.prototype.includes` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.includes\n_export({ target: 'Array', proto: true, forced: !USES_TO_LENGTH$5 }, {\n  includes: function includes(el /* , fromIndex = 0 */) {\n    return $includes(this, el, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\n// https://tc39.github.io/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables('includes');\n\nvar $map = arrayIteration.map;\n\n\n\nvar HAS_SPECIES_SUPPORT$2 = arrayMethodHasSpeciesSupport('map');\n// FF49- issue\nvar USES_TO_LENGTH$6 = arrayMethodUsesToLength('map');\n\n// `Array.prototype.map` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.map\n// with adding support of @@species\n_export({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT$2 || !USES_TO_LENGTH$6 }, {\n  map: function map(callbackfn /* , thisArg */) {\n    return $map(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\n// makes subclassing work correct for wrapped built-ins\nvar inheritIfRequired = function ($this, dummy, Wrapper) {\n  var NewTarget, NewTargetPrototype;\n  if (\n    // it can work only with native `setPrototypeOf`\n    objectSetPrototypeOf &&\n    // we haven't completely correct pre-ES6 way for getting `new.target`, so use this\n    typeof (NewTarget = dummy.constructor) == 'function' &&\n    NewTarget !== Wrapper &&\n    isObject(NewTargetPrototype = NewTarget.prototype) &&\n    NewTargetPrototype !== Wrapper.prototype\n  ) objectSetPrototypeOf($this, NewTargetPrototype);\n  return $this;\n};\n\n// a string of all valid unicode whitespaces\n// eslint-disable-next-line max-len\nvar whitespaces = '\\u0009\\u000A\\u000B\\u000C\\u000D\\u0020\\u00A0\\u1680\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF';\n\nvar whitespace = '[' + whitespaces + ']';\nvar ltrim = RegExp('^' + whitespace + whitespace + '*');\nvar rtrim = RegExp(whitespace + whitespace + '*$');\n\n// `String.prototype.{ trim, trimStart, trimEnd, trimLeft, trimRight }` methods implementation\nvar createMethod$3 = function (TYPE) {\n  return function ($this) {\n    var string = String(requireObjectCoercible($this));\n    if (TYPE & 1) string = string.replace(ltrim, '');\n    if (TYPE & 2) string = string.replace(rtrim, '');\n    return string;\n  };\n};\n\nvar stringTrim = {\n  // `String.prototype.{ trimLeft, trimStart }` methods\n  // https://tc39.github.io/ecma262/#sec-string.prototype.trimstart\n  start: createMethod$3(1),\n  // `String.prototype.{ trimRight, trimEnd }` methods\n  // https://tc39.github.io/ecma262/#sec-string.prototype.trimend\n  end: createMethod$3(2),\n  // `String.prototype.trim` method\n  // https://tc39.github.io/ecma262/#sec-string.prototype.trim\n  trim: createMethod$3(3)\n};\n\nvar getOwnPropertyNames = objectGetOwnPropertyNames.f;\nvar getOwnPropertyDescriptor$2 = objectGetOwnPropertyDescriptor.f;\nvar defineProperty$5 = objectDefineProperty.f;\nvar trim = stringTrim.trim;\n\nvar NUMBER = 'Number';\nvar NativeNumber = global_1[NUMBER];\nvar NumberPrototype = NativeNumber.prototype;\n\n// Opera ~12 has broken Object#toString\nvar BROKEN_CLASSOF = classofRaw(objectCreate(NumberPrototype)) == NUMBER;\n\n// `ToNumber` abstract operation\n// https://tc39.github.io/ecma262/#sec-tonumber\nvar toNumber = function (argument) {\n  var it = toPrimitive(argument, false);\n  var first, third, radix, maxCode, digits, length, index, code;\n  if (typeof it == 'string' && it.length > 2) {\n    it = trim(it);\n    first = it.charCodeAt(0);\n    if (first === 43 || first === 45) {\n      third = it.charCodeAt(2);\n      if (third === 88 || third === 120) return NaN; // Number('+0x1') should be NaN, old V8 fix\n    } else if (first === 48) {\n      switch (it.charCodeAt(1)) {\n        case 66: case 98: radix = 2; maxCode = 49; break; // fast equal of /^0b[01]+$/i\n        case 79: case 111: radix = 8; maxCode = 55; break; // fast equal of /^0o[0-7]+$/i\n        default: return +it;\n      }\n      digits = it.slice(2);\n      length = digits.length;\n      for (index = 0; index < length; index++) {\n        code = digits.charCodeAt(index);\n        // parseInt parses a string to a first unavailable symbol\n        // but ToNumber should return NaN if a string contains unavailable symbols\n        if (code < 48 || code > maxCode) return NaN;\n      } return parseInt(digits, radix);\n    }\n  } return +it;\n};\n\n// `Number` constructor\n// https://tc39.github.io/ecma262/#sec-number-constructor\nif (isForced_1(NUMBER, !NativeNumber(' 0o1') || !NativeNumber('0b1') || NativeNumber('+0x1'))) {\n  var NumberWrapper = function Number(value) {\n    var it = arguments.length < 1 ? 0 : value;\n    var dummy = this;\n    return dummy instanceof NumberWrapper\n      // check on 1..constructor(foo) case\n      && (BROKEN_CLASSOF ? fails(function () { NumberPrototype.valueOf.call(dummy); }) : classofRaw(dummy) != NUMBER)\n        ? inheritIfRequired(new NativeNumber(toNumber(it)), dummy, NumberWrapper) : toNumber(it);\n  };\n  for (var keys$1 = descriptors ? getOwnPropertyNames(NativeNumber) : (\n    // ES3:\n    'MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,' +\n    // ES2015 (in case, if modules with ES2015 Number statics required before):\n    'EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,' +\n    'MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger'\n  ).split(','), j = 0, key; keys$1.length > j; j++) {\n    if (has(NativeNumber, key = keys$1[j]) && !has(NumberWrapper, key)) {\n      defineProperty$5(NumberWrapper, key, getOwnPropertyDescriptor$2(NativeNumber, key));\n    }\n  }\n  NumberWrapper.prototype = NumberPrototype;\n  NumberPrototype.constructor = NumberWrapper;\n  redefine(global_1, NUMBER, NumberWrapper);\n}\n\nvar FAILS_ON_PRIMITIVES = fails(function () { objectKeys(1); });\n\n// `Object.keys` method\n// https://tc39.github.io/ecma262/#sec-object.keys\n_export({ target: 'Object', stat: true, forced: FAILS_ON_PRIMITIVES }, {\n  keys: function keys(it) {\n    return objectKeys(toObject(it));\n  }\n});\n\nvar notARegexp = function (it) {\n  if (isRegexp(it)) {\n    throw TypeError(\"The method doesn't accept regular expressions\");\n  } return it;\n};\n\nvar MATCH$1 = wellKnownSymbol('match');\n\nvar correctIsRegexpLogic = function (METHOD_NAME) {\n  var regexp = /./;\n  try {\n    '/./'[METHOD_NAME](regexp);\n  } catch (e) {\n    try {\n      regexp[MATCH$1] = false;\n      return '/./'[METHOD_NAME](regexp);\n    } catch (f) { /* empty */ }\n  } return false;\n};\n\n// `String.prototype.includes` method\n// https://tc39.github.io/ecma262/#sec-string.prototype.includes\n_export({ target: 'String', proto: true, forced: !correctIsRegexpLogic('includes') }, {\n  includes: function includes(searchString /* , position = 0 */) {\n    return !!~String(requireObjectCoercible(this))\n      .indexOf(notARegexp(searchString), arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\nvar freezing = !fails(function () {\n  return Object.isExtensible(Object.preventExtensions({}));\n});\n\nvar internalMetadata = createCommonjsModule(function (module) {\nvar defineProperty = objectDefineProperty.f;\n\n\n\nvar METADATA = uid('meta');\nvar id = 0;\n\nvar isExtensible = Object.isExtensible || function () {\n  return true;\n};\n\nvar setMetadata = function (it) {\n  defineProperty(it, METADATA, { value: {\n    objectID: 'O' + ++id, // object ID\n    weakData: {}          // weak collections IDs\n  } });\n};\n\nvar fastKey = function (it, create) {\n  // return a primitive with prefix\n  if (!isObject(it)) return typeof it == 'symbol' ? it : (typeof it == 'string' ? 'S' : 'P') + it;\n  if (!has(it, METADATA)) {\n    // can't set metadata to uncaught frozen object\n    if (!isExtensible(it)) return 'F';\n    // not necessary to add metadata\n    if (!create) return 'E';\n    // add missing metadata\n    setMetadata(it);\n  // return object ID\n  } return it[METADATA].objectID;\n};\n\nvar getWeakData = function (it, create) {\n  if (!has(it, METADATA)) {\n    // can't set metadata to uncaught frozen object\n    if (!isExtensible(it)) return true;\n    // not necessary to add metadata\n    if (!create) return false;\n    // add missing metadata\n    setMetadata(it);\n  // return the store of weak collections IDs\n  } return it[METADATA].weakData;\n};\n\n// add metadata on freeze-family methods calling\nvar onFreeze = function (it) {\n  if (freezing && meta.REQUIRED && isExtensible(it) && !has(it, METADATA)) setMetadata(it);\n  return it;\n};\n\nvar meta = module.exports = {\n  REQUIRED: false,\n  fastKey: fastKey,\n  getWeakData: getWeakData,\n  onFreeze: onFreeze\n};\n\nhiddenKeys[METADATA] = true;\n});\nvar internalMetadata_1 = internalMetadata.REQUIRED;\nvar internalMetadata_2 = internalMetadata.fastKey;\nvar internalMetadata_3 = internalMetadata.getWeakData;\nvar internalMetadata_4 = internalMetadata.onFreeze;\n\nvar iterate_1 = createCommonjsModule(function (module) {\nvar Result = function (stopped, result) {\n  this.stopped = stopped;\n  this.result = result;\n};\n\nvar iterate = module.exports = function (iterable, fn, that, AS_ENTRIES, IS_ITERATOR) {\n  var boundFunction = functionBindContext(fn, that, AS_ENTRIES ? 2 : 1);\n  var iterator, iterFn, index, length, result, next, step;\n\n  if (IS_ITERATOR) {\n    iterator = iterable;\n  } else {\n    iterFn = getIteratorMethod(iterable);\n    if (typeof iterFn != 'function') throw TypeError('Target is not iterable');\n    // optimisation for array iterators\n    if (isArrayIteratorMethod(iterFn)) {\n      for (index = 0, length = toLength(iterable.length); length > index; index++) {\n        result = AS_ENTRIES\n          ? boundFunction(anObject(step = iterable[index])[0], step[1])\n          : boundFunction(iterable[index]);\n        if (result && result instanceof Result) return result;\n      } return new Result(false);\n    }\n    iterator = iterFn.call(iterable);\n  }\n\n  next = iterator.next;\n  while (!(step = next.call(iterator)).done) {\n    result = callWithSafeIterationClosing(iterator, boundFunction, step.value, AS_ENTRIES);\n    if (typeof result == 'object' && result && result instanceof Result) return result;\n  } return new Result(false);\n};\n\niterate.stop = function (result) {\n  return new Result(true, result);\n};\n});\n\nvar collection = function (CONSTRUCTOR_NAME, wrapper, common) {\n  var IS_MAP = CONSTRUCTOR_NAME.indexOf('Map') !== -1;\n  var IS_WEAK = CONSTRUCTOR_NAME.indexOf('Weak') !== -1;\n  var ADDER = IS_MAP ? 'set' : 'add';\n  var NativeConstructor = global_1[CONSTRUCTOR_NAME];\n  var NativePrototype = NativeConstructor && NativeConstructor.prototype;\n  var Constructor = NativeConstructor;\n  var exported = {};\n\n  var fixMethod = function (KEY) {\n    var nativeMethod = NativePrototype[KEY];\n    redefine(NativePrototype, KEY,\n      KEY == 'add' ? function add(value) {\n        nativeMethod.call(this, value === 0 ? 0 : value);\n        return this;\n      } : KEY == 'delete' ? function (key) {\n        return IS_WEAK && !isObject(key) ? false : nativeMethod.call(this, key === 0 ? 0 : key);\n      } : KEY == 'get' ? function get(key) {\n        return IS_WEAK && !isObject(key) ? undefined : nativeMethod.call(this, key === 0 ? 0 : key);\n      } : KEY == 'has' ? function has(key) {\n        return IS_WEAK && !isObject(key) ? false : nativeMethod.call(this, key === 0 ? 0 : key);\n      } : function set(key, value) {\n        nativeMethod.call(this, key === 0 ? 0 : key, value);\n        return this;\n      }\n    );\n  };\n\n  // eslint-disable-next-line max-len\n  if (isForced_1(CONSTRUCTOR_NAME, typeof NativeConstructor != 'function' || !(IS_WEAK || NativePrototype.forEach && !fails(function () {\n    new NativeConstructor().entries().next();\n  })))) {\n    // create collection constructor\n    Constructor = common.getConstructor(wrapper, CONSTRUCTOR_NAME, IS_MAP, ADDER);\n    internalMetadata.REQUIRED = true;\n  } else if (isForced_1(CONSTRUCTOR_NAME, true)) {\n    var instance = new Constructor();\n    // early implementations not supports chaining\n    var HASNT_CHAINING = instance[ADDER](IS_WEAK ? {} : -0, 1) != instance;\n    // V8 ~ Chromium 40- weak-collections throws on primitives, but should return false\n    var THROWS_ON_PRIMITIVES = fails(function () { instance.has(1); });\n    // most early implementations doesn't supports iterables, most modern - not close it correctly\n    // eslint-disable-next-line no-new\n    var ACCEPT_ITERABLES = checkCorrectnessOfIteration(function (iterable) { new NativeConstructor(iterable); });\n    // for early implementations -0 and +0 not the same\n    var BUGGY_ZERO = !IS_WEAK && fails(function () {\n      // V8 ~ Chromium 42- fails only with 5+ elements\n      var $instance = new NativeConstructor();\n      var index = 5;\n      while (index--) $instance[ADDER](index, index);\n      return !$instance.has(-0);\n    });\n\n    if (!ACCEPT_ITERABLES) {\n      Constructor = wrapper(function (dummy, iterable) {\n        anInstance(dummy, Constructor, CONSTRUCTOR_NAME);\n        var that = inheritIfRequired(new NativeConstructor(), dummy, Constructor);\n        if (iterable != undefined) iterate_1(iterable, that[ADDER], that, IS_MAP);\n        return that;\n      });\n      Constructor.prototype = NativePrototype;\n      NativePrototype.constructor = Constructor;\n    }\n\n    if (THROWS_ON_PRIMITIVES || BUGGY_ZERO) {\n      fixMethod('delete');\n      fixMethod('has');\n      IS_MAP && fixMethod('get');\n    }\n\n    if (BUGGY_ZERO || HASNT_CHAINING) fixMethod(ADDER);\n\n    // weak collections should not contains .clear method\n    if (IS_WEAK && NativePrototype.clear) delete NativePrototype.clear;\n  }\n\n  exported[CONSTRUCTOR_NAME] = Constructor;\n  _export({ global: true, forced: Constructor != NativeConstructor }, exported);\n\n  setToStringTag(Constructor, CONSTRUCTOR_NAME);\n\n  if (!IS_WEAK) common.setStrong(Constructor, CONSTRUCTOR_NAME, IS_MAP);\n\n  return Constructor;\n};\n\nvar getWeakData = internalMetadata.getWeakData;\n\n\n\n\n\n\n\n\nvar setInternalState$5 = internalState.set;\nvar internalStateGetterFor = internalState.getterFor;\nvar find$1 = arrayIteration.find;\nvar findIndex = arrayIteration.findIndex;\nvar id$1 = 0;\n\n// fallback for uncaught frozen keys\nvar uncaughtFrozenStore = function (store) {\n  return store.frozen || (store.frozen = new UncaughtFrozenStore());\n};\n\nvar UncaughtFrozenStore = function () {\n  this.entries = [];\n};\n\nvar findUncaughtFrozen = function (store, key) {\n  return find$1(store.entries, function (it) {\n    return it[0] === key;\n  });\n};\n\nUncaughtFrozenStore.prototype = {\n  get: function (key) {\n    var entry = findUncaughtFrozen(this, key);\n    if (entry) return entry[1];\n  },\n  has: function (key) {\n    return !!findUncaughtFrozen(this, key);\n  },\n  set: function (key, value) {\n    var entry = findUncaughtFrozen(this, key);\n    if (entry) entry[1] = value;\n    else this.entries.push([key, value]);\n  },\n  'delete': function (key) {\n    var index = findIndex(this.entries, function (it) {\n      return it[0] === key;\n    });\n    if (~index) this.entries.splice(index, 1);\n    return !!~index;\n  }\n};\n\nvar collectionWeak = {\n  getConstructor: function (wrapper, CONSTRUCTOR_NAME, IS_MAP, ADDER) {\n    var C = wrapper(function (that, iterable) {\n      anInstance(that, C, CONSTRUCTOR_NAME);\n      setInternalState$5(that, {\n        type: CONSTRUCTOR_NAME,\n        id: id$1++,\n        frozen: undefined\n      });\n      if (iterable != undefined) iterate_1(iterable, that[ADDER], that, IS_MAP);\n    });\n\n    var getInternalState = internalStateGetterFor(CONSTRUCTOR_NAME);\n\n    var define = function (that, key, value) {\n      var state = getInternalState(that);\n      var data = getWeakData(anObject(key), true);\n      if (data === true) uncaughtFrozenStore(state).set(key, value);\n      else data[state.id] = value;\n      return that;\n    };\n\n    redefineAll(C.prototype, {\n      // 23.3.3.2 WeakMap.prototype.delete(key)\n      // 23.4.3.3 WeakSet.prototype.delete(value)\n      'delete': function (key) {\n        var state = getInternalState(this);\n        if (!isObject(key)) return false;\n        var data = getWeakData(key);\n        if (data === true) return uncaughtFrozenStore(state)['delete'](key);\n        return data && has(data, state.id) && delete data[state.id];\n      },\n      // 23.3.3.4 WeakMap.prototype.has(key)\n      // 23.4.3.4 WeakSet.prototype.has(value)\n      has: function has$1(key) {\n        var state = getInternalState(this);\n        if (!isObject(key)) return false;\n        var data = getWeakData(key);\n        if (data === true) return uncaughtFrozenStore(state).has(key);\n        return data && has(data, state.id);\n      }\n    });\n\n    redefineAll(C.prototype, IS_MAP ? {\n      // 23.3.3.3 WeakMap.prototype.get(key)\n      get: function get(key) {\n        var state = getInternalState(this);\n        if (isObject(key)) {\n          var data = getWeakData(key);\n          if (data === true) return uncaughtFrozenStore(state).get(key);\n          return data ? data[state.id] : undefined;\n        }\n      },\n      // 23.3.3.5 WeakMap.prototype.set(key, value)\n      set: function set(key, value) {\n        return define(this, key, value);\n      }\n    } : {\n      // 23.4.3.1 WeakSet.prototype.add(value)\n      add: function add(value) {\n        return define(this, value, true);\n      }\n    });\n\n    return C;\n  }\n};\n\nvar es_weakMap = createCommonjsModule(function (module) {\n\n\n\n\n\n\nvar enforceIternalState = internalState.enforce;\n\n\nvar IS_IE11 = !global_1.ActiveXObject && 'ActiveXObject' in global_1;\nvar isExtensible = Object.isExtensible;\nvar InternalWeakMap;\n\nvar wrapper = function (init) {\n  return function WeakMap() {\n    return init(this, arguments.length ? arguments[0] : undefined);\n  };\n};\n\n// `WeakMap` constructor\n// https://tc39.github.io/ecma262/#sec-weakmap-constructor\nvar $WeakMap = module.exports = collection('WeakMap', wrapper, collectionWeak);\n\n// IE11 WeakMap frozen keys fix\n// We can't use feature detection because it crash some old IE builds\n// https://github.com/zloirock/core-js/issues/485\nif (nativeWeakMap && IS_IE11) {\n  InternalWeakMap = collectionWeak.getConstructor(wrapper, 'WeakMap', true);\n  internalMetadata.REQUIRED = true;\n  var WeakMapPrototype = $WeakMap.prototype;\n  var nativeDelete = WeakMapPrototype['delete'];\n  var nativeHas = WeakMapPrototype.has;\n  var nativeGet = WeakMapPrototype.get;\n  var nativeSet = WeakMapPrototype.set;\n  redefineAll(WeakMapPrototype, {\n    'delete': function (key) {\n      if (isObject(key) && !isExtensible(key)) {\n        var state = enforceIternalState(this);\n        if (!state.frozen) state.frozen = new InternalWeakMap();\n        return nativeDelete.call(this, key) || state.frozen['delete'](key);\n      } return nativeDelete.call(this, key);\n    },\n    has: function has(key) {\n      if (isObject(key) && !isExtensible(key)) {\n        var state = enforceIternalState(this);\n        if (!state.frozen) state.frozen = new InternalWeakMap();\n        return nativeHas.call(this, key) || state.frozen.has(key);\n      } return nativeHas.call(this, key);\n    },\n    get: function get(key) {\n      if (isObject(key) && !isExtensible(key)) {\n        var state = enforceIternalState(this);\n        if (!state.frozen) state.frozen = new InternalWeakMap();\n        return nativeHas.call(this, key) ? nativeGet.call(this, key) : state.frozen.get(key);\n      } return nativeGet.call(this, key);\n    },\n    set: function set(key, value) {\n      if (isObject(key) && !isExtensible(key)) {\n        var state = enforceIternalState(this);\n        if (!state.frozen) state.frozen = new InternalWeakMap();\n        nativeHas.call(this, key) ? nativeSet.call(this, key, value) : state.frozen.set(key, value);\n      } else nativeSet.call(this, key, value);\n      return this;\n    }\n  });\n}\n});\n\nvar $every = arrayIteration.every;\n\n\n\nvar STRICT_METHOD$3 = arrayMethodIsStrict('every');\nvar USES_TO_LENGTH$7 = arrayMethodUsesToLength('every');\n\n// `Array.prototype.every` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.every\n_export({ target: 'Array', proto: true, forced: !STRICT_METHOD$3 || !USES_TO_LENGTH$7 }, {\n  every: function every(callbackfn /* , thisArg */) {\n    return $every(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\n// `Object.assign` method\n// https://tc39.github.io/ecma262/#sec-object.assign\n_export({ target: 'Object', stat: true, forced: Object.assign !== objectAssign }, {\n  assign: objectAssign\n});\n\nvar non = '\\u200B\\u0085\\u180E';\n\n// check that a method works with the correct list\n// of whitespaces and has a correct name\nvar stringTrimForced = function (METHOD_NAME) {\n  return fails(function () {\n    return !!whitespaces[METHOD_NAME]() || non[METHOD_NAME]() != non || whitespaces[METHOD_NAME].name !== METHOD_NAME;\n  });\n};\n\nvar $trim = stringTrim.trim;\n\n\n// `String.prototype.trim` method\n// https://tc39.github.io/ecma262/#sec-string.prototype.trim\n_export({ target: 'String', proto: true, forced: stringTrimForced('trim') }, {\n  trim: function trim() {\n    return $trim(this);\n  }\n});\n\nvar $some = arrayIteration.some;\n\n\n\nvar STRICT_METHOD$4 = arrayMethodIsStrict('some');\nvar USES_TO_LENGTH$8 = arrayMethodUsesToLength('some');\n\n// `Array.prototype.some` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.some\n_export({ target: 'Array', proto: true, forced: !STRICT_METHOD$4 || !USES_TO_LENGTH$8 }, {\n  some: function some(callbackfn /* , thisArg */) {\n    return $some(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\n// `thisNumberValue` abstract operation\n// https://tc39.github.io/ecma262/#sec-thisnumbervalue\nvar thisNumberValue = function (value) {\n  if (typeof value != 'number' && classofRaw(value) != 'Number') {\n    throw TypeError('Incorrect invocation');\n  }\n  return +value;\n};\n\n// `String.prototype.repeat` method implementation\n// https://tc39.github.io/ecma262/#sec-string.prototype.repeat\nvar stringRepeat = ''.repeat || function repeat(count) {\n  var str = String(requireObjectCoercible(this));\n  var result = '';\n  var n = toInteger(count);\n  if (n < 0 || n == Infinity) throw RangeError('Wrong number of repetitions');\n  for (;n > 0; (n >>>= 1) && (str += str)) if (n & 1) result += str;\n  return result;\n};\n\nvar nativeToFixed = 1.0.toFixed;\nvar floor$4 = Math.floor;\n\nvar pow$1 = function (x, n, acc) {\n  return n === 0 ? acc : n % 2 === 1 ? pow$1(x, n - 1, acc * x) : pow$1(x * x, n / 2, acc);\n};\n\nvar log = function (x) {\n  var n = 0;\n  var x2 = x;\n  while (x2 >= 4096) {\n    n += 12;\n    x2 /= 4096;\n  }\n  while (x2 >= 2) {\n    n += 1;\n    x2 /= 2;\n  } return n;\n};\n\nvar FORCED$1 = nativeToFixed && (\n  0.00008.toFixed(3) !== '0.000' ||\n  0.9.toFixed(0) !== '1' ||\n  1.255.toFixed(2) !== '1.25' ||\n  1000000000000000128.0.toFixed(0) !== '1000000000000000128'\n) || !fails(function () {\n  // V8 ~ Android 4.3-\n  nativeToFixed.call({});\n});\n\n// `Number.prototype.toFixed` method\n// https://tc39.github.io/ecma262/#sec-number.prototype.tofixed\n_export({ target: 'Number', proto: true, forced: FORCED$1 }, {\n  // eslint-disable-next-line max-statements\n  toFixed: function toFixed(fractionDigits) {\n    var number = thisNumberValue(this);\n    var fractDigits = toInteger(fractionDigits);\n    var data = [0, 0, 0, 0, 0, 0];\n    var sign = '';\n    var result = '0';\n    var e, z, j, k;\n\n    var multiply = function (n, c) {\n      var index = -1;\n      var c2 = c;\n      while (++index < 6) {\n        c2 += n * data[index];\n        data[index] = c2 % 1e7;\n        c2 = floor$4(c2 / 1e7);\n      }\n    };\n\n    var divide = function (n) {\n      var index = 6;\n      var c = 0;\n      while (--index >= 0) {\n        c += data[index];\n        data[index] = floor$4(c / n);\n        c = (c % n) * 1e7;\n      }\n    };\n\n    var dataToString = function () {\n      var index = 6;\n      var s = '';\n      while (--index >= 0) {\n        if (s !== '' || index === 0 || data[index] !== 0) {\n          var t = String(data[index]);\n          s = s === '' ? t : s + stringRepeat.call('0', 7 - t.length) + t;\n        }\n      } return s;\n    };\n\n    if (fractDigits < 0 || fractDigits > 20) throw RangeError('Incorrect fraction digits');\n    // eslint-disable-next-line no-self-compare\n    if (number != number) return 'NaN';\n    if (number <= -1e21 || number >= 1e21) return String(number);\n    if (number < 0) {\n      sign = '-';\n      number = -number;\n    }\n    if (number > 1e-21) {\n      e = log(number * pow$1(2, 69, 1)) - 69;\n      z = e < 0 ? number * pow$1(2, -e, 1) : number / pow$1(2, e, 1);\n      z *= 0x10000000000000;\n      e = 52 - e;\n      if (e > 0) {\n        multiply(0, z);\n        j = fractDigits;\n        while (j >= 7) {\n          multiply(1e7, 0);\n          j -= 7;\n        }\n        multiply(pow$1(10, j, 1), 0);\n        j = e - 1;\n        while (j >= 23) {\n          divide(1 << 23);\n          j -= 23;\n        }\n        divide(1 << j);\n        multiply(1, 1);\n        divide(2);\n        result = dataToString();\n      } else {\n        multiply(0, z);\n        multiply(1 << -e, 0);\n        result = dataToString() + stringRepeat.call('0', fractDigits);\n      }\n    }\n    if (fractDigits > 0) {\n      k = result.length;\n      result = sign + (k <= fractDigits\n        ? '0.' + stringRepeat.call('0', fractDigits - k) + result\n        : result.slice(0, k - fractDigits) + '.' + result.slice(k - fractDigits));\n    } else {\n      result = sign + result;\n    } return result;\n  }\n});\n\nvar propertyIsEnumerable = objectPropertyIsEnumerable.f;\n\n// `Object.{ entries, values }` methods implementation\nvar createMethod$4 = function (TO_ENTRIES) {\n  return function (it) {\n    var O = toIndexedObject(it);\n    var keys = objectKeys(O);\n    var length = keys.length;\n    var i = 0;\n    var result = [];\n    var key;\n    while (length > i) {\n      key = keys[i++];\n      if (!descriptors || propertyIsEnumerable.call(O, key)) {\n        result.push(TO_ENTRIES ? [key, O[key]] : O[key]);\n      }\n    }\n    return result;\n  };\n};\n\nvar objectToArray = {\n  // `Object.entries` method\n  // https://tc39.github.io/ecma262/#sec-object.entries\n  entries: createMethod$4(true),\n  // `Object.values` method\n  // https://tc39.github.io/ecma262/#sec-object.values\n  values: createMethod$4(false)\n};\n\nvar $entries = objectToArray.entries;\n\n// `Object.entries` method\n// https://tc39.github.io/ecma262/#sec-object.entries\n_export({ target: 'Object', stat: true }, {\n  entries: function entries(O) {\n    return $entries(O);\n  }\n});\n\nvar $values = objectToArray.values;\n\n// `Object.values` method\n// https://tc39.github.io/ecma262/#sec-object.values\n_export({ target: 'Object', stat: true }, {\n  values: function values(O) {\n    return $values(O);\n  }\n});\n\n// `Number.isNaN` method\n// https://tc39.github.io/ecma262/#sec-number.isnan\n_export({ target: 'Number', stat: true }, {\n  isNaN: function isNaN(number) {\n    // eslint-disable-next-line no-self-compare\n    return number != number;\n  }\n});\n\nvar nativeGetOwnPropertyDescriptor$2 = objectGetOwnPropertyDescriptor.f;\n\n\nvar FAILS_ON_PRIMITIVES$1 = fails(function () { nativeGetOwnPropertyDescriptor$2(1); });\nvar FORCED$2 = !descriptors || FAILS_ON_PRIMITIVES$1;\n\n// `Object.getOwnPropertyDescriptor` method\n// https://tc39.github.io/ecma262/#sec-object.getownpropertydescriptor\n_export({ target: 'Object', stat: true, forced: FORCED$2, sham: !descriptors }, {\n  getOwnPropertyDescriptor: function getOwnPropertyDescriptor(it, key) {\n    return nativeGetOwnPropertyDescriptor$2(toIndexedObject(it), key);\n  }\n});\n\n// `Object.getOwnPropertyDescriptors` method\n// https://tc39.github.io/ecma262/#sec-object.getownpropertydescriptors\n_export({ target: 'Object', stat: true, sham: !descriptors }, {\n  getOwnPropertyDescriptors: function getOwnPropertyDescriptors(object) {\n    var O = toIndexedObject(object);\n    var getOwnPropertyDescriptor = objectGetOwnPropertyDescriptor.f;\n    var keys = ownKeys(O);\n    var result = {};\n    var index = 0;\n    var key, descriptor;\n    while (keys.length > index) {\n      descriptor = getOwnPropertyDescriptor(O, key = keys[index++]);\n      if (descriptor !== undefined) createProperty(result, key, descriptor);\n    }\n    return result;\n  }\n});\n\n// @@match logic\nfixRegexpWellKnownSymbolLogic('match', 1, function (MATCH, nativeMatch, maybeCallNative) {\n  return [\n    // `String.prototype.match` method\n    // https://tc39.github.io/ecma262/#sec-string.prototype.match\n    function match(regexp) {\n      var O = requireObjectCoercible(this);\n      var matcher = regexp == undefined ? undefined : regexp[MATCH];\n      return matcher !== undefined ? matcher.call(regexp, O) : new RegExp(regexp)[MATCH](String(O));\n    },\n    // `RegExp.prototype[@@match]` method\n    // https://tc39.github.io/ecma262/#sec-regexp.prototype-@@match\n    function (regexp) {\n      var res = maybeCallNative(nativeMatch, regexp, this);\n      if (res.done) return res.value;\n\n      var rx = anObject(regexp);\n      var S = String(this);\n\n      if (!rx.global) return regexpExecAbstract(rx, S);\n\n      var fullUnicode = rx.unicode;\n      rx.lastIndex = 0;\n      var A = [];\n      var n = 0;\n      var result;\n      while ((result = regexpExecAbstract(rx, S)) !== null) {\n        var matchStr = String(result[0]);\n        A[n] = matchStr;\n        if (matchStr === '') rx.lastIndex = advanceStringIndex(S, toLength(rx.lastIndex), fullUnicode);\n        n++;\n      }\n      return n === 0 ? null : A;\n    }\n  ];\n});\n\nfunction _classCallCheck$1(e, t) {\n  if (!(e instanceof t)) throw new TypeError(\"Cannot call a class as a function\");\n}\n\nfunction _defineProperties$1(e, t) {\n  for (var n = 0; n < t.length; n++) {\n    var r = t[n];\n    r.enumerable = r.enumerable || !1, r.configurable = !0, \"value\" in r && (r.writable = !0), Object.defineProperty(e, r.key, r);\n  }\n}\n\nfunction _createClass$1(e, t, n) {\n  return t && _defineProperties$1(e.prototype, t), n && _defineProperties$1(e, n), e;\n}\n\nfunction _defineProperty$1(e, t, n) {\n  return t in e ? Object.defineProperty(e, t, {\n    value: n,\n    enumerable: !0,\n    configurable: !0,\n    writable: !0\n  }) : e[t] = n, e;\n}\n\nfunction ownKeys$2(e, t) {\n  var n = Object.keys(e);\n\n  if (Object.getOwnPropertySymbols) {\n    var r = Object.getOwnPropertySymbols(e);\n    t && (r = r.filter(function (t) {\n      return Object.getOwnPropertyDescriptor(e, t).enumerable;\n    })), n.push.apply(n, r);\n  }\n\n  return n;\n}\n\nfunction _objectSpread2$1(e) {\n  for (var t = 1; t < arguments.length; t++) {\n    var n = null != arguments[t] ? arguments[t] : {};\n    t % 2 ? ownKeys$2(Object(n), !0).forEach(function (t) {\n      _defineProperty$1(e, t, n[t]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : ownKeys$2(Object(n)).forEach(function (t) {\n      Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t));\n    });\n  }\n\n  return e;\n}\n\nvar defaults = {\n  addCSS: !0,\n  thumbWidth: 15,\n  watch: !0\n};\n\nfunction matches(e, t) {\n  return function () {\n    return Array.from(document.querySelectorAll(t)).includes(this);\n  }.call(e, t);\n}\n\nfunction trigger(e, t) {\n  if (e && t) {\n    var n = new Event(t, {\n      bubbles: !0\n    });\n    e.dispatchEvent(n);\n  }\n}\n\nvar getConstructor = function getConstructor(e) {\n  return null != e ? e.constructor : null;\n},\n    instanceOf = function instanceOf(e, t) {\n  return !!(e && t && e instanceof t);\n},\n    isNullOrUndefined = function isNullOrUndefined(e) {\n  return null == e;\n},\n    isObject$1 = function isObject(e) {\n  return getConstructor(e) === Object;\n},\n    isNumber = function isNumber(e) {\n  return getConstructor(e) === Number && !Number.isNaN(e);\n},\n    isString = function isString(e) {\n  return getConstructor(e) === String;\n},\n    isBoolean = function isBoolean(e) {\n  return getConstructor(e) === Boolean;\n},\n    isFunction = function isFunction(e) {\n  return getConstructor(e) === Function;\n},\n    isArray$1 = function isArray(e) {\n  return Array.isArray(e);\n},\n    isNodeList = function isNodeList(e) {\n  return instanceOf(e, NodeList);\n},\n    isElement = function isElement(e) {\n  return instanceOf(e, Element);\n},\n    isEvent = function isEvent(e) {\n  return instanceOf(e, Event);\n},\n    isEmpty = function isEmpty(e) {\n  return isNullOrUndefined(e) || (isString(e) || isArray$1(e) || isNodeList(e)) && !e.length || isObject$1(e) && !Object.keys(e).length;\n},\n    is = {\n  nullOrUndefined: isNullOrUndefined,\n  object: isObject$1,\n  number: isNumber,\n  string: isString,\n  boolean: isBoolean,\n  function: isFunction,\n  array: isArray$1,\n  nodeList: isNodeList,\n  element: isElement,\n  event: isEvent,\n  empty: isEmpty\n};\n\nfunction getDecimalPlaces(e) {\n  var t = \"\".concat(e).match(/(?:\\.(\\d+))?(?:[eE]([+-]?\\d+))?$/);\n  return t ? Math.max(0, (t[1] ? t[1].length : 0) - (t[2] ? +t[2] : 0)) : 0;\n}\n\nfunction round(e, t) {\n  if (1 > t) {\n    var n = getDecimalPlaces(t);\n    return parseFloat(e.toFixed(n));\n  }\n\n  return Math.round(e / t) * t;\n}\n\nvar RangeTouch = function () {\n  function e(t, n) {\n    _classCallCheck$1(this, e), is.element(t) ? this.element = t : is.string(t) && (this.element = document.querySelector(t)), is.element(this.element) && is.empty(this.element.rangeTouch) && (this.config = _objectSpread2$1({}, defaults, {}, n), this.init());\n  }\n\n  return _createClass$1(e, [{\n    key: \"init\",\n    value: function value() {\n      e.enabled && (this.config.addCSS && (this.element.style.userSelect = \"none\", this.element.style.webKitUserSelect = \"none\", this.element.style.touchAction = \"manipulation\"), this.listeners(!0), this.element.rangeTouch = this);\n    }\n  }, {\n    key: \"destroy\",\n    value: function value() {\n      e.enabled && (this.config.addCSS && (this.element.style.userSelect = \"\", this.element.style.webKitUserSelect = \"\", this.element.style.touchAction = \"\"), this.listeners(!1), this.element.rangeTouch = null);\n    }\n  }, {\n    key: \"listeners\",\n    value: function value(e) {\n      var t = this,\n          n = e ? \"addEventListener\" : \"removeEventListener\";\n      [\"touchstart\", \"touchmove\", \"touchend\"].forEach(function (e) {\n        t.element[n](e, function (e) {\n          return t.set(e);\n        }, !1);\n      });\n    }\n  }, {\n    key: \"get\",\n    value: function value(t) {\n      if (!e.enabled || !is.event(t)) return null;\n      var n,\n          r = t.target,\n          i = t.changedTouches[0],\n          o = parseFloat(r.getAttribute(\"min\")) || 0,\n          s = parseFloat(r.getAttribute(\"max\")) || 100,\n          u = parseFloat(r.getAttribute(\"step\")) || 1,\n          c = r.getBoundingClientRect(),\n          a = 100 / c.width * (this.config.thumbWidth / 2) / 100;\n      return 0 > (n = 100 / c.width * (i.clientX - c.left)) ? n = 0 : 100 < n && (n = 100), 50 > n ? n -= (100 - 2 * n) * a : 50 < n && (n += 2 * (n - 50) * a), o + round(n / 100 * (s - o), u);\n    }\n  }, {\n    key: \"set\",\n    value: function value(t) {\n      e.enabled && is.event(t) && !t.target.disabled && (t.preventDefault(), t.target.value = this.get(t), trigger(t.target, \"touchend\" === t.type ? \"change\" : \"input\"));\n    }\n  }], [{\n    key: \"setup\",\n    value: function value(t) {\n      var n = 1 < arguments.length && void 0 !== arguments[1] ? arguments[1] : {},\n          r = null;\n      if (is.empty(t) || is.string(t) ? r = Array.from(document.querySelectorAll(is.string(t) ? t : 'input[type=\"range\"]')) : is.element(t) ? r = [t] : is.nodeList(t) ? r = Array.from(t) : is.array(t) && (r = t.filter(is.element)), is.empty(r)) return null;\n\n      var i = _objectSpread2$1({}, defaults, {}, n);\n\n      if (is.string(t) && i.watch) {\n        var o = new MutationObserver(function (n) {\n          Array.from(n).forEach(function (n) {\n            Array.from(n.addedNodes).forEach(function (n) {\n              is.element(n) && matches(n, t) && new e(n, i);\n            });\n          });\n        });\n        o.observe(document.body, {\n          childList: !0,\n          subtree: !0\n        });\n      }\n\n      return r.map(function (t) {\n        return new e(t, n);\n      });\n    }\n  }, {\n    key: \"enabled\",\n    get: function get() {\n      return \"ontouchstart\" in document.documentElement;\n    }\n  }]), e;\n}();\n\nvar nativePromiseConstructor = global_1.Promise;\n\nvar SPECIES$5 = wellKnownSymbol('species');\n\nvar setSpecies = function (CONSTRUCTOR_NAME) {\n  var Constructor = getBuiltIn(CONSTRUCTOR_NAME);\n  var defineProperty = objectDefineProperty.f;\n\n  if (descriptors && Constructor && !Constructor[SPECIES$5]) {\n    defineProperty(Constructor, SPECIES$5, {\n      configurable: true,\n      get: function () { return this; }\n    });\n  }\n};\n\nvar engineIsIos = /(iphone|ipod|ipad).*applewebkit/i.test(engineUserAgent);\n\nvar location = global_1.location;\nvar set$1 = global_1.setImmediate;\nvar clear = global_1.clearImmediate;\nvar process$1 = global_1.process;\nvar MessageChannel = global_1.MessageChannel;\nvar Dispatch = global_1.Dispatch;\nvar counter = 0;\nvar queue = {};\nvar ONREADYSTATECHANGE = 'onreadystatechange';\nvar defer, channel, port;\n\nvar run = function (id) {\n  // eslint-disable-next-line no-prototype-builtins\n  if (queue.hasOwnProperty(id)) {\n    var fn = queue[id];\n    delete queue[id];\n    fn();\n  }\n};\n\nvar runner = function (id) {\n  return function () {\n    run(id);\n  };\n};\n\nvar listener = function (event) {\n  run(event.data);\n};\n\nvar post = function (id) {\n  // old engines have not location.origin\n  global_1.postMessage(id + '', location.protocol + '//' + location.host);\n};\n\n// Node.js 0.9+ & IE10+ has setImmediate, otherwise:\nif (!set$1 || !clear) {\n  set$1 = function setImmediate(fn) {\n    var args = [];\n    var i = 1;\n    while (arguments.length > i) args.push(arguments[i++]);\n    queue[++counter] = function () {\n      // eslint-disable-next-line no-new-func\n      (typeof fn == 'function' ? fn : Function(fn)).apply(undefined, args);\n    };\n    defer(counter);\n    return counter;\n  };\n  clear = function clearImmediate(id) {\n    delete queue[id];\n  };\n  // Node.js 0.8-\n  if (classofRaw(process$1) == 'process') {\n    defer = function (id) {\n      process$1.nextTick(runner(id));\n    };\n  // Sphere (JS game engine) Dispatch API\n  } else if (Dispatch && Dispatch.now) {\n    defer = function (id) {\n      Dispatch.now(runner(id));\n    };\n  // Browsers with MessageChannel, includes WebWorkers\n  // except iOS - https://github.com/zloirock/core-js/issues/624\n  } else if (MessageChannel && !engineIsIos) {\n    channel = new MessageChannel();\n    port = channel.port2;\n    channel.port1.onmessage = listener;\n    defer = functionBindContext(port.postMessage, port, 1);\n  // Browsers with postMessage, skip WebWorkers\n  // IE8 has postMessage, but it's sync & typeof its postMessage is 'object'\n  } else if (\n    global_1.addEventListener &&\n    typeof postMessage == 'function' &&\n    !global_1.importScripts &&\n    !fails(post) &&\n    location.protocol !== 'file:'\n  ) {\n    defer = post;\n    global_1.addEventListener('message', listener, false);\n  // IE8-\n  } else if (ONREADYSTATECHANGE in documentCreateElement('script')) {\n    defer = function (id) {\n      html.appendChild(documentCreateElement('script'))[ONREADYSTATECHANGE] = function () {\n        html.removeChild(this);\n        run(id);\n      };\n    };\n  // Rest old browsers\n  } else {\n    defer = function (id) {\n      setTimeout(runner(id), 0);\n    };\n  }\n}\n\nvar task = {\n  set: set$1,\n  clear: clear\n};\n\nvar getOwnPropertyDescriptor$3 = objectGetOwnPropertyDescriptor.f;\n\nvar macrotask = task.set;\n\n\nvar MutationObserver$1 = global_1.MutationObserver || global_1.WebKitMutationObserver;\nvar process$2 = global_1.process;\nvar Promise$1 = global_1.Promise;\nvar IS_NODE = classofRaw(process$2) == 'process';\n// Node.js 11 shows ExperimentalWarning on getting `queueMicrotask`\nvar queueMicrotaskDescriptor = getOwnPropertyDescriptor$3(global_1, 'queueMicrotask');\nvar queueMicrotask = queueMicrotaskDescriptor && queueMicrotaskDescriptor.value;\n\nvar flush, head, last, notify, toggle, node, promise, then;\n\n// modern engines have queueMicrotask method\nif (!queueMicrotask) {\n  flush = function () {\n    var parent, fn;\n    if (IS_NODE && (parent = process$2.domain)) parent.exit();\n    while (head) {\n      fn = head.fn;\n      head = head.next;\n      try {\n        fn();\n      } catch (error) {\n        if (head) notify();\n        else last = undefined;\n        throw error;\n      }\n    } last = undefined;\n    if (parent) parent.enter();\n  };\n\n  // Node.js\n  if (IS_NODE) {\n    notify = function () {\n      process$2.nextTick(flush);\n    };\n  // browsers with MutationObserver, except iOS - https://github.com/zloirock/core-js/issues/339\n  } else if (MutationObserver$1 && !engineIsIos) {\n    toggle = true;\n    node = document.createTextNode('');\n    new MutationObserver$1(flush).observe(node, { characterData: true });\n    notify = function () {\n      node.data = toggle = !toggle;\n    };\n  // environments with maybe non-completely correct, but existent Promise\n  } else if (Promise$1 && Promise$1.resolve) {\n    // Promise.resolve without an argument throws an error in LG WebOS 2\n    promise = Promise$1.resolve(undefined);\n    then = promise.then;\n    notify = function () {\n      then.call(promise, flush);\n    };\n  // for other environments - macrotask based on:\n  // - setImmediate\n  // - MessageChannel\n  // - window.postMessag\n  // - onreadystatechange\n  // - setTimeout\n  } else {\n    notify = function () {\n      // strange IE + webpack dev server bug - use .call(global)\n      macrotask.call(global_1, flush);\n    };\n  }\n}\n\nvar microtask = queueMicrotask || function (fn) {\n  var task = { fn: fn, next: undefined };\n  if (last) last.next = task;\n  if (!head) {\n    head = task;\n    notify();\n  } last = task;\n};\n\nvar PromiseCapability = function (C) {\n  var resolve, reject;\n  this.promise = new C(function ($$resolve, $$reject) {\n    if (resolve !== undefined || reject !== undefined) throw TypeError('Bad Promise constructor');\n    resolve = $$resolve;\n    reject = $$reject;\n  });\n  this.resolve = aFunction$1(resolve);\n  this.reject = aFunction$1(reject);\n};\n\n// 25.4.1.5 NewPromiseCapability(C)\nvar f$7 = function (C) {\n  return new PromiseCapability(C);\n};\n\nvar newPromiseCapability = {\n\tf: f$7\n};\n\nvar promiseResolve = function (C, x) {\n  anObject(C);\n  if (isObject(x) && x.constructor === C) return x;\n  var promiseCapability = newPromiseCapability.f(C);\n  var resolve = promiseCapability.resolve;\n  resolve(x);\n  return promiseCapability.promise;\n};\n\nvar hostReportErrors = function (a, b) {\n  var console = global_1.console;\n  if (console && console.error) {\n    arguments.length === 1 ? console.error(a) : console.error(a, b);\n  }\n};\n\nvar perform = function (exec) {\n  try {\n    return { error: false, value: exec() };\n  } catch (error) {\n    return { error: true, value: error };\n  }\n};\n\nvar task$1 = task.set;\n\n\n\n\n\n\n\n\n\n\nvar SPECIES$6 = wellKnownSymbol('species');\nvar PROMISE = 'Promise';\nvar getInternalState$3 = internalState.get;\nvar setInternalState$6 = internalState.set;\nvar getInternalPromiseState = internalState.getterFor(PROMISE);\nvar PromiseConstructor = nativePromiseConstructor;\nvar TypeError$1 = global_1.TypeError;\nvar document$2 = global_1.document;\nvar process$3 = global_1.process;\nvar $fetch$1 = getBuiltIn('fetch');\nvar newPromiseCapability$1 = newPromiseCapability.f;\nvar newGenericPromiseCapability = newPromiseCapability$1;\nvar IS_NODE$1 = classofRaw(process$3) == 'process';\nvar DISPATCH_EVENT = !!(document$2 && document$2.createEvent && global_1.dispatchEvent);\nvar UNHANDLED_REJECTION = 'unhandledrejection';\nvar REJECTION_HANDLED = 'rejectionhandled';\nvar PENDING = 0;\nvar FULFILLED = 1;\nvar REJECTED = 2;\nvar HANDLED = 1;\nvar UNHANDLED = 2;\nvar Internal, OwnPromiseCapability, PromiseWrapper, nativeThen;\n\nvar FORCED$3 = isForced_1(PROMISE, function () {\n  var GLOBAL_CORE_JS_PROMISE = inspectSource(PromiseConstructor) !== String(PromiseConstructor);\n  if (!GLOBAL_CORE_JS_PROMISE) {\n    // V8 6.6 (Node 10 and Chrome 66) have a bug with resolving custom thenables\n    // https://bugs.chromium.org/p/chromium/issues/detail?id=830565\n    // We can't detect it synchronously, so just check versions\n    if (engineV8Version === 66) return true;\n    // Unhandled rejections tracking support, NodeJS Promise without it fails @@species test\n    if (!IS_NODE$1 && typeof PromiseRejectionEvent != 'function') return true;\n  }\n  // We can't use @@species feature detection in V8 since it causes\n  // deoptimization and performance degradation\n  // https://github.com/zloirock/core-js/issues/679\n  if (engineV8Version >= 51 && /native code/.test(PromiseConstructor)) return false;\n  // Detect correctness of subclassing with @@species support\n  var promise = PromiseConstructor.resolve(1);\n  var FakePromise = function (exec) {\n    exec(function () { /* empty */ }, function () { /* empty */ });\n  };\n  var constructor = promise.constructor = {};\n  constructor[SPECIES$6] = FakePromise;\n  return !(promise.then(function () { /* empty */ }) instanceof FakePromise);\n});\n\nvar INCORRECT_ITERATION$1 = FORCED$3 || !checkCorrectnessOfIteration(function (iterable) {\n  PromiseConstructor.all(iterable)['catch'](function () { /* empty */ });\n});\n\n// helpers\nvar isThenable = function (it) {\n  var then;\n  return isObject(it) && typeof (then = it.then) == 'function' ? then : false;\n};\n\nvar notify$1 = function (promise, state, isReject) {\n  if (state.notified) return;\n  state.notified = true;\n  var chain = state.reactions;\n  microtask(function () {\n    var value = state.value;\n    var ok = state.state == FULFILLED;\n    var index = 0;\n    // variable length - can't use forEach\n    while (chain.length > index) {\n      var reaction = chain[index++];\n      var handler = ok ? reaction.ok : reaction.fail;\n      var resolve = reaction.resolve;\n      var reject = reaction.reject;\n      var domain = reaction.domain;\n      var result, then, exited;\n      try {\n        if (handler) {\n          if (!ok) {\n            if (state.rejection === UNHANDLED) onHandleUnhandled(promise, state);\n            state.rejection = HANDLED;\n          }\n          if (handler === true) result = value;\n          else {\n            if (domain) domain.enter();\n            result = handler(value); // can throw\n            if (domain) {\n              domain.exit();\n              exited = true;\n            }\n          }\n          if (result === reaction.promise) {\n            reject(TypeError$1('Promise-chain cycle'));\n          } else if (then = isThenable(result)) {\n            then.call(result, resolve, reject);\n          } else resolve(result);\n        } else reject(value);\n      } catch (error) {\n        if (domain && !exited) domain.exit();\n        reject(error);\n      }\n    }\n    state.reactions = [];\n    state.notified = false;\n    if (isReject && !state.rejection) onUnhandled(promise, state);\n  });\n};\n\nvar dispatchEvent = function (name, promise, reason) {\n  var event, handler;\n  if (DISPATCH_EVENT) {\n    event = document$2.createEvent('Event');\n    event.promise = promise;\n    event.reason = reason;\n    event.initEvent(name, false, true);\n    global_1.dispatchEvent(event);\n  } else event = { promise: promise, reason: reason };\n  if (handler = global_1['on' + name]) handler(event);\n  else if (name === UNHANDLED_REJECTION) hostReportErrors('Unhandled promise rejection', reason);\n};\n\nvar onUnhandled = function (promise, state) {\n  task$1.call(global_1, function () {\n    var value = state.value;\n    var IS_UNHANDLED = isUnhandled(state);\n    var result;\n    if (IS_UNHANDLED) {\n      result = perform(function () {\n        if (IS_NODE$1) {\n          process$3.emit('unhandledRejection', value, promise);\n        } else dispatchEvent(UNHANDLED_REJECTION, promise, value);\n      });\n      // Browsers should not trigger `rejectionHandled` event if it was handled here, NodeJS - should\n      state.rejection = IS_NODE$1 || isUnhandled(state) ? UNHANDLED : HANDLED;\n      if (result.error) throw result.value;\n    }\n  });\n};\n\nvar isUnhandled = function (state) {\n  return state.rejection !== HANDLED && !state.parent;\n};\n\nvar onHandleUnhandled = function (promise, state) {\n  task$1.call(global_1, function () {\n    if (IS_NODE$1) {\n      process$3.emit('rejectionHandled', promise);\n    } else dispatchEvent(REJECTION_HANDLED, promise, state.value);\n  });\n};\n\nvar bind = function (fn, promise, state, unwrap) {\n  return function (value) {\n    fn(promise, state, value, unwrap);\n  };\n};\n\nvar internalReject = function (promise, state, value, unwrap) {\n  if (state.done) return;\n  state.done = true;\n  if (unwrap) state = unwrap;\n  state.value = value;\n  state.state = REJECTED;\n  notify$1(promise, state, true);\n};\n\nvar internalResolve = function (promise, state, value, unwrap) {\n  if (state.done) return;\n  state.done = true;\n  if (unwrap) state = unwrap;\n  try {\n    if (promise === value) throw TypeError$1(\"Promise can't be resolved itself\");\n    var then = isThenable(value);\n    if (then) {\n      microtask(function () {\n        var wrapper = { done: false };\n        try {\n          then.call(value,\n            bind(internalResolve, promise, wrapper, state),\n            bind(internalReject, promise, wrapper, state)\n          );\n        } catch (error) {\n          internalReject(promise, wrapper, error, state);\n        }\n      });\n    } else {\n      state.value = value;\n      state.state = FULFILLED;\n      notify$1(promise, state, false);\n    }\n  } catch (error) {\n    internalReject(promise, { done: false }, error, state);\n  }\n};\n\n// constructor polyfill\nif (FORCED$3) {\n  // 25.4.3.1 Promise(executor)\n  PromiseConstructor = function Promise(executor) {\n    anInstance(this, PromiseConstructor, PROMISE);\n    aFunction$1(executor);\n    Internal.call(this);\n    var state = getInternalState$3(this);\n    try {\n      executor(bind(internalResolve, this, state), bind(internalReject, this, state));\n    } catch (error) {\n      internalReject(this, state, error);\n    }\n  };\n  // eslint-disable-next-line no-unused-vars\n  Internal = function Promise(executor) {\n    setInternalState$6(this, {\n      type: PROMISE,\n      done: false,\n      notified: false,\n      parent: false,\n      reactions: [],\n      rejection: false,\n      state: PENDING,\n      value: undefined\n    });\n  };\n  Internal.prototype = redefineAll(PromiseConstructor.prototype, {\n    // `Promise.prototype.then` method\n    // https://tc39.github.io/ecma262/#sec-promise.prototype.then\n    then: function then(onFulfilled, onRejected) {\n      var state = getInternalPromiseState(this);\n      var reaction = newPromiseCapability$1(speciesConstructor(this, PromiseConstructor));\n      reaction.ok = typeof onFulfilled == 'function' ? onFulfilled : true;\n      reaction.fail = typeof onRejected == 'function' && onRejected;\n      reaction.domain = IS_NODE$1 ? process$3.domain : undefined;\n      state.parent = true;\n      state.reactions.push(reaction);\n      if (state.state != PENDING) notify$1(this, state, false);\n      return reaction.promise;\n    },\n    // `Promise.prototype.catch` method\n    // https://tc39.github.io/ecma262/#sec-promise.prototype.catch\n    'catch': function (onRejected) {\n      return this.then(undefined, onRejected);\n    }\n  });\n  OwnPromiseCapability = function () {\n    var promise = new Internal();\n    var state = getInternalState$3(promise);\n    this.promise = promise;\n    this.resolve = bind(internalResolve, promise, state);\n    this.reject = bind(internalReject, promise, state);\n  };\n  newPromiseCapability.f = newPromiseCapability$1 = function (C) {\n    return C === PromiseConstructor || C === PromiseWrapper\n      ? new OwnPromiseCapability(C)\n      : newGenericPromiseCapability(C);\n  };\n\n  if ( typeof nativePromiseConstructor == 'function') {\n    nativeThen = nativePromiseConstructor.prototype.then;\n\n    // wrap native Promise#then for native async functions\n    redefine(nativePromiseConstructor.prototype, 'then', function then(onFulfilled, onRejected) {\n      var that = this;\n      return new PromiseConstructor(function (resolve, reject) {\n        nativeThen.call(that, resolve, reject);\n      }).then(onFulfilled, onRejected);\n    // https://github.com/zloirock/core-js/issues/640\n    }, { unsafe: true });\n\n    // wrap fetch result\n    if (typeof $fetch$1 == 'function') _export({ global: true, enumerable: true, forced: true }, {\n      // eslint-disable-next-line no-unused-vars\n      fetch: function fetch(input /* , init */) {\n        return promiseResolve(PromiseConstructor, $fetch$1.apply(global_1, arguments));\n      }\n    });\n  }\n}\n\n_export({ global: true, wrap: true, forced: FORCED$3 }, {\n  Promise: PromiseConstructor\n});\n\nsetToStringTag(PromiseConstructor, PROMISE, false);\nsetSpecies(PROMISE);\n\nPromiseWrapper = getBuiltIn(PROMISE);\n\n// statics\n_export({ target: PROMISE, stat: true, forced: FORCED$3 }, {\n  // `Promise.reject` method\n  // https://tc39.github.io/ecma262/#sec-promise.reject\n  reject: function reject(r) {\n    var capability = newPromiseCapability$1(this);\n    capability.reject.call(undefined, r);\n    return capability.promise;\n  }\n});\n\n_export({ target: PROMISE, stat: true, forced:  FORCED$3 }, {\n  // `Promise.resolve` method\n  // https://tc39.github.io/ecma262/#sec-promise.resolve\n  resolve: function resolve(x) {\n    return promiseResolve( this, x);\n  }\n});\n\n_export({ target: PROMISE, stat: true, forced: INCORRECT_ITERATION$1 }, {\n  // `Promise.all` method\n  // https://tc39.github.io/ecma262/#sec-promise.all\n  all: function all(iterable) {\n    var C = this;\n    var capability = newPromiseCapability$1(C);\n    var resolve = capability.resolve;\n    var reject = capability.reject;\n    var result = perform(function () {\n      var $promiseResolve = aFunction$1(C.resolve);\n      var values = [];\n      var counter = 0;\n      var remaining = 1;\n      iterate_1(iterable, function (promise) {\n        var index = counter++;\n        var alreadyCalled = false;\n        values.push(undefined);\n        remaining++;\n        $promiseResolve.call(C, promise).then(function (value) {\n          if (alreadyCalled) return;\n          alreadyCalled = true;\n          values[index] = value;\n          --remaining || resolve(values);\n        }, reject);\n      });\n      --remaining || resolve(values);\n    });\n    if (result.error) reject(result.value);\n    return capability.promise;\n  },\n  // `Promise.race` method\n  // https://tc39.github.io/ecma262/#sec-promise.race\n  race: function race(iterable) {\n    var C = this;\n    var capability = newPromiseCapability$1(C);\n    var reject = capability.reject;\n    var result = perform(function () {\n      var $promiseResolve = aFunction$1(C.resolve);\n      iterate_1(iterable, function (promise) {\n        $promiseResolve.call(C, promise).then(capability.resolve, reject);\n      });\n    });\n    if (result.error) reject(result.value);\n    return capability.promise;\n  }\n});\n\nvar getOwnPropertyDescriptor$4 = objectGetOwnPropertyDescriptor.f;\n\n\n\n\n\n\nvar nativeStartsWith = ''.startsWith;\nvar min$4 = Math.min;\n\nvar CORRECT_IS_REGEXP_LOGIC = correctIsRegexpLogic('startsWith');\n// https://github.com/zloirock/core-js/pull/702\nvar MDN_POLYFILL_BUG =  !CORRECT_IS_REGEXP_LOGIC && !!function () {\n  var descriptor = getOwnPropertyDescriptor$4(String.prototype, 'startsWith');\n  return descriptor && !descriptor.writable;\n}();\n\n// `String.prototype.startsWith` method\n// https://tc39.github.io/ecma262/#sec-string.prototype.startswith\n_export({ target: 'String', proto: true, forced: !MDN_POLYFILL_BUG && !CORRECT_IS_REGEXP_LOGIC }, {\n  startsWith: function startsWith(searchString /* , position = 0 */) {\n    var that = String(requireObjectCoercible(this));\n    notARegexp(searchString);\n    var index = toLength(min$4(arguments.length > 1 ? arguments[1] : undefined, that.length));\n    var search = String(searchString);\n    return nativeStartsWith\n      ? nativeStartsWith.call(that, search, index)\n      : that.slice(index, index + search.length) === search;\n  }\n});\n\n// ==========================================================================\n// Type checking utils\n// ==========================================================================\nvar getConstructor$1 = function getConstructor(input) {\n  return input !== null && typeof input !== 'undefined' ? input.constructor : null;\n};\n\nvar instanceOf$1 = function instanceOf(input, constructor) {\n  return Boolean(input && constructor && input instanceof constructor);\n};\n\nvar isNullOrUndefined$1 = function isNullOrUndefined(input) {\n  return input === null || typeof input === 'undefined';\n};\n\nvar isObject$2 = function isObject(input) {\n  return getConstructor$1(input) === Object;\n};\n\nvar isNumber$1 = function isNumber(input) {\n  return getConstructor$1(input) === Number && !Number.isNaN(input);\n};\n\nvar isString$1 = function isString(input) {\n  return getConstructor$1(input) === String;\n};\n\nvar isBoolean$1 = function isBoolean(input) {\n  return getConstructor$1(input) === Boolean;\n};\n\nvar isFunction$1 = function isFunction(input) {\n  return getConstructor$1(input) === Function;\n};\n\nvar isArray$2 = function isArray(input) {\n  return Array.isArray(input);\n};\n\nvar isWeakMap = function isWeakMap(input) {\n  return instanceOf$1(input, WeakMap);\n};\n\nvar isNodeList$1 = function isNodeList(input) {\n  return instanceOf$1(input, NodeList);\n};\n\nvar isElement$1 = function isElement(input) {\n  return instanceOf$1(input, Element);\n};\n\nvar isTextNode = function isTextNode(input) {\n  return getConstructor$1(input) === Text;\n};\n\nvar isEvent$1 = function isEvent(input) {\n  return instanceOf$1(input, Event);\n};\n\nvar isKeyboardEvent = function isKeyboardEvent(input) {\n  return instanceOf$1(input, KeyboardEvent);\n};\n\nvar isCue = function isCue(input) {\n  return instanceOf$1(input, window.TextTrackCue) || instanceOf$1(input, window.VTTCue);\n};\n\nvar isTrack = function isTrack(input) {\n  return instanceOf$1(input, TextTrack) || !isNullOrUndefined$1(input) && isString$1(input.kind);\n};\n\nvar isPromise = function isPromise(input) {\n  return instanceOf$1(input, Promise) && isFunction$1(input.then);\n};\n\nvar isEmpty$1 = function isEmpty(input) {\n  return isNullOrUndefined$1(input) || (isString$1(input) || isArray$2(input) || isNodeList$1(input)) && !input.length || isObject$2(input) && !Object.keys(input).length;\n};\n\nvar isUrl = function isUrl(input) {\n  // Accept a URL object\n  if (instanceOf$1(input, window.URL)) {\n    return true;\n  } // Must be string from here\n\n\n  if (!isString$1(input)) {\n    return false;\n  } // Add the protocol if required\n\n\n  var string = input;\n\n  if (!input.startsWith('http://') || !input.startsWith('https://')) {\n    string = \"http://\".concat(input);\n  }\n\n  try {\n    return !isEmpty$1(new URL(string).hostname);\n  } catch (e) {\n    return false;\n  }\n};\n\nvar is$1 = {\n  nullOrUndefined: isNullOrUndefined$1,\n  object: isObject$2,\n  number: isNumber$1,\n  string: isString$1,\n  boolean: isBoolean$1,\n  function: isFunction$1,\n  array: isArray$2,\n  weakMap: isWeakMap,\n  nodeList: isNodeList$1,\n  element: isElement$1,\n  textNode: isTextNode,\n  event: isEvent$1,\n  keyboardEvent: isKeyboardEvent,\n  cue: isCue,\n  track: isTrack,\n  promise: isPromise,\n  url: isUrl,\n  empty: isEmpty$1\n};\n\nvar transitionEndEvent = function () {\n  var element = document.createElement('span');\n  var events = {\n    WebkitTransition: 'webkitTransitionEnd',\n    MozTransition: 'transitionend',\n    OTransition: 'oTransitionEnd otransitionend',\n    transition: 'transitionend'\n  };\n  var type = Object.keys(events).find(function (event) {\n    return element.style[event] !== undefined;\n  });\n  return is$1.string(type) ? events[type] : false;\n}(); // Force repaint of element\n\nfunction repaint(element, delay) {\n  setTimeout(function () {\n    try {\n      // eslint-disable-next-line no-param-reassign\n      element.hidden = true; // eslint-disable-next-line no-unused-expressions\n\n      element.offsetHeight; // eslint-disable-next-line no-param-reassign\n\n      element.hidden = false;\n    } catch (e) {// Do nothing\n    }\n  }, delay);\n}\n\n// ==========================================================================\n// Browser sniffing\n// Unfortunately, due to mixed support, UA sniffing is required\n// ==========================================================================\nvar browser = {\n  isIE:\n  /* @cc_on!@ */\n   !!document.documentMode,\n  isEdge: window.navigator.userAgent.includes('Edge'),\n  isWebkit: 'WebkitAppearance' in document.documentElement.style && !/Edge/.test(navigator.userAgent),\n  isIPhone: /(iPhone|iPod)/gi.test(navigator.platform),\n  isIos: /(iPad|iPhone|iPod)/gi.test(navigator.platform)\n};\n\n// `Array.prototype.{ reduce, reduceRight }` methods implementation\nvar createMethod$5 = function (IS_RIGHT) {\n  return function (that, callbackfn, argumentsLength, memo) {\n    aFunction$1(callbackfn);\n    var O = toObject(that);\n    var self = indexedObject(O);\n    var length = toLength(O.length);\n    var index = IS_RIGHT ? length - 1 : 0;\n    var i = IS_RIGHT ? -1 : 1;\n    if (argumentsLength < 2) while (true) {\n      if (index in self) {\n        memo = self[index];\n        index += i;\n        break;\n      }\n      index += i;\n      if (IS_RIGHT ? index < 0 : length <= index) {\n        throw TypeError('Reduce of empty array with no initial value');\n      }\n    }\n    for (;IS_RIGHT ? index >= 0 : length > index; index += i) if (index in self) {\n      memo = callbackfn(memo, self[index], index, O);\n    }\n    return memo;\n  };\n};\n\nvar arrayReduce = {\n  // `Array.prototype.reduce` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.reduce\n  left: createMethod$5(false),\n  // `Array.prototype.reduceRight` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.reduceright\n  right: createMethod$5(true)\n};\n\nvar $reduce = arrayReduce.left;\n\n\n\nvar STRICT_METHOD$5 = arrayMethodIsStrict('reduce');\nvar USES_TO_LENGTH$9 = arrayMethodUsesToLength('reduce', { 1: 0 });\n\n// `Array.prototype.reduce` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.reduce\n_export({ target: 'Array', proto: true, forced: !STRICT_METHOD$5 || !USES_TO_LENGTH$9 }, {\n  reduce: function reduce(callbackfn /* , initialValue */) {\n    return $reduce(this, callbackfn, arguments.length, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\nfunction cloneDeep(object) {\n  return JSON.parse(JSON.stringify(object));\n} // Get a nested value in an object\n\nfunction getDeep(object, path) {\n  return path.split('.').reduce(function (obj, key) {\n    return obj && obj[key];\n  }, object);\n} // Deep extend destination object with N more objects\n\nfunction extend() {\n  var target = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  for (var _len = arguments.length, sources = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    sources[_key - 1] = arguments[_key];\n  }\n\n  if (!sources.length) {\n    return target;\n  }\n\n  var source = sources.shift();\n\n  if (!is$1.object(source)) {\n    return target;\n  }\n\n  Object.keys(source).forEach(function (key) {\n    if (is$1.object(source[key])) {\n      if (!Object.keys(target).includes(key)) {\n        Object.assign(target, _defineProperty({}, key, {}));\n      }\n\n      extend(target[key], source[key]);\n    } else {\n      Object.assign(target, _defineProperty({}, key, source[key]));\n    }\n  });\n  return extend.apply(void 0, [target].concat(sources));\n}\n\nfunction wrap$1(elements, wrapper) {\n  // Convert `elements` to an array, if necessary.\n  var targets = elements.length ? elements : [elements]; // Loops backwards to prevent having to clone the wrapper on the\n  // first element (see `child` below).\n\n  Array.from(targets).reverse().forEach(function (element, index) {\n    var child = index > 0 ? wrapper.cloneNode(true) : wrapper; // Cache the current parent and sibling.\n\n    var parent = element.parentNode;\n    var sibling = element.nextSibling; // Wrap the element (is automatically removed from its current\n    // parent).\n\n    child.appendChild(element); // If the element had a sibling, insert the wrapper before\n    // the sibling to maintain the HTML structure; otherwise, just\n    // append it to the parent.\n\n    if (sibling) {\n      parent.insertBefore(child, sibling);\n    } else {\n      parent.appendChild(child);\n    }\n  });\n} // Set attributes\n\nfunction setAttributes(element, attributes) {\n  if (!is$1.element(element) || is$1.empty(attributes)) {\n    return;\n  } // Assume null and undefined attributes should be left out,\n  // Setting them would otherwise convert them to \"null\" and \"undefined\"\n\n\n  Object.entries(attributes).filter(function (_ref) {\n    var _ref2 = _slicedToArray(_ref, 2),\n        value = _ref2[1];\n\n    return !is$1.nullOrUndefined(value);\n  }).forEach(function (_ref3) {\n    var _ref4 = _slicedToArray(_ref3, 2),\n        key = _ref4[0],\n        value = _ref4[1];\n\n    return element.setAttribute(key, value);\n  });\n} // Create a DocumentFragment\n\nfunction createElement(type, attributes, text) {\n  // Create a new <element>\n  var element = document.createElement(type); // Set all passed attributes\n\n  if (is$1.object(attributes)) {\n    setAttributes(element, attributes);\n  } // Add text node\n\n\n  if (is$1.string(text)) {\n    element.innerText = text;\n  } // Return built element\n\n\n  return element;\n} // Inaert an element after another\n\nfunction insertAfter(element, target) {\n  if (!is$1.element(element) || !is$1.element(target)) {\n    return;\n  }\n\n  target.parentNode.insertBefore(element, target.nextSibling);\n} // Insert a DocumentFragment\n\nfunction insertElement(type, parent, attributes, text) {\n  if (!is$1.element(parent)) {\n    return;\n  }\n\n  parent.appendChild(createElement(type, attributes, text));\n} // Remove element(s)\n\nfunction removeElement(element) {\n  if (is$1.nodeList(element) || is$1.array(element)) {\n    Array.from(element).forEach(removeElement);\n    return;\n  }\n\n  if (!is$1.element(element) || !is$1.element(element.parentNode)) {\n    return;\n  }\n\n  element.parentNode.removeChild(element);\n} // Remove all child elements\n\nfunction emptyElement(element) {\n  if (!is$1.element(element)) {\n    return;\n  }\n\n  var length = element.childNodes.length;\n\n  while (length > 0) {\n    element.removeChild(element.lastChild);\n    length -= 1;\n  }\n} // Replace element\n\nfunction replaceElement(newChild, oldChild) {\n  if (!is$1.element(oldChild) || !is$1.element(oldChild.parentNode) || !is$1.element(newChild)) {\n    return null;\n  }\n\n  oldChild.parentNode.replaceChild(newChild, oldChild);\n  return newChild;\n} // Get an attribute object from a string selector\n\nfunction getAttributesFromSelector(sel, existingAttributes) {\n  // For example:\n  // '.test' to { class: 'test' }\n  // '#test' to { id: 'test' }\n  // '[data-test=\"test\"]' to { 'data-test': 'test' }\n  if (!is$1.string(sel) || is$1.empty(sel)) {\n    return {};\n  }\n\n  var attributes = {};\n  var existing = extend({}, existingAttributes);\n  sel.split(',').forEach(function (s) {\n    // Remove whitespace\n    var selector = s.trim();\n    var className = selector.replace('.', '');\n    var stripped = selector.replace(/[[\\]]/g, ''); // Get the parts and value\n\n    var parts = stripped.split('=');\n\n    var _parts = _slicedToArray(parts, 1),\n        key = _parts[0];\n\n    var value = parts.length > 1 ? parts[1].replace(/[\"']/g, '') : ''; // Get the first character\n\n    var start = selector.charAt(0);\n\n    switch (start) {\n      case '.':\n        // Add to existing classname\n        if (is$1.string(existing.class)) {\n          attributes.class = \"\".concat(existing.class, \" \").concat(className);\n        } else {\n          attributes.class = className;\n        }\n\n        break;\n\n      case '#':\n        // ID selector\n        attributes.id = selector.replace('#', '');\n        break;\n\n      case '[':\n        // Attribute selector\n        attributes[key] = value;\n        break;\n    }\n  });\n  return extend(existing, attributes);\n} // Toggle hidden\n\nfunction toggleHidden(element, hidden) {\n  if (!is$1.element(element)) {\n    return;\n  }\n\n  var hide = hidden;\n\n  if (!is$1.boolean(hide)) {\n    hide = !element.hidden;\n  } // eslint-disable-next-line no-param-reassign\n\n\n  element.hidden = hide;\n} // Mirror Element.classList.toggle, with IE compatibility for \"force\" argument\n\nfunction toggleClass(element, className, force) {\n  if (is$1.nodeList(element)) {\n    return Array.from(element).map(function (e) {\n      return toggleClass(e, className, force);\n    });\n  }\n\n  if (is$1.element(element)) {\n    var method = 'toggle';\n\n    if (typeof force !== 'undefined') {\n      method = force ? 'add' : 'remove';\n    }\n\n    element.classList[method](className);\n    return element.classList.contains(className);\n  }\n\n  return false;\n} // Has class name\n\nfunction hasClass(element, className) {\n  return is$1.element(element) && element.classList.contains(className);\n} // Element matches selector\n\nfunction matches$1(element, selector) {\n  var _Element = Element,\n      prototype = _Element.prototype;\n\n  function match() {\n    return Array.from(document.querySelectorAll(selector)).includes(this);\n  }\n\n  var method = prototype.matches || prototype.webkitMatchesSelector || prototype.mozMatchesSelector || prototype.msMatchesSelector || match;\n  return method.call(element, selector);\n} // Closest ancestor element matching selector (also tests element itself)\n\nfunction closest(element, selector) {\n  var _Element2 = Element,\n      prototype = _Element2.prototype; // https://developer.mozilla.org/en-US/docs/Web/API/Element/closest#Polyfill\n\n  function closestElement() {\n    var el = this;\n\n    do {\n      if (matches$1.matches(el, selector)) return el;\n      el = el.parentElement || el.parentNode;\n    } while (el !== null && el.nodeType === 1);\n\n    return null;\n  }\n\n  var method = prototype.closest || closestElement;\n  return method.call(element, selector);\n} // Find all elements\n\nfunction getElements(selector) {\n  return this.elements.container.querySelectorAll(selector);\n} // Find a single element\n\nfunction getElement(selector) {\n  return this.elements.container.querySelector(selector);\n} // Set focus and tab focus class\n\nfunction setFocus() {\n  var element = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n  var tabFocus = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n  if (!is$1.element(element)) {\n    return;\n  } // Set regular focus\n\n\n  element.focus({\n    preventScroll: true\n  }); // If we want to mimic keyboard focus via tab\n\n  if (tabFocus) {\n    toggleClass(element, this.config.classNames.tabFocus);\n  }\n}\n\nvar defaultCodecs = {\n  'audio/ogg': 'vorbis',\n  'audio/wav': '1',\n  'video/webm': 'vp8, vorbis',\n  'video/mp4': 'avc1.42E01E, mp4a.40.2',\n  'video/ogg': 'theora'\n}; // Check for feature support\n\nvar support = {\n  // Basic support\n  audio: 'canPlayType' in document.createElement('audio'),\n  video: 'canPlayType' in document.createElement('video'),\n  // Check for support\n  // Basic functionality vs full UI\n  check: function check(type, provider, playsinline) {\n    var canPlayInline = browser.isIPhone && playsinline && support.playsinline;\n    var api = support[type] || provider !== 'html5';\n    var ui = api && support.rangeInput && (type !== 'video' || !browser.isIPhone || canPlayInline);\n    return {\n      api: api,\n      ui: ui\n    };\n  },\n  // Picture-in-picture support\n  // Safari & Chrome only currently\n  pip: function () {\n    if (browser.isIPhone) {\n      return false;\n    } // Safari\n    // https://developer.apple.com/documentation/webkitjs/adding_picture_in_picture_to_your_safari_media_controls\n\n\n    if (is$1.function(createElement('video').webkitSetPresentationMode)) {\n      return true;\n    } // Chrome\n    // https://developers.google.com/web/updates/2018/10/watch-video-using-picture-in-picture\n\n\n    if (document.pictureInPictureEnabled && !createElement('video').disablePictureInPicture) {\n      return true;\n    }\n\n    return false;\n  }(),\n  // Airplay support\n  // Safari only currently\n  airplay: is$1.function(window.WebKitPlaybackTargetAvailabilityEvent),\n  // Inline playback support\n  // https://webkit.org/blog/6784/new-video-policies-for-ios/\n  playsinline: 'playsInline' in document.createElement('video'),\n  // Check for mime type support against a player instance\n  // Credits: http://diveintohtml5.info/everything.html\n  // Related: http://www.leanbackplayer.com/test/h5mt.html\n  mime: function mime(input) {\n    if (is$1.empty(input)) {\n      return false;\n    }\n\n    var _input$split = input.split('/'),\n        _input$split2 = _slicedToArray(_input$split, 1),\n        mediaType = _input$split2[0];\n\n    var type = input; // Verify we're using HTML5 and there's no media type mismatch\n\n    if (!this.isHTML5 || mediaType !== this.type) {\n      return false;\n    } // Add codec if required\n\n\n    if (Object.keys(defaultCodecs).includes(type)) {\n      type += \"; codecs=\\\"\".concat(defaultCodecs[input], \"\\\"\");\n    }\n\n    try {\n      return Boolean(type && this.media.canPlayType(type).replace(/no/, ''));\n    } catch (e) {\n      return false;\n    }\n  },\n  // Check for textTracks support\n  textTracks: 'textTracks' in document.createElement('video'),\n  // <input type=\"range\"> Sliders\n  rangeInput: function () {\n    var range = document.createElement('input');\n    range.type = 'range';\n    return range.type === 'range';\n  }(),\n  // Touch\n  // NOTE: Remember a device can be mouse + touch enabled so we check on first touch event\n  touch: 'ontouchstart' in document.documentElement,\n  // Detect transitions support\n  transitions: transitionEndEvent !== false,\n  // Reduced motion iOS & MacOS setting\n  // https://webkit.org/blog/7551/responsive-design-for-motion/\n  reducedMotion: 'matchMedia' in window && window.matchMedia('(prefers-reduced-motion)').matches\n};\n\n// https://github.com/WICG/EventListenerOptions/blob/gh-pages/explainer.md\n// https://www.youtube.com/watch?v=NPM6172J22g\n\nvar supportsPassiveListeners = function () {\n  // Test via a getter in the options object to see if the passive property is accessed\n  var supported = false;\n\n  try {\n    var options = Object.defineProperty({}, 'passive', {\n      get: function get() {\n        supported = true;\n        return null;\n      }\n    });\n    window.addEventListener('test', null, options);\n    window.removeEventListener('test', null, options);\n  } catch (e) {// Do nothing\n  }\n\n  return supported;\n}(); // Toggle event listener\n\n\nfunction toggleListener(element, event, callback) {\n  var _this = this;\n\n  var toggle = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n  var passive = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : true;\n  var capture = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : false;\n\n  // Bail if no element, event, or callback\n  if (!element || !('addEventListener' in element) || is$1.empty(event) || !is$1.function(callback)) {\n    return;\n  } // Allow multiple events\n\n\n  var events = event.split(' '); // Build options\n  // Default to just the capture boolean for browsers with no passive listener support\n\n  var options = capture; // If passive events listeners are supported\n\n  if (supportsPassiveListeners) {\n    options = {\n      // Whether the listener can be passive (i.e. default never prevented)\n      passive: passive,\n      // Whether the listener is a capturing listener or not\n      capture: capture\n    };\n  } // If a single node is passed, bind the event listener\n\n\n  events.forEach(function (type) {\n    if (_this && _this.eventListeners && toggle) {\n      // Cache event listener\n      _this.eventListeners.push({\n        element: element,\n        type: type,\n        callback: callback,\n        options: options\n      });\n    }\n\n    element[toggle ? 'addEventListener' : 'removeEventListener'](type, callback, options);\n  });\n} // Bind event handler\n\nfunction on(element) {\n  var events = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n  var callback = arguments.length > 2 ? arguments[2] : undefined;\n  var passive = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : true;\n  var capture = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : false;\n  toggleListener.call(this, element, events, callback, true, passive, capture);\n} // Unbind event handler\n\nfunction off(element) {\n  var events = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n  var callback = arguments.length > 2 ? arguments[2] : undefined;\n  var passive = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : true;\n  var capture = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : false;\n  toggleListener.call(this, element, events, callback, false, passive, capture);\n} // Bind once-only event handler\n\nfunction once(element) {\n  var _this2 = this;\n\n  var events = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n  var callback = arguments.length > 2 ? arguments[2] : undefined;\n  var passive = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : true;\n  var capture = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : false;\n\n  var onceCallback = function onceCallback() {\n    off(element, events, onceCallback, passive, capture);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    callback.apply(_this2, args);\n  };\n\n  toggleListener.call(this, element, events, onceCallback, true, passive, capture);\n} // Trigger event\n\nfunction triggerEvent(element) {\n  var type = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n  var bubbles = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n  var detail = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n\n  // Bail if no element\n  if (!is$1.element(element) || is$1.empty(type)) {\n    return;\n  } // Create and dispatch the event\n\n\n  var event = new CustomEvent(type, {\n    bubbles: bubbles,\n    detail: _objectSpread2(_objectSpread2({}, detail), {}, {\n      plyr: this\n    })\n  }); // Dispatch the event\n\n  element.dispatchEvent(event);\n} // Unbind all cached event listeners\n\nfunction unbindListeners() {\n  if (this && this.eventListeners) {\n    this.eventListeners.forEach(function (item) {\n      var element = item.element,\n          type = item.type,\n          callback = item.callback,\n          options = item.options;\n      element.removeEventListener(type, callback, options);\n    });\n    this.eventListeners = [];\n  }\n} // Run method when / if player is ready\n\nfunction ready() {\n  var _this3 = this;\n\n  return new Promise(function (resolve) {\n    return _this3.ready ? setTimeout(resolve, 0) : on.call(_this3, _this3.elements.container, 'ready', resolve);\n  }).then(function () {});\n}\n\n/**\n * Silence a Promise-like object.\n * This is useful for avoiding non-harmful, but potentially confusing \"uncaught\n * play promise\" rejection error messages.\n * @param  {Object} value An object that may or may not be `Promise`-like.\n */\n\nfunction silencePromise(value) {\n  if (is$1.promise(value)) {\n    value.then(null, function () {});\n  }\n}\n\nfunction validateRatio(input) {\n  if (!is$1.array(input) && (!is$1.string(input) || !input.includes(':'))) {\n    return false;\n  }\n\n  var ratio = is$1.array(input) ? input : input.split(':');\n  return ratio.map(Number).every(is$1.number);\n}\nfunction reduceAspectRatio(ratio) {\n  if (!is$1.array(ratio) || !ratio.every(is$1.number)) {\n    return null;\n  }\n\n  var _ratio = _slicedToArray(ratio, 2),\n      width = _ratio[0],\n      height = _ratio[1];\n\n  var getDivider = function getDivider(w, h) {\n    return h === 0 ? w : getDivider(h, w % h);\n  };\n\n  var divider = getDivider(width, height);\n  return [width / divider, height / divider];\n}\nfunction getAspectRatio(input) {\n  var parse = function parse(ratio) {\n    return validateRatio(ratio) ? ratio.split(':').map(Number) : null;\n  }; // Try provided ratio\n\n\n  var ratio = parse(input); // Get from config\n\n  if (ratio === null) {\n    ratio = parse(this.config.ratio);\n  } // Get from embed\n\n\n  if (ratio === null && !is$1.empty(this.embed) && is$1.array(this.embed.ratio)) {\n    ratio = this.embed.ratio;\n  } // Get from HTML5 video\n\n\n  if (ratio === null && this.isHTML5) {\n    var _this$media = this.media,\n        videoWidth = _this$media.videoWidth,\n        videoHeight = _this$media.videoHeight;\n    ratio = reduceAspectRatio([videoWidth, videoHeight]);\n  }\n\n  return ratio;\n} // Set aspect ratio for responsive container\n\nfunction setAspectRatio(input) {\n  if (!this.isVideo) {\n    return {};\n  }\n\n  var wrapper = this.elements.wrapper;\n  var ratio = getAspectRatio.call(this, input);\n\n  var _ref = is$1.array(ratio) ? ratio : [0, 0],\n      _ref2 = _slicedToArray(_ref, 2),\n      w = _ref2[0],\n      h = _ref2[1];\n\n  var padding = 100 / w * h;\n  wrapper.style.paddingBottom = \"\".concat(padding, \"%\"); // For Vimeo we have an extra <div> to hide the standard controls and UI\n\n  if (this.isVimeo && !this.config.vimeo.premium && this.supported.ui) {\n    var height = 100 / this.media.offsetWidth * parseInt(window.getComputedStyle(this.media).paddingBottom, 10);\n    var offset = (height - padding) / (height / 50);\n    this.media.style.transform = \"translateY(-\".concat(offset, \"%)\");\n  } else if (this.isHTML5) {\n    wrapper.classList.toggle(this.config.classNames.videoFixedRatio, ratio !== null);\n  }\n\n  return {\n    padding: padding,\n    ratio: ratio\n  };\n}\n\nvar html5 = {\n  getSources: function getSources() {\n    var _this = this;\n\n    if (!this.isHTML5) {\n      return [];\n    }\n\n    var sources = Array.from(this.media.querySelectorAll('source')); // Filter out unsupported sources (if type is specified)\n\n    return sources.filter(function (source) {\n      var type = source.getAttribute('type');\n\n      if (is$1.empty(type)) {\n        return true;\n      }\n\n      return support.mime.call(_this, type);\n    });\n  },\n  // Get quality levels\n  getQualityOptions: function getQualityOptions() {\n    // Whether we're forcing all options (e.g. for streaming)\n    if (this.config.quality.forced) {\n      return this.config.quality.options;\n    } // Get sizes from <source> elements\n\n\n    return html5.getSources.call(this).map(function (source) {\n      return Number(source.getAttribute('size'));\n    }).filter(Boolean);\n  },\n  setup: function setup() {\n    if (!this.isHTML5) {\n      return;\n    }\n\n    var player = this; // Set speed options from config\n\n    player.options.speed = player.config.speed.options; // Set aspect ratio if fixed\n\n    if (!is$1.empty(this.config.ratio)) {\n      setAspectRatio.call(player);\n    } // Quality\n\n\n    Object.defineProperty(player.media, 'quality', {\n      get: function get() {\n        // Get sources\n        var sources = html5.getSources.call(player);\n        var source = sources.find(function (s) {\n          return s.getAttribute('src') === player.source;\n        }); // Return size, if match is found\n\n        return source && Number(source.getAttribute('size'));\n      },\n      set: function set(input) {\n        if (player.quality === input) {\n          return;\n        } // If we're using an an external handler...\n\n\n        if (player.config.quality.forced && is$1.function(player.config.quality.onChange)) {\n          player.config.quality.onChange(input);\n        } else {\n          // Get sources\n          var sources = html5.getSources.call(player); // Get first match for requested size\n\n          var source = sources.find(function (s) {\n            return Number(s.getAttribute('size')) === input;\n          }); // No matching source found\n\n          if (!source) {\n            return;\n          } // Get current state\n\n\n          var _player$media = player.media,\n              currentTime = _player$media.currentTime,\n              paused = _player$media.paused,\n              preload = _player$media.preload,\n              readyState = _player$media.readyState,\n              playbackRate = _player$media.playbackRate; // Set new source\n\n          player.media.src = source.getAttribute('src'); // Prevent loading if preload=\"none\" and the current source isn't loaded (#1044)\n\n          if (preload !== 'none' || readyState) {\n            // Restore time\n            player.once('loadedmetadata', function () {\n              player.speed = playbackRate;\n              player.currentTime = currentTime; // Resume playing\n\n              if (!paused) {\n                silencePromise(player.play());\n              }\n            }); // Load new source\n\n            player.media.load();\n          }\n        } // Trigger change event\n\n\n        triggerEvent.call(player, player.media, 'qualitychange', false, {\n          quality: input\n        });\n      }\n    });\n  },\n  // Cancel current network requests\n  // See https://github.com/sampotts/plyr/issues/174\n  cancelRequests: function cancelRequests() {\n    if (!this.isHTML5) {\n      return;\n    } // Remove child sources\n\n\n    removeElement(html5.getSources.call(this)); // Set blank video src attribute\n    // This is to prevent a MEDIA_ERR_SRC_NOT_SUPPORTED error\n    // Info: http://stackoverflow.com/questions/32231579/how-to-properly-dispose-of-an-html5-video-and-close-socket-or-connection\n\n    this.media.setAttribute('src', this.config.blankVideo); // Load the new empty source\n    // This will cancel existing requests\n    // See https://github.com/sampotts/plyr/issues/174\n\n    this.media.load(); // Debugging\n\n    this.debug.log('Cancelled network requests');\n  }\n};\n\nfunction dedupe(array) {\n  if (!is$1.array(array)) {\n    return array;\n  }\n\n  return array.filter(function (item, index) {\n    return array.indexOf(item) === index;\n  });\n} // Get the closest value in an array\n\nfunction closest$1(array, value) {\n  if (!is$1.array(array) || !array.length) {\n    return null;\n  }\n\n  return array.reduce(function (prev, curr) {\n    return Math.abs(curr - value) < Math.abs(prev - value) ? curr : prev;\n  });\n}\n\nvar defineProperty$6 = objectDefineProperty.f;\nvar getOwnPropertyNames$1 = objectGetOwnPropertyNames.f;\n\n\n\n\n\nvar setInternalState$7 = internalState.set;\n\n\n\nvar MATCH$2 = wellKnownSymbol('match');\nvar NativeRegExp = global_1.RegExp;\nvar RegExpPrototype$1 = NativeRegExp.prototype;\nvar re1 = /a/g;\nvar re2 = /a/g;\n\n// \"new\" should create a new object, old webkit bug\nvar CORRECT_NEW = new NativeRegExp(re1) !== re1;\n\nvar UNSUPPORTED_Y$2 = regexpStickyHelpers.UNSUPPORTED_Y;\n\nvar FORCED$4 = descriptors && isForced_1('RegExp', (!CORRECT_NEW || UNSUPPORTED_Y$2 || fails(function () {\n  re2[MATCH$2] = false;\n  // RegExp constructor can alter flags and IsRegExp works correct with @@match\n  return NativeRegExp(re1) != re1 || NativeRegExp(re2) == re2 || NativeRegExp(re1, 'i') != '/a/i';\n})));\n\n// `RegExp` constructor\n// https://tc39.github.io/ecma262/#sec-regexp-constructor\nif (FORCED$4) {\n  var RegExpWrapper = function RegExp(pattern, flags) {\n    var thisIsRegExp = this instanceof RegExpWrapper;\n    var patternIsRegExp = isRegexp(pattern);\n    var flagsAreUndefined = flags === undefined;\n    var sticky;\n\n    if (!thisIsRegExp && patternIsRegExp && pattern.constructor === RegExpWrapper && flagsAreUndefined) {\n      return pattern;\n    }\n\n    if (CORRECT_NEW) {\n      if (patternIsRegExp && !flagsAreUndefined) pattern = pattern.source;\n    } else if (pattern instanceof RegExpWrapper) {\n      if (flagsAreUndefined) flags = regexpFlags.call(pattern);\n      pattern = pattern.source;\n    }\n\n    if (UNSUPPORTED_Y$2) {\n      sticky = !!flags && flags.indexOf('y') > -1;\n      if (sticky) flags = flags.replace(/y/g, '');\n    }\n\n    var result = inheritIfRequired(\n      CORRECT_NEW ? new NativeRegExp(pattern, flags) : NativeRegExp(pattern, flags),\n      thisIsRegExp ? this : RegExpPrototype$1,\n      RegExpWrapper\n    );\n\n    if (UNSUPPORTED_Y$2 && sticky) setInternalState$7(result, { sticky: sticky });\n\n    return result;\n  };\n  var proxy = function (key) {\n    key in RegExpWrapper || defineProperty$6(RegExpWrapper, key, {\n      configurable: true,\n      get: function () { return NativeRegExp[key]; },\n      set: function (it) { NativeRegExp[key] = it; }\n    });\n  };\n  var keys$2 = getOwnPropertyNames$1(NativeRegExp);\n  var index = 0;\n  while (keys$2.length > index) proxy(keys$2[index++]);\n  RegExpPrototype$1.constructor = RegExpWrapper;\n  RegExpWrapper.prototype = RegExpPrototype$1;\n  redefine(global_1, 'RegExp', RegExpWrapper);\n}\n\n// https://tc39.github.io/ecma262/#sec-get-regexp-@@species\nsetSpecies('RegExp');\n\nfunction generateId(prefix) {\n  return \"\".concat(prefix, \"-\").concat(Math.floor(Math.random() * 10000));\n} // Format string\n\nfunction format(input) {\n  for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    args[_key - 1] = arguments[_key];\n  }\n\n  if (is$1.empty(input)) {\n    return input;\n  }\n\n  return input.toString().replace(/{(\\d+)}/g, function (match, i) {\n    return args[i].toString();\n  });\n} // Get percentage\n\nfunction getPercentage(current, max) {\n  if (current === 0 || max === 0 || Number.isNaN(current) || Number.isNaN(max)) {\n    return 0;\n  }\n\n  return (current / max * 100).toFixed(2);\n} // Replace all occurances of a string in a string\n\nvar replaceAll = function replaceAll() {\n  var input = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n  var find = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n  var replace = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : '';\n  return input.replace(new RegExp(find.toString().replace(/([.*+?^=!:${}()|[\\]/\\\\])/g, '\\\\$1'), 'g'), replace.toString());\n}; // Convert to title case\n\nvar toTitleCase = function toTitleCase() {\n  var input = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n  return input.toString().replace(/\\w\\S*/g, function (text) {\n    return text.charAt(0).toUpperCase() + text.substr(1).toLowerCase();\n  });\n}; // Convert string to pascalCase\n\nfunction toPascalCase() {\n  var input = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n  var string = input.toString(); // Convert kebab case\n\n  string = replaceAll(string, '-', ' '); // Convert snake case\n\n  string = replaceAll(string, '_', ' '); // Convert to title case\n\n  string = toTitleCase(string); // Convert to pascal case\n\n  return replaceAll(string, ' ', '');\n} // Convert string to pascalCase\n\nfunction toCamelCase() {\n  var input = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n  var string = input.toString(); // Convert to pascal case\n\n  string = toPascalCase(string); // Convert first character to lowercase\n\n  return string.charAt(0).toLowerCase() + string.slice(1);\n} // Remove HTML from a string\n\nfunction stripHTML(source) {\n  var fragment = document.createDocumentFragment();\n  var element = document.createElement('div');\n  fragment.appendChild(element);\n  element.innerHTML = source;\n  return fragment.firstChild.innerText;\n} // Like outerHTML, but also works for DocumentFragment\n\nfunction getHTML(element) {\n  var wrapper = document.createElement('div');\n  wrapper.appendChild(element);\n  return wrapper.innerHTML;\n}\n\nvar resources = {\n  pip: 'PIP',\n  airplay: 'AirPlay',\n  html5: 'HTML5',\n  vimeo: 'Vimeo',\n  youtube: 'YouTube'\n};\nvar i18n = {\n  get: function get() {\n    var key = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n    var config = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    if (is$1.empty(key) || is$1.empty(config)) {\n      return '';\n    }\n\n    var string = getDeep(config.i18n, key);\n\n    if (is$1.empty(string)) {\n      if (Object.keys(resources).includes(key)) {\n        return resources[key];\n      }\n\n      return '';\n    }\n\n    var replace = {\n      '{seektime}': config.seekTime,\n      '{title}': config.title\n    };\n    Object.entries(replace).forEach(function (_ref) {\n      var _ref2 = _slicedToArray(_ref, 2),\n          k = _ref2[0],\n          v = _ref2[1];\n\n      string = replaceAll(string, k, v);\n    });\n    return string;\n  }\n};\n\nvar Storage = /*#__PURE__*/function () {\n  function Storage(player) {\n    _classCallCheck(this, Storage);\n\n    this.enabled = player.config.storage.enabled;\n    this.key = player.config.storage.key;\n  } // Check for actual support (see if we can use it)\n\n\n  _createClass(Storage, [{\n    key: \"get\",\n    value: function get(key) {\n      if (!Storage.supported || !this.enabled) {\n        return null;\n      }\n\n      var store = window.localStorage.getItem(this.key);\n\n      if (is$1.empty(store)) {\n        return null;\n      }\n\n      var json = JSON.parse(store);\n      return is$1.string(key) && key.length ? json[key] : json;\n    }\n  }, {\n    key: \"set\",\n    value: function set(object) {\n      // Bail if we don't have localStorage support or it's disabled\n      if (!Storage.supported || !this.enabled) {\n        return;\n      } // Can only store objectst\n\n\n      if (!is$1.object(object)) {\n        return;\n      } // Get current storage\n\n\n      var storage = this.get(); // Default to empty object\n\n      if (is$1.empty(storage)) {\n        storage = {};\n      } // Update the working copy of the values\n\n\n      extend(storage, object); // Update storage\n\n      window.localStorage.setItem(this.key, JSON.stringify(storage));\n    }\n  }], [{\n    key: \"supported\",\n    get: function get() {\n      try {\n        if (!('localStorage' in window)) {\n          return false;\n        }\n\n        var test = '___test'; // Try to use it (it might be disabled, e.g. user is in private mode)\n        // see: https://github.com/sampotts/plyr/issues/131\n\n        window.localStorage.setItem(test, test);\n        window.localStorage.removeItem(test);\n        return true;\n      } catch (e) {\n        return false;\n      }\n    }\n  }]);\n\n  return Storage;\n}();\n\n// ==========================================================================\n// Fetch wrapper\n// Using XHR to avoid issues with older browsers\n// ==========================================================================\nfunction fetch(url) {\n  var responseType = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'text';\n  return new Promise(function (resolve, reject) {\n    try {\n      var request = new XMLHttpRequest(); // Check for CORS support\n\n      if (!('withCredentials' in request)) {\n        return;\n      }\n\n      request.addEventListener('load', function () {\n        if (responseType === 'text') {\n          try {\n            resolve(JSON.parse(request.responseText));\n          } catch (e) {\n            resolve(request.responseText);\n          }\n        } else {\n          resolve(request.response);\n        }\n      });\n      request.addEventListener('error', function () {\n        throw new Error(request.status);\n      });\n      request.open('GET', url, true); // Set the required response type\n\n      request.responseType = responseType;\n      request.send();\n    } catch (e) {\n      reject(e);\n    }\n  });\n}\n\n// ==========================================================================\n\nfunction loadSprite(url, id) {\n  if (!is$1.string(url)) {\n    return;\n  }\n\n  var prefix = 'cache';\n  var hasId = is$1.string(id);\n  var isCached = false;\n\n  var exists = function exists() {\n    return document.getElementById(id) !== null;\n  };\n\n  var update = function update(container, data) {\n    // eslint-disable-next-line no-param-reassign\n    container.innerHTML = data; // Check again incase of race condition\n\n    if (hasId && exists()) {\n      return;\n    } // Inject the SVG to the body\n\n\n    document.body.insertAdjacentElement('afterbegin', container);\n  }; // Only load once if ID set\n\n\n  if (!hasId || !exists()) {\n    var useStorage = Storage.supported; // Create container\n\n    var container = document.createElement('div');\n    container.setAttribute('hidden', '');\n\n    if (hasId) {\n      container.setAttribute('id', id);\n    } // Check in cache\n\n\n    if (useStorage) {\n      var cached = window.localStorage.getItem(\"\".concat(prefix, \"-\").concat(id));\n      isCached = cached !== null;\n\n      if (isCached) {\n        var data = JSON.parse(cached);\n        update(container, data.content);\n      }\n    } // Get the sprite\n\n\n    fetch(url).then(function (result) {\n      if (is$1.empty(result)) {\n        return;\n      }\n\n      if (useStorage) {\n        window.localStorage.setItem(\"\".concat(prefix, \"-\").concat(id), JSON.stringify({\n          content: result\n        }));\n      }\n\n      update(container, result);\n    }).catch(function () {});\n  }\n}\n\nvar ceil$1 = Math.ceil;\nvar floor$5 = Math.floor;\n\n// `Math.trunc` method\n// https://tc39.github.io/ecma262/#sec-math.trunc\n_export({ target: 'Math', stat: true }, {\n  trunc: function trunc(it) {\n    return (it > 0 ? floor$5 : ceil$1)(it);\n  }\n});\n\nvar getHours = function getHours(value) {\n  return Math.trunc(value / 60 / 60 % 60, 10);\n};\nvar getMinutes = function getMinutes(value) {\n  return Math.trunc(value / 60 % 60, 10);\n};\nvar getSeconds = function getSeconds(value) {\n  return Math.trunc(value % 60, 10);\n}; // Format time to UI friendly string\n\nfunction formatTime() {\n  var time = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n  var displayHours = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n  var inverted = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n  // Bail if the value isn't a number\n  if (!is$1.number(time)) {\n    return formatTime(undefined, displayHours, inverted);\n  } // Format time component to add leading zero\n\n\n  var format = function format(value) {\n    return \"0\".concat(value).slice(-2);\n  }; // Breakdown to hours, mins, secs\n\n\n  var hours = getHours(time);\n  var mins = getMinutes(time);\n  var secs = getSeconds(time); // Do we need to display hours?\n\n  if (displayHours || hours > 0) {\n    hours = \"\".concat(hours, \":\");\n  } else {\n    hours = '';\n  } // Render\n\n\n  return \"\".concat(inverted && time > 0 ? '-' : '').concat(hours).concat(format(mins), \":\").concat(format(secs));\n}\n\nvar controls = {\n  // Get icon URL\n  getIconUrl: function getIconUrl() {\n    var url = new URL(this.config.iconUrl, window.location);\n    var cors = url.host !== window.location.host || browser.isIE && !window.svg4everybody;\n    return {\n      url: this.config.iconUrl,\n      cors: cors\n    };\n  },\n  // Find the UI controls\n  findElements: function findElements() {\n    try {\n      this.elements.controls = getElement.call(this, this.config.selectors.controls.wrapper); // Buttons\n\n      this.elements.buttons = {\n        play: getElements.call(this, this.config.selectors.buttons.play),\n        pause: getElement.call(this, this.config.selectors.buttons.pause),\n        restart: getElement.call(this, this.config.selectors.buttons.restart),\n        rewind: getElement.call(this, this.config.selectors.buttons.rewind),\n        fastForward: getElement.call(this, this.config.selectors.buttons.fastForward),\n        mute: getElement.call(this, this.config.selectors.buttons.mute),\n        pip: getElement.call(this, this.config.selectors.buttons.pip),\n        airplay: getElement.call(this, this.config.selectors.buttons.airplay),\n        settings: getElement.call(this, this.config.selectors.buttons.settings),\n        captions: getElement.call(this, this.config.selectors.buttons.captions),\n        fullscreen: getElement.call(this, this.config.selectors.buttons.fullscreen)\n      }; // Progress\n\n      this.elements.progress = getElement.call(this, this.config.selectors.progress); // Inputs\n\n      this.elements.inputs = {\n        seek: getElement.call(this, this.config.selectors.inputs.seek),\n        volume: getElement.call(this, this.config.selectors.inputs.volume)\n      }; // Display\n\n      this.elements.display = {\n        buffer: getElement.call(this, this.config.selectors.display.buffer),\n        currentTime: getElement.call(this, this.config.selectors.display.currentTime),\n        duration: getElement.call(this, this.config.selectors.display.duration)\n      }; // Seek tooltip\n\n      if (is$1.element(this.elements.progress)) {\n        this.elements.display.seekTooltip = this.elements.progress.querySelector(\".\".concat(this.config.classNames.tooltip));\n      }\n\n      return true;\n    } catch (error) {\n      // Log it\n      this.debug.warn('It looks like there is a problem with your custom controls HTML', error); // Restore native video controls\n\n      this.toggleNativeControls(true);\n      return false;\n    }\n  },\n  // Create <svg> icon\n  createIcon: function createIcon(type, attributes) {\n    var namespace = 'http://www.w3.org/2000/svg';\n    var iconUrl = controls.getIconUrl.call(this);\n    var iconPath = \"\".concat(!iconUrl.cors ? iconUrl.url : '', \"#\").concat(this.config.iconPrefix); // Create <svg>\n\n    var icon = document.createElementNS(namespace, 'svg');\n    setAttributes(icon, extend(attributes, {\n      'aria-hidden': 'true',\n      focusable: 'false'\n    })); // Create the <use> to reference sprite\n\n    var use = document.createElementNS(namespace, 'use');\n    var path = \"\".concat(iconPath, \"-\").concat(type); // Set `href` attributes\n    // https://github.com/sampotts/plyr/issues/460\n    // https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/xlink:href\n\n    if ('href' in use) {\n      use.setAttributeNS('http://www.w3.org/1999/xlink', 'href', path);\n    } // Always set the older attribute even though it's \"deprecated\" (it'll be around for ages)\n\n\n    use.setAttributeNS('http://www.w3.org/1999/xlink', 'xlink:href', path); // Add <use> to <svg>\n\n    icon.appendChild(use);\n    return icon;\n  },\n  // Create hidden text label\n  createLabel: function createLabel(key) {\n    var attr = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var text = i18n.get(key, this.config);\n\n    var attributes = _objectSpread2(_objectSpread2({}, attr), {}, {\n      class: [attr.class, this.config.classNames.hidden].filter(Boolean).join(' ')\n    });\n\n    return createElement('span', attributes, text);\n  },\n  // Create a badge\n  createBadge: function createBadge(text) {\n    if (is$1.empty(text)) {\n      return null;\n    }\n\n    var badge = createElement('span', {\n      class: this.config.classNames.menu.value\n    });\n    badge.appendChild(createElement('span', {\n      class: this.config.classNames.menu.badge\n    }, text));\n    return badge;\n  },\n  // Create a <button>\n  createButton: function createButton(buttonType, attr) {\n    var _this = this;\n\n    var attributes = extend({}, attr);\n    var type = toCamelCase(buttonType);\n    var props = {\n      element: 'button',\n      toggle: false,\n      label: null,\n      icon: null,\n      labelPressed: null,\n      iconPressed: null\n    };\n    ['element', 'icon', 'label'].forEach(function (key) {\n      if (Object.keys(attributes).includes(key)) {\n        props[key] = attributes[key];\n        delete attributes[key];\n      }\n    }); // Default to 'button' type to prevent form submission\n\n    if (props.element === 'button' && !Object.keys(attributes).includes('type')) {\n      attributes.type = 'button';\n    } // Set class name\n\n\n    if (Object.keys(attributes).includes('class')) {\n      if (!attributes.class.split(' ').some(function (c) {\n        return c === _this.config.classNames.control;\n      })) {\n        extend(attributes, {\n          class: \"\".concat(attributes.class, \" \").concat(this.config.classNames.control)\n        });\n      }\n    } else {\n      attributes.class = this.config.classNames.control;\n    } // Large play button\n\n\n    switch (buttonType) {\n      case 'play':\n        props.toggle = true;\n        props.label = 'play';\n        props.labelPressed = 'pause';\n        props.icon = 'play';\n        props.iconPressed = 'pause';\n        break;\n\n      case 'mute':\n        props.toggle = true;\n        props.label = 'mute';\n        props.labelPressed = 'unmute';\n        props.icon = 'volume';\n        props.iconPressed = 'muted';\n        break;\n\n      case 'captions':\n        props.toggle = true;\n        props.label = 'enableCaptions';\n        props.labelPressed = 'disableCaptions';\n        props.icon = 'captions-off';\n        props.iconPressed = 'captions-on';\n        break;\n\n      case 'fullscreen':\n        props.toggle = true;\n        props.label = 'enterFullscreen';\n        props.labelPressed = 'exitFullscreen';\n        props.icon = 'enter-fullscreen';\n        props.iconPressed = 'exit-fullscreen';\n        break;\n\n      case 'play-large':\n        attributes.class += \" \".concat(this.config.classNames.control, \"--overlaid\");\n        type = 'play';\n        props.label = 'play';\n        props.icon = 'play';\n        break;\n\n      default:\n        if (is$1.empty(props.label)) {\n          props.label = type;\n        }\n\n        if (is$1.empty(props.icon)) {\n          props.icon = buttonType;\n        }\n\n    }\n\n    var button = createElement(props.element); // Setup toggle icon and labels\n\n    if (props.toggle) {\n      // Icon\n      button.appendChild(controls.createIcon.call(this, props.iconPressed, {\n        class: 'icon--pressed'\n      }));\n      button.appendChild(controls.createIcon.call(this, props.icon, {\n        class: 'icon--not-pressed'\n      })); // Label/Tooltip\n\n      button.appendChild(controls.createLabel.call(this, props.labelPressed, {\n        class: 'label--pressed'\n      }));\n      button.appendChild(controls.createLabel.call(this, props.label, {\n        class: 'label--not-pressed'\n      }));\n    } else {\n      button.appendChild(controls.createIcon.call(this, props.icon));\n      button.appendChild(controls.createLabel.call(this, props.label));\n    } // Merge and set attributes\n\n\n    extend(attributes, getAttributesFromSelector(this.config.selectors.buttons[type], attributes));\n    setAttributes(button, attributes); // We have multiple play buttons\n\n    if (type === 'play') {\n      if (!is$1.array(this.elements.buttons[type])) {\n        this.elements.buttons[type] = [];\n      }\n\n      this.elements.buttons[type].push(button);\n    } else {\n      this.elements.buttons[type] = button;\n    }\n\n    return button;\n  },\n  // Create an <input type='range'>\n  createRange: function createRange(type, attributes) {\n    // Seek input\n    var input = createElement('input', extend(getAttributesFromSelector(this.config.selectors.inputs[type]), {\n      type: 'range',\n      min: 0,\n      max: 100,\n      step: 0.01,\n      value: 0,\n      autocomplete: 'off',\n      // A11y fixes for https://github.com/sampotts/plyr/issues/905\n      role: 'slider',\n      'aria-label': i18n.get(type, this.config),\n      'aria-valuemin': 0,\n      'aria-valuemax': 100,\n      'aria-valuenow': 0\n    }, attributes));\n    this.elements.inputs[type] = input; // Set the fill for webkit now\n\n    controls.updateRangeFill.call(this, input); // Improve support on touch devices\n\n    RangeTouch.setup(input);\n    return input;\n  },\n  // Create a <progress>\n  createProgress: function createProgress(type, attributes) {\n    var progress = createElement('progress', extend(getAttributesFromSelector(this.config.selectors.display[type]), {\n      min: 0,\n      max: 100,\n      value: 0,\n      role: 'progressbar',\n      'aria-hidden': true\n    }, attributes)); // Create the label inside\n\n    if (type !== 'volume') {\n      progress.appendChild(createElement('span', null, '0'));\n      var suffixKey = {\n        played: 'played',\n        buffer: 'buffered'\n      }[type];\n      var suffix = suffixKey ? i18n.get(suffixKey, this.config) : '';\n      progress.innerText = \"% \".concat(suffix.toLowerCase());\n    }\n\n    this.elements.display[type] = progress;\n    return progress;\n  },\n  // Create time display\n  createTime: function createTime(type, attrs) {\n    var attributes = getAttributesFromSelector(this.config.selectors.display[type], attrs);\n    var container = createElement('div', extend(attributes, {\n      class: \"\".concat(attributes.class ? attributes.class : '', \" \").concat(this.config.classNames.display.time, \" \").trim(),\n      'aria-label': i18n.get(type, this.config)\n    }), '00:00'); // Reference for updates\n\n    this.elements.display[type] = container;\n    return container;\n  },\n  // Bind keyboard shortcuts for a menu item\n  // We have to bind to keyup otherwise Firefox triggers a click when a keydown event handler shifts focus\n  // https://bugzilla.mozilla.org/show_bug.cgi?id=1220143\n  bindMenuItemShortcuts: function bindMenuItemShortcuts(menuItem, type) {\n    var _this2 = this;\n\n    // Navigate through menus via arrow keys and space\n    on.call(this, menuItem, 'keydown keyup', function (event) {\n      // We only care about space and ⬆️ ⬇️️ ➡️\n      if (![32, 38, 39, 40].includes(event.which)) {\n        return;\n      } // Prevent play / seek\n\n\n      event.preventDefault();\n      event.stopPropagation(); // We're just here to prevent the keydown bubbling\n\n      if (event.type === 'keydown') {\n        return;\n      }\n\n      var isRadioButton = matches$1(menuItem, '[role=\"menuitemradio\"]'); // Show the respective menu\n\n      if (!isRadioButton && [32, 39].includes(event.which)) {\n        controls.showMenuPanel.call(_this2, type, true);\n      } else {\n        var target;\n\n        if (event.which !== 32) {\n          if (event.which === 40 || isRadioButton && event.which === 39) {\n            target = menuItem.nextElementSibling;\n\n            if (!is$1.element(target)) {\n              target = menuItem.parentNode.firstElementChild;\n            }\n          } else {\n            target = menuItem.previousElementSibling;\n\n            if (!is$1.element(target)) {\n              target = menuItem.parentNode.lastElementChild;\n            }\n          }\n\n          setFocus.call(_this2, target, true);\n        }\n      }\n    }, false); // Enter will fire a `click` event but we still need to manage focus\n    // So we bind to keyup which fires after and set focus here\n\n    on.call(this, menuItem, 'keyup', function (event) {\n      if (event.which !== 13) {\n        return;\n      }\n\n      controls.focusFirstMenuItem.call(_this2, null, true);\n    });\n  },\n  // Create a settings menu item\n  createMenuItem: function createMenuItem(_ref) {\n    var _this3 = this;\n\n    var value = _ref.value,\n        list = _ref.list,\n        type = _ref.type,\n        title = _ref.title,\n        _ref$badge = _ref.badge,\n        badge = _ref$badge === void 0 ? null : _ref$badge,\n        _ref$checked = _ref.checked,\n        checked = _ref$checked === void 0 ? false : _ref$checked;\n    var attributes = getAttributesFromSelector(this.config.selectors.inputs[type]);\n    var menuItem = createElement('button', extend(attributes, {\n      type: 'button',\n      role: 'menuitemradio',\n      class: \"\".concat(this.config.classNames.control, \" \").concat(attributes.class ? attributes.class : '').trim(),\n      'aria-checked': checked,\n      value: value\n    }));\n    var flex = createElement('span'); // We have to set as HTML incase of special characters\n\n    flex.innerHTML = title;\n\n    if (is$1.element(badge)) {\n      flex.appendChild(badge);\n    }\n\n    menuItem.appendChild(flex); // Replicate radio button behaviour\n\n    Object.defineProperty(menuItem, 'checked', {\n      enumerable: true,\n      get: function get() {\n        return menuItem.getAttribute('aria-checked') === 'true';\n      },\n      set: function set(check) {\n        // Ensure exclusivity\n        if (check) {\n          Array.from(menuItem.parentNode.children).filter(function (node) {\n            return matches$1(node, '[role=\"menuitemradio\"]');\n          }).forEach(function (node) {\n            return node.setAttribute('aria-checked', 'false');\n          });\n        }\n\n        menuItem.setAttribute('aria-checked', check ? 'true' : 'false');\n      }\n    });\n    this.listeners.bind(menuItem, 'click keyup', function (event) {\n      if (is$1.keyboardEvent(event) && event.which !== 32) {\n        return;\n      }\n\n      event.preventDefault();\n      event.stopPropagation();\n      menuItem.checked = true;\n\n      switch (type) {\n        case 'language':\n          _this3.currentTrack = Number(value);\n          break;\n\n        case 'quality':\n          _this3.quality = value;\n          break;\n\n        case 'speed':\n          _this3.speed = parseFloat(value);\n          break;\n      }\n\n      controls.showMenuPanel.call(_this3, 'home', is$1.keyboardEvent(event));\n    }, type, false);\n    controls.bindMenuItemShortcuts.call(this, menuItem, type);\n    list.appendChild(menuItem);\n  },\n  // Format a time for display\n  formatTime: function formatTime$1() {\n    var time = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n    var inverted = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n    // Bail if the value isn't a number\n    if (!is$1.number(time)) {\n      return time;\n    } // Always display hours if duration is over an hour\n\n\n    var forceHours = getHours(this.duration) > 0;\n    return formatTime(time, forceHours, inverted);\n  },\n  // Update the displayed time\n  updateTimeDisplay: function updateTimeDisplay() {\n    var target = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n    var time = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n    var inverted = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n    // Bail if there's no element to display or the value isn't a number\n    if (!is$1.element(target) || !is$1.number(time)) {\n      return;\n    } // eslint-disable-next-line no-param-reassign\n\n\n    target.innerText = controls.formatTime(time, inverted);\n  },\n  // Update volume UI and storage\n  updateVolume: function updateVolume() {\n    if (!this.supported.ui) {\n      return;\n    } // Update range\n\n\n    if (is$1.element(this.elements.inputs.volume)) {\n      controls.setRange.call(this, this.elements.inputs.volume, this.muted ? 0 : this.volume);\n    } // Update mute state\n\n\n    if (is$1.element(this.elements.buttons.mute)) {\n      this.elements.buttons.mute.pressed = this.muted || this.volume === 0;\n    }\n  },\n  // Update seek value and lower fill\n  setRange: function setRange(target) {\n    var value = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n\n    if (!is$1.element(target)) {\n      return;\n    } // eslint-disable-next-line\n\n\n    target.value = value; // Webkit range fill\n\n    controls.updateRangeFill.call(this, target);\n  },\n  // Update <progress> elements\n  updateProgress: function updateProgress(event) {\n    var _this4 = this;\n\n    if (!this.supported.ui || !is$1.event(event)) {\n      return;\n    }\n\n    var value = 0;\n\n    var setProgress = function setProgress(target, input) {\n      var val = is$1.number(input) ? input : 0;\n      var progress = is$1.element(target) ? target : _this4.elements.display.buffer; // Update value and label\n\n      if (is$1.element(progress)) {\n        progress.value = val; // Update text label inside\n\n        var label = progress.getElementsByTagName('span')[0];\n\n        if (is$1.element(label)) {\n          label.childNodes[0].nodeValue = val;\n        }\n      }\n    };\n\n    if (event) {\n      switch (event.type) {\n        // Video playing\n        case 'timeupdate':\n        case 'seeking':\n        case 'seeked':\n          value = getPercentage(this.currentTime, this.duration); // Set seek range value only if it's a 'natural' time event\n\n          if (event.type === 'timeupdate') {\n            controls.setRange.call(this, this.elements.inputs.seek, value);\n          }\n\n          break;\n        // Check buffer status\n\n        case 'playing':\n        case 'progress':\n          setProgress(this.elements.display.buffer, this.buffered * 100);\n          break;\n      }\n    }\n  },\n  // Webkit polyfill for lower fill range\n  updateRangeFill: function updateRangeFill(target) {\n    // Get range from event if event passed\n    var range = is$1.event(target) ? target.target : target; // Needs to be a valid <input type='range'>\n\n    if (!is$1.element(range) || range.getAttribute('type') !== 'range') {\n      return;\n    } // Set aria values for https://github.com/sampotts/plyr/issues/905\n\n\n    if (matches$1(range, this.config.selectors.inputs.seek)) {\n      range.setAttribute('aria-valuenow', this.currentTime);\n      var currentTime = controls.formatTime(this.currentTime);\n      var duration = controls.formatTime(this.duration);\n      var format = i18n.get('seekLabel', this.config);\n      range.setAttribute('aria-valuetext', format.replace('{currentTime}', currentTime).replace('{duration}', duration));\n    } else if (matches$1(range, this.config.selectors.inputs.volume)) {\n      var percent = range.value * 100;\n      range.setAttribute('aria-valuenow', percent);\n      range.setAttribute('aria-valuetext', \"\".concat(percent.toFixed(1), \"%\"));\n    } else {\n      range.setAttribute('aria-valuenow', range.value);\n    } // WebKit only\n\n\n    if (!browser.isWebkit) {\n      return;\n    } // Set CSS custom property\n\n\n    range.style.setProperty('--value', \"\".concat(range.value / range.max * 100, \"%\"));\n  },\n  // Update hover tooltip for seeking\n  updateSeekTooltip: function updateSeekTooltip(event) {\n    var _this5 = this;\n\n    // Bail if setting not true\n    if (!this.config.tooltips.seek || !is$1.element(this.elements.inputs.seek) || !is$1.element(this.elements.display.seekTooltip) || this.duration === 0) {\n      return;\n    }\n\n    var visible = \"\".concat(this.config.classNames.tooltip, \"--visible\");\n\n    var toggle = function toggle(show) {\n      return toggleClass(_this5.elements.display.seekTooltip, visible, show);\n    }; // Hide on touch\n\n\n    if (this.touch) {\n      toggle(false);\n      return;\n    } // Determine percentage, if already visible\n\n\n    var percent = 0;\n    var clientRect = this.elements.progress.getBoundingClientRect();\n\n    if (is$1.event(event)) {\n      percent = 100 / clientRect.width * (event.pageX - clientRect.left);\n    } else if (hasClass(this.elements.display.seekTooltip, visible)) {\n      percent = parseFloat(this.elements.display.seekTooltip.style.left, 10);\n    } else {\n      return;\n    } // Set bounds\n\n\n    if (percent < 0) {\n      percent = 0;\n    } else if (percent > 100) {\n      percent = 100;\n    } // Display the time a click would seek to\n\n\n    controls.updateTimeDisplay.call(this, this.elements.display.seekTooltip, this.duration / 100 * percent); // Set position\n\n    this.elements.display.seekTooltip.style.left = \"\".concat(percent, \"%\"); // Show/hide the tooltip\n    // If the event is a moues in/out and percentage is inside bounds\n\n    if (is$1.event(event) && ['mouseenter', 'mouseleave'].includes(event.type)) {\n      toggle(event.type === 'mouseenter');\n    }\n  },\n  // Handle time change event\n  timeUpdate: function timeUpdate(event) {\n    // Only invert if only one time element is displayed and used for both duration and currentTime\n    var invert = !is$1.element(this.elements.display.duration) && this.config.invertTime; // Duration\n\n    controls.updateTimeDisplay.call(this, this.elements.display.currentTime, invert ? this.duration - this.currentTime : this.currentTime, invert); // Ignore updates while seeking\n\n    if (event && event.type === 'timeupdate' && this.media.seeking) {\n      return;\n    } // Playing progress\n\n\n    controls.updateProgress.call(this, event);\n  },\n  // Show the duration on metadataloaded or durationchange events\n  durationUpdate: function durationUpdate() {\n    // Bail if no UI or durationchange event triggered after playing/seek when invertTime is false\n    if (!this.supported.ui || !this.config.invertTime && this.currentTime) {\n      return;\n    } // If duration is the 2**32 (shaka), Infinity (HLS), DASH-IF (Number.MAX_SAFE_INTEGER || Number.MAX_VALUE) indicating live we hide the currentTime and progressbar.\n    // https://github.com/video-dev/hls.js/blob/5820d29d3c4c8a46e8b75f1e3afa3e68c1a9a2db/src/controller/buffer-controller.js#L415\n    // https://github.com/google/shaka-player/blob/4d889054631f4e1cf0fbd80ddd2b71887c02e232/lib/media/streaming_engine.js#L1062\n    // https://github.com/Dash-Industry-Forum/dash.js/blob/69859f51b969645b234666800d4cb596d89c602d/src/dash/models/DashManifestModel.js#L338\n\n\n    if (this.duration >= Math.pow(2, 32)) {\n      toggleHidden(this.elements.display.currentTime, true);\n      toggleHidden(this.elements.progress, true);\n      return;\n    } // Update ARIA values\n\n\n    if (is$1.element(this.elements.inputs.seek)) {\n      this.elements.inputs.seek.setAttribute('aria-valuemax', this.duration);\n    } // If there's a spot to display duration\n\n\n    var hasDuration = is$1.element(this.elements.display.duration); // If there's only one time display, display duration there\n\n    if (!hasDuration && this.config.displayDuration && this.paused) {\n      controls.updateTimeDisplay.call(this, this.elements.display.currentTime, this.duration);\n    } // If there's a duration element, update content\n\n\n    if (hasDuration) {\n      controls.updateTimeDisplay.call(this, this.elements.display.duration, this.duration);\n    } // Update the tooltip (if visible)\n\n\n    controls.updateSeekTooltip.call(this);\n  },\n  // Hide/show a tab\n  toggleMenuButton: function toggleMenuButton(setting, toggle) {\n    toggleHidden(this.elements.settings.buttons[setting], !toggle);\n  },\n  // Update the selected setting\n  updateSetting: function updateSetting(setting, container, input) {\n    var pane = this.elements.settings.panels[setting];\n    var value = null;\n    var list = container;\n\n    if (setting === 'captions') {\n      value = this.currentTrack;\n    } else {\n      value = !is$1.empty(input) ? input : this[setting]; // Get default\n\n      if (is$1.empty(value)) {\n        value = this.config[setting].default;\n      } // Unsupported value\n\n\n      if (!is$1.empty(this.options[setting]) && !this.options[setting].includes(value)) {\n        this.debug.warn(\"Unsupported value of '\".concat(value, \"' for \").concat(setting));\n        return;\n      } // Disabled value\n\n\n      if (!this.config[setting].options.includes(value)) {\n        this.debug.warn(\"Disabled value of '\".concat(value, \"' for \").concat(setting));\n        return;\n      }\n    } // Get the list if we need to\n\n\n    if (!is$1.element(list)) {\n      list = pane && pane.querySelector('[role=\"menu\"]');\n    } // If there's no list it means it's not been rendered...\n\n\n    if (!is$1.element(list)) {\n      return;\n    } // Update the label\n\n\n    var label = this.elements.settings.buttons[setting].querySelector(\".\".concat(this.config.classNames.menu.value));\n    label.innerHTML = controls.getLabel.call(this, setting, value); // Find the radio option and check it\n\n    var target = list && list.querySelector(\"[value=\\\"\".concat(value, \"\\\"]\"));\n\n    if (is$1.element(target)) {\n      target.checked = true;\n    }\n  },\n  // Translate a value into a nice label\n  getLabel: function getLabel(setting, value) {\n    switch (setting) {\n      case 'speed':\n        return value === 1 ? i18n.get('normal', this.config) : \"\".concat(value, \"&times;\");\n\n      case 'quality':\n        if (is$1.number(value)) {\n          var label = i18n.get(\"qualityLabel.\".concat(value), this.config);\n\n          if (!label.length) {\n            return \"\".concat(value, \"p\");\n          }\n\n          return label;\n        }\n\n        return toTitleCase(value);\n\n      case 'captions':\n        return captions.getLabel.call(this);\n\n      default:\n        return null;\n    }\n  },\n  // Set the quality menu\n  setQualityMenu: function setQualityMenu(options) {\n    var _this6 = this;\n\n    // Menu required\n    if (!is$1.element(this.elements.settings.panels.quality)) {\n      return;\n    }\n\n    var type = 'quality';\n    var list = this.elements.settings.panels.quality.querySelector('[role=\"menu\"]'); // Set options if passed and filter based on uniqueness and config\n\n    if (is$1.array(options)) {\n      this.options.quality = dedupe(options).filter(function (quality) {\n        return _this6.config.quality.options.includes(quality);\n      });\n    } // Toggle the pane and tab\n\n\n    var toggle = !is$1.empty(this.options.quality) && this.options.quality.length > 1;\n    controls.toggleMenuButton.call(this, type, toggle); // Empty the menu\n\n    emptyElement(list); // Check if we need to toggle the parent\n\n    controls.checkMenu.call(this); // If we're hiding, nothing more to do\n\n    if (!toggle) {\n      return;\n    } // Get the badge HTML for HD, 4K etc\n\n\n    var getBadge = function getBadge(quality) {\n      var label = i18n.get(\"qualityBadge.\".concat(quality), _this6.config);\n\n      if (!label.length) {\n        return null;\n      }\n\n      return controls.createBadge.call(_this6, label);\n    }; // Sort options by the config and then render options\n\n\n    this.options.quality.sort(function (a, b) {\n      var sorting = _this6.config.quality.options;\n      return sorting.indexOf(a) > sorting.indexOf(b) ? 1 : -1;\n    }).forEach(function (quality) {\n      controls.createMenuItem.call(_this6, {\n        value: quality,\n        list: list,\n        type: type,\n        title: controls.getLabel.call(_this6, 'quality', quality),\n        badge: getBadge(quality)\n      });\n    });\n    controls.updateSetting.call(this, type, list);\n  },\n  // Set the looping options\n\n  /* setLoopMenu() {\n        // Menu required\n        if (!is.element(this.elements.settings.panels.loop)) {\n            return;\n        }\n         const options = ['start', 'end', 'all', 'reset'];\n        const list = this.elements.settings.panels.loop.querySelector('[role=\"menu\"]');\n         // Show the pane and tab\n        toggleHidden(this.elements.settings.buttons.loop, false);\n        toggleHidden(this.elements.settings.panels.loop, false);\n         // Toggle the pane and tab\n        const toggle = !is.empty(this.loop.options);\n        controls.toggleMenuButton.call(this, 'loop', toggle);\n         // Empty the menu\n        emptyElement(list);\n         options.forEach(option => {\n            const item = createElement('li');\n             const button = createElement(\n                'button',\n                extend(getAttributesFromSelector(this.config.selectors.buttons.loop), {\n                    type: 'button',\n                    class: this.config.classNames.control,\n                    'data-plyr-loop-action': option,\n                }),\n                i18n.get(option, this.config)\n            );\n             if (['start', 'end'].includes(option)) {\n                const badge = controls.createBadge.call(this, '00:00');\n                button.appendChild(badge);\n            }\n             item.appendChild(button);\n            list.appendChild(item);\n        });\n    }, */\n  // Get current selected caption language\n  // TODO: rework this to user the getter in the API?\n  // Set a list of available captions languages\n  setCaptionsMenu: function setCaptionsMenu() {\n    var _this7 = this;\n\n    // Menu required\n    if (!is$1.element(this.elements.settings.panels.captions)) {\n      return;\n    } // TODO: Captions or language? Currently it's mixed\n\n\n    var type = 'captions';\n    var list = this.elements.settings.panels.captions.querySelector('[role=\"menu\"]');\n    var tracks = captions.getTracks.call(this);\n    var toggle = Boolean(tracks.length); // Toggle the pane and tab\n\n    controls.toggleMenuButton.call(this, type, toggle); // Empty the menu\n\n    emptyElement(list); // Check if we need to toggle the parent\n\n    controls.checkMenu.call(this); // If there's no captions, bail\n\n    if (!toggle) {\n      return;\n    } // Generate options data\n\n\n    var options = tracks.map(function (track, value) {\n      return {\n        value: value,\n        checked: _this7.captions.toggled && _this7.currentTrack === value,\n        title: captions.getLabel.call(_this7, track),\n        badge: track.language && controls.createBadge.call(_this7, track.language.toUpperCase()),\n        list: list,\n        type: 'language'\n      };\n    }); // Add the \"Disabled\" option to turn off captions\n\n    options.unshift({\n      value: -1,\n      checked: !this.captions.toggled,\n      title: i18n.get('disabled', this.config),\n      list: list,\n      type: 'language'\n    }); // Generate options\n\n    options.forEach(controls.createMenuItem.bind(this));\n    controls.updateSetting.call(this, type, list);\n  },\n  // Set a list of available captions languages\n  setSpeedMenu: function setSpeedMenu() {\n    var _this8 = this;\n\n    // Menu required\n    if (!is$1.element(this.elements.settings.panels.speed)) {\n      return;\n    }\n\n    var type = 'speed';\n    var list = this.elements.settings.panels.speed.querySelector('[role=\"menu\"]'); // Filter out invalid speeds\n\n    this.options.speed = this.options.speed.filter(function (o) {\n      return o >= _this8.minimumSpeed && o <= _this8.maximumSpeed;\n    }); // Toggle the pane and tab\n\n    var toggle = !is$1.empty(this.options.speed) && this.options.speed.length > 1;\n    controls.toggleMenuButton.call(this, type, toggle); // Empty the menu\n\n    emptyElement(list); // Check if we need to toggle the parent\n\n    controls.checkMenu.call(this); // If we're hiding, nothing more to do\n\n    if (!toggle) {\n      return;\n    } // Create items\n\n\n    this.options.speed.forEach(function (speed) {\n      controls.createMenuItem.call(_this8, {\n        value: speed,\n        list: list,\n        type: type,\n        title: controls.getLabel.call(_this8, 'speed', speed)\n      });\n    });\n    controls.updateSetting.call(this, type, list);\n  },\n  // Check if we need to hide/show the settings menu\n  checkMenu: function checkMenu() {\n    var buttons = this.elements.settings.buttons;\n    var visible = !is$1.empty(buttons) && Object.values(buttons).some(function (button) {\n      return !button.hidden;\n    });\n    toggleHidden(this.elements.settings.menu, !visible);\n  },\n  // Focus the first menu item in a given (or visible) menu\n  focusFirstMenuItem: function focusFirstMenuItem(pane) {\n    var tabFocus = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n    if (this.elements.settings.popup.hidden) {\n      return;\n    }\n\n    var target = pane;\n\n    if (!is$1.element(target)) {\n      target = Object.values(this.elements.settings.panels).find(function (p) {\n        return !p.hidden;\n      });\n    }\n\n    var firstItem = target.querySelector('[role^=\"menuitem\"]');\n    setFocus.call(this, firstItem, tabFocus);\n  },\n  // Show/hide menu\n  toggleMenu: function toggleMenu(input) {\n    var popup = this.elements.settings.popup;\n    var button = this.elements.buttons.settings; // Menu and button are required\n\n    if (!is$1.element(popup) || !is$1.element(button)) {\n      return;\n    } // True toggle by default\n\n\n    var hidden = popup.hidden;\n    var show = hidden;\n\n    if (is$1.boolean(input)) {\n      show = input;\n    } else if (is$1.keyboardEvent(input) && input.which === 27) {\n      show = false;\n    } else if (is$1.event(input)) {\n      // If Plyr is in a shadowDOM, the event target is set to the component, instead of the\n      // Element in the shadowDOM. The path, if available, is complete.\n      var target = is$1.function(input.composedPath) ? input.composedPath()[0] : input.target;\n      var isMenuItem = popup.contains(target); // If the click was inside the menu or if the click\n      // wasn't the button or menu item and we're trying to\n      // show the menu (a doc click shouldn't show the menu)\n\n      if (isMenuItem || !isMenuItem && input.target !== button && show) {\n        return;\n      }\n    } // Set button attributes\n\n\n    button.setAttribute('aria-expanded', show); // Show the actual popup\n\n    toggleHidden(popup, !show); // Add class hook\n\n    toggleClass(this.elements.container, this.config.classNames.menu.open, show); // Focus the first item if key interaction\n\n    if (show && is$1.keyboardEvent(input)) {\n      controls.focusFirstMenuItem.call(this, null, true);\n    } else if (!show && !hidden) {\n      // If closing, re-focus the button\n      setFocus.call(this, button, is$1.keyboardEvent(input));\n    }\n  },\n  // Get the natural size of a menu panel\n  getMenuSize: function getMenuSize(tab) {\n    var clone = tab.cloneNode(true);\n    clone.style.position = 'absolute';\n    clone.style.opacity = 0;\n    clone.removeAttribute('hidden'); // Append to parent so we get the \"real\" size\n\n    tab.parentNode.appendChild(clone); // Get the sizes before we remove\n\n    var width = clone.scrollWidth;\n    var height = clone.scrollHeight; // Remove from the DOM\n\n    removeElement(clone);\n    return {\n      width: width,\n      height: height\n    };\n  },\n  // Show a panel in the menu\n  showMenuPanel: function showMenuPanel() {\n    var _this9 = this;\n\n    var type = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n    var tabFocus = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n    var target = this.elements.container.querySelector(\"#plyr-settings-\".concat(this.id, \"-\").concat(type)); // Nothing to show, bail\n\n    if (!is$1.element(target)) {\n      return;\n    } // Hide all other panels\n\n\n    var container = target.parentNode;\n    var current = Array.from(container.children).find(function (node) {\n      return !node.hidden;\n    }); // If we can do fancy animations, we'll animate the height/width\n\n    if (support.transitions && !support.reducedMotion) {\n      // Set the current width as a base\n      container.style.width = \"\".concat(current.scrollWidth, \"px\");\n      container.style.height = \"\".concat(current.scrollHeight, \"px\"); // Get potential sizes\n\n      var size = controls.getMenuSize.call(this, target); // Restore auto height/width\n\n      var restore = function restore(event) {\n        // We're only bothered about height and width on the container\n        if (event.target !== container || !['width', 'height'].includes(event.propertyName)) {\n          return;\n        } // Revert back to auto\n\n\n        container.style.width = '';\n        container.style.height = ''; // Only listen once\n\n        off.call(_this9, container, transitionEndEvent, restore);\n      }; // Listen for the transition finishing and restore auto height/width\n\n\n      on.call(this, container, transitionEndEvent, restore); // Set dimensions to target\n\n      container.style.width = \"\".concat(size.width, \"px\");\n      container.style.height = \"\".concat(size.height, \"px\");\n    } // Set attributes on current tab\n\n\n    toggleHidden(current, true); // Set attributes on target\n\n    toggleHidden(target, false); // Focus the first item\n\n    controls.focusFirstMenuItem.call(this, target, tabFocus);\n  },\n  // Set the download URL\n  setDownloadUrl: function setDownloadUrl() {\n    var button = this.elements.buttons.download; // Bail if no button\n\n    if (!is$1.element(button)) {\n      return;\n    } // Set attribute\n\n\n    button.setAttribute('href', this.download);\n  },\n  // Build the default HTML\n  create: function create(data) {\n    var _this10 = this;\n\n    var bindMenuItemShortcuts = controls.bindMenuItemShortcuts,\n        createButton = controls.createButton,\n        createProgress = controls.createProgress,\n        createRange = controls.createRange,\n        createTime = controls.createTime,\n        setQualityMenu = controls.setQualityMenu,\n        setSpeedMenu = controls.setSpeedMenu,\n        showMenuPanel = controls.showMenuPanel;\n    this.elements.controls = null; // Larger overlaid play button\n\n    if (is$1.array(this.config.controls) && this.config.controls.includes('play-large')) {\n      this.elements.container.appendChild(createButton.call(this, 'play-large'));\n    } // Create the container\n\n\n    var container = createElement('div', getAttributesFromSelector(this.config.selectors.controls.wrapper));\n    this.elements.controls = container; // Default item attributes\n\n    var defaultAttributes = {\n      class: 'plyr__controls__item'\n    }; // Loop through controls in order\n\n    dedupe(is$1.array(this.config.controls) ? this.config.controls : []).forEach(function (control) {\n      // Restart button\n      if (control === 'restart') {\n        container.appendChild(createButton.call(_this10, 'restart', defaultAttributes));\n      } // Rewind button\n\n\n      if (control === 'rewind') {\n        container.appendChild(createButton.call(_this10, 'rewind', defaultAttributes));\n      } // Play/Pause button\n\n\n      if (control === 'play') {\n        container.appendChild(createButton.call(_this10, 'play', defaultAttributes));\n      } // Fast forward button\n\n\n      if (control === 'fast-forward') {\n        container.appendChild(createButton.call(_this10, 'fast-forward', defaultAttributes));\n      } // Progress\n\n\n      if (control === 'progress') {\n        var progressContainer = createElement('div', {\n          class: \"\".concat(defaultAttributes.class, \" plyr__progress__container\")\n        });\n        var progress = createElement('div', getAttributesFromSelector(_this10.config.selectors.progress)); // Seek range slider\n\n        progress.appendChild(createRange.call(_this10, 'seek', {\n          id: \"plyr-seek-\".concat(data.id)\n        })); // Buffer progress\n\n        progress.appendChild(createProgress.call(_this10, 'buffer')); // TODO: Add loop display indicator\n        // Seek tooltip\n\n        if (_this10.config.tooltips.seek) {\n          var tooltip = createElement('span', {\n            class: _this10.config.classNames.tooltip\n          }, '00:00');\n          progress.appendChild(tooltip);\n          _this10.elements.display.seekTooltip = tooltip;\n        }\n\n        _this10.elements.progress = progress;\n        progressContainer.appendChild(_this10.elements.progress);\n        container.appendChild(progressContainer);\n      } // Media current time display\n\n\n      if (control === 'current-time') {\n        container.appendChild(createTime.call(_this10, 'currentTime', defaultAttributes));\n      } // Media duration display\n\n\n      if (control === 'duration') {\n        container.appendChild(createTime.call(_this10, 'duration', defaultAttributes));\n      } // Volume controls\n\n\n      if (control === 'mute' || control === 'volume') {\n        var volume = _this10.elements.volume; // Create the volume container if needed\n\n        if (!is$1.element(volume) || !container.contains(volume)) {\n          volume = createElement('div', extend({}, defaultAttributes, {\n            class: \"\".concat(defaultAttributes.class, \" plyr__volume\").trim()\n          }));\n          _this10.elements.volume = volume;\n          container.appendChild(volume);\n        } // Toggle mute button\n\n\n        if (control === 'mute') {\n          volume.appendChild(createButton.call(_this10, 'mute'));\n        } // Volume range control\n        // Ignored on iOS as it's handled globally\n        // https://developer.apple.com/library/safari/documentation/AudioVideo/Conceptual/Using_HTML5_Audio_Video/Device-SpecificConsiderations/Device-SpecificConsiderations.html\n\n\n        if (control === 'volume' && !browser.isIos) {\n          // Set the attributes\n          var attributes = {\n            max: 1,\n            step: 0.05,\n            value: _this10.config.volume\n          }; // Create the volume range slider\n\n          volume.appendChild(createRange.call(_this10, 'volume', extend(attributes, {\n            id: \"plyr-volume-\".concat(data.id)\n          })));\n        }\n      } // Toggle captions button\n\n\n      if (control === 'captions') {\n        container.appendChild(createButton.call(_this10, 'captions', defaultAttributes));\n      } // Settings button / menu\n\n\n      if (control === 'settings' && !is$1.empty(_this10.config.settings)) {\n        var wrapper = createElement('div', extend({}, defaultAttributes, {\n          class: \"\".concat(defaultAttributes.class, \" plyr__menu\").trim(),\n          hidden: ''\n        }));\n        wrapper.appendChild(createButton.call(_this10, 'settings', {\n          'aria-haspopup': true,\n          'aria-controls': \"plyr-settings-\".concat(data.id),\n          'aria-expanded': false\n        }));\n        var popup = createElement('div', {\n          class: 'plyr__menu__container',\n          id: \"plyr-settings-\".concat(data.id),\n          hidden: ''\n        });\n        var inner = createElement('div');\n        var home = createElement('div', {\n          id: \"plyr-settings-\".concat(data.id, \"-home\")\n        }); // Create the menu\n\n        var menu = createElement('div', {\n          role: 'menu'\n        });\n        home.appendChild(menu);\n        inner.appendChild(home);\n        _this10.elements.settings.panels.home = home; // Build the menu items\n\n        _this10.config.settings.forEach(function (type) {\n          // TODO: bundle this with the createMenuItem helper and bindings\n          var menuItem = createElement('button', extend(getAttributesFromSelector(_this10.config.selectors.buttons.settings), {\n            type: 'button',\n            class: \"\".concat(_this10.config.classNames.control, \" \").concat(_this10.config.classNames.control, \"--forward\"),\n            role: 'menuitem',\n            'aria-haspopup': true,\n            hidden: ''\n          })); // Bind menu shortcuts for keyboard users\n\n          bindMenuItemShortcuts.call(_this10, menuItem, type); // Show menu on click\n\n          on.call(_this10, menuItem, 'click', function () {\n            showMenuPanel.call(_this10, type, false);\n          });\n          var flex = createElement('span', null, i18n.get(type, _this10.config));\n          var value = createElement('span', {\n            class: _this10.config.classNames.menu.value\n          }); // Speed contains HTML entities\n\n          value.innerHTML = data[type];\n          flex.appendChild(value);\n          menuItem.appendChild(flex);\n          menu.appendChild(menuItem); // Build the panes\n\n          var pane = createElement('div', {\n            id: \"plyr-settings-\".concat(data.id, \"-\").concat(type),\n            hidden: ''\n          }); // Back button\n\n          var backButton = createElement('button', {\n            type: 'button',\n            class: \"\".concat(_this10.config.classNames.control, \" \").concat(_this10.config.classNames.control, \"--back\")\n          }); // Visible label\n\n          backButton.appendChild(createElement('span', {\n            'aria-hidden': true\n          }, i18n.get(type, _this10.config))); // Screen reader label\n\n          backButton.appendChild(createElement('span', {\n            class: _this10.config.classNames.hidden\n          }, i18n.get('menuBack', _this10.config))); // Go back via keyboard\n\n          on.call(_this10, pane, 'keydown', function (event) {\n            // We only care about <-\n            if (event.which !== 37) {\n              return;\n            } // Prevent seek\n\n\n            event.preventDefault();\n            event.stopPropagation(); // Show the respective menu\n\n            showMenuPanel.call(_this10, 'home', true);\n          }, false); // Go back via button click\n\n          on.call(_this10, backButton, 'click', function () {\n            showMenuPanel.call(_this10, 'home', false);\n          }); // Add to pane\n\n          pane.appendChild(backButton); // Menu\n\n          pane.appendChild(createElement('div', {\n            role: 'menu'\n          }));\n          inner.appendChild(pane);\n          _this10.elements.settings.buttons[type] = menuItem;\n          _this10.elements.settings.panels[type] = pane;\n        });\n\n        popup.appendChild(inner);\n        wrapper.appendChild(popup);\n        container.appendChild(wrapper);\n        _this10.elements.settings.popup = popup;\n        _this10.elements.settings.menu = wrapper;\n      } // Picture in picture button\n\n\n      if (control === 'pip' && support.pip) {\n        container.appendChild(createButton.call(_this10, 'pip', defaultAttributes));\n      } // Airplay button\n\n\n      if (control === 'airplay' && support.airplay) {\n        container.appendChild(createButton.call(_this10, 'airplay', defaultAttributes));\n      } // Download button\n\n\n      if (control === 'download') {\n        var _attributes = extend({}, defaultAttributes, {\n          element: 'a',\n          href: _this10.download,\n          target: '_blank'\n        }); // Set download attribute for HTML5 only\n\n\n        if (_this10.isHTML5) {\n          _attributes.download = '';\n        }\n\n        var download = _this10.config.urls.download;\n\n        if (!is$1.url(download) && _this10.isEmbed) {\n          extend(_attributes, {\n            icon: \"logo-\".concat(_this10.provider),\n            label: _this10.provider\n          });\n        }\n\n        container.appendChild(createButton.call(_this10, 'download', _attributes));\n      } // Toggle fullscreen button\n\n\n      if (control === 'fullscreen') {\n        container.appendChild(createButton.call(_this10, 'fullscreen', defaultAttributes));\n      }\n    }); // Set available quality levels\n\n    if (this.isHTML5) {\n      setQualityMenu.call(this, html5.getQualityOptions.call(this));\n    }\n\n    setSpeedMenu.call(this);\n    return container;\n  },\n  // Insert controls\n  inject: function inject() {\n    var _this11 = this;\n\n    // Sprite\n    if (this.config.loadSprite) {\n      var icon = controls.getIconUrl.call(this); // Only load external sprite using AJAX\n\n      if (icon.cors) {\n        loadSprite(icon.url, 'sprite-plyr');\n      }\n    } // Create a unique ID\n\n\n    this.id = Math.floor(Math.random() * 10000); // Null by default\n\n    var container = null;\n    this.elements.controls = null; // Set template properties\n\n    var props = {\n      id: this.id,\n      seektime: this.config.seekTime,\n      title: this.config.title\n    };\n    var update = true; // If function, run it and use output\n\n    if (is$1.function(this.config.controls)) {\n      this.config.controls = this.config.controls.call(this, props);\n    } // Convert falsy controls to empty array (primarily for empty strings)\n\n\n    if (!this.config.controls) {\n      this.config.controls = [];\n    }\n\n    if (is$1.element(this.config.controls) || is$1.string(this.config.controls)) {\n      // HTMLElement or Non-empty string passed as the option\n      container = this.config.controls;\n    } else {\n      // Create controls\n      container = controls.create.call(this, {\n        id: this.id,\n        seektime: this.config.seekTime,\n        speed: this.speed,\n        quality: this.quality,\n        captions: captions.getLabel.call(this) // TODO: Looping\n        // loop: 'None',\n\n      });\n      update = false;\n    } // Replace props with their value\n\n\n    var replace = function replace(input) {\n      var result = input;\n      Object.entries(props).forEach(function (_ref2) {\n        var _ref3 = _slicedToArray(_ref2, 2),\n            key = _ref3[0],\n            value = _ref3[1];\n\n        result = replaceAll(result, \"{\".concat(key, \"}\"), value);\n      });\n      return result;\n    }; // Update markup\n\n\n    if (update) {\n      if (is$1.string(this.config.controls)) {\n        container = replace(container);\n      }\n    } // Controls container\n\n\n    var target; // Inject to custom location\n\n    if (is$1.string(this.config.selectors.controls.container)) {\n      target = document.querySelector(this.config.selectors.controls.container);\n    } // Inject into the container by default\n\n\n    if (!is$1.element(target)) {\n      target = this.elements.container;\n    } // Inject controls HTML (needs to be before captions, hence \"afterbegin\")\n\n\n    var insertMethod = is$1.element(container) ? 'insertAdjacentElement' : 'insertAdjacentHTML';\n    target[insertMethod]('afterbegin', container); // Find the elements if need be\n\n    if (!is$1.element(this.elements.controls)) {\n      controls.findElements.call(this);\n    } // Add pressed property to buttons\n\n\n    if (!is$1.empty(this.elements.buttons)) {\n      var addProperty = function addProperty(button) {\n        var className = _this11.config.classNames.controlPressed;\n        Object.defineProperty(button, 'pressed', {\n          enumerable: true,\n          get: function get() {\n            return hasClass(button, className);\n          },\n          set: function set() {\n            var pressed = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n            toggleClass(button, className, pressed);\n          }\n        });\n      }; // Toggle classname when pressed property is set\n\n\n      Object.values(this.elements.buttons).filter(Boolean).forEach(function (button) {\n        if (is$1.array(button) || is$1.nodeList(button)) {\n          Array.from(button).filter(Boolean).forEach(addProperty);\n        } else {\n          addProperty(button);\n        }\n      });\n    } // Edge sometimes doesn't finish the paint so force a repaint\n\n\n    if (browser.isEdge) {\n      repaint(target);\n    } // Setup tooltips\n\n\n    if (this.config.tooltips.controls) {\n      var _this$config = this.config,\n          classNames = _this$config.classNames,\n          selectors = _this$config.selectors;\n      var selector = \"\".concat(selectors.controls.wrapper, \" \").concat(selectors.labels, \" .\").concat(classNames.hidden);\n      var labels = getElements.call(this, selector);\n      Array.from(labels).forEach(function (label) {\n        toggleClass(label, _this11.config.classNames.hidden, false);\n        toggleClass(label, _this11.config.classNames.tooltip, true);\n      });\n    }\n  }\n};\n\n/**\n * Parse a string to a URL object\n * @param {String} input - the URL to be parsed\n * @param {Boolean} safe - failsafe parsing\n */\n\nfunction parseUrl(input) {\n  var safe = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n  var url = input;\n\n  if (safe) {\n    var parser = document.createElement('a');\n    parser.href = url;\n    url = parser.href;\n  }\n\n  try {\n    return new URL(url);\n  } catch (e) {\n    return null;\n  }\n} // Convert object to URLSearchParams\n\nfunction buildUrlParams(input) {\n  var params = new URLSearchParams();\n\n  if (is$1.object(input)) {\n    Object.entries(input).forEach(function (_ref) {\n      var _ref2 = _slicedToArray(_ref, 2),\n          key = _ref2[0],\n          value = _ref2[1];\n\n      params.set(key, value);\n    });\n  }\n\n  return params;\n}\n\nvar captions = {\n  // Setup captions\n  setup: function setup() {\n    // Requires UI support\n    if (!this.supported.ui) {\n      return;\n    } // Only Vimeo and HTML5 video supported at this point\n\n\n    if (!this.isVideo || this.isYouTube || this.isHTML5 && !support.textTracks) {\n      // Clear menu and hide\n      if (is$1.array(this.config.controls) && this.config.controls.includes('settings') && this.config.settings.includes('captions')) {\n        controls.setCaptionsMenu.call(this);\n      }\n\n      return;\n    } // Inject the container\n\n\n    if (!is$1.element(this.elements.captions)) {\n      this.elements.captions = createElement('div', getAttributesFromSelector(this.config.selectors.captions));\n      insertAfter(this.elements.captions, this.elements.wrapper);\n    } // Fix IE captions if CORS is used\n    // Fetch captions and inject as blobs instead (data URIs not supported!)\n\n\n    if (browser.isIE && window.URL) {\n      var elements = this.media.querySelectorAll('track');\n      Array.from(elements).forEach(function (track) {\n        var src = track.getAttribute('src');\n        var url = parseUrl(src);\n\n        if (url !== null && url.hostname !== window.location.href.hostname && ['http:', 'https:'].includes(url.protocol)) {\n          fetch(src, 'blob').then(function (blob) {\n            track.setAttribute('src', window.URL.createObjectURL(blob));\n          }).catch(function () {\n            removeElement(track);\n          });\n        }\n      });\n    } // Get and set initial data\n    // The \"preferred\" options are not realized unless / until the wanted language has a match\n    // * languages: Array of user's browser languages.\n    // * language:  The language preferred by user settings or config\n    // * active:    The state preferred by user settings or config\n    // * toggled:   The real captions state\n\n\n    var browserLanguages = navigator.languages || [navigator.language || navigator.userLanguage || 'en'];\n    var languages = dedupe(browserLanguages.map(function (language) {\n      return language.split('-')[0];\n    }));\n    var language = (this.storage.get('language') || this.config.captions.language || 'auto').toLowerCase(); // Use first browser language when language is 'auto'\n\n    if (language === 'auto') {\n      var _languages = _slicedToArray(languages, 1);\n\n      language = _languages[0];\n    }\n\n    var active = this.storage.get('captions');\n\n    if (!is$1.boolean(active)) {\n      active = this.config.captions.active;\n    }\n\n    Object.assign(this.captions, {\n      toggled: false,\n      active: active,\n      language: language,\n      languages: languages\n    }); // Watch changes to textTracks and update captions menu\n\n    if (this.isHTML5) {\n      var trackEvents = this.config.captions.update ? 'addtrack removetrack' : 'removetrack';\n      on.call(this, this.media.textTracks, trackEvents, captions.update.bind(this));\n    } // Update available languages in list next tick (the event must not be triggered before the listeners)\n\n\n    setTimeout(captions.update.bind(this), 0);\n  },\n  // Update available language options in settings based on tracks\n  update: function update() {\n    var _this = this;\n\n    var tracks = captions.getTracks.call(this, true); // Get the wanted language\n\n    var _this$captions = this.captions,\n        active = _this$captions.active,\n        language = _this$captions.language,\n        meta = _this$captions.meta,\n        currentTrackNode = _this$captions.currentTrackNode;\n    var languageExists = Boolean(tracks.find(function (track) {\n      return track.language === language;\n    })); // Handle tracks (add event listener and \"pseudo\"-default)\n\n    if (this.isHTML5 && this.isVideo) {\n      tracks.filter(function (track) {\n        return !meta.get(track);\n      }).forEach(function (track) {\n        _this.debug.log('Track added', track); // Attempt to store if the original dom element was \"default\"\n\n\n        meta.set(track, {\n          default: track.mode === 'showing'\n        }); // Turn off native caption rendering to avoid double captions\n        // Note: mode='hidden' forces a track to download. To ensure every track\n        // isn't downloaded at once, only 'showing' tracks should be reassigned\n        // eslint-disable-next-line no-param-reassign\n\n        if (track.mode === 'showing') {\n          // eslint-disable-next-line no-param-reassign\n          track.mode = 'hidden';\n        } // Add event listener for cue changes\n\n\n        on.call(_this, track, 'cuechange', function () {\n          return captions.updateCues.call(_this);\n        });\n      });\n    } // Update language first time it matches, or if the previous matching track was removed\n\n\n    if (languageExists && this.language !== language || !tracks.includes(currentTrackNode)) {\n      captions.setLanguage.call(this, language);\n      captions.toggle.call(this, active && languageExists);\n    } // Enable or disable captions based on track length\n\n\n    toggleClass(this.elements.container, this.config.classNames.captions.enabled, !is$1.empty(tracks)); // Update available languages in list\n\n    if (is$1.array(this.config.controls) && this.config.controls.includes('settings') && this.config.settings.includes('captions')) {\n      controls.setCaptionsMenu.call(this);\n    }\n  },\n  // Toggle captions display\n  // Used internally for the toggleCaptions method, with the passive option forced to false\n  toggle: function toggle(input) {\n    var _this2 = this;\n\n    var passive = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n\n    // If there's no full support\n    if (!this.supported.ui) {\n      return;\n    }\n\n    var toggled = this.captions.toggled; // Current state\n\n    var activeClass = this.config.classNames.captions.active; // Get the next state\n    // If the method is called without parameter, toggle based on current value\n\n    var active = is$1.nullOrUndefined(input) ? !toggled : input; // Update state and trigger event\n\n    if (active !== toggled) {\n      // When passive, don't override user preferences\n      if (!passive) {\n        this.captions.active = active;\n        this.storage.set({\n          captions: active\n        });\n      } // Force language if the call isn't passive and there is no matching language to toggle to\n\n\n      if (!this.language && active && !passive) {\n        var tracks = captions.getTracks.call(this);\n        var track = captions.findTrack.call(this, [this.captions.language].concat(_toConsumableArray(this.captions.languages)), true); // Override user preferences to avoid switching languages if a matching track is added\n\n        this.captions.language = track.language; // Set caption, but don't store in localStorage as user preference\n\n        captions.set.call(this, tracks.indexOf(track));\n        return;\n      } // Toggle button if it's enabled\n\n\n      if (this.elements.buttons.captions) {\n        this.elements.buttons.captions.pressed = active;\n      } // Add class hook\n\n\n      toggleClass(this.elements.container, activeClass, active);\n      this.captions.toggled = active; // Update settings menu\n\n      controls.updateSetting.call(this, 'captions'); // Trigger event (not used internally)\n\n      triggerEvent.call(this, this.media, active ? 'captionsenabled' : 'captionsdisabled');\n    } // Wait for the call stack to clear before setting mode='hidden'\n    // on the active track - forcing the browser to download it\n\n\n    setTimeout(function () {\n      if (active && _this2.captions.toggled) {\n        _this2.captions.currentTrackNode.mode = 'hidden';\n      }\n    });\n  },\n  // Set captions by track index\n  // Used internally for the currentTrack setter with the passive option forced to false\n  set: function set(index) {\n    var passive = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n    var tracks = captions.getTracks.call(this); // Disable captions if setting to -1\n\n    if (index === -1) {\n      captions.toggle.call(this, false, passive);\n      return;\n    }\n\n    if (!is$1.number(index)) {\n      this.debug.warn('Invalid caption argument', index);\n      return;\n    }\n\n    if (!(index in tracks)) {\n      this.debug.warn('Track not found', index);\n      return;\n    }\n\n    if (this.captions.currentTrack !== index) {\n      this.captions.currentTrack = index;\n      var track = tracks[index];\n\n      var _ref = track || {},\n          language = _ref.language; // Store reference to node for invalidation on remove\n\n\n      this.captions.currentTrackNode = track; // Update settings menu\n\n      controls.updateSetting.call(this, 'captions'); // When passive, don't override user preferences\n\n      if (!passive) {\n        this.captions.language = language;\n        this.storage.set({\n          language: language\n        });\n      } // Handle Vimeo captions\n\n\n      if (this.isVimeo) {\n        this.embed.enableTextTrack(language);\n      } // Trigger event\n\n\n      triggerEvent.call(this, this.media, 'languagechange');\n    } // Show captions\n\n\n    captions.toggle.call(this, true, passive);\n\n    if (this.isHTML5 && this.isVideo) {\n      // If we change the active track while a cue is already displayed we need to update it\n      captions.updateCues.call(this);\n    }\n  },\n  // Set captions by language\n  // Used internally for the language setter with the passive option forced to false\n  setLanguage: function setLanguage(input) {\n    var passive = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n\n    if (!is$1.string(input)) {\n      this.debug.warn('Invalid language argument', input);\n      return;\n    } // Normalize\n\n\n    var language = input.toLowerCase();\n    this.captions.language = language; // Set currentTrack\n\n    var tracks = captions.getTracks.call(this);\n    var track = captions.findTrack.call(this, [language]);\n    captions.set.call(this, tracks.indexOf(track), passive);\n  },\n  // Get current valid caption tracks\n  // If update is false it will also ignore tracks without metadata\n  // This is used to \"freeze\" the language options when captions.update is false\n  getTracks: function getTracks() {\n    var _this3 = this;\n\n    var update = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n    // Handle media or textTracks missing or null\n    var tracks = Array.from((this.media || {}).textTracks || []); // For HTML5, use cache instead of current tracks when it exists (if captions.update is false)\n    // Filter out removed tracks and tracks that aren't captions/subtitles (for example metadata)\n\n    return tracks.filter(function (track) {\n      return !_this3.isHTML5 || update || _this3.captions.meta.has(track);\n    }).filter(function (track) {\n      return ['captions', 'subtitles'].includes(track.kind);\n    });\n  },\n  // Match tracks based on languages and get the first\n  findTrack: function findTrack(languages) {\n    var _this4 = this;\n\n    var force = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n    var tracks = captions.getTracks.call(this);\n\n    var sortIsDefault = function sortIsDefault(track) {\n      return Number((_this4.captions.meta.get(track) || {}).default);\n    };\n\n    var sorted = Array.from(tracks).sort(function (a, b) {\n      return sortIsDefault(b) - sortIsDefault(a);\n    });\n    var track;\n    languages.every(function (language) {\n      track = sorted.find(function (t) {\n        return t.language === language;\n      });\n      return !track; // Break iteration if there is a match\n    }); // If no match is found but is required, get first\n\n    return track || (force ? sorted[0] : undefined);\n  },\n  // Get the current track\n  getCurrentTrack: function getCurrentTrack() {\n    return captions.getTracks.call(this)[this.currentTrack];\n  },\n  // Get UI label for track\n  getLabel: function getLabel(track) {\n    var currentTrack = track;\n\n    if (!is$1.track(currentTrack) && support.textTracks && this.captions.toggled) {\n      currentTrack = captions.getCurrentTrack.call(this);\n    }\n\n    if (is$1.track(currentTrack)) {\n      if (!is$1.empty(currentTrack.label)) {\n        return currentTrack.label;\n      }\n\n      if (!is$1.empty(currentTrack.language)) {\n        return track.language.toUpperCase();\n      }\n\n      return i18n.get('enabled', this.config);\n    }\n\n    return i18n.get('disabled', this.config);\n  },\n  // Update captions using current track's active cues\n  // Also optional array argument in case there isn't any track (ex: vimeo)\n  updateCues: function updateCues(input) {\n    // Requires UI\n    if (!this.supported.ui) {\n      return;\n    }\n\n    if (!is$1.element(this.elements.captions)) {\n      this.debug.warn('No captions element to render to');\n      return;\n    } // Only accept array or empty input\n\n\n    if (!is$1.nullOrUndefined(input) && !Array.isArray(input)) {\n      this.debug.warn('updateCues: Invalid input', input);\n      return;\n    }\n\n    var cues = input; // Get cues from track\n\n    if (!cues) {\n      var track = captions.getCurrentTrack.call(this);\n      cues = Array.from((track || {}).activeCues || []).map(function (cue) {\n        return cue.getCueAsHTML();\n      }).map(getHTML);\n    } // Set new caption text\n\n\n    var content = cues.map(function (cueText) {\n      return cueText.trim();\n    }).join('\\n');\n    var changed = content !== this.elements.captions.innerHTML;\n\n    if (changed) {\n      // Empty the container and create a new child element\n      emptyElement(this.elements.captions);\n      var caption = createElement('span', getAttributesFromSelector(this.config.selectors.caption));\n      caption.innerHTML = content;\n      this.elements.captions.appendChild(caption); // Trigger event\n\n      triggerEvent.call(this, this.media, 'cuechange');\n    }\n  }\n};\n\n// ==========================================================================\n// Plyr default config\n// ==========================================================================\nvar defaults$1 = {\n  // Disable\n  enabled: true,\n  // Custom media title\n  title: '',\n  // Logging to console\n  debug: false,\n  // Auto play (if supported)\n  autoplay: false,\n  // Only allow one media playing at once (vimeo only)\n  autopause: true,\n  // Allow inline playback on iOS (this effects YouTube/Vimeo - HTML5 requires the attribute present)\n  // TODO: Remove iosNative fullscreen option in favour of this (logic needs work)\n  playsinline: true,\n  // Default time to skip when rewind/fast forward\n  seekTime: 10,\n  // Default volume\n  volume: 1,\n  muted: false,\n  // Pass a custom duration\n  duration: null,\n  // Display the media duration on load in the current time position\n  // If you have opted to display both duration and currentTime, this is ignored\n  displayDuration: true,\n  // Invert the current time to be a countdown\n  invertTime: true,\n  // Clicking the currentTime inverts it's value to show time left rather than elapsed\n  toggleInvert: true,\n  // Force an aspect ratio\n  // The format must be `'w:h'` (e.g. `'16:9'`)\n  ratio: null,\n  // Click video container to play/pause\n  clickToPlay: true,\n  // Auto hide the controls\n  hideControls: true,\n  // Reset to start when playback ended\n  resetOnEnd: false,\n  // Disable the standard context menu\n  disableContextMenu: true,\n  // Sprite (for icons)\n  loadSprite: true,\n  iconPrefix: 'plyr',\n  iconUrl: 'https://cdn.plyr.io/3.6.2/plyr.svg',\n  // Blank video (used to prevent errors on source change)\n  blankVideo: 'https://cdn.plyr.io/static/blank.mp4',\n  // Quality default\n  quality: {\n    default: 576,\n    // The options to display in the UI, if available for the source media\n    options: [4320, 2880, 2160, 1440, 1080, 720, 576, 480, 360, 240],\n    forced: false,\n    onChange: null\n  },\n  // Set loops\n  loop: {\n    active: false // start: null,\n    // end: null,\n\n  },\n  // Speed default and options to display\n  speed: {\n    selected: 1,\n    // The options to display in the UI, if available for the source media (e.g. Vimeo and YouTube only support 0.5x-4x)\n    options: [0.5, 0.75, 1, 1.25, 1.5, 1.75, 2, 4]\n  },\n  // Keyboard shortcut settings\n  keyboard: {\n    focused: true,\n    global: false\n  },\n  // Display tooltips\n  tooltips: {\n    controls: false,\n    seek: true\n  },\n  // Captions settings\n  captions: {\n    active: false,\n    language: 'auto',\n    // Listen to new tracks added after Plyr is initialized.\n    // This is needed for streaming captions, but may result in unselectable options\n    update: false\n  },\n  // Fullscreen settings\n  fullscreen: {\n    enabled: true,\n    // Allow fullscreen?\n    fallback: true,\n    // Fallback using full viewport/window\n    iosNative: false // Use the native fullscreen in iOS (disables custom controls)\n    // Selector for the fullscreen container so contextual / non-player content can remain visible in fullscreen mode\n    // Non-ancestors of the player element will be ignored\n    // container: null, // defaults to the player element\n\n  },\n  // Local storage\n  storage: {\n    enabled: true,\n    key: 'plyr'\n  },\n  // Default controls\n  controls: ['play-large', // 'restart',\n  // 'rewind',\n  'play', // 'fast-forward',\n  'progress', 'current-time', // 'duration',\n  'mute', 'volume', 'captions', 'settings', 'pip', 'airplay', // 'download',\n  'fullscreen'],\n  settings: ['captions', 'quality', 'speed'],\n  // Localisation\n  i18n: {\n    restart: 'Restart',\n    rewind: 'Rewind {seektime}s',\n    play: 'Play',\n    pause: 'Pause',\n    fastForward: 'Forward {seektime}s',\n    seek: 'Seek',\n    seekLabel: '{currentTime} of {duration}',\n    played: 'Played',\n    buffered: 'Buffered',\n    currentTime: 'Current time',\n    duration: 'Duration',\n    volume: 'Volume',\n    mute: 'Mute',\n    unmute: 'Unmute',\n    enableCaptions: 'Enable captions',\n    disableCaptions: 'Disable captions',\n    download: 'Download',\n    enterFullscreen: 'Enter fullscreen',\n    exitFullscreen: 'Exit fullscreen',\n    frameTitle: 'Player for {title}',\n    captions: 'Captions',\n    settings: 'Settings',\n    pip: 'PIP',\n    menuBack: 'Go back to previous menu',\n    speed: 'Speed',\n    normal: 'Normal',\n    quality: 'Quality',\n    loop: 'Loop',\n    start: 'Start',\n    end: 'End',\n    all: 'All',\n    reset: 'Reset',\n    disabled: 'Disabled',\n    enabled: 'Enabled',\n    advertisement: 'Ad',\n    qualityBadge: {\n      2160: '4K',\n      1440: 'HD',\n      1080: 'HD',\n      720: 'HD',\n      576: 'SD',\n      480: 'SD'\n    }\n  },\n  // URLs\n  urls: {\n    download: null,\n    vimeo: {\n      sdk: 'https://player.vimeo.com/api/player.js',\n      iframe: 'https://player.vimeo.com/video/{0}?{1}',\n      api: 'https://vimeo.com/api/v2/video/{0}.json'\n    },\n    youtube: {\n      sdk: 'https://www.youtube.com/iframe_api',\n      api: 'https://noembed.com/embed?url=https://www.youtube.com/watch?v={0}'\n    },\n    googleIMA: {\n      sdk: 'https://imasdk.googleapis.com/js/sdkloader/ima3.js'\n    }\n  },\n  // Custom control listeners\n  listeners: {\n    seek: null,\n    play: null,\n    pause: null,\n    restart: null,\n    rewind: null,\n    fastForward: null,\n    mute: null,\n    volume: null,\n    captions: null,\n    download: null,\n    fullscreen: null,\n    pip: null,\n    airplay: null,\n    speed: null,\n    quality: null,\n    loop: null,\n    language: null\n  },\n  // Events to watch and bubble\n  events: [// Events to watch on HTML5 media elements and bubble\n  // https://developer.mozilla.org/en/docs/Web/Guide/Events/Media_events\n  'ended', 'progress', 'stalled', 'playing', 'waiting', 'canplay', 'canplaythrough', 'loadstart', 'loadeddata', 'loadedmetadata', 'timeupdate', 'volumechange', 'play', 'pause', 'error', 'seeking', 'seeked', 'emptied', 'ratechange', 'cuechange', // Custom events\n  'download', 'enterfullscreen', 'exitfullscreen', 'captionsenabled', 'captionsdisabled', 'languagechange', 'controlshidden', 'controlsshown', 'ready', // YouTube\n  'statechange', // Quality\n  'qualitychange', // Ads\n  'adsloaded', 'adscontentpause', 'adscontentresume', 'adstarted', 'adsmidpoint', 'adscomplete', 'adsallcomplete', 'adsimpression', 'adsclick'],\n  // Selectors\n  // Change these to match your template if using custom HTML\n  selectors: {\n    editable: 'input, textarea, select, [contenteditable]',\n    container: '.plyr',\n    controls: {\n      container: null,\n      wrapper: '.plyr__controls'\n    },\n    labels: '[data-plyr]',\n    buttons: {\n      play: '[data-plyr=\"play\"]',\n      pause: '[data-plyr=\"pause\"]',\n      restart: '[data-plyr=\"restart\"]',\n      rewind: '[data-plyr=\"rewind\"]',\n      fastForward: '[data-plyr=\"fast-forward\"]',\n      mute: '[data-plyr=\"mute\"]',\n      captions: '[data-plyr=\"captions\"]',\n      download: '[data-plyr=\"download\"]',\n      fullscreen: '[data-plyr=\"fullscreen\"]',\n      pip: '[data-plyr=\"pip\"]',\n      airplay: '[data-plyr=\"airplay\"]',\n      settings: '[data-plyr=\"settings\"]',\n      loop: '[data-plyr=\"loop\"]'\n    },\n    inputs: {\n      seek: '[data-plyr=\"seek\"]',\n      volume: '[data-plyr=\"volume\"]',\n      speed: '[data-plyr=\"speed\"]',\n      language: '[data-plyr=\"language\"]',\n      quality: '[data-plyr=\"quality\"]'\n    },\n    display: {\n      currentTime: '.plyr__time--current',\n      duration: '.plyr__time--duration',\n      buffer: '.plyr__progress__buffer',\n      loop: '.plyr__progress__loop',\n      // Used later\n      volume: '.plyr__volume--display'\n    },\n    progress: '.plyr__progress',\n    captions: '.plyr__captions',\n    caption: '.plyr__caption'\n  },\n  // Class hooks added to the player in different states\n  classNames: {\n    type: 'plyr--{0}',\n    provider: 'plyr--{0}',\n    video: 'plyr__video-wrapper',\n    embed: 'plyr__video-embed',\n    videoFixedRatio: 'plyr__video-wrapper--fixed-ratio',\n    embedContainer: 'plyr__video-embed__container',\n    poster: 'plyr__poster',\n    posterEnabled: 'plyr__poster-enabled',\n    ads: 'plyr__ads',\n    control: 'plyr__control',\n    controlPressed: 'plyr__control--pressed',\n    playing: 'plyr--playing',\n    paused: 'plyr--paused',\n    stopped: 'plyr--stopped',\n    loading: 'plyr--loading',\n    hover: 'plyr--hover',\n    tooltip: 'plyr__tooltip',\n    cues: 'plyr__cues',\n    hidden: 'plyr__sr-only',\n    hideControls: 'plyr--hide-controls',\n    isIos: 'plyr--is-ios',\n    isTouch: 'plyr--is-touch',\n    uiSupported: 'plyr--full-ui',\n    noTransition: 'plyr--no-transition',\n    display: {\n      time: 'plyr__time'\n    },\n    menu: {\n      value: 'plyr__menu__value',\n      badge: 'plyr__badge',\n      open: 'plyr--menu-open'\n    },\n    captions: {\n      enabled: 'plyr--captions-enabled',\n      active: 'plyr--captions-active'\n    },\n    fullscreen: {\n      enabled: 'plyr--fullscreen-enabled',\n      fallback: 'plyr--fullscreen-fallback'\n    },\n    pip: {\n      supported: 'plyr--pip-supported',\n      active: 'plyr--pip-active'\n    },\n    airplay: {\n      supported: 'plyr--airplay-supported',\n      active: 'plyr--airplay-active'\n    },\n    tabFocus: 'plyr__tab-focus',\n    previewThumbnails: {\n      // Tooltip thumbs\n      thumbContainer: 'plyr__preview-thumb',\n      thumbContainerShown: 'plyr__preview-thumb--is-shown',\n      imageContainer: 'plyr__preview-thumb__image-container',\n      timeContainer: 'plyr__preview-thumb__time-container',\n      // Scrubbing\n      scrubbingContainer: 'plyr__preview-scrubbing',\n      scrubbingContainerShown: 'plyr__preview-scrubbing--is-shown'\n    }\n  },\n  // Embed attributes\n  attributes: {\n    embed: {\n      provider: 'data-plyr-provider',\n      id: 'data-plyr-embed-id'\n    }\n  },\n  // Advertisements plugin\n  // Register for an account here: http://vi.ai/publisher-video-monetization/?aid=plyrio\n  ads: {\n    enabled: false,\n    publisherId: '',\n    tagUrl: ''\n  },\n  // Preview Thumbnails plugin\n  previewThumbnails: {\n    enabled: false,\n    src: ''\n  },\n  // Vimeo plugin\n  vimeo: {\n    byline: false,\n    portrait: false,\n    title: false,\n    speed: true,\n    transparent: false,\n    // Whether the owner of the video has a Pro or Business account\n    // (which allows us to properly hide controls without CSS hacks, etc)\n    premium: false,\n    // Custom settings from Plyr\n    referrerPolicy: null // https://developer.mozilla.org/en-US/docs/Web/API/HTMLIFrameElement/referrerPolicy\n\n  },\n  // YouTube plugin\n  youtube: {\n    noCookie: true,\n    // Whether to use an alternative version of YouTube without cookies\n    rel: 0,\n    // No related vids\n    showinfo: 0,\n    // Hide info\n    iv_load_policy: 3,\n    // Hide annotations\n    modestbranding: 1 // Hide logos as much as possible (they still show one in the corner when paused)\n\n  }\n};\n\n// ==========================================================================\n// Plyr states\n// ==========================================================================\nvar pip = {\n  active: 'picture-in-picture',\n  inactive: 'inline'\n};\n\n// ==========================================================================\n// Plyr supported types and providers\n// ==========================================================================\nvar providers = {\n  html5: 'html5',\n  youtube: 'youtube',\n  vimeo: 'vimeo'\n};\nvar types = {\n  audio: 'audio',\n  video: 'video'\n};\n/**\n * Get provider by URL\n * @param {String} url\n */\n\nfunction getProviderByUrl(url) {\n  // YouTube\n  if (/^(https?:\\/\\/)?(www\\.)?(youtube\\.com|youtube-nocookie\\.com|youtu\\.?be)\\/.+$/.test(url)) {\n    return providers.youtube;\n  } // Vimeo\n\n\n  if (/^https?:\\/\\/player.vimeo.com\\/video\\/\\d{0,9}(?=\\b|\\/)/.test(url)) {\n    return providers.vimeo;\n  }\n\n  return null;\n}\n\n// ==========================================================================\n// Console wrapper\n// ==========================================================================\nvar noop = function noop() {};\n\nvar Console = /*#__PURE__*/function () {\n  function Console() {\n    var enabled = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n    _classCallCheck(this, Console);\n\n    this.enabled = window.console && enabled;\n\n    if (this.enabled) {\n      this.log('Debugging enabled');\n    }\n  }\n\n  _createClass(Console, [{\n    key: \"log\",\n    get: function get() {\n      // eslint-disable-next-line no-console\n      return this.enabled ? Function.prototype.bind.call(console.log, console) : noop;\n    }\n  }, {\n    key: \"warn\",\n    get: function get() {\n      // eslint-disable-next-line no-console\n      return this.enabled ? Function.prototype.bind.call(console.warn, console) : noop;\n    }\n  }, {\n    key: \"error\",\n    get: function get() {\n      // eslint-disable-next-line no-console\n      return this.enabled ? Function.prototype.bind.call(console.error, console) : noop;\n    }\n  }]);\n\n  return Console;\n}();\n\nvar Fullscreen = /*#__PURE__*/function () {\n  function Fullscreen(player) {\n    var _this = this;\n\n    _classCallCheck(this, Fullscreen);\n\n    // Keep reference to parent\n    this.player = player; // Get prefix\n\n    this.prefix = Fullscreen.prefix;\n    this.property = Fullscreen.property; // Scroll position\n\n    this.scrollPosition = {\n      x: 0,\n      y: 0\n    }; // Force the use of 'full window/browser' rather than fullscreen\n\n    this.forceFallback = player.config.fullscreen.fallback === 'force'; // Get the fullscreen element\n    // Checks container is an ancestor, defaults to null\n\n    this.player.elements.fullscreen = player.config.fullscreen.container && closest(this.player.elements.container, player.config.fullscreen.container); // Register event listeners\n    // Handle event (incase user presses escape etc)\n\n    on.call(this.player, document, this.prefix === 'ms' ? 'MSFullscreenChange' : \"\".concat(this.prefix, \"fullscreenchange\"), function () {\n      // TODO: Filter for target??\n      _this.onChange();\n    }); // Fullscreen toggle on double click\n\n    on.call(this.player, this.player.elements.container, 'dblclick', function (event) {\n      // Ignore double click in controls\n      if (is$1.element(_this.player.elements.controls) && _this.player.elements.controls.contains(event.target)) {\n        return;\n      }\n\n      _this.toggle();\n    }); // Tap focus when in fullscreen\n\n    on.call(this, this.player.elements.container, 'keydown', function (event) {\n      return _this.trapFocus(event);\n    }); // Update the UI\n\n    this.update();\n  } // Determine if native supported\n\n\n  _createClass(Fullscreen, [{\n    key: \"onChange\",\n    value: function onChange() {\n      if (!this.enabled) {\n        return;\n      } // Update toggle button\n\n\n      var button = this.player.elements.buttons.fullscreen;\n\n      if (is$1.element(button)) {\n        button.pressed = this.active;\n      } // Trigger an event\n\n\n      triggerEvent.call(this.player, this.target, this.active ? 'enterfullscreen' : 'exitfullscreen', true);\n    }\n  }, {\n    key: \"toggleFallback\",\n    value: function toggleFallback() {\n      var toggle = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n      // Store or restore scroll position\n      if (toggle) {\n        this.scrollPosition = {\n          x: window.scrollX || 0,\n          y: window.scrollY || 0\n        };\n      } else {\n        window.scrollTo(this.scrollPosition.x, this.scrollPosition.y);\n      } // Toggle scroll\n\n\n      document.body.style.overflow = toggle ? 'hidden' : ''; // Toggle class hook\n\n      toggleClass(this.target, this.player.config.classNames.fullscreen.fallback, toggle); // Force full viewport on iPhone X+\n\n      if (browser.isIos) {\n        var viewport = document.head.querySelector('meta[name=\"viewport\"]');\n        var property = 'viewport-fit=cover'; // Inject the viewport meta if required\n\n        if (!viewport) {\n          viewport = document.createElement('meta');\n          viewport.setAttribute('name', 'viewport');\n        } // Check if the property already exists\n\n\n        var hasProperty = is$1.string(viewport.content) && viewport.content.includes(property);\n\n        if (toggle) {\n          this.cleanupViewport = !hasProperty;\n\n          if (!hasProperty) {\n            viewport.content += \",\".concat(property);\n          }\n        } else if (this.cleanupViewport) {\n          viewport.content = viewport.content.split(',').filter(function (part) {\n            return part.trim() !== property;\n          }).join(',');\n        }\n      } // Toggle button and fire events\n\n\n      this.onChange();\n    } // Trap focus inside container\n\n  }, {\n    key: \"trapFocus\",\n    value: function trapFocus(event) {\n      // Bail if iOS, not active, not the tab key\n      if (browser.isIos || !this.active || event.key !== 'Tab' || event.keyCode !== 9) {\n        return;\n      } // Get the current focused element\n\n\n      var focused = document.activeElement;\n      var focusable = getElements.call(this.player, 'a[href], button:not(:disabled), input:not(:disabled), [tabindex]');\n\n      var _focusable = _slicedToArray(focusable, 1),\n          first = _focusable[0];\n\n      var last = focusable[focusable.length - 1];\n\n      if (focused === last && !event.shiftKey) {\n        // Move focus to first element that can be tabbed if Shift isn't used\n        first.focus();\n        event.preventDefault();\n      } else if (focused === first && event.shiftKey) {\n        // Move focus to last element that can be tabbed if Shift is used\n        last.focus();\n        event.preventDefault();\n      }\n    } // Update UI\n\n  }, {\n    key: \"update\",\n    value: function update() {\n      if (this.enabled) {\n        var mode;\n\n        if (this.forceFallback) {\n          mode = 'Fallback (forced)';\n        } else if (Fullscreen.native) {\n          mode = 'Native';\n        } else {\n          mode = 'Fallback';\n        }\n\n        this.player.debug.log(\"\".concat(mode, \" fullscreen enabled\"));\n      } else {\n        this.player.debug.log('Fullscreen not supported and fallback disabled');\n      } // Add styling hook to show button\n\n\n      toggleClass(this.player.elements.container, this.player.config.classNames.fullscreen.enabled, this.enabled);\n    } // Make an element fullscreen\n\n  }, {\n    key: \"enter\",\n    value: function enter() {\n      if (!this.enabled) {\n        return;\n      } // iOS native fullscreen doesn't need the request step\n\n\n      if (browser.isIos && this.player.config.fullscreen.iosNative) {\n        this.target.webkitEnterFullscreen();\n      } else if (!Fullscreen.native || this.forceFallback) {\n        this.toggleFallback(true);\n      } else if (!this.prefix) {\n        this.target.requestFullscreen({\n          navigationUI: 'hide'\n        });\n      } else if (!is$1.empty(this.prefix)) {\n        this.target[\"\".concat(this.prefix, \"Request\").concat(this.property)]();\n      }\n    } // Bail from fullscreen\n\n  }, {\n    key: \"exit\",\n    value: function exit() {\n      if (!this.enabled) {\n        return;\n      } // iOS native fullscreen\n\n\n      if (browser.isIos && this.player.config.fullscreen.iosNative) {\n        this.target.webkitExitFullscreen();\n        silencePromise(this.player.play());\n      } else if (!Fullscreen.native || this.forceFallback) {\n        this.toggleFallback(false);\n      } else if (!this.prefix) {\n        (document.cancelFullScreen || document.exitFullscreen).call(document);\n      } else if (!is$1.empty(this.prefix)) {\n        var action = this.prefix === 'moz' ? 'Cancel' : 'Exit';\n        document[\"\".concat(this.prefix).concat(action).concat(this.property)]();\n      }\n    } // Toggle state\n\n  }, {\n    key: \"toggle\",\n    value: function toggle() {\n      if (!this.active) {\n        this.enter();\n      } else {\n        this.exit();\n      }\n    }\n  }, {\n    key: \"usingNative\",\n    // If we're actually using native\n    get: function get() {\n      return Fullscreen.native && !this.forceFallback;\n    } // Get the prefix for handlers\n\n  }, {\n    key: \"enabled\",\n    // Determine if fullscreen is enabled\n    get: function get() {\n      return (Fullscreen.native || this.player.config.fullscreen.fallback) && this.player.config.fullscreen.enabled && this.player.supported.ui && this.player.isVideo;\n    } // Get active state\n\n  }, {\n    key: \"active\",\n    get: function get() {\n      if (!this.enabled) {\n        return false;\n      } // Fallback using classname\n\n\n      if (!Fullscreen.native || this.forceFallback) {\n        return hasClass(this.target, this.player.config.classNames.fullscreen.fallback);\n      }\n\n      var element = !this.prefix ? document.fullscreenElement : document[\"\".concat(this.prefix).concat(this.property, \"Element\")];\n      return element && element.shadowRoot ? element === this.target.getRootNode().host : element === this.target;\n    } // Get target element\n\n  }, {\n    key: \"target\",\n    get: function get() {\n      return browser.isIos && this.player.config.fullscreen.iosNative ? this.player.media : this.player.elements.fullscreen || this.player.elements.container;\n    }\n  }], [{\n    key: \"native\",\n    get: function get() {\n      return !!(document.fullscreenEnabled || document.webkitFullscreenEnabled || document.mozFullScreenEnabled || document.msFullscreenEnabled);\n    }\n  }, {\n    key: \"prefix\",\n    get: function get() {\n      // No prefix\n      if (is$1.function(document.exitFullscreen)) {\n        return '';\n      } // Check for fullscreen support by vendor prefix\n\n\n      var value = '';\n      var prefixes = ['webkit', 'moz', 'ms'];\n      prefixes.some(function (pre) {\n        if (is$1.function(document[\"\".concat(pre, \"ExitFullscreen\")]) || is$1.function(document[\"\".concat(pre, \"CancelFullScreen\")])) {\n          value = pre;\n          return true;\n        }\n\n        return false;\n      });\n      return value;\n    }\n  }, {\n    key: \"property\",\n    get: function get() {\n      return this.prefix === 'moz' ? 'FullScreen' : 'Fullscreen';\n    }\n  }]);\n\n  return Fullscreen;\n}();\n\n// `Math.sign` method implementation\n// https://tc39.github.io/ecma262/#sec-math.sign\nvar mathSign = Math.sign || function sign(x) {\n  // eslint-disable-next-line no-self-compare\n  return (x = +x) == 0 || x != x ? x : x < 0 ? -1 : 1;\n};\n\n// `Math.sign` method\n// https://tc39.github.io/ecma262/#sec-math.sign\n_export({ target: 'Math', stat: true }, {\n  sign: mathSign\n});\n\n// ==========================================================================\n// Load image avoiding xhr/fetch CORS issues\n// Server status can't be obtained this way unfortunately, so this uses \"naturalWidth\" to determine if the image has loaded\n// By default it checks if it is at least 1px, but you can add a second argument to change this\n// ==========================================================================\nfunction loadImage(src) {\n  var minWidth = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n  return new Promise(function (resolve, reject) {\n    var image = new Image();\n\n    var handler = function handler() {\n      delete image.onload;\n      delete image.onerror;\n      (image.naturalWidth >= minWidth ? resolve : reject)(image);\n    };\n\n    Object.assign(image, {\n      onload: handler,\n      onerror: handler,\n      src: src\n    });\n  });\n}\n\nvar ui = {\n  addStyleHook: function addStyleHook() {\n    toggleClass(this.elements.container, this.config.selectors.container.replace('.', ''), true);\n    toggleClass(this.elements.container, this.config.classNames.uiSupported, this.supported.ui);\n  },\n  // Toggle native HTML5 media controls\n  toggleNativeControls: function toggleNativeControls() {\n    var toggle = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n    if (toggle && this.isHTML5) {\n      this.media.setAttribute('controls', '');\n    } else {\n      this.media.removeAttribute('controls');\n    }\n  },\n  // Setup the UI\n  build: function build() {\n    var _this = this;\n\n    // Re-attach media element listeners\n    // TODO: Use event bubbling?\n    this.listeners.media(); // Don't setup interface if no support\n\n    if (!this.supported.ui) {\n      this.debug.warn(\"Basic support only for \".concat(this.provider, \" \").concat(this.type)); // Restore native controls\n\n      ui.toggleNativeControls.call(this, true); // Bail\n\n      return;\n    } // Inject custom controls if not present\n\n\n    if (!is$1.element(this.elements.controls)) {\n      // Inject custom controls\n      controls.inject.call(this); // Re-attach control listeners\n\n      this.listeners.controls();\n    } // Remove native controls\n\n\n    ui.toggleNativeControls.call(this); // Setup captions for HTML5\n\n    if (this.isHTML5) {\n      captions.setup.call(this);\n    } // Reset volume\n\n\n    this.volume = null; // Reset mute state\n\n    this.muted = null; // Reset loop state\n\n    this.loop = null; // Reset quality setting\n\n    this.quality = null; // Reset speed\n\n    this.speed = null; // Reset volume display\n\n    controls.updateVolume.call(this); // Reset time display\n\n    controls.timeUpdate.call(this); // Update the UI\n\n    ui.checkPlaying.call(this); // Check for picture-in-picture support\n\n    toggleClass(this.elements.container, this.config.classNames.pip.supported, support.pip && this.isHTML5 && this.isVideo); // Check for airplay support\n\n    toggleClass(this.elements.container, this.config.classNames.airplay.supported, support.airplay && this.isHTML5); // Add iOS class\n\n    toggleClass(this.elements.container, this.config.classNames.isIos, browser.isIos); // Add touch class\n\n    toggleClass(this.elements.container, this.config.classNames.isTouch, this.touch); // Ready for API calls\n\n    this.ready = true; // Ready event at end of execution stack\n\n    setTimeout(function () {\n      triggerEvent.call(_this, _this.media, 'ready');\n    }, 0); // Set the title\n\n    ui.setTitle.call(this); // Assure the poster image is set, if the property was added before the element was created\n\n    if (this.poster) {\n      ui.setPoster.call(this, this.poster, false).catch(function () {});\n    } // Manually set the duration if user has overridden it.\n    // The event listeners for it doesn't get called if preload is disabled (#701)\n\n\n    if (this.config.duration) {\n      controls.durationUpdate.call(this);\n    }\n  },\n  // Setup aria attribute for play and iframe title\n  setTitle: function setTitle() {\n    // Find the current text\n    var label = i18n.get('play', this.config); // If there's a media title set, use that for the label\n\n    if (is$1.string(this.config.title) && !is$1.empty(this.config.title)) {\n      label += \", \".concat(this.config.title);\n    } // If there's a play button, set label\n\n\n    Array.from(this.elements.buttons.play || []).forEach(function (button) {\n      button.setAttribute('aria-label', label);\n    }); // Set iframe title\n    // https://github.com/sampotts/plyr/issues/124\n\n    if (this.isEmbed) {\n      var iframe = getElement.call(this, 'iframe');\n\n      if (!is$1.element(iframe)) {\n        return;\n      } // Default to media type\n\n\n      var title = !is$1.empty(this.config.title) ? this.config.title : 'video';\n      var format = i18n.get('frameTitle', this.config);\n      iframe.setAttribute('title', format.replace('{title}', title));\n    }\n  },\n  // Toggle poster\n  togglePoster: function togglePoster(enable) {\n    toggleClass(this.elements.container, this.config.classNames.posterEnabled, enable);\n  },\n  // Set the poster image (async)\n  // Used internally for the poster setter, with the passive option forced to false\n  setPoster: function setPoster(poster) {\n    var _this2 = this;\n\n    var passive = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n\n    // Don't override if call is passive\n    if (passive && this.poster) {\n      return Promise.reject(new Error('Poster already set'));\n    } // Set property synchronously to respect the call order\n\n\n    this.media.setAttribute('data-poster', poster); // Wait until ui is ready\n\n    return ready.call(this) // Load image\n    .then(function () {\n      return loadImage(poster);\n    }).catch(function (err) {\n      // Hide poster on error unless it's been set by another call\n      if (poster === _this2.poster) {\n        ui.togglePoster.call(_this2, false);\n      } // Rethrow\n\n\n      throw err;\n    }).then(function () {\n      // Prevent race conditions\n      if (poster !== _this2.poster) {\n        throw new Error('setPoster cancelled by later call to setPoster');\n      }\n    }).then(function () {\n      Object.assign(_this2.elements.poster.style, {\n        backgroundImage: \"url('\".concat(poster, \"')\"),\n        // Reset backgroundSize as well (since it can be set to \"cover\" for padded thumbnails for youtube)\n        backgroundSize: ''\n      });\n      ui.togglePoster.call(_this2, true);\n      return poster;\n    });\n  },\n  // Check playing state\n  checkPlaying: function checkPlaying(event) {\n    var _this3 = this;\n\n    // Class hooks\n    toggleClass(this.elements.container, this.config.classNames.playing, this.playing);\n    toggleClass(this.elements.container, this.config.classNames.paused, this.paused);\n    toggleClass(this.elements.container, this.config.classNames.stopped, this.stopped); // Set state\n\n    Array.from(this.elements.buttons.play || []).forEach(function (target) {\n      Object.assign(target, {\n        pressed: _this3.playing\n      });\n      target.setAttribute('aria-label', i18n.get(_this3.playing ? 'pause' : 'play', _this3.config));\n    }); // Only update controls on non timeupdate events\n\n    if (is$1.event(event) && event.type === 'timeupdate') {\n      return;\n    } // Toggle controls\n\n\n    ui.toggleControls.call(this);\n  },\n  // Check if media is loading\n  checkLoading: function checkLoading(event) {\n    var _this4 = this;\n\n    this.loading = ['stalled', 'waiting'].includes(event.type); // Clear timer\n\n    clearTimeout(this.timers.loading); // Timer to prevent flicker when seeking\n\n    this.timers.loading = setTimeout(function () {\n      // Update progress bar loading class state\n      toggleClass(_this4.elements.container, _this4.config.classNames.loading, _this4.loading); // Update controls visibility\n\n      ui.toggleControls.call(_this4);\n    }, this.loading ? 250 : 0);\n  },\n  // Toggle controls based on state and `force` argument\n  toggleControls: function toggleControls(force) {\n    var controlsElement = this.elements.controls;\n\n    if (controlsElement && this.config.hideControls) {\n      // Don't hide controls if a touch-device user recently seeked. (Must be limited to touch devices, or it occasionally prevents desktop controls from hiding.)\n      var recentTouchSeek = this.touch && this.lastSeekTime + 2000 > Date.now(); // Show controls if force, loading, paused, button interaction, or recent seek, otherwise hide\n\n      this.toggleControls(Boolean(force || this.loading || this.paused || controlsElement.pressed || controlsElement.hover || recentTouchSeek));\n    }\n  },\n  // Migrate any custom properties from the media to the parent\n  migrateStyles: function migrateStyles() {\n    var _this5 = this;\n\n    // Loop through values (as they are the keys when the object is spread 🤔)\n    Object.values(_objectSpread2({}, this.media.style)) // We're only fussed about Plyr specific properties\n    .filter(function (key) {\n      return !is$1.empty(key) && key.startsWith('--plyr');\n    }).forEach(function (key) {\n      // Set on the container\n      _this5.elements.container.style.setProperty(key, _this5.media.style.getPropertyValue(key)); // Clean up from media element\n\n\n      _this5.media.style.removeProperty(key);\n    }); // Remove attribute if empty\n\n    if (is$1.empty(this.media.style)) {\n      this.media.removeAttribute('style');\n    }\n  }\n};\n\nvar Listeners = /*#__PURE__*/function () {\n  function Listeners(player) {\n    _classCallCheck(this, Listeners);\n\n    this.player = player;\n    this.lastKey = null;\n    this.focusTimer = null;\n    this.lastKeyDown = null;\n    this.handleKey = this.handleKey.bind(this);\n    this.toggleMenu = this.toggleMenu.bind(this);\n    this.setTabFocus = this.setTabFocus.bind(this);\n    this.firstTouch = this.firstTouch.bind(this);\n  } // Handle key presses\n\n\n  _createClass(Listeners, [{\n    key: \"handleKey\",\n    value: function handleKey(event) {\n      var player = this.player;\n      var elements = player.elements;\n      var code = event.keyCode ? event.keyCode : event.which;\n      var pressed = event.type === 'keydown';\n      var repeat = pressed && code === this.lastKey; // Bail if a modifier key is set\n\n      if (event.altKey || event.ctrlKey || event.metaKey || event.shiftKey) {\n        return;\n      } // If the event is bubbled from the media element\n      // Firefox doesn't get the keycode for whatever reason\n\n\n      if (!is$1.number(code)) {\n        return;\n      } // Seek by the number keys\n\n\n      var seekByKey = function seekByKey() {\n        // Divide the max duration into 10th's and times by the number value\n        player.currentTime = player.duration / 10 * (code - 48);\n      }; // Handle the key on keydown\n      // Reset on keyup\n\n\n      if (pressed) {\n        // Check focused element\n        // and if the focused element is not editable (e.g. text input)\n        // and any that accept key input http://webaim.org/techniques/keyboard/\n        var focused = document.activeElement;\n\n        if (is$1.element(focused)) {\n          var editable = player.config.selectors.editable;\n          var seek = elements.inputs.seek;\n\n          if (focused !== seek && matches$1(focused, editable)) {\n            return;\n          }\n\n          if (event.which === 32 && matches$1(focused, 'button, [role^=\"menuitem\"]')) {\n            return;\n          }\n        } // Which keycodes should we prevent default\n\n\n        var preventDefault = [32, 37, 38, 39, 40, 48, 49, 50, 51, 52, 53, 54, 56, 57, 67, 70, 73, 75, 76, 77, 79]; // If the code is found prevent default (e.g. prevent scrolling for arrows)\n\n        if (preventDefault.includes(code)) {\n          event.preventDefault();\n          event.stopPropagation();\n        }\n\n        switch (code) {\n          case 48:\n          case 49:\n          case 50:\n          case 51:\n          case 52:\n          case 53:\n          case 54:\n          case 55:\n          case 56:\n          case 57:\n            // 0-9\n            if (!repeat) {\n              seekByKey();\n            }\n\n            break;\n\n          case 32:\n          case 75:\n            // Space and K key\n            if (!repeat) {\n              silencePromise(player.togglePlay());\n            }\n\n            break;\n\n          case 38:\n            // Arrow up\n            player.increaseVolume(0.1);\n            break;\n\n          case 40:\n            // Arrow down\n            player.decreaseVolume(0.1);\n            break;\n\n          case 77:\n            // M key\n            if (!repeat) {\n              player.muted = !player.muted;\n            }\n\n            break;\n\n          case 39:\n            // Arrow forward\n            player.forward();\n            break;\n\n          case 37:\n            // Arrow back\n            player.rewind();\n            break;\n\n          case 70:\n            // F key\n            player.fullscreen.toggle();\n            break;\n\n          case 67:\n            // C key\n            if (!repeat) {\n              player.toggleCaptions();\n            }\n\n            break;\n\n          case 76:\n            // L key\n            player.loop = !player.loop;\n            break;\n        } // Escape is handle natively when in full screen\n        // So we only need to worry about non native\n\n\n        if (code === 27 && !player.fullscreen.usingNative && player.fullscreen.active) {\n          player.fullscreen.toggle();\n        } // Store last code for next cycle\n\n\n        this.lastKey = code;\n      } else {\n        this.lastKey = null;\n      }\n    } // Toggle menu\n\n  }, {\n    key: \"toggleMenu\",\n    value: function toggleMenu(event) {\n      controls.toggleMenu.call(this.player, event);\n    } // Device is touch enabled\n\n  }, {\n    key: \"firstTouch\",\n    value: function firstTouch() {\n      var player = this.player;\n      var elements = player.elements;\n      player.touch = true; // Add touch class\n\n      toggleClass(elements.container, player.config.classNames.isTouch, true);\n    }\n  }, {\n    key: \"setTabFocus\",\n    value: function setTabFocus(event) {\n      var player = this.player;\n      var elements = player.elements;\n      clearTimeout(this.focusTimer); // Ignore any key other than tab\n\n      if (event.type === 'keydown' && event.which !== 9) {\n        return;\n      } // Store reference to event timeStamp\n\n\n      if (event.type === 'keydown') {\n        this.lastKeyDown = event.timeStamp;\n      } // Remove current classes\n\n\n      var removeCurrent = function removeCurrent() {\n        var className = player.config.classNames.tabFocus;\n        var current = getElements.call(player, \".\".concat(className));\n        toggleClass(current, className, false);\n      }; // Determine if a key was pressed to trigger this event\n\n\n      var wasKeyDown = event.timeStamp - this.lastKeyDown <= 20; // Ignore focus events if a key was pressed prior\n\n      if (event.type === 'focus' && !wasKeyDown) {\n        return;\n      } // Remove all current\n\n\n      removeCurrent(); // Delay the adding of classname until the focus has changed\n      // This event fires before the focusin event\n\n      if (event.type !== 'focusout') {\n        this.focusTimer = setTimeout(function () {\n          var focused = document.activeElement; // Ignore if current focus element isn't inside the player\n\n          if (!elements.container.contains(focused)) {\n            return;\n          }\n\n          toggleClass(document.activeElement, player.config.classNames.tabFocus, true);\n        }, 10);\n      }\n    } // Global window & document listeners\n\n  }, {\n    key: \"global\",\n    value: function global() {\n      var toggle = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n      var player = this.player; // Keyboard shortcuts\n\n      if (player.config.keyboard.global) {\n        toggleListener.call(player, window, 'keydown keyup', this.handleKey, toggle, false);\n      } // Click anywhere closes menu\n\n\n      toggleListener.call(player, document.body, 'click', this.toggleMenu, toggle); // Detect touch by events\n\n      once.call(player, document.body, 'touchstart', this.firstTouch); // Tab focus detection\n\n      toggleListener.call(player, document.body, 'keydown focus blur focusout', this.setTabFocus, toggle, false, true);\n    } // Container listeners\n\n  }, {\n    key: \"container\",\n    value: function container() {\n      var player = this.player;\n      var config = player.config,\n          elements = player.elements,\n          timers = player.timers; // Keyboard shortcuts\n\n      if (!config.keyboard.global && config.keyboard.focused) {\n        on.call(player, elements.container, 'keydown keyup', this.handleKey, false);\n      } // Toggle controls on mouse events and entering fullscreen\n\n\n      on.call(player, elements.container, 'mousemove mouseleave touchstart touchmove enterfullscreen exitfullscreen', function (event) {\n        var controlsElement = elements.controls; // Remove button states for fullscreen\n\n        if (controlsElement && event.type === 'enterfullscreen') {\n          controlsElement.pressed = false;\n          controlsElement.hover = false;\n        } // Show, then hide after a timeout unless another control event occurs\n\n\n        var show = ['touchstart', 'touchmove', 'mousemove'].includes(event.type);\n        var delay = 0;\n\n        if (show) {\n          ui.toggleControls.call(player, true); // Use longer timeout for touch devices\n\n          delay = player.touch ? 3000 : 2000;\n        } // Clear timer\n\n\n        clearTimeout(timers.controls); // Set new timer to prevent flicker when seeking\n\n        timers.controls = setTimeout(function () {\n          return ui.toggleControls.call(player, false);\n        }, delay);\n      }); // Set a gutter for Vimeo\n\n      var setGutter = function setGutter(ratio, padding, toggle) {\n        if (!player.isVimeo || player.config.vimeo.premium) {\n          return;\n        }\n\n        var target = player.elements.wrapper.firstChild;\n\n        var _ratio = _slicedToArray(ratio, 2),\n            y = _ratio[1];\n\n        var _getAspectRatio$call = getAspectRatio.call(player),\n            _getAspectRatio$call2 = _slicedToArray(_getAspectRatio$call, 2),\n            videoX = _getAspectRatio$call2[0],\n            videoY = _getAspectRatio$call2[1];\n\n        target.style.maxWidth = toggle ? \"\".concat(y / videoY * videoX, \"px\") : null;\n        target.style.margin = toggle ? '0 auto' : null;\n      }; // Resize on fullscreen change\n\n\n      var setPlayerSize = function setPlayerSize(measure) {\n        // If we don't need to measure the viewport\n        if (!measure) {\n          return setAspectRatio.call(player);\n        }\n\n        var rect = elements.container.getBoundingClientRect();\n        var width = rect.width,\n            height = rect.height;\n        return setAspectRatio.call(player, \"\".concat(width, \":\").concat(height));\n      };\n\n      var resized = function resized() {\n        clearTimeout(timers.resized);\n        timers.resized = setTimeout(setPlayerSize, 50);\n      };\n\n      on.call(player, elements.container, 'enterfullscreen exitfullscreen', function (event) {\n        var _player$fullscreen = player.fullscreen,\n            target = _player$fullscreen.target,\n            usingNative = _player$fullscreen.usingNative; // Ignore events not from target\n\n        if (target !== elements.container) {\n          return;\n        } // If it's not an embed and no ratio specified\n\n\n        if (!player.isEmbed && is$1.empty(player.config.ratio)) {\n          return;\n        }\n\n        var isEnter = event.type === 'enterfullscreen'; // Set the player size when entering fullscreen to viewport size\n\n        var _setPlayerSize = setPlayerSize(isEnter),\n            padding = _setPlayerSize.padding,\n            ratio = _setPlayerSize.ratio; // Set Vimeo gutter\n\n\n        setGutter(ratio, padding, isEnter); // If not using native browser fullscreen API, we need to check for resizes of viewport\n\n        if (!usingNative) {\n          if (isEnter) {\n            on.call(player, window, 'resize', resized);\n          } else {\n            off.call(player, window, 'resize', resized);\n          }\n        }\n      });\n    } // Listen for media events\n\n  }, {\n    key: \"media\",\n    value: function media() {\n      var _this = this;\n\n      var player = this.player;\n      var elements = player.elements; // Time change on media\n\n      on.call(player, player.media, 'timeupdate seeking seeked', function (event) {\n        return controls.timeUpdate.call(player, event);\n      }); // Display duration\n\n      on.call(player, player.media, 'durationchange loadeddata loadedmetadata', function (event) {\n        return controls.durationUpdate.call(player, event);\n      }); // Handle the media finishing\n\n      on.call(player, player.media, 'ended', function () {\n        // Show poster on end\n        if (player.isHTML5 && player.isVideo && player.config.resetOnEnd) {\n          // Restart\n          player.restart(); // Call pause otherwise IE11 will start playing the video again\n\n          player.pause();\n        }\n      }); // Check for buffer progress\n\n      on.call(player, player.media, 'progress playing seeking seeked', function (event) {\n        return controls.updateProgress.call(player, event);\n      }); // Handle volume changes\n\n      on.call(player, player.media, 'volumechange', function (event) {\n        return controls.updateVolume.call(player, event);\n      }); // Handle play/pause\n\n      on.call(player, player.media, 'playing play pause ended emptied timeupdate', function (event) {\n        return ui.checkPlaying.call(player, event);\n      }); // Loading state\n\n      on.call(player, player.media, 'waiting canplay seeked playing', function (event) {\n        return ui.checkLoading.call(player, event);\n      }); // Click video\n\n      if (player.supported.ui && player.config.clickToPlay && !player.isAudio) {\n        // Re-fetch the wrapper\n        var wrapper = getElement.call(player, \".\".concat(player.config.classNames.video)); // Bail if there's no wrapper (this should never happen)\n\n        if (!is$1.element(wrapper)) {\n          return;\n        } // On click play, pause or restart\n\n\n        on.call(player, elements.container, 'click', function (event) {\n          var targets = [elements.container, wrapper]; // Ignore if click if not container or in video wrapper\n\n          if (!targets.includes(event.target) && !wrapper.contains(event.target)) {\n            return;\n          } // Touch devices will just show controls (if hidden)\n\n\n          if (player.touch && player.config.hideControls) {\n            return;\n          }\n\n          if (player.ended) {\n            _this.proxy(event, player.restart, 'restart');\n\n            _this.proxy(event, function () {\n              silencePromise(player.play());\n            }, 'play');\n          } else {\n            _this.proxy(event, function () {\n              silencePromise(player.togglePlay());\n            }, 'play');\n          }\n        });\n      } // Disable right click\n\n\n      if (player.supported.ui && player.config.disableContextMenu) {\n        on.call(player, elements.wrapper, 'contextmenu', function (event) {\n          event.preventDefault();\n        }, false);\n      } // Volume change\n\n\n      on.call(player, player.media, 'volumechange', function () {\n        // Save to storage\n        player.storage.set({\n          volume: player.volume,\n          muted: player.muted\n        });\n      }); // Speed change\n\n      on.call(player, player.media, 'ratechange', function () {\n        // Update UI\n        controls.updateSetting.call(player, 'speed'); // Save to storage\n\n\n        player.storage.set({\n          speed: player.speed\n        });\n      }); // Quality change\n\n      on.call(player, player.media, 'qualitychange', function (event) {\n        // Update UI\n        controls.updateSetting.call(player, 'quality', null, event.detail.quality);\n      }); // Update download link when ready and if quality changes\n\n      on.call(player, player.media, 'ready qualitychange', function () {\n        controls.setDownloadUrl.call(player);\n      }); // Proxy events to container\n      // Bubble up key events for Edge\n\n      var proxyEvents = player.config.events.concat(['keyup', 'keydown']).join(' ');\n      on.call(player, player.media, proxyEvents, function (event) {\n        var _event$detail = event.detail,\n            detail = _event$detail === void 0 ? {} : _event$detail; // Get error details from media\n\n        if (event.type === 'error') {\n          detail = player.media.error;\n        }\n\n        triggerEvent.call(player, elements.container, event.type, true, detail);\n      });\n    } // Run default and custom handlers\n\n  }, {\n    key: \"proxy\",\n    value: function proxy(event, defaultHandler, customHandlerKey) {\n      var player = this.player;\n      var customHandler = player.config.listeners[customHandlerKey];\n      var hasCustomHandler = is$1.function(customHandler);\n      var returned = true; // Execute custom handler\n\n      if (hasCustomHandler) {\n        returned = customHandler.call(player, event);\n      } // Only call default handler if not prevented in custom handler\n\n\n      if (returned !== false && is$1.function(defaultHandler)) {\n        defaultHandler.call(player, event);\n      }\n    } // Trigger custom and default handlers\n\n  }, {\n    key: \"bind\",\n    value: function bind(element, type, defaultHandler, customHandlerKey) {\n      var _this2 = this;\n\n      var passive = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : true;\n      var player = this.player;\n      var customHandler = player.config.listeners[customHandlerKey];\n      var hasCustomHandler = is$1.function(customHandler);\n      on.call(player, element, type, function (event) {\n        return _this2.proxy(event, defaultHandler, customHandlerKey);\n      }, passive && !hasCustomHandler);\n    } // Listen for control events\n\n  }, {\n    key: \"controls\",\n    value: function controls$1() {\n      var _this3 = this;\n\n      var player = this.player;\n      var elements = player.elements; // IE doesn't support input event, so we fallback to change\n\n      var inputEvent = browser.isIE ? 'change' : 'input'; // Play/pause toggle\n\n      if (elements.buttons.play) {\n        Array.from(elements.buttons.play).forEach(function (button) {\n          _this3.bind(button, 'click', function () {\n            silencePromise(player.togglePlay());\n          }, 'play');\n        });\n      } // Pause\n\n\n      this.bind(elements.buttons.restart, 'click', player.restart, 'restart'); // Rewind\n\n      this.bind(elements.buttons.rewind, 'click', player.rewind, 'rewind'); // Rewind\n\n      this.bind(elements.buttons.fastForward, 'click', player.forward, 'fastForward'); // Mute toggle\n\n      this.bind(elements.buttons.mute, 'click', function () {\n        player.muted = !player.muted;\n      }, 'mute'); // Captions toggle\n\n      this.bind(elements.buttons.captions, 'click', function () {\n        return player.toggleCaptions();\n      }); // Download\n\n      this.bind(elements.buttons.download, 'click', function () {\n        triggerEvent.call(player, player.media, 'download');\n      }, 'download'); // Fullscreen toggle\n\n      this.bind(elements.buttons.fullscreen, 'click', function () {\n        player.fullscreen.toggle();\n      }, 'fullscreen'); // Picture-in-Picture\n\n      this.bind(elements.buttons.pip, 'click', function () {\n        player.pip = 'toggle';\n      }, 'pip'); // Airplay\n\n      this.bind(elements.buttons.airplay, 'click', player.airplay, 'airplay'); // Settings menu - click toggle\n\n      this.bind(elements.buttons.settings, 'click', function (event) {\n        // Prevent the document click listener closing the menu\n        event.stopPropagation();\n        event.preventDefault();\n\n        controls.toggleMenu.call(player, event);\n      }, null, false); // Can't be passive as we're preventing default\n      // Settings menu - keyboard toggle\n      // We have to bind to keyup otherwise Firefox triggers a click when a keydown event handler shifts focus\n      // https://bugzilla.mozilla.org/show_bug.cgi?id=1220143\n\n      this.bind(elements.buttons.settings, 'keyup', function (event) {\n        var code = event.which; // We only care about space and return\n\n        if (![13, 32].includes(code)) {\n          return;\n        } // Because return triggers a click anyway, all we need to do is set focus\n\n\n        if (code === 13) {\n          controls.focusFirstMenuItem.call(player, null, true);\n\n          return;\n        } // Prevent scroll\n\n\n        event.preventDefault(); // Prevent playing video (Firefox)\n\n        event.stopPropagation(); // Toggle menu\n\n        controls.toggleMenu.call(player, event);\n      }, null, false // Can't be passive as we're preventing default\n      ); // Escape closes menu\n\n      this.bind(elements.settings.menu, 'keydown', function (event) {\n        if (event.which === 27) {\n          controls.toggleMenu.call(player, event);\n        }\n      }); // Set range input alternative \"value\", which matches the tooltip time (#954)\n\n      this.bind(elements.inputs.seek, 'mousedown mousemove', function (event) {\n        var rect = elements.progress.getBoundingClientRect();\n        var percent = 100 / rect.width * (event.pageX - rect.left);\n        event.currentTarget.setAttribute('seek-value', percent);\n      }); // Pause while seeking\n\n      this.bind(elements.inputs.seek, 'mousedown mouseup keydown keyup touchstart touchend', function (event) {\n        var seek = event.currentTarget;\n        var code = event.keyCode ? event.keyCode : event.which;\n        var attribute = 'play-on-seeked';\n\n        if (is$1.keyboardEvent(event) && code !== 39 && code !== 37) {\n          return;\n        } // Record seek time so we can prevent hiding controls for a few seconds after seek\n\n\n        player.lastSeekTime = Date.now(); // Was playing before?\n\n        var play = seek.hasAttribute(attribute); // Done seeking\n\n        var done = ['mouseup', 'touchend', 'keyup'].includes(event.type); // If we're done seeking and it was playing, resume playback\n\n        if (play && done) {\n          seek.removeAttribute(attribute);\n          silencePromise(player.play());\n        } else if (!done && player.playing) {\n          seek.setAttribute(attribute, '');\n          player.pause();\n        }\n      }); // Fix range inputs on iOS\n      // Super weird iOS bug where after you interact with an <input type=\"range\">,\n      // it takes over further interactions on the page. This is a hack\n\n      if (browser.isIos) {\n        var inputs = getElements.call(player, 'input[type=\"range\"]');\n        Array.from(inputs).forEach(function (input) {\n          return _this3.bind(input, inputEvent, function (event) {\n            return repaint(event.target);\n          });\n        });\n      } // Seek\n\n\n      this.bind(elements.inputs.seek, inputEvent, function (event) {\n        var seek = event.currentTarget; // If it exists, use seek-value instead of \"value\" for consistency with tooltip time (#954)\n\n        var seekTo = seek.getAttribute('seek-value');\n\n        if (is$1.empty(seekTo)) {\n          seekTo = seek.value;\n        }\n\n        seek.removeAttribute('seek-value');\n        player.currentTime = seekTo / seek.max * player.duration;\n      }, 'seek'); // Seek tooltip\n\n      this.bind(elements.progress, 'mouseenter mouseleave mousemove', function (event) {\n        return controls.updateSeekTooltip.call(player, event);\n      }); // Preview thumbnails plugin\n      // TODO: Really need to work on some sort of plug-in wide event bus or pub-sub for this\n\n      this.bind(elements.progress, 'mousemove touchmove', function (event) {\n        var previewThumbnails = player.previewThumbnails;\n\n        if (previewThumbnails && previewThumbnails.loaded) {\n          previewThumbnails.startMove(event);\n        }\n      }); // Hide thumbnail preview - on mouse click, mouse leave, and video play/seek. All four are required, e.g., for buffering\n\n      this.bind(elements.progress, 'mouseleave touchend click', function () {\n        var previewThumbnails = player.previewThumbnails;\n\n        if (previewThumbnails && previewThumbnails.loaded) {\n          previewThumbnails.endMove(false, true);\n        }\n      }); // Show scrubbing preview\n\n      this.bind(elements.progress, 'mousedown touchstart', function (event) {\n        var previewThumbnails = player.previewThumbnails;\n\n        if (previewThumbnails && previewThumbnails.loaded) {\n          previewThumbnails.startScrubbing(event);\n        }\n      });\n      this.bind(elements.progress, 'mouseup touchend', function (event) {\n        var previewThumbnails = player.previewThumbnails;\n\n        if (previewThumbnails && previewThumbnails.loaded) {\n          previewThumbnails.endScrubbing(event);\n        }\n      }); // Polyfill for lower fill in <input type=\"range\"> for webkit\n\n      if (browser.isWebkit) {\n        Array.from(getElements.call(player, 'input[type=\"range\"]')).forEach(function (element) {\n          _this3.bind(element, 'input', function (event) {\n            return controls.updateRangeFill.call(player, event.target);\n          });\n        });\n      } // Current time invert\n      // Only if one time element is used for both currentTime and duration\n\n\n      if (player.config.toggleInvert && !is$1.element(elements.display.duration)) {\n        this.bind(elements.display.currentTime, 'click', function () {\n          // Do nothing if we're at the start\n          if (player.currentTime === 0) {\n            return;\n          }\n\n          player.config.invertTime = !player.config.invertTime;\n\n          controls.timeUpdate.call(player);\n        });\n      } // Volume\n\n\n      this.bind(elements.inputs.volume, inputEvent, function (event) {\n        player.volume = event.target.value;\n      }, 'volume'); // Update controls.hover state (used for ui.toggleControls to avoid hiding when interacting)\n\n      this.bind(elements.controls, 'mouseenter mouseleave', function (event) {\n        elements.controls.hover = !player.touch && event.type === 'mouseenter';\n      }); // Also update controls.hover state for any non-player children of fullscreen element (as above)\n\n      if (elements.fullscreen) {\n        Array.from(elements.fullscreen.children).filter(function (c) {\n          return !c.contains(elements.container);\n        }).forEach(function (child) {\n          _this3.bind(child, 'mouseenter mouseleave', function (event) {\n            elements.controls.hover = !player.touch && event.type === 'mouseenter';\n          });\n        });\n      } // Update controls.pressed state (used for ui.toggleControls to avoid hiding when interacting)\n\n\n      this.bind(elements.controls, 'mousedown mouseup touchstart touchend touchcancel', function (event) {\n        elements.controls.pressed = ['mousedown', 'touchstart'].includes(event.type);\n      }); // Show controls when they receive focus (e.g., when using keyboard tab key)\n\n      this.bind(elements.controls, 'focusin', function () {\n        var config = player.config,\n            timers = player.timers; // Skip transition to prevent focus from scrolling the parent element\n\n        toggleClass(elements.controls, config.classNames.noTransition, true); // Toggle\n\n        ui.toggleControls.call(player, true); // Restore transition\n\n        setTimeout(function () {\n          toggleClass(elements.controls, config.classNames.noTransition, false);\n        }, 0); // Delay a little more for mouse users\n\n        var delay = _this3.touch ? 3000 : 4000; // Clear timer\n\n        clearTimeout(timers.controls); // Hide again after delay\n\n        timers.controls = setTimeout(function () {\n          return ui.toggleControls.call(player, false);\n        }, delay);\n      }); // Mouse wheel for volume\n\n      this.bind(elements.inputs.volume, 'wheel', function (event) {\n        // Detect \"natural\" scroll - suppored on OS X Safari only\n        // Other browsers on OS X will be inverted until support improves\n        var inverted = event.webkitDirectionInvertedFromDevice; // Get delta from event. Invert if `inverted` is true\n\n        var _map = [event.deltaX, -event.deltaY].map(function (value) {\n          return inverted ? -value : value;\n        }),\n            _map2 = _slicedToArray(_map, 2),\n            x = _map2[0],\n            y = _map2[1]; // Using the biggest delta, normalize to 1 or -1 (or 0 if no delta)\n\n\n        var direction = Math.sign(Math.abs(x) > Math.abs(y) ? x : y); // Change the volume by 2%\n\n        player.increaseVolume(direction / 50); // Don't break page scrolling at max and min\n\n        var volume = player.media.volume;\n\n        if (direction === 1 && volume < 1 || direction === -1 && volume > 0) {\n          event.preventDefault();\n        }\n      }, 'volume', false);\n    }\n  }]);\n\n  return Listeners;\n}();\n\nvar HAS_SPECIES_SUPPORT$3 = arrayMethodHasSpeciesSupport('splice');\nvar USES_TO_LENGTH$a = arrayMethodUsesToLength('splice', { ACCESSORS: true, 0: 0, 1: 2 });\n\nvar max$3 = Math.max;\nvar min$5 = Math.min;\nvar MAX_SAFE_INTEGER$1 = 0x1FFFFFFFFFFFFF;\nvar MAXIMUM_ALLOWED_LENGTH_EXCEEDED = 'Maximum allowed length exceeded';\n\n// `Array.prototype.splice` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.splice\n// with adding support of @@species\n_export({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT$3 || !USES_TO_LENGTH$a }, {\n  splice: function splice(start, deleteCount /* , ...items */) {\n    var O = toObject(this);\n    var len = toLength(O.length);\n    var actualStart = toAbsoluteIndex(start, len);\n    var argumentsLength = arguments.length;\n    var insertCount, actualDeleteCount, A, k, from, to;\n    if (argumentsLength === 0) {\n      insertCount = actualDeleteCount = 0;\n    } else if (argumentsLength === 1) {\n      insertCount = 0;\n      actualDeleteCount = len - actualStart;\n    } else {\n      insertCount = argumentsLength - 2;\n      actualDeleteCount = min$5(max$3(toInteger(deleteCount), 0), len - actualStart);\n    }\n    if (len + insertCount - actualDeleteCount > MAX_SAFE_INTEGER$1) {\n      throw TypeError(MAXIMUM_ALLOWED_LENGTH_EXCEEDED);\n    }\n    A = arraySpeciesCreate(O, actualDeleteCount);\n    for (k = 0; k < actualDeleteCount; k++) {\n      from = actualStart + k;\n      if (from in O) createProperty(A, k, O[from]);\n    }\n    A.length = actualDeleteCount;\n    if (insertCount < actualDeleteCount) {\n      for (k = actualStart; k < len - actualDeleteCount; k++) {\n        from = k + actualDeleteCount;\n        to = k + insertCount;\n        if (from in O) O[to] = O[from];\n        else delete O[to];\n      }\n      for (k = len; k > len - actualDeleteCount + insertCount; k--) delete O[k - 1];\n    } else if (insertCount > actualDeleteCount) {\n      for (k = len - actualDeleteCount; k > actualStart; k--) {\n        from = k + actualDeleteCount - 1;\n        to = k + insertCount - 1;\n        if (from in O) O[to] = O[from];\n        else delete O[to];\n      }\n    }\n    for (k = 0; k < insertCount; k++) {\n      O[k + actualStart] = arguments[k + 2];\n    }\n    O.length = len - actualDeleteCount + insertCount;\n    return A;\n  }\n});\n\nvar loadjs_umd = createCommonjsModule(function (module, exports) {\n  (function (root, factory) {\n    {\n      module.exports = factory();\n    }\n  })(commonjsGlobal, function () {\n    /**\n     * Global dependencies.\n     * @global {Object} document - DOM\n     */\n    var devnull = function devnull() {},\n        bundleIdCache = {},\n        bundleResultCache = {},\n        bundleCallbackQueue = {};\n    /**\n     * Subscribe to bundle load event.\n     * @param {string[]} bundleIds - Bundle ids\n     * @param {Function} callbackFn - The callback function\n     */\n\n\n    function subscribe(bundleIds, callbackFn) {\n      // listify\n      bundleIds = bundleIds.push ? bundleIds : [bundleIds];\n      var depsNotFound = [],\n          i = bundleIds.length,\n          numWaiting = i,\n          fn,\n          bundleId,\n          r,\n          q; // define callback function\n\n      fn = function fn(bundleId, pathsNotFound) {\n        if (pathsNotFound.length) depsNotFound.push(bundleId);\n        numWaiting--;\n        if (!numWaiting) callbackFn(depsNotFound);\n      }; // register callback\n\n\n      while (i--) {\n        bundleId = bundleIds[i]; // execute callback if in result cache\n\n        r = bundleResultCache[bundleId];\n\n        if (r) {\n          fn(bundleId, r);\n          continue;\n        } // add to callback queue\n\n\n        q = bundleCallbackQueue[bundleId] = bundleCallbackQueue[bundleId] || [];\n        q.push(fn);\n      }\n    }\n    /**\n     * Publish bundle load event.\n     * @param {string} bundleId - Bundle id\n     * @param {string[]} pathsNotFound - List of files not found\n     */\n\n\n    function publish(bundleId, pathsNotFound) {\n      // exit if id isn't defined\n      if (!bundleId) return;\n      var q = bundleCallbackQueue[bundleId]; // cache result\n\n      bundleResultCache[bundleId] = pathsNotFound; // exit if queue is empty\n\n      if (!q) return; // empty callback queue\n\n      while (q.length) {\n        q[0](bundleId, pathsNotFound);\n        q.splice(0, 1);\n      }\n    }\n    /**\n     * Execute callbacks.\n     * @param {Object or Function} args - The callback args\n     * @param {string[]} depsNotFound - List of dependencies not found\n     */\n\n\n    function executeCallbacks(args, depsNotFound) {\n      // accept function as argument\n      if (args.call) args = {\n        success: args\n      }; // success and error callbacks\n\n      if (depsNotFound.length) (args.error || devnull)(depsNotFound);else (args.success || devnull)(args);\n    }\n    /**\n     * Load individual file.\n     * @param {string} path - The file path\n     * @param {Function} callbackFn - The callback function\n     */\n\n\n    function loadFile(path, callbackFn, args, numTries) {\n      var doc = document,\n          async = args.async,\n          maxTries = (args.numRetries || 0) + 1,\n          beforeCallbackFn = args.before || devnull,\n          pathname = path.replace(/[\\?|#].*$/, ''),\n          pathStripped = path.replace(/^(css|img)!/, ''),\n          isLegacyIECss,\n          e;\n      numTries = numTries || 0;\n\n      if (/(^css!|\\.css$)/.test(pathname)) {\n        // css\n        e = doc.createElement('link');\n        e.rel = 'stylesheet';\n        e.href = pathStripped; // tag IE9+\n\n        isLegacyIECss = 'hideFocus' in e; // use preload in IE Edge (to detect load errors)\n\n        if (isLegacyIECss && e.relList) {\n          isLegacyIECss = 0;\n          e.rel = 'preload';\n          e.as = 'style';\n        }\n      } else if (/(^img!|\\.(png|gif|jpg|svg|webp)$)/.test(pathname)) {\n        // image\n        e = doc.createElement('img');\n        e.src = pathStripped;\n      } else {\n        // javascript\n        e = doc.createElement('script');\n        e.src = path;\n        e.async = async === undefined ? true : async;\n      }\n\n      e.onload = e.onerror = e.onbeforeload = function (ev) {\n        var result = ev.type[0]; // treat empty stylesheets as failures to get around lack of onerror\n        // support in IE9-11\n\n        if (isLegacyIECss) {\n          try {\n            if (!e.sheet.cssText.length) result = 'e';\n          } catch (x) {\n            // sheets objects created from load errors don't allow access to\n            // `cssText` (unless error is Code:18 SecurityError)\n            if (x.code != 18) result = 'e';\n          }\n        } // handle retries in case of load failure\n\n\n        if (result == 'e') {\n          // increment counter\n          numTries += 1; // exit function and try again\n\n          if (numTries < maxTries) {\n            return loadFile(path, callbackFn, args, numTries);\n          }\n        } else if (e.rel == 'preload' && e.as == 'style') {\n          // activate preloaded stylesheets\n          return e.rel = 'stylesheet'; // jshint ignore:line\n        } // execute callback\n\n\n        callbackFn(path, result, ev.defaultPrevented);\n      }; // add to document (unless callback returns `false`)\n\n\n      if (beforeCallbackFn(path, e) !== false) doc.head.appendChild(e);\n    }\n    /**\n     * Load multiple files.\n     * @param {string[]} paths - The file paths\n     * @param {Function} callbackFn - The callback function\n     */\n\n\n    function loadFiles(paths, callbackFn, args) {\n      // listify paths\n      paths = paths.push ? paths : [paths];\n      var numWaiting = paths.length,\n          x = numWaiting,\n          pathsNotFound = [],\n          fn,\n          i; // define callback function\n\n      fn = function fn(path, result, defaultPrevented) {\n        // handle error\n        if (result == 'e') pathsNotFound.push(path); // handle beforeload event. If defaultPrevented then that means the load\n        // will be blocked (ex. Ghostery/ABP on Safari)\n\n        if (result == 'b') {\n          if (defaultPrevented) pathsNotFound.push(path);else return;\n        }\n\n        numWaiting--;\n        if (!numWaiting) callbackFn(pathsNotFound);\n      }; // load scripts\n\n\n      for (i = 0; i < x; i++) {\n        loadFile(paths[i], fn, args);\n      }\n    }\n    /**\n     * Initiate script load and register bundle.\n     * @param {(string|string[])} paths - The file paths\n     * @param {(string|Function|Object)} [arg1] - The (1) bundleId or (2) success\n     *   callback or (3) object literal with success/error arguments, numRetries,\n     *   etc.\n     * @param {(Function|Object)} [arg2] - The (1) success callback or (2) object\n     *   literal with success/error arguments, numRetries, etc.\n     */\n\n\n    function loadjs(paths, arg1, arg2) {\n      var bundleId, args; // bundleId (if string)\n\n      if (arg1 && arg1.trim) bundleId = arg1; // args (default is {})\n\n      args = (bundleId ? arg2 : arg1) || {}; // throw error if bundle is already defined\n\n      if (bundleId) {\n        if (bundleId in bundleIdCache) {\n          throw \"LoadJS\";\n        } else {\n          bundleIdCache[bundleId] = true;\n        }\n      }\n\n      function loadFn(resolve, reject) {\n        loadFiles(paths, function (pathsNotFound) {\n          // execute callbacks\n          executeCallbacks(args, pathsNotFound); // resolve Promise\n\n          if (resolve) {\n            executeCallbacks({\n              success: resolve,\n              error: reject\n            }, pathsNotFound);\n          } // publish bundle load event\n\n\n          publish(bundleId, pathsNotFound);\n        }, args);\n      }\n\n      if (args.returnPromise) return new Promise(loadFn);else loadFn();\n    }\n    /**\n     * Execute callbacks when dependencies have been satisfied.\n     * @param {(string|string[])} deps - List of bundle ids\n     * @param {Object} args - success/error arguments\n     */\n\n\n    loadjs.ready = function ready(deps, args) {\n      // subscribe to bundle load event\n      subscribe(deps, function (depsNotFound) {\n        // execute callbacks\n        executeCallbacks(args, depsNotFound);\n      });\n      return loadjs;\n    };\n    /**\n     * Manually satisfy bundle dependencies.\n     * @param {string} bundleId - The bundle id\n     */\n\n\n    loadjs.done = function done(bundleId) {\n      publish(bundleId, []);\n    };\n    /**\n     * Reset loadjs dependencies statuses\n     */\n\n\n    loadjs.reset = function reset() {\n      bundleIdCache = {};\n      bundleResultCache = {};\n      bundleCallbackQueue = {};\n    };\n    /**\n     * Determine if bundle has already been defined\n     * @param String} bundleId - The bundle id\n     */\n\n\n    loadjs.isDefined = function isDefined(bundleId) {\n      return bundleId in bundleIdCache;\n    }; // export\n\n\n    return loadjs;\n  });\n});\n\nfunction loadScript(url) {\n  return new Promise(function (resolve, reject) {\n    loadjs_umd(url, {\n      success: resolve,\n      error: reject\n    });\n  });\n}\n\nfunction parseId(url) {\n  if (is$1.empty(url)) {\n    return null;\n  }\n\n  if (is$1.number(Number(url))) {\n    return url;\n  }\n\n  var regex = /^.*(vimeo.com\\/|video\\/)(\\d+).*/;\n  return url.match(regex) ? RegExp.$2 : url;\n} // Set playback state and trigger change (only on actual change)\n\n\nfunction assurePlaybackState(play) {\n  if (play && !this.embed.hasPlayed) {\n    this.embed.hasPlayed = true;\n  }\n\n  if (this.media.paused === play) {\n    this.media.paused = !play;\n    triggerEvent.call(this, this.media, play ? 'play' : 'pause');\n  }\n}\n\nvar vimeo = {\n  setup: function setup() {\n    var player = this; // Add embed class for responsive\n\n    toggleClass(player.elements.wrapper, player.config.classNames.embed, true); // Set speed options from config\n\n    player.options.speed = player.config.speed.options; // Set intial ratio\n\n    setAspectRatio.call(player); // Load the SDK if not already\n\n    if (!is$1.object(window.Vimeo)) {\n      loadScript(player.config.urls.vimeo.sdk).then(function () {\n        vimeo.ready.call(player);\n      }).catch(function (error) {\n        player.debug.warn('Vimeo SDK (player.js) failed to load', error);\n      });\n    } else {\n      vimeo.ready.call(player);\n    }\n  },\n  // API Ready\n  ready: function ready() {\n    var _this = this;\n\n    var player = this;\n    var config = player.config.vimeo;\n\n    var premium = config.premium,\n        referrerPolicy = config.referrerPolicy,\n        frameParams = _objectWithoutProperties(config, [\"premium\", \"referrerPolicy\"]); // If the owner has a pro or premium account then we can hide controls etc\n\n\n    if (premium) {\n      Object.assign(frameParams, {\n        controls: false,\n        sidedock: false\n      });\n    } // Get Vimeo params for the iframe\n\n\n    var params = buildUrlParams(_objectSpread2({\n      loop: player.config.loop.active,\n      autoplay: player.autoplay,\n      muted: player.muted,\n      gesture: 'media',\n      playsinline: !this.config.fullscreen.iosNative\n    }, frameParams)); // Get the source URL or ID\n\n    var source = player.media.getAttribute('src'); // Get from <div> if needed\n\n    if (is$1.empty(source)) {\n      source = player.media.getAttribute(player.config.attributes.embed.id);\n    }\n\n    var id = parseId(source); // Build an iframe\n\n    var iframe = createElement('iframe');\n    var src = format(player.config.urls.vimeo.iframe, id, params);\n    iframe.setAttribute('src', src);\n    iframe.setAttribute('allowfullscreen', '');\n    iframe.setAttribute('allow', 'autoplay,fullscreen,picture-in-picture'); // Set the referrer policy if required\n\n    if (!is$1.empty(referrerPolicy)) {\n      iframe.setAttribute('referrerPolicy', referrerPolicy);\n    } // Inject the package\n\n\n    var poster = player.poster;\n\n    if (premium) {\n      iframe.setAttribute('data-poster', poster);\n      player.media = replaceElement(iframe, player.media);\n    } else {\n      var wrapper = createElement('div', {\n        class: player.config.classNames.embedContainer,\n        'data-poster': poster\n      });\n      wrapper.appendChild(iframe);\n      player.media = replaceElement(wrapper, player.media);\n    } // Get poster image\n\n\n    fetch(format(player.config.urls.vimeo.api, id), 'json').then(function (response) {\n      if (is$1.empty(response)) {\n        return;\n      } // Get the URL for thumbnail\n\n\n      var url = new URL(response[0].thumbnail_large); // Get original image\n\n      url.pathname = \"\".concat(url.pathname.split('_')[0], \".jpg\"); // Set and show poster\n\n      ui.setPoster.call(player, url.href).catch(function () {});\n    }); // Setup instance\n    // https://github.com/vimeo/player.js\n\n    player.embed = new window.Vimeo.Player(iframe, {\n      autopause: player.config.autopause,\n      muted: player.muted\n    });\n    player.media.paused = true;\n    player.media.currentTime = 0; // Disable native text track rendering\n\n    if (player.supported.ui) {\n      player.embed.disableTextTrack();\n    } // Create a faux HTML5 API using the Vimeo API\n\n\n    player.media.play = function () {\n      assurePlaybackState.call(player, true);\n      return player.embed.play();\n    };\n\n    player.media.pause = function () {\n      assurePlaybackState.call(player, false);\n      return player.embed.pause();\n    };\n\n    player.media.stop = function () {\n      player.pause();\n      player.currentTime = 0;\n    }; // Seeking\n\n\n    var currentTime = player.media.currentTime;\n    Object.defineProperty(player.media, 'currentTime', {\n      get: function get() {\n        return currentTime;\n      },\n      set: function set(time) {\n        // Vimeo will automatically play on seek if the video hasn't been played before\n        // Get current paused state and volume etc\n        var embed = player.embed,\n            media = player.media,\n            paused = player.paused,\n            volume = player.volume;\n        var restorePause = paused && !embed.hasPlayed; // Set seeking state and trigger event\n\n        media.seeking = true;\n        triggerEvent.call(player, media, 'seeking'); // If paused, mute until seek is complete\n\n        Promise.resolve(restorePause && embed.setVolume(0)) // Seek\n        .then(function () {\n          return embed.setCurrentTime(time);\n        }) // Restore paused\n        .then(function () {\n          return restorePause && embed.pause();\n        }) // Restore volume\n        .then(function () {\n          return restorePause && embed.setVolume(volume);\n        }).catch(function () {// Do nothing\n        });\n      }\n    }); // Playback speed\n\n    var speed = player.config.speed.selected;\n    Object.defineProperty(player.media, 'playbackRate', {\n      get: function get() {\n        return speed;\n      },\n      set: function set(input) {\n        player.embed.setPlaybackRate(input).then(function () {\n          speed = input;\n          triggerEvent.call(player, player.media, 'ratechange');\n        }).catch(function () {\n          // Cannot set Playback Rate, Video is probably not on Pro account\n          player.options.speed = [1];\n        });\n      }\n    }); // Volume\n\n    var volume = player.config.volume;\n    Object.defineProperty(player.media, 'volume', {\n      get: function get() {\n        return volume;\n      },\n      set: function set(input) {\n        player.embed.setVolume(input).then(function () {\n          volume = input;\n          triggerEvent.call(player, player.media, 'volumechange');\n        });\n      }\n    }); // Muted\n\n    var muted = player.config.muted;\n    Object.defineProperty(player.media, 'muted', {\n      get: function get() {\n        return muted;\n      },\n      set: function set(input) {\n        var toggle = is$1.boolean(input) ? input : false;\n        player.embed.setVolume(toggle ? 0 : player.config.volume).then(function () {\n          muted = toggle;\n          triggerEvent.call(player, player.media, 'volumechange');\n        });\n      }\n    }); // Loop\n\n    var loop = player.config.loop;\n    Object.defineProperty(player.media, 'loop', {\n      get: function get() {\n        return loop;\n      },\n      set: function set(input) {\n        var toggle = is$1.boolean(input) ? input : player.config.loop.active;\n        player.embed.setLoop(toggle).then(function () {\n          loop = toggle;\n        });\n      }\n    }); // Source\n\n    var currentSrc;\n    player.embed.getVideoUrl().then(function (value) {\n      currentSrc = value;\n      controls.setDownloadUrl.call(player);\n    }).catch(function (error) {\n      _this.debug.warn(error);\n    });\n    Object.defineProperty(player.media, 'currentSrc', {\n      get: function get() {\n        return currentSrc;\n      }\n    }); // Ended\n\n    Object.defineProperty(player.media, 'ended', {\n      get: function get() {\n        return player.currentTime === player.duration;\n      }\n    }); // Set aspect ratio based on video size\n\n    Promise.all([player.embed.getVideoWidth(), player.embed.getVideoHeight()]).then(function (dimensions) {\n      var _dimensions = _slicedToArray(dimensions, 2),\n          width = _dimensions[0],\n          height = _dimensions[1];\n\n      player.embed.ratio = [width, height];\n      setAspectRatio.call(_this);\n    }); // Set autopause\n\n    player.embed.setAutopause(player.config.autopause).then(function (state) {\n      player.config.autopause = state;\n    }); // Get title\n\n    player.embed.getVideoTitle().then(function (title) {\n      player.config.title = title;\n      ui.setTitle.call(_this);\n    }); // Get current time\n\n    player.embed.getCurrentTime().then(function (value) {\n      currentTime = value;\n      triggerEvent.call(player, player.media, 'timeupdate');\n    }); // Get duration\n\n    player.embed.getDuration().then(function (value) {\n      player.media.duration = value;\n      triggerEvent.call(player, player.media, 'durationchange');\n    }); // Get captions\n\n    player.embed.getTextTracks().then(function (tracks) {\n      player.media.textTracks = tracks;\n      captions.setup.call(player);\n    });\n    player.embed.on('cuechange', function (_ref) {\n      var _ref$cues = _ref.cues,\n          cues = _ref$cues === void 0 ? [] : _ref$cues;\n      var strippedCues = cues.map(function (cue) {\n        return stripHTML(cue.text);\n      });\n      captions.updateCues.call(player, strippedCues);\n    });\n    player.embed.on('loaded', function () {\n      // Assure state and events are updated on autoplay\n      player.embed.getPaused().then(function (paused) {\n        assurePlaybackState.call(player, !paused);\n\n        if (!paused) {\n          triggerEvent.call(player, player.media, 'playing');\n        }\n      });\n\n      if (is$1.element(player.embed.element) && player.supported.ui) {\n        var frame = player.embed.element; // Fix keyboard focus issues\n        // https://github.com/sampotts/plyr/issues/317\n\n        frame.setAttribute('tabindex', -1);\n      }\n    });\n    player.embed.on('bufferstart', function () {\n      triggerEvent.call(player, player.media, 'waiting');\n    });\n    player.embed.on('bufferend', function () {\n      triggerEvent.call(player, player.media, 'playing');\n    });\n    player.embed.on('play', function () {\n      assurePlaybackState.call(player, true);\n      triggerEvent.call(player, player.media, 'playing');\n    });\n    player.embed.on('pause', function () {\n      assurePlaybackState.call(player, false);\n    });\n    player.embed.on('timeupdate', function (data) {\n      player.media.seeking = false;\n      currentTime = data.seconds;\n      triggerEvent.call(player, player.media, 'timeupdate');\n    });\n    player.embed.on('progress', function (data) {\n      player.media.buffered = data.percent;\n      triggerEvent.call(player, player.media, 'progress'); // Check all loaded\n\n      if (parseInt(data.percent, 10) === 1) {\n        triggerEvent.call(player, player.media, 'canplaythrough');\n      } // Get duration as if we do it before load, it gives an incorrect value\n      // https://github.com/sampotts/plyr/issues/891\n\n\n      player.embed.getDuration().then(function (value) {\n        if (value !== player.media.duration) {\n          player.media.duration = value;\n          triggerEvent.call(player, player.media, 'durationchange');\n        }\n      });\n    });\n    player.embed.on('seeked', function () {\n      player.media.seeking = false;\n      triggerEvent.call(player, player.media, 'seeked');\n    });\n    player.embed.on('ended', function () {\n      player.media.paused = true;\n      triggerEvent.call(player, player.media, 'ended');\n    });\n    player.embed.on('error', function (detail) {\n      player.media.error = detail;\n      triggerEvent.call(player, player.media, 'error');\n    }); // Rebuild UI\n\n    setTimeout(function () {\n      return ui.build.call(player);\n    }, 0);\n  }\n};\n\nfunction parseId$1(url) {\n  if (is$1.empty(url)) {\n    return null;\n  }\n\n  var regex = /^.*(youtu.be\\/|v\\/|u\\/\\w\\/|embed\\/|watch\\?v=|&v=)([^#&?]*).*/;\n  return url.match(regex) ? RegExp.$2 : url;\n} // Set playback state and trigger change (only on actual change)\n\n\nfunction assurePlaybackState$1(play) {\n  if (play && !this.embed.hasPlayed) {\n    this.embed.hasPlayed = true;\n  }\n\n  if (this.media.paused === play) {\n    this.media.paused = !play;\n    triggerEvent.call(this, this.media, play ? 'play' : 'pause');\n  }\n}\n\nfunction getHost$1(config) {\n  if (config.noCookie) {\n    return 'https://www.youtube-nocookie.com';\n  }\n\n  if (window.location.protocol === 'http:') {\n    return 'http://www.youtube.com';\n  } // Use YouTube's default\n\n\n  return undefined;\n}\n\nvar youtube = {\n  setup: function setup() {\n    var _this = this;\n\n    // Add embed class for responsive\n    toggleClass(this.elements.wrapper, this.config.classNames.embed, true); // Setup API\n\n    if (is$1.object(window.YT) && is$1.function(window.YT.Player)) {\n      youtube.ready.call(this);\n    } else {\n      // Reference current global callback\n      var callback = window.onYouTubeIframeAPIReady; // Set callback to process queue\n\n      window.onYouTubeIframeAPIReady = function () {\n        // Call global callback if set\n        if (is$1.function(callback)) {\n          callback();\n        }\n\n        youtube.ready.call(_this);\n      }; // Load the SDK\n\n\n      loadScript(this.config.urls.youtube.sdk).catch(function (error) {\n        _this.debug.warn('YouTube API failed to load', error);\n      });\n    }\n  },\n  // Get the media title\n  getTitle: function getTitle(videoId) {\n    var _this2 = this;\n\n    var url = format(this.config.urls.youtube.api, videoId);\n    fetch(url).then(function (data) {\n      if (is$1.object(data)) {\n        var title = data.title,\n            height = data.height,\n            width = data.width; // Set title\n\n        _this2.config.title = title;\n        ui.setTitle.call(_this2); // Set aspect ratio\n\n        _this2.embed.ratio = [width, height];\n      }\n\n      setAspectRatio.call(_this2);\n    }).catch(function () {\n      // Set aspect ratio\n      setAspectRatio.call(_this2);\n    });\n  },\n  // API ready\n  ready: function ready() {\n    var player = this; // Ignore already setup (race condition)\n\n    var currentId = player.media && player.media.getAttribute('id');\n\n    if (!is$1.empty(currentId) && currentId.startsWith('youtube-')) {\n      return;\n    } // Get the source URL or ID\n\n\n    var source = player.media.getAttribute('src'); // Get from <div> if needed\n\n    if (is$1.empty(source)) {\n      source = player.media.getAttribute(this.config.attributes.embed.id);\n    } // Replace the <iframe> with a <div> due to YouTube API issues\n\n\n    var videoId = parseId$1(source);\n    var id = generateId(player.provider); // Get poster, if already set\n\n    var poster = player.poster; // Replace media element\n\n    var container = createElement('div', {\n      id: id,\n      'data-poster': poster\n    });\n    player.media = replaceElement(container, player.media); // Id to poster wrapper\n\n    var posterSrc = function posterSrc(s) {\n      return \"https://i.ytimg.com/vi/\".concat(videoId, \"/\").concat(s, \"default.jpg\");\n    }; // Check thumbnail images in order of quality, but reject fallback thumbnails (120px wide)\n\n\n    loadImage(posterSrc('maxres'), 121) // Higest quality and unpadded\n    .catch(function () {\n      return loadImage(posterSrc('sd'), 121);\n    }) // 480p padded 4:3\n    .catch(function () {\n      return loadImage(posterSrc('hq'));\n    }) // 360p padded 4:3. Always exists\n    .then(function (image) {\n      return ui.setPoster.call(player, image.src);\n    }).then(function (src) {\n      // If the image is padded, use background-size \"cover\" instead (like youtube does too with their posters)\n      if (!src.includes('maxres')) {\n        player.elements.poster.style.backgroundSize = 'cover';\n      }\n    }).catch(function () {});\n    var config = player.config.youtube; // Setup instance\n    // https://developers.google.com/youtube/iframe_api_reference\n\n    player.embed = new window.YT.Player(id, {\n      videoId: videoId,\n      host: getHost$1(config),\n      playerVars: extend({}, {\n        autoplay: player.config.autoplay ? 1 : 0,\n        // Autoplay\n        hl: player.config.hl,\n        // iframe interface language\n        controls: player.supported.ui ? 0 : 1,\n        // Only show controls if not fully supported\n        disablekb: 1,\n        // Disable keyboard as we handle it\n        playsinline: !player.config.fullscreen.iosNative ? 1 : 0,\n        // Allow iOS inline playback\n        // Captions are flaky on YouTube\n        cc_load_policy: player.captions.active ? 1 : 0,\n        cc_lang_pref: player.config.captions.language,\n        // Tracking for stats\n        widget_referrer: window ? window.location.href : null\n      }, config),\n      events: {\n        onError: function onError(event) {\n          // YouTube may fire onError twice, so only handle it once\n          if (!player.media.error) {\n            var code = event.data; // Messages copied from https://developers.google.com/youtube/iframe_api_reference#onError\n\n            var message = {\n              2: 'The request contains an invalid parameter value. For example, this error occurs if you specify a video ID that does not have 11 characters, or if the video ID contains invalid characters, such as exclamation points or asterisks.',\n              5: 'The requested content cannot be played in an HTML5 player or another error related to the HTML5 player has occurred.',\n              100: 'The video requested was not found. This error occurs when a video has been removed (for any reason) or has been marked as private.',\n              101: 'The owner of the requested video does not allow it to be played in embedded players.',\n              150: 'The owner of the requested video does not allow it to be played in embedded players.'\n            }[code] || 'An unknown error occured';\n            player.media.error = {\n              code: code,\n              message: message\n            };\n            triggerEvent.call(player, player.media, 'error');\n          }\n        },\n        onPlaybackRateChange: function onPlaybackRateChange(event) {\n          // Get the instance\n          var instance = event.target; // Get current speed\n\n          player.media.playbackRate = instance.getPlaybackRate();\n          triggerEvent.call(player, player.media, 'ratechange');\n        },\n        onReady: function onReady(event) {\n          // Bail if onReady has already been called. See issue #1108\n          if (is$1.function(player.media.play)) {\n            return;\n          } // Get the instance\n\n\n          var instance = event.target; // Get the title\n\n          youtube.getTitle.call(player, videoId); // Create a faux HTML5 API using the YouTube API\n\n          player.media.play = function () {\n            assurePlaybackState$1.call(player, true);\n            instance.playVideo();\n          };\n\n          player.media.pause = function () {\n            assurePlaybackState$1.call(player, false);\n            instance.pauseVideo();\n          };\n\n          player.media.stop = function () {\n            instance.stopVideo();\n          };\n\n          player.media.duration = instance.getDuration();\n          player.media.paused = true; // Seeking\n\n          player.media.currentTime = 0;\n          Object.defineProperty(player.media, 'currentTime', {\n            get: function get() {\n              return Number(instance.getCurrentTime());\n            },\n            set: function set(time) {\n              // If paused and never played, mute audio preventively (YouTube starts playing on seek if the video hasn't been played yet).\n              if (player.paused && !player.embed.hasPlayed) {\n                player.embed.mute();\n              } // Set seeking state and trigger event\n\n\n              player.media.seeking = true;\n              triggerEvent.call(player, player.media, 'seeking'); // Seek after events sent\n\n              instance.seekTo(time);\n            }\n          }); // Playback speed\n\n          Object.defineProperty(player.media, 'playbackRate', {\n            get: function get() {\n              return instance.getPlaybackRate();\n            },\n            set: function set(input) {\n              instance.setPlaybackRate(input);\n            }\n          }); // Volume\n\n          var volume = player.config.volume;\n          Object.defineProperty(player.media, 'volume', {\n            get: function get() {\n              return volume;\n            },\n            set: function set(input) {\n              volume = input;\n              instance.setVolume(volume * 100);\n              triggerEvent.call(player, player.media, 'volumechange');\n            }\n          }); // Muted\n\n          var muted = player.config.muted;\n          Object.defineProperty(player.media, 'muted', {\n            get: function get() {\n              return muted;\n            },\n            set: function set(input) {\n              var toggle = is$1.boolean(input) ? input : muted;\n              muted = toggle;\n              instance[toggle ? 'mute' : 'unMute']();\n              triggerEvent.call(player, player.media, 'volumechange');\n            }\n          }); // Source\n\n          Object.defineProperty(player.media, 'currentSrc', {\n            get: function get() {\n              return instance.getVideoUrl();\n            }\n          }); // Ended\n\n          Object.defineProperty(player.media, 'ended', {\n            get: function get() {\n              return player.currentTime === player.duration;\n            }\n          }); // Get available speeds\n\n          var speeds = instance.getAvailablePlaybackRates(); // Filter based on config\n\n          player.options.speed = speeds.filter(function (s) {\n            return player.config.speed.options.includes(s);\n          }); // Set the tabindex to avoid focus entering iframe\n\n          if (player.supported.ui) {\n            player.media.setAttribute('tabindex', -1);\n          }\n\n          triggerEvent.call(player, player.media, 'timeupdate');\n          triggerEvent.call(player, player.media, 'durationchange'); // Reset timer\n\n          clearInterval(player.timers.buffering); // Setup buffering\n\n          player.timers.buffering = setInterval(function () {\n            // Get loaded % from YouTube\n            player.media.buffered = instance.getVideoLoadedFraction(); // Trigger progress only when we actually buffer something\n\n            if (player.media.lastBuffered === null || player.media.lastBuffered < player.media.buffered) {\n              triggerEvent.call(player, player.media, 'progress');\n            } // Set last buffer point\n\n\n            player.media.lastBuffered = player.media.buffered; // Bail if we're at 100%\n\n            if (player.media.buffered === 1) {\n              clearInterval(player.timers.buffering); // Trigger event\n\n              triggerEvent.call(player, player.media, 'canplaythrough');\n            }\n          }, 200); // Rebuild UI\n\n          setTimeout(function () {\n            return ui.build.call(player);\n          }, 50);\n        },\n        onStateChange: function onStateChange(event) {\n          // Get the instance\n          var instance = event.target; // Reset timer\n\n          clearInterval(player.timers.playing);\n          var seeked = player.media.seeking && [1, 2].includes(event.data);\n\n          if (seeked) {\n            // Unset seeking and fire seeked event\n            player.media.seeking = false;\n            triggerEvent.call(player, player.media, 'seeked');\n          } // Handle events\n          // -1   Unstarted\n          // 0    Ended\n          // 1    Playing\n          // 2    Paused\n          // 3    Buffering\n          // 5    Video cued\n\n\n          switch (event.data) {\n            case -1:\n              // Update scrubber\n              triggerEvent.call(player, player.media, 'timeupdate'); // Get loaded % from YouTube\n\n              player.media.buffered = instance.getVideoLoadedFraction();\n              triggerEvent.call(player, player.media, 'progress');\n              break;\n\n            case 0:\n              assurePlaybackState$1.call(player, false); // YouTube doesn't support loop for a single video, so mimick it.\n\n              if (player.media.loop) {\n                // YouTube needs a call to `stopVideo` before playing again\n                instance.stopVideo();\n                instance.playVideo();\n              } else {\n                triggerEvent.call(player, player.media, 'ended');\n              }\n\n              break;\n\n            case 1:\n              // Restore paused state (YouTube starts playing on seek if the video hasn't been played yet)\n              if (!player.config.autoplay && player.media.paused && !player.embed.hasPlayed) {\n                player.media.pause();\n              } else {\n                assurePlaybackState$1.call(player, true);\n                triggerEvent.call(player, player.media, 'playing'); // Poll to get playback progress\n\n                player.timers.playing = setInterval(function () {\n                  triggerEvent.call(player, player.media, 'timeupdate');\n                }, 50); // Check duration again due to YouTube bug\n                // https://github.com/sampotts/plyr/issues/374\n                // https://code.google.com/p/gdata-issues/issues/detail?id=8690\n\n                if (player.media.duration !== instance.getDuration()) {\n                  player.media.duration = instance.getDuration();\n                  triggerEvent.call(player, player.media, 'durationchange');\n                }\n              }\n\n              break;\n\n            case 2:\n              // Restore audio (YouTube starts playing on seek if the video hasn't been played yet)\n              if (!player.muted) {\n                player.embed.unMute();\n              }\n\n              assurePlaybackState$1.call(player, false);\n              break;\n\n            case 3:\n              // Trigger waiting event to add loading classes to container as the video buffers.\n              triggerEvent.call(player, player.media, 'waiting');\n              break;\n          }\n\n          triggerEvent.call(player, player.elements.container, 'statechange', false, {\n            code: event.data\n          });\n        }\n      }\n    });\n  }\n};\n\nvar media = {\n  // Setup media\n  setup: function setup() {\n    // If there's no media, bail\n    if (!this.media) {\n      this.debug.warn('No media element found!');\n      return;\n    } // Add type class\n\n\n    toggleClass(this.elements.container, this.config.classNames.type.replace('{0}', this.type), true); // Add provider class\n\n    toggleClass(this.elements.container, this.config.classNames.provider.replace('{0}', this.provider), true); // Add video class for embeds\n    // This will require changes if audio embeds are added\n\n    if (this.isEmbed) {\n      toggleClass(this.elements.container, this.config.classNames.type.replace('{0}', 'video'), true);\n    } // Inject the player wrapper\n\n\n    if (this.isVideo) {\n      // Create the wrapper div\n      this.elements.wrapper = createElement('div', {\n        class: this.config.classNames.video\n      }); // Wrap the video in a container\n\n      wrap$1(this.media, this.elements.wrapper); // Poster image container\n\n      this.elements.poster = createElement('div', {\n        class: this.config.classNames.poster\n      });\n      this.elements.wrapper.appendChild(this.elements.poster);\n    }\n\n    if (this.isHTML5) {\n      html5.setup.call(this);\n    } else if (this.isYouTube) {\n      youtube.setup.call(this);\n    } else if (this.isVimeo) {\n      vimeo.setup.call(this);\n    }\n  }\n};\n\nvar destroy = function destroy(instance) {\n  // Destroy our adsManager\n  if (instance.manager) {\n    instance.manager.destroy();\n  } // Destroy our adsManager\n\n\n  if (instance.elements.displayContainer) {\n    instance.elements.displayContainer.destroy();\n  }\n\n  instance.elements.container.remove();\n};\n\nvar Ads = /*#__PURE__*/function () {\n  /**\n   * Ads constructor.\n   * @param {Object} player\n   * @return {Ads}\n   */\n  function Ads(player) {\n    var _this = this;\n\n    _classCallCheck(this, Ads);\n\n    this.player = player;\n    this.config = player.config.ads;\n    this.playing = false;\n    this.initialized = false;\n    this.elements = {\n      container: null,\n      displayContainer: null\n    };\n    this.manager = null;\n    this.loader = null;\n    this.cuePoints = null;\n    this.events = {};\n    this.safetyTimer = null;\n    this.countdownTimer = null; // Setup a promise to resolve when the IMA manager is ready\n\n    this.managerPromise = new Promise(function (resolve, reject) {\n      // The ad is loaded and ready\n      _this.on('loaded', resolve); // Ads failed\n\n\n      _this.on('error', reject);\n    });\n    this.load();\n  }\n\n  _createClass(Ads, [{\n    key: \"load\",\n\n    /**\n     * Load the IMA SDK\n     */\n    value: function load() {\n      var _this2 = this;\n\n      if (!this.enabled) {\n        return;\n      } // Check if the Google IMA3 SDK is loaded or load it ourselves\n\n\n      if (!is$1.object(window.google) || !is$1.object(window.google.ima)) {\n        loadScript(this.player.config.urls.googleIMA.sdk).then(function () {\n          _this2.ready();\n        }).catch(function () {\n          // Script failed to load or is blocked\n          _this2.trigger('error', new Error('Google IMA SDK failed to load'));\n        });\n      } else {\n        this.ready();\n      }\n    }\n    /**\n     * Get the ads instance ready\n     */\n\n  }, {\n    key: \"ready\",\n    value: function ready() {\n      var _this3 = this;\n\n      // Double check we're enabled\n      if (!this.enabled) {\n        destroy(this);\n      } // Start ticking our safety timer. If the whole advertisement\n      // thing doesn't resolve within our set time; we bail\n\n\n      this.startSafetyTimer(12000, 'ready()'); // Clear the safety timer\n\n      this.managerPromise.then(function () {\n        _this3.clearSafetyTimer('onAdsManagerLoaded()');\n      }); // Set listeners on the Plyr instance\n\n      this.listeners(); // Setup the IMA SDK\n\n      this.setupIMA();\n    } // Build the tag URL\n\n  }, {\n    key: \"setupIMA\",\n\n    /**\n     * In order for the SDK to display ads for our video, we need to tell it where to put them,\n     * so here we define our ad container. This div is set up to render on top of the video player.\n     * Using the code below, we tell the SDK to render ads within that div. We also provide a\n     * handle to the content video player - the SDK will poll the current time of our player to\n     * properly place mid-rolls. After we create the ad display container, we initialize it. On\n     * mobile devices, this initialization is done as the result of a user action.\n     */\n    value: function setupIMA() {\n      var _this4 = this;\n\n      // Create the container for our advertisements\n      this.elements.container = createElement('div', {\n        class: this.player.config.classNames.ads\n      });\n      this.player.elements.container.appendChild(this.elements.container); // So we can run VPAID2\n\n      google.ima.settings.setVpaidMode(google.ima.ImaSdkSettings.VpaidMode.ENABLED); // Set language\n\n      google.ima.settings.setLocale(this.player.config.ads.language); // Set playback for iOS10+\n\n      google.ima.settings.setDisableCustomPlaybackForIOS10Plus(this.player.config.playsinline); // We assume the adContainer is the video container of the plyr element that will house the ads\n\n      this.elements.displayContainer = new google.ima.AdDisplayContainer(this.elements.container, this.player.media); // Create ads loader\n\n      this.loader = new google.ima.AdsLoader(this.elements.displayContainer); // Listen and respond to ads loaded and error events\n\n      this.loader.addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED, function (event) {\n        return _this4.onAdsManagerLoaded(event);\n      }, false);\n      this.loader.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR, function (error) {\n        return _this4.onAdError(error);\n      }, false); // Request video ads to be pre-loaded\n\n      this.requestAds();\n    }\n    /**\n     * Request advertisements\n     */\n\n  }, {\n    key: \"requestAds\",\n    value: function requestAds() {\n      var container = this.player.elements.container;\n\n      try {\n        // Request video ads\n        var request = new google.ima.AdsRequest();\n        request.adTagUrl = this.tagUrl; // Specify the linear and nonlinear slot sizes. This helps the SDK\n        // to select the correct creative if multiple are returned\n\n        request.linearAdSlotWidth = container.offsetWidth;\n        request.linearAdSlotHeight = container.offsetHeight;\n        request.nonLinearAdSlotWidth = container.offsetWidth;\n        request.nonLinearAdSlotHeight = container.offsetHeight; // We only overlay ads as we only support video.\n\n        request.forceNonLinearFullSlot = false; // Mute based on current state\n\n        request.setAdWillPlayMuted(!this.player.muted);\n        this.loader.requestAds(request);\n      } catch (e) {\n        this.onAdError(e);\n      }\n    }\n    /**\n     * Update the ad countdown\n     * @param {Boolean} start\n     */\n\n  }, {\n    key: \"pollCountdown\",\n    value: function pollCountdown() {\n      var _this5 = this;\n\n      var start = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n      if (!start) {\n        clearInterval(this.countdownTimer);\n        this.elements.container.removeAttribute('data-badge-text');\n        return;\n      }\n\n      var update = function update() {\n        var time = formatTime(Math.max(_this5.manager.getRemainingTime(), 0));\n        var label = \"\".concat(i18n.get('advertisement', _this5.player.config), \" - \").concat(time);\n\n        _this5.elements.container.setAttribute('data-badge-text', label);\n      };\n\n      this.countdownTimer = setInterval(update, 100);\n    }\n    /**\n     * This method is called whenever the ads are ready inside the AdDisplayContainer\n     * @param {Event} adsManagerLoadedEvent\n     */\n\n  }, {\n    key: \"onAdsManagerLoaded\",\n    value: function onAdsManagerLoaded(event) {\n      var _this6 = this;\n\n      // Load could occur after a source change (race condition)\n      if (!this.enabled) {\n        return;\n      } // Get the ads manager\n\n\n      var settings = new google.ima.AdsRenderingSettings(); // Tell the SDK to save and restore content video state on our behalf\n\n      settings.restoreCustomPlaybackStateOnAdBreakComplete = true;\n      settings.enablePreloading = true; // The SDK is polling currentTime on the contentPlayback. And needs a duration\n      // so it can determine when to start the mid- and post-roll\n\n      this.manager = event.getAdsManager(this.player, settings); // Get the cue points for any mid-rolls by filtering out the pre- and post-roll\n\n      this.cuePoints = this.manager.getCuePoints(); // Add listeners to the required events\n      // Advertisement error events\n\n      this.manager.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR, function (error) {\n        return _this6.onAdError(error);\n      }); // Advertisement regular events\n\n      Object.keys(google.ima.AdEvent.Type).forEach(function (type) {\n        _this6.manager.addEventListener(google.ima.AdEvent.Type[type], function (e) {\n          return _this6.onAdEvent(e);\n        });\n      }); // Resolve our adsManager\n\n      this.trigger('loaded');\n    }\n  }, {\n    key: \"addCuePoints\",\n    value: function addCuePoints() {\n      var _this7 = this;\n\n      // Add advertisement cue's within the time line if available\n      if (!is$1.empty(this.cuePoints)) {\n        this.cuePoints.forEach(function (cuePoint) {\n          if (cuePoint !== 0 && cuePoint !== -1 && cuePoint < _this7.player.duration) {\n            var seekElement = _this7.player.elements.progress;\n\n            if (is$1.element(seekElement)) {\n              var cuePercentage = 100 / _this7.player.duration * cuePoint;\n              var cue = createElement('span', {\n                class: _this7.player.config.classNames.cues\n              });\n              cue.style.left = \"\".concat(cuePercentage.toString(), \"%\");\n              seekElement.appendChild(cue);\n            }\n          }\n        });\n      }\n    }\n    /**\n     * This is where all the event handling takes place. Retrieve the ad from the event. Some\n     * events (e.g. ALL_ADS_COMPLETED) don't have the ad object associated\n     * https://developers.google.com/interactive-media-ads/docs/sdks/html5/v3/apis#ima.AdEvent.Type\n     * @param {Event} event\n     */\n\n  }, {\n    key: \"onAdEvent\",\n    value: function onAdEvent(event) {\n      var _this8 = this;\n\n      var container = this.player.elements.container; // Retrieve the ad from the event. Some events (e.g. ALL_ADS_COMPLETED)\n      // don't have ad object associated\n\n      var ad = event.getAd();\n      var adData = event.getAdData(); // Proxy event\n\n      var dispatchEvent = function dispatchEvent(type) {\n        triggerEvent.call(_this8.player, _this8.player.media, \"ads\".concat(type.replace(/_/g, '').toLowerCase()));\n      }; // Bubble the event\n\n\n      dispatchEvent(event.type);\n\n      switch (event.type) {\n        case google.ima.AdEvent.Type.LOADED:\n          // This is the first event sent for an ad - it is possible to determine whether the\n          // ad is a video ad or an overlay\n          this.trigger('loaded'); // Start countdown\n\n          this.pollCountdown(true);\n\n          if (!ad.isLinear()) {\n            // Position AdDisplayContainer correctly for overlay\n            ad.width = container.offsetWidth;\n            ad.height = container.offsetHeight;\n          } // console.info('Ad type: ' + event.getAd().getAdPodInfo().getPodIndex());\n          // console.info('Ad time: ' + event.getAd().getAdPodInfo().getTimeOffset());\n\n\n          break;\n\n        case google.ima.AdEvent.Type.STARTED:\n          // Set volume to match player\n          this.manager.setVolume(this.player.volume);\n          break;\n\n        case google.ima.AdEvent.Type.ALL_ADS_COMPLETED:\n          // All ads for the current videos are done. We can now request new advertisements\n          // in case the video is re-played\n          // TODO: Example for what happens when a next video in a playlist would be loaded.\n          // So here we load a new video when all ads are done.\n          // Then we load new ads within a new adsManager. When the video\n          // Is started - after - the ads are loaded, then we get ads.\n          // You can also easily test cancelling and reloading by running\n          // player.ads.cancel() and player.ads.play from the console I guess.\n          // this.player.source = {\n          //     type: 'video',\n          //     title: 'View From A Blue Moon',\n          //     sources: [{\n          //         src:\n          // 'https://cdn.plyr.io/static/demo/View_From_A_Blue_Moon_Trailer-HD.mp4', type:\n          // 'video/mp4', }], poster:\n          // 'https://cdn.plyr.io/static/demo/View_From_A_Blue_Moon_Trailer-HD.jpg', tracks:\n          // [ { kind: 'captions', label: 'English', srclang: 'en', src:\n          // 'https://cdn.plyr.io/static/demo/View_From_A_Blue_Moon_Trailer-HD.en.vtt',\n          // default: true, }, { kind: 'captions', label: 'French', srclang: 'fr', src:\n          // 'https://cdn.plyr.io/static/demo/View_From_A_Blue_Moon_Trailer-HD.fr.vtt', }, ],\n          // };\n          // TODO: So there is still this thing where a video should only be allowed to start\n          // playing when the IMA SDK is ready or has failed\n          if (this.player.ended) {\n            this.loadAds();\n          } else {\n            // The SDK won't allow new ads to be called without receiving a contentComplete()\n            this.loader.contentComplete();\n          }\n\n          break;\n\n        case google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED:\n          // This event indicates the ad has started - the video player can adjust the UI,\n          // for example display a pause button and remaining time. Fired when content should\n          // be paused. This usually happens right before an ad is about to cover the content\n          this.pauseContent();\n          break;\n\n        case google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED:\n          // This event indicates the ad has finished - the video player can perform\n          // appropriate UI actions, such as removing the timer for remaining time detection.\n          // Fired when content should be resumed. This usually happens when an ad finishes\n          // or collapses\n          this.pollCountdown();\n          this.resumeContent();\n          break;\n\n        case google.ima.AdEvent.Type.LOG:\n          if (adData.adError) {\n            this.player.debug.warn(\"Non-fatal ad error: \".concat(adData.adError.getMessage()));\n          }\n\n          break;\n      }\n    }\n    /**\n     * Any ad error handling comes through here\n     * @param {Event} event\n     */\n\n  }, {\n    key: \"onAdError\",\n    value: function onAdError(event) {\n      this.cancel();\n      this.player.debug.warn('Ads error', event);\n    }\n    /**\n     * Setup hooks for Plyr and window events. This ensures\n     * the mid- and post-roll launch at the correct time. And\n     * resize the advertisement when the player resizes\n     */\n\n  }, {\n    key: \"listeners\",\n    value: function listeners() {\n      var _this9 = this;\n\n      var container = this.player.elements.container;\n      var time;\n      this.player.on('canplay', function () {\n        _this9.addCuePoints();\n      });\n      this.player.on('ended', function () {\n        _this9.loader.contentComplete();\n      });\n      this.player.on('timeupdate', function () {\n        time = _this9.player.currentTime;\n      });\n      this.player.on('seeked', function () {\n        var seekedTime = _this9.player.currentTime;\n\n        if (is$1.empty(_this9.cuePoints)) {\n          return;\n        }\n\n        _this9.cuePoints.forEach(function (cuePoint, index) {\n          if (time < cuePoint && cuePoint < seekedTime) {\n            _this9.manager.discardAdBreak();\n\n            _this9.cuePoints.splice(index, 1);\n          }\n        });\n      }); // Listen to the resizing of the window. And resize ad accordingly\n      // TODO: eventually implement ResizeObserver\n\n      window.addEventListener('resize', function () {\n        if (_this9.manager) {\n          _this9.manager.resize(container.offsetWidth, container.offsetHeight, google.ima.ViewMode.NORMAL);\n        }\n      });\n    }\n    /**\n     * Initialize the adsManager and start playing advertisements\n     */\n\n  }, {\n    key: \"play\",\n    value: function play() {\n      var _this10 = this;\n\n      var container = this.player.elements.container;\n\n      if (!this.managerPromise) {\n        this.resumeContent();\n      } // Play the requested advertisement whenever the adsManager is ready\n\n\n      this.managerPromise.then(function () {\n        // Set volume to match player\n        _this10.manager.setVolume(_this10.player.volume); // Initialize the container. Must be done via a user action on mobile devices\n\n\n        _this10.elements.displayContainer.initialize();\n\n        try {\n          if (!_this10.initialized) {\n            // Initialize the ads manager. Ad rules playlist will start at this time\n            _this10.manager.init(container.offsetWidth, container.offsetHeight, google.ima.ViewMode.NORMAL); // Call play to start showing the ad. Single video and overlay ads will\n            // start at this time; the call will be ignored for ad rules\n\n\n            _this10.manager.start();\n          }\n\n          _this10.initialized = true;\n        } catch (adError) {\n          // An error may be thrown if there was a problem with the\n          // VAST response\n          _this10.onAdError(adError);\n        }\n      }).catch(function () {});\n    }\n    /**\n     * Resume our video\n     */\n\n  }, {\n    key: \"resumeContent\",\n    value: function resumeContent() {\n      // Hide the advertisement container\n      this.elements.container.style.zIndex = ''; // Ad is stopped\n\n      this.playing = false; // Play video\n\n      silencePromise(this.player.media.play());\n    }\n    /**\n     * Pause our video\n     */\n\n  }, {\n    key: \"pauseContent\",\n    value: function pauseContent() {\n      // Show the advertisement container\n      this.elements.container.style.zIndex = 3; // Ad is playing\n\n      this.playing = true; // Pause our video.\n\n      this.player.media.pause();\n    }\n    /**\n     * Destroy the adsManager so we can grab new ads after this. If we don't then we're not\n     * allowed to call new ads based on google policies, as they interpret this as an accidental\n     * video requests. https://developers.google.com/interactive-\n     * media-ads/docs/sdks/android/faq#8\n     */\n\n  }, {\n    key: \"cancel\",\n    value: function cancel() {\n      // Pause our video\n      if (this.initialized) {\n        this.resumeContent();\n      } // Tell our instance that we're done for now\n\n\n      this.trigger('error'); // Re-create our adsManager\n\n      this.loadAds();\n    }\n    /**\n     * Re-create our adsManager\n     */\n\n  }, {\n    key: \"loadAds\",\n    value: function loadAds() {\n      var _this11 = this;\n\n      // Tell our adsManager to go bye bye\n      this.managerPromise.then(function () {\n        // Destroy our adsManager\n        if (_this11.manager) {\n          _this11.manager.destroy();\n        } // Re-set our adsManager promises\n\n\n        _this11.managerPromise = new Promise(function (resolve) {\n          _this11.on('loaded', resolve);\n\n          _this11.player.debug.log(_this11.manager);\n        }); // Now that the manager has been destroyed set it to also be un-initialized\n\n        _this11.initialized = false; // Now request some new advertisements\n\n        _this11.requestAds();\n      }).catch(function () {});\n    }\n    /**\n     * Handles callbacks after an ad event was invoked\n     * @param {String} event - Event type\n     */\n\n  }, {\n    key: \"trigger\",\n    value: function trigger(event) {\n      var _this12 = this;\n\n      for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        args[_key - 1] = arguments[_key];\n      }\n\n      var handlers = this.events[event];\n\n      if (is$1.array(handlers)) {\n        handlers.forEach(function (handler) {\n          if (is$1.function(handler)) {\n            handler.apply(_this12, args);\n          }\n        });\n      }\n    }\n    /**\n     * Add event listeners\n     * @param {String} event - Event type\n     * @param {Function} callback - Callback for when event occurs\n     * @return {Ads}\n     */\n\n  }, {\n    key: \"on\",\n    value: function on(event, callback) {\n      if (!is$1.array(this.events[event])) {\n        this.events[event] = [];\n      }\n\n      this.events[event].push(callback);\n      return this;\n    }\n    /**\n     * Setup a safety timer for when the ad network doesn't respond for whatever reason.\n     * The advertisement has 12 seconds to get its things together. We stop this timer when the\n     * advertisement is playing, or when a user action is required to start, then we clear the\n     * timer on ad ready\n     * @param {Number} time\n     * @param {String} from\n     */\n\n  }, {\n    key: \"startSafetyTimer\",\n    value: function startSafetyTimer(time, from) {\n      var _this13 = this;\n\n      this.player.debug.log(\"Safety timer invoked from: \".concat(from));\n      this.safetyTimer = setTimeout(function () {\n        _this13.cancel();\n\n        _this13.clearSafetyTimer('startSafetyTimer()');\n      }, time);\n    }\n    /**\n     * Clear our safety timer(s)\n     * @param {String} from\n     */\n\n  }, {\n    key: \"clearSafetyTimer\",\n    value: function clearSafetyTimer(from) {\n      if (!is$1.nullOrUndefined(this.safetyTimer)) {\n        this.player.debug.log(\"Safety timer cleared from: \".concat(from));\n        clearTimeout(this.safetyTimer);\n        this.safetyTimer = null;\n      }\n    }\n  }, {\n    key: \"enabled\",\n    get: function get() {\n      var config = this.config;\n      return this.player.isHTML5 && this.player.isVideo && config.enabled && (!is$1.empty(config.publisherId) || is$1.url(config.tagUrl));\n    }\n  }, {\n    key: \"tagUrl\",\n    get: function get() {\n      var config = this.config;\n\n      if (is$1.url(config.tagUrl)) {\n        return config.tagUrl;\n      }\n\n      var params = {\n        AV_PUBLISHERID: '58c25bb0073ef448b1087ad6',\n        AV_CHANNELID: '5a0458dc28a06145e4519d21',\n        AV_URL: window.location.hostname,\n        cb: Date.now(),\n        AV_WIDTH: 640,\n        AV_HEIGHT: 480,\n        AV_CDIM2: config.publisherId\n      };\n      var base = 'https://go.aniview.com/api/adserver6/vast/';\n      return \"\".concat(base, \"?\").concat(buildUrlParams(params));\n    }\n  }]);\n\n  return Ads;\n}();\n\nvar $findIndex = arrayIteration.findIndex;\n\n\n\nvar FIND_INDEX = 'findIndex';\nvar SKIPS_HOLES$1 = true;\n\nvar USES_TO_LENGTH$b = arrayMethodUsesToLength(FIND_INDEX);\n\n// Shouldn't skip holes\nif (FIND_INDEX in []) Array(1)[FIND_INDEX](function () { SKIPS_HOLES$1 = false; });\n\n// `Array.prototype.findIndex` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.findindex\n_export({ target: 'Array', proto: true, forced: SKIPS_HOLES$1 || !USES_TO_LENGTH$b }, {\n  findIndex: function findIndex(callbackfn /* , that = undefined */) {\n    return $findIndex(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\n// https://tc39.github.io/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables(FIND_INDEX);\n\nvar min$6 = Math.min;\nvar nativeLastIndexOf = [].lastIndexOf;\nvar NEGATIVE_ZERO$1 = !!nativeLastIndexOf && 1 / [1].lastIndexOf(1, -0) < 0;\nvar STRICT_METHOD$6 = arrayMethodIsStrict('lastIndexOf');\n// For preventing possible almost infinite loop in non-standard implementations, test the forward version of the method\nvar USES_TO_LENGTH$c = arrayMethodUsesToLength('indexOf', { ACCESSORS: true, 1: 0 });\nvar FORCED$5 = NEGATIVE_ZERO$1 || !STRICT_METHOD$6 || !USES_TO_LENGTH$c;\n\n// `Array.prototype.lastIndexOf` method implementation\n// https://tc39.github.io/ecma262/#sec-array.prototype.lastindexof\nvar arrayLastIndexOf = FORCED$5 ? function lastIndexOf(searchElement /* , fromIndex = @[*-1] */) {\n  // convert -0 to +0\n  if (NEGATIVE_ZERO$1) return nativeLastIndexOf.apply(this, arguments) || 0;\n  var O = toIndexedObject(this);\n  var length = toLength(O.length);\n  var index = length - 1;\n  if (arguments.length > 1) index = min$6(index, toInteger(arguments[1]));\n  if (index < 0) index = length + index;\n  for (;index >= 0; index--) if (index in O && O[index] === searchElement) return index || 0;\n  return -1;\n} : nativeLastIndexOf;\n\n// `Array.prototype.lastIndexOf` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.lastindexof\n_export({ target: 'Array', proto: true, forced: arrayLastIndexOf !== [].lastIndexOf }, {\n  lastIndexOf: arrayLastIndexOf\n});\n\nvar parseVtt = function parseVtt(vttDataString) {\n  var processedList = [];\n  var frames = vttDataString.split(/\\r\\n\\r\\n|\\n\\n|\\r\\r/);\n  frames.forEach(function (frame) {\n    var result = {};\n    var lines = frame.split(/\\r\\n|\\n|\\r/);\n    lines.forEach(function (line) {\n      if (!is$1.number(result.startTime)) {\n        // The line with start and end times on it is the first line of interest\n        var matchTimes = line.match(/([0-9]{2})?:?([0-9]{2}):([0-9]{2}).([0-9]{2,3})( ?--> ?)([0-9]{2})?:?([0-9]{2}):([0-9]{2}).([0-9]{2,3})/); // Note that this currently ignores caption formatting directives that are optionally on the end of this line - fine for non-captions VTT\n\n        if (matchTimes) {\n          result.startTime = Number(matchTimes[1] || 0) * 60 * 60 + Number(matchTimes[2]) * 60 + Number(matchTimes[3]) + Number(\"0.\".concat(matchTimes[4]));\n          result.endTime = Number(matchTimes[6] || 0) * 60 * 60 + Number(matchTimes[7]) * 60 + Number(matchTimes[8]) + Number(\"0.\".concat(matchTimes[9]));\n        }\n      } else if (!is$1.empty(line.trim()) && is$1.empty(result.text)) {\n        // If we already have the startTime, then we're definitely up to the text line(s)\n        var lineSplit = line.trim().split('#xywh=');\n\n        var _lineSplit = _slicedToArray(lineSplit, 1);\n\n        result.text = _lineSplit[0];\n\n        // If there's content in lineSplit[1], then we have sprites. If not, then it's just one frame per image\n        if (lineSplit[1]) {\n          var _lineSplit$1$split = lineSplit[1].split(',');\n\n          var _lineSplit$1$split2 = _slicedToArray(_lineSplit$1$split, 4);\n\n          result.x = _lineSplit$1$split2[0];\n          result.y = _lineSplit$1$split2[1];\n          result.w = _lineSplit$1$split2[2];\n          result.h = _lineSplit$1$split2[3];\n        }\n      }\n    });\n\n    if (result.text) {\n      processedList.push(result);\n    }\n  });\n  return processedList;\n};\n/**\n * Preview thumbnails for seek hover and scrubbing\n * Seeking: Hover over the seek bar (desktop only): shows a small preview container above the seek bar\n * Scrubbing: Click and drag the seek bar (desktop and mobile): shows the preview image over the entire video, as if the video is scrubbing at very high speed\n *\n * Notes:\n * - Thumbs are set via JS settings on Plyr init, not HTML5 'track' property. Using the track property would be a bit gross, because it doesn't support custom 'kinds'. kind=metadata might be used for something else, and we want to allow multiple thumbnails tracks. Tracks must have a unique combination of 'kind' and 'label'. We would have to do something like kind=metadata,label=thumbnails1 / kind=metadata,label=thumbnails2. Square peg, round hole\n * - VTT info: the image URL is relative to the VTT, not the current document. But if the url starts with a slash, it will naturally be relative to the current domain. https://support.jwplayer.com/articles/how-to-add-preview-thumbnails\n * - This implementation uses multiple separate img elements. Other implementations use background-image on one element. This would be nice and simple, but Firefox and Safari have flickering issues with replacing backgrounds of larger images. It seems that YouTube perhaps only avoids this because they don't have the option for high-res previews (even the fullscreen ones, when mousedown/seeking). Images appear over the top of each other, and previous ones are discarded once the new ones have been rendered\n */\n\n\nvar fitRatio = function fitRatio(ratio, outer) {\n  var targetRatio = outer.width / outer.height;\n  var result = {};\n\n  if (ratio > targetRatio) {\n    result.width = outer.width;\n    result.height = 1 / ratio * outer.width;\n  } else {\n    result.height = outer.height;\n    result.width = ratio * outer.height;\n  }\n\n  return result;\n};\n\nvar PreviewThumbnails = /*#__PURE__*/function () {\n  /**\n   * PreviewThumbnails constructor.\n   * @param {Plyr} player\n   * @return {PreviewThumbnails}\n   */\n  function PreviewThumbnails(player) {\n    _classCallCheck(this, PreviewThumbnails);\n\n    this.player = player;\n    this.thumbnails = [];\n    this.loaded = false;\n    this.lastMouseMoveTime = Date.now();\n    this.mouseDown = false;\n    this.loadedImages = [];\n    this.elements = {\n      thumb: {},\n      scrubbing: {}\n    };\n    this.load();\n  }\n\n  _createClass(PreviewThumbnails, [{\n    key: \"load\",\n    value: function load() {\n      var _this = this;\n\n      // Toggle the regular seek tooltip\n      if (this.player.elements.display.seekTooltip) {\n        this.player.elements.display.seekTooltip.hidden = this.enabled;\n      }\n\n      if (!this.enabled) {\n        return;\n      }\n\n      this.getThumbnails().then(function () {\n        if (!_this.enabled) {\n          return;\n        } // Render DOM elements\n\n\n        _this.render(); // Check to see if thumb container size was specified manually in CSS\n\n\n        _this.determineContainerAutoSizing();\n\n        _this.loaded = true;\n      });\n    } // Download VTT files and parse them\n\n  }, {\n    key: \"getThumbnails\",\n    value: function getThumbnails() {\n      var _this2 = this;\n\n      return new Promise(function (resolve) {\n        var src = _this2.player.config.previewThumbnails.src;\n\n        if (is$1.empty(src)) {\n          throw new Error('Missing previewThumbnails.src config attribute');\n        } // Resolve promise\n\n\n        var sortAndResolve = function sortAndResolve() {\n          // Sort smallest to biggest (e.g., [120p, 480p, 1080p])\n          _this2.thumbnails.sort(function (x, y) {\n            return x.height - y.height;\n          });\n\n          _this2.player.debug.log('Preview thumbnails', _this2.thumbnails);\n\n          resolve();\n        }; // Via callback()\n\n\n        if (is$1.function(src)) {\n          src(function (thumbnails) {\n            _this2.thumbnails = thumbnails;\n            sortAndResolve();\n          });\n        } // VTT urls\n        else {\n            // If string, convert into single-element list\n            var urls = is$1.string(src) ? [src] : src; // Loop through each src URL. Download and process the VTT file, storing the resulting data in this.thumbnails\n\n            var promises = urls.map(function (u) {\n              return _this2.getThumbnail(u);\n            }); // Resolve\n\n            Promise.all(promises).then(sortAndResolve);\n          }\n      });\n    } // Process individual VTT file\n\n  }, {\n    key: \"getThumbnail\",\n    value: function getThumbnail(url) {\n      var _this3 = this;\n\n      return new Promise(function (resolve) {\n        fetch(url).then(function (response) {\n          var thumbnail = {\n            frames: parseVtt(response),\n            height: null,\n            urlPrefix: ''\n          }; // If the URLs don't start with '/', then we need to set their relative path to be the location of the VTT file\n          // If the URLs do start with '/', then they obviously don't need a prefix, so it will remain blank\n          // If the thumbnail URLs start with with none of '/', 'http://' or 'https://', then we need to set their relative path to be the location of the VTT file\n\n          if (!thumbnail.frames[0].text.startsWith('/') && !thumbnail.frames[0].text.startsWith('http://') && !thumbnail.frames[0].text.startsWith('https://')) {\n            thumbnail.urlPrefix = url.substring(0, url.lastIndexOf('/') + 1);\n          } // Download the first frame, so that we can determine/set the height of this thumbnailsDef\n\n\n          var tempImage = new Image();\n\n          tempImage.onload = function () {\n            thumbnail.height = tempImage.naturalHeight;\n            thumbnail.width = tempImage.naturalWidth;\n\n            _this3.thumbnails.push(thumbnail);\n\n            resolve();\n          };\n\n          tempImage.src = thumbnail.urlPrefix + thumbnail.frames[0].text;\n        });\n      });\n    }\n  }, {\n    key: \"startMove\",\n    value: function startMove(event) {\n      if (!this.loaded) {\n        return;\n      }\n\n      if (!is$1.event(event) || !['touchmove', 'mousemove'].includes(event.type)) {\n        return;\n      } // Wait until media has a duration\n\n\n      if (!this.player.media.duration) {\n        return;\n      }\n\n      if (event.type === 'touchmove') {\n        // Calculate seek hover position as approx video seconds\n        this.seekTime = this.player.media.duration * (this.player.elements.inputs.seek.value / 100);\n      } else {\n        // Calculate seek hover position as approx video seconds\n        var clientRect = this.player.elements.progress.getBoundingClientRect();\n        var percentage = 100 / clientRect.width * (event.pageX - clientRect.left);\n        this.seekTime = this.player.media.duration * (percentage / 100);\n\n        if (this.seekTime < 0) {\n          // The mousemove fires for 10+px out to the left\n          this.seekTime = 0;\n        }\n\n        if (this.seekTime > this.player.media.duration - 1) {\n          // Took 1 second off the duration for safety, because different players can disagree on the real duration of a video\n          this.seekTime = this.player.media.duration - 1;\n        }\n\n        this.mousePosX = event.pageX; // Set time text inside image container\n\n        this.elements.thumb.time.innerText = formatTime(this.seekTime);\n      } // Download and show image\n\n\n      this.showImageAtCurrentTime();\n    }\n  }, {\n    key: \"endMove\",\n    value: function endMove() {\n      this.toggleThumbContainer(false, true);\n    }\n  }, {\n    key: \"startScrubbing\",\n    value: function startScrubbing(event) {\n      // Only act on left mouse button (0), or touch device (event.button does not exist or is false)\n      if (is$1.nullOrUndefined(event.button) || event.button === false || event.button === 0) {\n        this.mouseDown = true; // Wait until media has a duration\n\n        if (this.player.media.duration) {\n          this.toggleScrubbingContainer(true);\n          this.toggleThumbContainer(false, true); // Download and show image\n\n          this.showImageAtCurrentTime();\n        }\n      }\n    }\n  }, {\n    key: \"endScrubbing\",\n    value: function endScrubbing() {\n      var _this4 = this;\n\n      this.mouseDown = false; // Hide scrubbing preview. But wait until the video has successfully seeked before hiding the scrubbing preview\n\n      if (Math.ceil(this.lastTime) === Math.ceil(this.player.media.currentTime)) {\n        // The video was already seeked/loaded at the chosen time - hide immediately\n        this.toggleScrubbingContainer(false);\n      } else {\n        // The video hasn't seeked yet. Wait for that\n        once.call(this.player, this.player.media, 'timeupdate', function () {\n          // Re-check mousedown - we might have already started scrubbing again\n          if (!_this4.mouseDown) {\n            _this4.toggleScrubbingContainer(false);\n          }\n        });\n      }\n    }\n    /**\n     * Setup hooks for Plyr and window events\n     */\n\n  }, {\n    key: \"listeners\",\n    value: function listeners() {\n      var _this5 = this;\n\n      // Hide thumbnail preview - on mouse click, mouse leave (in listeners.js for now), and video play/seek. All four are required, e.g., for buffering\n      this.player.on('play', function () {\n        _this5.toggleThumbContainer(false, true);\n      });\n      this.player.on('seeked', function () {\n        _this5.toggleThumbContainer(false);\n      });\n      this.player.on('timeupdate', function () {\n        _this5.lastTime = _this5.player.media.currentTime;\n      });\n    }\n    /**\n     * Create HTML elements for image containers\n     */\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      // Create HTML element: plyr__preview-thumbnail-container\n      this.elements.thumb.container = createElement('div', {\n        class: this.player.config.classNames.previewThumbnails.thumbContainer\n      }); // Wrapper for the image for styling\n\n      this.elements.thumb.imageContainer = createElement('div', {\n        class: this.player.config.classNames.previewThumbnails.imageContainer\n      });\n      this.elements.thumb.container.appendChild(this.elements.thumb.imageContainer); // Create HTML element, parent+span: time text (e.g., 01:32:00)\n\n      var timeContainer = createElement('div', {\n        class: this.player.config.classNames.previewThumbnails.timeContainer\n      });\n      this.elements.thumb.time = createElement('span', {}, '00:00');\n      timeContainer.appendChild(this.elements.thumb.time);\n      this.elements.thumb.container.appendChild(timeContainer); // Inject the whole thumb\n\n      if (is$1.element(this.player.elements.progress)) {\n        this.player.elements.progress.appendChild(this.elements.thumb.container);\n      } // Create HTML element: plyr__preview-scrubbing-container\n\n\n      this.elements.scrubbing.container = createElement('div', {\n        class: this.player.config.classNames.previewThumbnails.scrubbingContainer\n      });\n      this.player.elements.wrapper.appendChild(this.elements.scrubbing.container);\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      if (this.elements.thumb.container) {\n        this.elements.thumb.container.remove();\n      }\n\n      if (this.elements.scrubbing.container) {\n        this.elements.scrubbing.container.remove();\n      }\n    }\n  }, {\n    key: \"showImageAtCurrentTime\",\n    value: function showImageAtCurrentTime() {\n      var _this6 = this;\n\n      if (this.mouseDown) {\n        this.setScrubbingContainerSize();\n      } else {\n        this.setThumbContainerSizeAndPos();\n      } // Find the desired thumbnail index\n      // TODO: Handle a video longer than the thumbs where thumbNum is null\n\n\n      var thumbNum = this.thumbnails[0].frames.findIndex(function (frame) {\n        return _this6.seekTime >= frame.startTime && _this6.seekTime <= frame.endTime;\n      });\n      var hasThumb = thumbNum >= 0;\n      var qualityIndex = 0; // Show the thumb container if we're not scrubbing\n\n      if (!this.mouseDown) {\n        this.toggleThumbContainer(hasThumb);\n      } // No matching thumb found\n\n\n      if (!hasThumb) {\n        return;\n      } // Check to see if we've already downloaded higher quality versions of this image\n\n\n      this.thumbnails.forEach(function (thumbnail, index) {\n        if (_this6.loadedImages.includes(thumbnail.frames[thumbNum].text)) {\n          qualityIndex = index;\n        }\n      }); // Only proceed if either thumbnum or thumbfilename has changed\n\n      if (thumbNum !== this.showingThumb) {\n        this.showingThumb = thumbNum;\n        this.loadImage(qualityIndex);\n      }\n    } // Show the image that's currently specified in this.showingThumb\n\n  }, {\n    key: \"loadImage\",\n    value: function loadImage() {\n      var _this7 = this;\n\n      var qualityIndex = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n      var thumbNum = this.showingThumb;\n      var thumbnail = this.thumbnails[qualityIndex];\n      var urlPrefix = thumbnail.urlPrefix;\n      var frame = thumbnail.frames[thumbNum];\n      var thumbFilename = thumbnail.frames[thumbNum].text;\n      var thumbUrl = urlPrefix + thumbFilename;\n\n      if (!this.currentImageElement || this.currentImageElement.dataset.filename !== thumbFilename) {\n        // If we're already loading a previous image, remove its onload handler - we don't want it to load after this one\n        // Only do this if not using sprites. Without sprites we really want to show as many images as possible, as a best-effort\n        if (this.loadingImage && this.usingSprites) {\n          this.loadingImage.onload = null;\n        } // We're building and adding a new image. In other implementations of similar functionality (YouTube), background image\n        // is instead used. But this causes issues with larger images in Firefox and Safari - switching between background\n        // images causes a flicker. Putting a new image over the top does not\n\n\n        var previewImage = new Image();\n        previewImage.src = thumbUrl;\n        previewImage.dataset.index = thumbNum;\n        previewImage.dataset.filename = thumbFilename;\n        this.showingThumbFilename = thumbFilename;\n        this.player.debug.log(\"Loading image: \".concat(thumbUrl)); // For some reason, passing the named function directly causes it to execute immediately. So I've wrapped it in an anonymous function...\n\n        previewImage.onload = function () {\n          return _this7.showImage(previewImage, frame, qualityIndex, thumbNum, thumbFilename, true);\n        };\n\n        this.loadingImage = previewImage;\n        this.removeOldImages(previewImage);\n      } else {\n        // Update the existing image\n        this.showImage(this.currentImageElement, frame, qualityIndex, thumbNum, thumbFilename, false);\n        this.currentImageElement.dataset.index = thumbNum;\n        this.removeOldImages(this.currentImageElement);\n      }\n    }\n  }, {\n    key: \"showImage\",\n    value: function showImage(previewImage, frame, qualityIndex, thumbNum, thumbFilename) {\n      var newImage = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : true;\n      this.player.debug.log(\"Showing thumb: \".concat(thumbFilename, \". num: \").concat(thumbNum, \". qual: \").concat(qualityIndex, \". newimg: \").concat(newImage));\n      this.setImageSizeAndOffset(previewImage, frame);\n\n      if (newImage) {\n        this.currentImageContainer.appendChild(previewImage);\n        this.currentImageElement = previewImage;\n\n        if (!this.loadedImages.includes(thumbFilename)) {\n          this.loadedImages.push(thumbFilename);\n        }\n      } // Preload images before and after the current one\n      // Show higher quality of the same frame\n      // Each step here has a short time delay, and only continues if still hovering/seeking the same spot. This is to protect slow connections from overloading\n\n\n      this.preloadNearby(thumbNum, true).then(this.preloadNearby(thumbNum, false)).then(this.getHigherQuality(qualityIndex, previewImage, frame, thumbFilename));\n    } // Remove all preview images that aren't the designated current image\n\n  }, {\n    key: \"removeOldImages\",\n    value: function removeOldImages(currentImage) {\n      var _this8 = this;\n\n      // Get a list of all images, convert it from a DOM list to an array\n      Array.from(this.currentImageContainer.children).forEach(function (image) {\n        if (image.tagName.toLowerCase() !== 'img') {\n          return;\n        }\n\n        var removeDelay = _this8.usingSprites ? 500 : 1000;\n\n        if (image.dataset.index !== currentImage.dataset.index && !image.dataset.deleting) {\n          // Wait 200ms, as the new image can take some time to show on certain browsers (even though it was downloaded before showing). This will prevent flicker, and show some generosity towards slower clients\n          // First set attribute 'deleting' to prevent multi-handling of this on repeat firing of this function\n          // eslint-disable-next-line no-param-reassign\n          image.dataset.deleting = true; // This has to be set before the timeout - to prevent issues switching between hover and scrub\n\n          var currentImageContainer = _this8.currentImageContainer;\n          setTimeout(function () {\n            currentImageContainer.removeChild(image);\n\n            _this8.player.debug.log(\"Removing thumb: \".concat(image.dataset.filename));\n          }, removeDelay);\n        }\n      });\n    } // Preload images before and after the current one. Only if the user is still hovering/seeking the same frame\n    // This will only preload the lowest quality\n\n  }, {\n    key: \"preloadNearby\",\n    value: function preloadNearby(thumbNum) {\n      var _this9 = this;\n\n      var forward = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n      return new Promise(function (resolve) {\n        setTimeout(function () {\n          var oldThumbFilename = _this9.thumbnails[0].frames[thumbNum].text;\n\n          if (_this9.showingThumbFilename === oldThumbFilename) {\n            // Find the nearest thumbs with different filenames. Sometimes it'll be the next index, but in the case of sprites, it might be 100+ away\n            var thumbnailsClone;\n\n            if (forward) {\n              thumbnailsClone = _this9.thumbnails[0].frames.slice(thumbNum);\n            } else {\n              thumbnailsClone = _this9.thumbnails[0].frames.slice(0, thumbNum).reverse();\n            }\n\n            var foundOne = false;\n            thumbnailsClone.forEach(function (frame) {\n              var newThumbFilename = frame.text;\n\n              if (newThumbFilename !== oldThumbFilename) {\n                // Found one with a different filename. Make sure it hasn't already been loaded on this page visit\n                if (!_this9.loadedImages.includes(newThumbFilename)) {\n                  foundOne = true;\n\n                  _this9.player.debug.log(\"Preloading thumb filename: \".concat(newThumbFilename));\n\n                  var urlPrefix = _this9.thumbnails[0].urlPrefix;\n                  var thumbURL = urlPrefix + newThumbFilename;\n                  var previewImage = new Image();\n                  previewImage.src = thumbURL;\n\n                  previewImage.onload = function () {\n                    _this9.player.debug.log(\"Preloaded thumb filename: \".concat(newThumbFilename));\n\n                    if (!_this9.loadedImages.includes(newThumbFilename)) _this9.loadedImages.push(newThumbFilename); // We don't resolve until the thumb is loaded\n\n                    resolve();\n                  };\n                }\n              }\n            }); // If there are none to preload then we want to resolve immediately\n\n            if (!foundOne) {\n              resolve();\n            }\n          }\n        }, 300);\n      });\n    } // If user has been hovering current image for half a second, look for a higher quality one\n\n  }, {\n    key: \"getHigherQuality\",\n    value: function getHigherQuality(currentQualityIndex, previewImage, frame, thumbFilename) {\n      var _this10 = this;\n\n      if (currentQualityIndex < this.thumbnails.length - 1) {\n        // Only use the higher quality version if it's going to look any better - if the current thumb is of a lower pixel density than the thumbnail container\n        var previewImageHeight = previewImage.naturalHeight;\n\n        if (this.usingSprites) {\n          previewImageHeight = frame.h;\n        }\n\n        if (previewImageHeight < this.thumbContainerHeight) {\n          // Recurse back to the loadImage function - show a higher quality one, but only if the viewer is on this frame for a while\n          setTimeout(function () {\n            // Make sure the mouse hasn't already moved on and started hovering at another image\n            if (_this10.showingThumbFilename === thumbFilename) {\n              _this10.player.debug.log(\"Showing higher quality thumb for: \".concat(thumbFilename));\n\n              _this10.loadImage(currentQualityIndex + 1);\n            }\n          }, 300);\n        }\n      }\n    }\n  }, {\n    key: \"toggleThumbContainer\",\n    value: function toggleThumbContainer() {\n      var toggle = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n      var clearShowing = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      var className = this.player.config.classNames.previewThumbnails.thumbContainerShown;\n      this.elements.thumb.container.classList.toggle(className, toggle);\n\n      if (!toggle && clearShowing) {\n        this.showingThumb = null;\n        this.showingThumbFilename = null;\n      }\n    }\n  }, {\n    key: \"toggleScrubbingContainer\",\n    value: function toggleScrubbingContainer() {\n      var toggle = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n      var className = this.player.config.classNames.previewThumbnails.scrubbingContainerShown;\n      this.elements.scrubbing.container.classList.toggle(className, toggle);\n\n      if (!toggle) {\n        this.showingThumb = null;\n        this.showingThumbFilename = null;\n      }\n    }\n  }, {\n    key: \"determineContainerAutoSizing\",\n    value: function determineContainerAutoSizing() {\n      if (this.elements.thumb.imageContainer.clientHeight > 20 || this.elements.thumb.imageContainer.clientWidth > 20) {\n        // This will prevent auto sizing in this.setThumbContainerSizeAndPos()\n        this.sizeSpecifiedInCSS = true;\n      }\n    } // Set the size to be about a quarter of the size of video. Unless option dynamicSize === false, in which case it needs to be set in CSS\n\n  }, {\n    key: \"setThumbContainerSizeAndPos\",\n    value: function setThumbContainerSizeAndPos() {\n      if (!this.sizeSpecifiedInCSS) {\n        var thumbWidth = Math.floor(this.thumbContainerHeight * this.thumbAspectRatio);\n        this.elements.thumb.imageContainer.style.height = \"\".concat(this.thumbContainerHeight, \"px\");\n        this.elements.thumb.imageContainer.style.width = \"\".concat(thumbWidth, \"px\");\n      } else if (this.elements.thumb.imageContainer.clientHeight > 20 && this.elements.thumb.imageContainer.clientWidth < 20) {\n        var _thumbWidth = Math.floor(this.elements.thumb.imageContainer.clientHeight * this.thumbAspectRatio);\n\n        this.elements.thumb.imageContainer.style.width = \"\".concat(_thumbWidth, \"px\");\n      } else if (this.elements.thumb.imageContainer.clientHeight < 20 && this.elements.thumb.imageContainer.clientWidth > 20) {\n        var thumbHeight = Math.floor(this.elements.thumb.imageContainer.clientWidth / this.thumbAspectRatio);\n        this.elements.thumb.imageContainer.style.height = \"\".concat(thumbHeight, \"px\");\n      }\n\n      this.setThumbContainerPos();\n    }\n  }, {\n    key: \"setThumbContainerPos\",\n    value: function setThumbContainerPos() {\n      var seekbarRect = this.player.elements.progress.getBoundingClientRect();\n      var plyrRect = this.player.elements.container.getBoundingClientRect();\n      var container = this.elements.thumb.container; // Find the lowest and highest desired left-position, so we don't slide out the side of the video container\n\n      var minVal = plyrRect.left - seekbarRect.left + 10;\n      var maxVal = plyrRect.right - seekbarRect.left - container.clientWidth - 10; // Set preview container position to: mousepos, minus seekbar.left, minus half of previewContainer.clientWidth\n\n      var previewPos = this.mousePosX - seekbarRect.left - container.clientWidth / 2;\n\n      if (previewPos < minVal) {\n        previewPos = minVal;\n      }\n\n      if (previewPos > maxVal) {\n        previewPos = maxVal;\n      }\n\n      container.style.left = \"\".concat(previewPos, \"px\");\n    } // Can't use 100% width, in case the video is a different aspect ratio to the video container\n\n  }, {\n    key: \"setScrubbingContainerSize\",\n    value: function setScrubbingContainerSize() {\n      var _fitRatio = fitRatio(this.thumbAspectRatio, {\n        width: this.player.media.clientWidth,\n        height: this.player.media.clientHeight\n      }),\n          width = _fitRatio.width,\n          height = _fitRatio.height;\n\n      this.elements.scrubbing.container.style.width = \"\".concat(width, \"px\");\n      this.elements.scrubbing.container.style.height = \"\".concat(height, \"px\");\n    } // Sprites need to be offset to the correct location\n\n  }, {\n    key: \"setImageSizeAndOffset\",\n    value: function setImageSizeAndOffset(previewImage, frame) {\n      if (!this.usingSprites) {\n        return;\n      } // Find difference between height and preview container height\n\n\n      var multiplier = this.thumbContainerHeight / frame.h; // eslint-disable-next-line no-param-reassign\n\n      previewImage.style.height = \"\".concat(previewImage.naturalHeight * multiplier, \"px\"); // eslint-disable-next-line no-param-reassign\n\n      previewImage.style.width = \"\".concat(previewImage.naturalWidth * multiplier, \"px\"); // eslint-disable-next-line no-param-reassign\n\n      previewImage.style.left = \"-\".concat(frame.x * multiplier, \"px\"); // eslint-disable-next-line no-param-reassign\n\n      previewImage.style.top = \"-\".concat(frame.y * multiplier, \"px\");\n    }\n  }, {\n    key: \"enabled\",\n    get: function get() {\n      return this.player.isHTML5 && this.player.isVideo && this.player.config.previewThumbnails.enabled;\n    }\n  }, {\n    key: \"currentImageContainer\",\n    get: function get() {\n      if (this.mouseDown) {\n        return this.elements.scrubbing.container;\n      }\n\n      return this.elements.thumb.imageContainer;\n    }\n  }, {\n    key: \"usingSprites\",\n    get: function get() {\n      return Object.keys(this.thumbnails[0].frames[0]).includes('w');\n    }\n  }, {\n    key: \"thumbAspectRatio\",\n    get: function get() {\n      if (this.usingSprites) {\n        return this.thumbnails[0].frames[0].w / this.thumbnails[0].frames[0].h;\n      }\n\n      return this.thumbnails[0].width / this.thumbnails[0].height;\n    }\n  }, {\n    key: \"thumbContainerHeight\",\n    get: function get() {\n      if (this.mouseDown) {\n        var _fitRatio2 = fitRatio(this.thumbAspectRatio, {\n          width: this.player.media.clientWidth,\n          height: this.player.media.clientHeight\n        }),\n            height = _fitRatio2.height;\n\n        return height;\n      } // If css is used this needs to return the css height for sprites to work (see setImageSizeAndOffset)\n\n\n      if (this.sizeSpecifiedInCSS) {\n        return this.elements.thumb.imageContainer.clientHeight;\n      }\n\n      return Math.floor(this.player.media.clientWidth / this.thumbAspectRatio / 4);\n    }\n  }, {\n    key: \"currentImageElement\",\n    get: function get() {\n      if (this.mouseDown) {\n        return this.currentScrubbingImageElement;\n      }\n\n      return this.currentThumbnailImageElement;\n    },\n    set: function set(element) {\n      if (this.mouseDown) {\n        this.currentScrubbingImageElement = element;\n      } else {\n        this.currentThumbnailImageElement = element;\n      }\n    }\n  }]);\n\n  return PreviewThumbnails;\n}();\n\nvar source = {\n  // Add elements to HTML5 media (source, tracks, etc)\n  insertElements: function insertElements(type, attributes) {\n    var _this = this;\n\n    if (is$1.string(attributes)) {\n      insertElement(type, this.media, {\n        src: attributes\n      });\n    } else if (is$1.array(attributes)) {\n      attributes.forEach(function (attribute) {\n        insertElement(type, _this.media, attribute);\n      });\n    }\n  },\n  // Update source\n  // Sources are not checked for support so be careful\n  change: function change(input) {\n    var _this2 = this;\n\n    if (!getDeep(input, 'sources.length')) {\n      this.debug.warn('Invalid source format');\n      return;\n    } // Cancel current network requests\n\n\n    html5.cancelRequests.call(this); // Destroy instance and re-setup\n\n    this.destroy.call(this, function () {\n      // Reset quality options\n      _this2.options.quality = []; // Remove elements\n\n      removeElement(_this2.media);\n      _this2.media = null; // Reset class name\n\n      if (is$1.element(_this2.elements.container)) {\n        _this2.elements.container.removeAttribute('class');\n      } // Set the type and provider\n\n\n      var sources = input.sources,\n          type = input.type;\n\n      var _sources = _slicedToArray(sources, 1),\n          _sources$ = _sources[0],\n          _sources$$provider = _sources$.provider,\n          provider = _sources$$provider === void 0 ? providers.html5 : _sources$$provider,\n          src = _sources$.src;\n\n      var tagName = provider === 'html5' ? type : 'div';\n      var attributes = provider === 'html5' ? {} : {\n        src: src\n      };\n      Object.assign(_this2, {\n        provider: provider,\n        type: type,\n        // Check for support\n        supported: support.check(type, provider, _this2.config.playsinline),\n        // Create new element\n        media: createElement(tagName, attributes)\n      }); // Inject the new element\n\n      _this2.elements.container.appendChild(_this2.media); // Autoplay the new source?\n\n\n      if (is$1.boolean(input.autoplay)) {\n        _this2.config.autoplay = input.autoplay;\n      } // Set attributes for audio and video\n\n\n      if (_this2.isHTML5) {\n        if (_this2.config.crossorigin) {\n          _this2.media.setAttribute('crossorigin', '');\n        }\n\n        if (_this2.config.autoplay) {\n          _this2.media.setAttribute('autoplay', '');\n        }\n\n        if (!is$1.empty(input.poster)) {\n          _this2.poster = input.poster;\n        }\n\n        if (_this2.config.loop.active) {\n          _this2.media.setAttribute('loop', '');\n        }\n\n        if (_this2.config.muted) {\n          _this2.media.setAttribute('muted', '');\n        }\n\n        if (_this2.config.playsinline) {\n          _this2.media.setAttribute('playsinline', '');\n        }\n      } // Restore class hook\n\n\n      ui.addStyleHook.call(_this2); // Set new sources for html5\n\n      if (_this2.isHTML5) {\n        source.insertElements.call(_this2, 'source', sources);\n      } // Set video title\n\n\n      _this2.config.title = input.title; // Set up from scratch\n\n      media.setup.call(_this2); // HTML5 stuff\n\n      if (_this2.isHTML5) {\n        // Setup captions\n        if (Object.keys(input).includes('tracks')) {\n          source.insertElements.call(_this2, 'track', input.tracks);\n        }\n      } // If HTML5 or embed but not fully supported, setupInterface and call ready now\n\n\n      if (_this2.isHTML5 || _this2.isEmbed && !_this2.supported.ui) {\n        // Setup interface\n        ui.build.call(_this2);\n      } // Load HTML5 sources\n\n\n      if (_this2.isHTML5) {\n        _this2.media.load();\n      } // Update previewThumbnails config & reload plugin\n\n\n      if (!is$1.empty(input.previewThumbnails)) {\n        Object.assign(_this2.config.previewThumbnails, input.previewThumbnails); // Cleanup previewThumbnails plugin if it was loaded\n\n        if (_this2.previewThumbnails && _this2.previewThumbnails.loaded) {\n          _this2.previewThumbnails.destroy();\n\n          _this2.previewThumbnails = null;\n        } // Create new instance if it is still enabled\n\n\n        if (_this2.config.previewThumbnails.enabled) {\n          _this2.previewThumbnails = new PreviewThumbnails(_this2);\n        }\n      } // Update the fullscreen support\n\n\n      _this2.fullscreen.update();\n    }, true);\n  }\n};\n\n/**\n * Returns a number whose value is limited to the given range.\n *\n * Example: limit the output of this computation to between 0 and 255\n * (x * 255).clamp(0, 255)\n *\n * @param {Number} input\n * @param {Number} min The lower boundary of the output range\n * @param {Number} max The upper boundary of the output range\n * @returns A number in the range [min, max]\n * @type Number\n */\nfunction clamp() {\n  var input = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n  var min = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  var max = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 255;\n  return Math.min(Math.max(input, min), max);\n}\n\n// TODO: Use a WeakMap for private globals\n// const globals = new WeakMap();\n// Plyr instance\n\nvar Plyr = /*#__PURE__*/function () {\n  function Plyr(target, options) {\n    var _this = this;\n\n    _classCallCheck(this, Plyr);\n\n    this.timers = {}; // State\n\n    this.ready = false;\n    this.loading = false;\n    this.failed = false; // Touch device\n\n    this.touch = support.touch; // Set the media element\n\n    this.media = target; // String selector passed\n\n    if (is$1.string(this.media)) {\n      this.media = document.querySelectorAll(this.media);\n    } // jQuery, NodeList or Array passed, use first element\n\n\n    if (window.jQuery && this.media instanceof jQuery || is$1.nodeList(this.media) || is$1.array(this.media)) {\n      // eslint-disable-next-line\n      this.media = this.media[0];\n    } // Set config\n\n\n    this.config = extend({}, defaults$1, Plyr.defaults, options || {}, function () {\n      try {\n        return JSON.parse(_this.media.getAttribute('data-plyr-config'));\n      } catch (e) {\n        return {};\n      }\n    }()); // Elements cache\n\n    this.elements = {\n      container: null,\n      fullscreen: null,\n      captions: null,\n      buttons: {},\n      display: {},\n      progress: {},\n      inputs: {},\n      settings: {\n        popup: null,\n        menu: null,\n        panels: {},\n        buttons: {}\n      }\n    }; // Captions\n\n    this.captions = {\n      active: null,\n      currentTrack: -1,\n      meta: new WeakMap()\n    }; // Fullscreen\n\n    this.fullscreen = {\n      active: false\n    }; // Options\n\n    this.options = {\n      speed: [],\n      quality: []\n    }; // Debugging\n    // TODO: move to globals\n\n    this.debug = new Console(this.config.debug); // Log config options and support\n\n    this.debug.log('Config', this.config);\n    this.debug.log('Support', support); // We need an element to setup\n\n    if (is$1.nullOrUndefined(this.media) || !is$1.element(this.media)) {\n      this.debug.error('Setup failed: no suitable element passed');\n      return;\n    } // Bail if the element is initialized\n\n\n    if (this.media.plyr) {\n      this.debug.warn('Target already setup');\n      return;\n    } // Bail if not enabled\n\n\n    if (!this.config.enabled) {\n      this.debug.error('Setup failed: disabled by config');\n      return;\n    } // Bail if disabled or no basic support\n    // You may want to disable certain UAs etc\n\n\n    if (!support.check().api) {\n      this.debug.error('Setup failed: no support');\n      return;\n    } // Cache original element state for .destroy()\n\n\n    var clone = this.media.cloneNode(true);\n    clone.autoplay = false;\n    this.elements.original = clone; // Set media type based on tag or data attribute\n    // Supported: video, audio, vimeo, youtube\n\n    var type = this.media.tagName.toLowerCase(); // Embed properties\n\n    var iframe = null;\n    var url = null; // Different setup based on type\n\n    switch (type) {\n      case 'div':\n        // Find the frame\n        iframe = this.media.querySelector('iframe'); // <iframe> type\n\n        if (is$1.element(iframe)) {\n          // Detect provider\n          url = parseUrl(iframe.getAttribute('src'));\n          this.provider = getProviderByUrl(url.toString()); // Rework elements\n\n          this.elements.container = this.media;\n          this.media = iframe; // Reset classname\n\n          this.elements.container.className = ''; // Get attributes from URL and set config\n\n          if (url.search.length) {\n            var truthy = ['1', 'true'];\n\n            if (truthy.includes(url.searchParams.get('autoplay'))) {\n              this.config.autoplay = true;\n            }\n\n            if (truthy.includes(url.searchParams.get('loop'))) {\n              this.config.loop.active = true;\n            } // TODO: replace fullscreen.iosNative with this playsinline config option\n            // YouTube requires the playsinline in the URL\n\n\n            if (this.isYouTube) {\n              this.config.playsinline = truthy.includes(url.searchParams.get('playsinline'));\n              this.config.youtube.hl = url.searchParams.get('hl'); // TODO: Should this be setting language?\n            } else {\n              this.config.playsinline = true;\n            }\n          }\n        } else {\n          // <div> with attributes\n          this.provider = this.media.getAttribute(this.config.attributes.embed.provider); // Remove attribute\n\n          this.media.removeAttribute(this.config.attributes.embed.provider);\n        } // Unsupported or missing provider\n\n\n        if (is$1.empty(this.provider) || !Object.keys(providers).includes(this.provider)) {\n          this.debug.error('Setup failed: Invalid provider');\n          return;\n        } // Audio will come later for external providers\n\n\n        this.type = types.video;\n        break;\n\n      case 'video':\n      case 'audio':\n        this.type = type;\n        this.provider = providers.html5; // Get config from attributes\n\n        if (this.media.hasAttribute('crossorigin')) {\n          this.config.crossorigin = true;\n        }\n\n        if (this.media.hasAttribute('autoplay')) {\n          this.config.autoplay = true;\n        }\n\n        if (this.media.hasAttribute('playsinline') || this.media.hasAttribute('webkit-playsinline')) {\n          this.config.playsinline = true;\n        }\n\n        if (this.media.hasAttribute('muted')) {\n          this.config.muted = true;\n        }\n\n        if (this.media.hasAttribute('loop')) {\n          this.config.loop.active = true;\n        }\n\n        break;\n\n      default:\n        this.debug.error('Setup failed: unsupported type');\n        return;\n    } // Check for support again but with type\n\n\n    this.supported = support.check(this.type, this.provider, this.config.playsinline); // If no support for even API, bail\n\n    if (!this.supported.api) {\n      this.debug.error('Setup failed: no support');\n      return;\n    }\n\n    this.eventListeners = []; // Create listeners\n\n    this.listeners = new Listeners(this); // Setup local storage for user settings\n\n    this.storage = new Storage(this); // Store reference\n\n    this.media.plyr = this; // Wrap media\n\n    if (!is$1.element(this.elements.container)) {\n      this.elements.container = createElement('div', {\n        tabindex: 0\n      });\n      wrap$1(this.media, this.elements.container);\n    } // Migrate custom properties from media to container (so they work 😉)\n\n\n    ui.migrateStyles.call(this); // Add style hook\n\n    ui.addStyleHook.call(this); // Setup media\n\n    media.setup.call(this); // Listen for events if debugging\n\n    if (this.config.debug) {\n      on.call(this, this.elements.container, this.config.events.join(' '), function (event) {\n        _this.debug.log(\"event: \".concat(event.type));\n      });\n    } // Setup fullscreen\n\n\n    this.fullscreen = new Fullscreen(this); // Setup interface\n    // If embed but not fully supported, build interface now to avoid flash of controls\n\n    if (this.isHTML5 || this.isEmbed && !this.supported.ui) {\n      ui.build.call(this);\n    } // Container listeners\n\n\n    this.listeners.container(); // Global listeners\n\n    this.listeners.global(); // Setup ads if provided\n\n    if (this.config.ads.enabled) {\n      this.ads = new Ads(this);\n    } // Autoplay if required\n\n\n    if (this.isHTML5 && this.config.autoplay) {\n      setTimeout(function () {\n        return silencePromise(_this.play());\n      }, 10);\n    } // Seek time will be recorded (in listeners.js) so we can prevent hiding controls for a few seconds after seek\n\n\n    this.lastSeekTime = 0; // Setup preview thumbnails if enabled\n\n    if (this.config.previewThumbnails.enabled) {\n      this.previewThumbnails = new PreviewThumbnails(this);\n    }\n  } // ---------------------------------------\n  // API\n  // ---------------------------------------\n\n  /**\n   * Types and provider helpers\n   */\n\n\n  _createClass(Plyr, [{\n    key: \"play\",\n\n    /**\n     * Play the media, or play the advertisement (if they are not blocked)\n     */\n    value: function play() {\n      var _this2 = this;\n\n      if (!is$1.function(this.media.play)) {\n        return null;\n      } // Intecept play with ads\n\n\n      if (this.ads && this.ads.enabled) {\n        this.ads.managerPromise.then(function () {\n          return _this2.ads.play();\n        }).catch(function () {\n          return silencePromise(_this2.media.play());\n        });\n      } // Return the promise (for HTML5)\n\n\n      return this.media.play();\n    }\n    /**\n     * Pause the media\n     */\n\n  }, {\n    key: \"pause\",\n    value: function pause() {\n      if (!this.playing || !is$1.function(this.media.pause)) {\n        return null;\n      }\n\n      return this.media.pause();\n    }\n    /**\n     * Get playing state\n     */\n\n  }, {\n    key: \"togglePlay\",\n\n    /**\n     * Toggle playback based on current status\n     * @param {Boolean} input\n     */\n    value: function togglePlay(input) {\n      // Toggle based on current state if nothing passed\n      var toggle = is$1.boolean(input) ? input : !this.playing;\n\n      if (toggle) {\n        return this.play();\n      }\n\n      return this.pause();\n    }\n    /**\n     * Stop playback\n     */\n\n  }, {\n    key: \"stop\",\n    value: function stop() {\n      if (this.isHTML5) {\n        this.pause();\n        this.restart();\n      } else if (is$1.function(this.media.stop)) {\n        this.media.stop();\n      }\n    }\n    /**\n     * Restart playback\n     */\n\n  }, {\n    key: \"restart\",\n    value: function restart() {\n      this.currentTime = 0;\n    }\n    /**\n     * Rewind\n     * @param {Number} seekTime - how far to rewind in seconds. Defaults to the config.seekTime\n     */\n\n  }, {\n    key: \"rewind\",\n    value: function rewind(seekTime) {\n      this.currentTime -= is$1.number(seekTime) ? seekTime : this.config.seekTime;\n    }\n    /**\n     * Fast forward\n     * @param {Number} seekTime - how far to fast forward in seconds. Defaults to the config.seekTime\n     */\n\n  }, {\n    key: \"forward\",\n    value: function forward(seekTime) {\n      this.currentTime += is$1.number(seekTime) ? seekTime : this.config.seekTime;\n    }\n    /**\n     * Seek to a time\n     * @param {Number} input - where to seek to in seconds. Defaults to 0 (the start)\n     */\n\n  }, {\n    key: \"increaseVolume\",\n\n    /**\n     * Increase volume\n     * @param {Boolean} step - How much to decrease by (between 0 and 1)\n     */\n    value: function increaseVolume(step) {\n      var volume = this.media.muted ? 0 : this.volume;\n      this.volume = volume + (is$1.number(step) ? step : 0);\n    }\n    /**\n     * Decrease volume\n     * @param {Boolean} step - How much to decrease by (between 0 and 1)\n     */\n\n  }, {\n    key: \"decreaseVolume\",\n    value: function decreaseVolume(step) {\n      this.increaseVolume(-step);\n    }\n    /**\n     * Set muted state\n     * @param {Boolean} mute\n     */\n\n  }, {\n    key: \"toggleCaptions\",\n\n    /**\n     * Toggle captions\n     * @param {Boolean} input - Whether to enable captions\n     */\n    value: function toggleCaptions(input) {\n      captions.toggle.call(this, input, false);\n    }\n    /**\n     * Set the caption track by index\n     * @param {Number} - Caption index\n     */\n\n  }, {\n    key: \"airplay\",\n\n    /**\n     * Trigger the airplay dialog\n     * TODO: update player with state, support, enabled\n     */\n    value: function airplay() {\n      // Show dialog if supported\n      if (support.airplay) {\n        this.media.webkitShowPlaybackTargetPicker();\n      }\n    }\n    /**\n     * Toggle the player controls\n     * @param {Boolean} [toggle] - Whether to show the controls\n     */\n\n  }, {\n    key: \"toggleControls\",\n    value: function toggleControls(toggle) {\n      // Don't toggle if missing UI support or if it's audio\n      if (this.supported.ui && !this.isAudio) {\n        // Get state before change\n        var isHidden = hasClass(this.elements.container, this.config.classNames.hideControls); // Negate the argument if not undefined since adding the class to hides the controls\n\n        var force = typeof toggle === 'undefined' ? undefined : !toggle; // Apply and get updated state\n\n        var hiding = toggleClass(this.elements.container, this.config.classNames.hideControls, force); // Close menu\n\n        if (hiding && is$1.array(this.config.controls) && this.config.controls.includes('settings') && !is$1.empty(this.config.settings)) {\n          controls.toggleMenu.call(this, false);\n        } // Trigger event on change\n\n\n        if (hiding !== isHidden) {\n          var eventName = hiding ? 'controlshidden' : 'controlsshown';\n          triggerEvent.call(this, this.media, eventName);\n        }\n\n        return !hiding;\n      }\n\n      return false;\n    }\n    /**\n     * Add event listeners\n     * @param {String} event - Event type\n     * @param {Function} callback - Callback for when event occurs\n     */\n\n  }, {\n    key: \"on\",\n    value: function on$1(event, callback) {\n      on.call(this, this.elements.container, event, callback);\n    }\n    /**\n     * Add event listeners once\n     * @param {String} event - Event type\n     * @param {Function} callback - Callback for when event occurs\n     */\n\n  }, {\n    key: \"once\",\n    value: function once$1(event, callback) {\n      once.call(this, this.elements.container, event, callback);\n    }\n    /**\n     * Remove event listeners\n     * @param {String} event - Event type\n     * @param {Function} callback - Callback for when event occurs\n     */\n\n  }, {\n    key: \"off\",\n    value: function off$1(event, callback) {\n      off(this.elements.container, event, callback);\n    }\n    /**\n     * Destroy an instance\n     * Event listeners are removed when elements are removed\n     * http://stackoverflow.com/questions/12528049/if-a-dom-element-is-removed-are-its-listeners-also-removed-from-memory\n     * @param {Function} callback - Callback for when destroy is complete\n     * @param {Boolean} soft - Whether it's a soft destroy (for source changes etc)\n     */\n\n  }, {\n    key: \"destroy\",\n    value: function destroy(callback) {\n      var _this3 = this;\n\n      var soft = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n      if (!this.ready) {\n        return;\n      }\n\n      var done = function done() {\n        // Reset overflow (incase destroyed while in fullscreen)\n        document.body.style.overflow = ''; // GC for embed\n\n        _this3.embed = null; // If it's a soft destroy, make minimal changes\n\n        if (soft) {\n          if (Object.keys(_this3.elements).length) {\n            // Remove elements\n            removeElement(_this3.elements.buttons.play);\n            removeElement(_this3.elements.captions);\n            removeElement(_this3.elements.controls);\n            removeElement(_this3.elements.wrapper); // Clear for GC\n\n            _this3.elements.buttons.play = null;\n            _this3.elements.captions = null;\n            _this3.elements.controls = null;\n            _this3.elements.wrapper = null;\n          } // Callback\n\n\n          if (is$1.function(callback)) {\n            callback();\n          }\n        } else {\n          // Unbind listeners\n          unbindListeners.call(_this3); // Replace the container with the original element provided\n\n          replaceElement(_this3.elements.original, _this3.elements.container); // Event\n\n          triggerEvent.call(_this3, _this3.elements.original, 'destroyed', true); // Callback\n\n          if (is$1.function(callback)) {\n            callback.call(_this3.elements.original);\n          } // Reset state\n\n\n          _this3.ready = false; // Clear for garbage collection\n\n          setTimeout(function () {\n            _this3.elements = null;\n            _this3.media = null;\n          }, 200);\n        }\n      }; // Stop playback\n\n\n      this.stop(); // Clear timeouts\n\n      clearTimeout(this.timers.loading);\n      clearTimeout(this.timers.controls);\n      clearTimeout(this.timers.resized); // Provider specific stuff\n\n      if (this.isHTML5) {\n        // Restore native video controls\n        ui.toggleNativeControls.call(this, true); // Clean up\n\n        done();\n      } else if (this.isYouTube) {\n        // Clear timers\n        clearInterval(this.timers.buffering);\n        clearInterval(this.timers.playing); // Destroy YouTube API\n\n        if (this.embed !== null && is$1.function(this.embed.destroy)) {\n          this.embed.destroy();\n        } // Clean up\n\n\n        done();\n      } else if (this.isVimeo) {\n        // Destroy Vimeo API\n        // then clean up (wait, to prevent postmessage errors)\n        if (this.embed !== null) {\n          this.embed.unload().then(done);\n        } // Vimeo does not always return\n\n\n        setTimeout(done, 200);\n      }\n    }\n    /**\n     * Check for support for a mime type (HTML5 only)\n     * @param {String} type - Mime type\n     */\n\n  }, {\n    key: \"supports\",\n    value: function supports(type) {\n      return support.mime.call(this, type);\n    }\n    /**\n     * Check for support\n     * @param {String} type - Player type (audio/video)\n     * @param {String} provider - Provider (html5/youtube/vimeo)\n     * @param {Boolean} inline - Where player has `playsinline` sttribute\n     */\n\n  }, {\n    key: \"isHTML5\",\n    get: function get() {\n      return this.provider === providers.html5;\n    }\n  }, {\n    key: \"isEmbed\",\n    get: function get() {\n      return this.isYouTube || this.isVimeo;\n    }\n  }, {\n    key: \"isYouTube\",\n    get: function get() {\n      return this.provider === providers.youtube;\n    }\n  }, {\n    key: \"isVimeo\",\n    get: function get() {\n      return this.provider === providers.vimeo;\n    }\n  }, {\n    key: \"isVideo\",\n    get: function get() {\n      return this.type === types.video;\n    }\n  }, {\n    key: \"isAudio\",\n    get: function get() {\n      return this.type === types.audio;\n    }\n  }, {\n    key: \"playing\",\n    get: function get() {\n      return Boolean(this.ready && !this.paused && !this.ended);\n    }\n    /**\n     * Get paused state\n     */\n\n  }, {\n    key: \"paused\",\n    get: function get() {\n      return Boolean(this.media.paused);\n    }\n    /**\n     * Get stopped state\n     */\n\n  }, {\n    key: \"stopped\",\n    get: function get() {\n      return Boolean(this.paused && this.currentTime === 0);\n    }\n    /**\n     * Get ended state\n     */\n\n  }, {\n    key: \"ended\",\n    get: function get() {\n      return Boolean(this.media.ended);\n    }\n  }, {\n    key: \"currentTime\",\n    set: function set(input) {\n      // Bail if media duration isn't available yet\n      if (!this.duration) {\n        return;\n      } // Validate input\n\n\n      var inputIsValid = is$1.number(input) && input > 0; // Set\n\n      this.media.currentTime = inputIsValid ? Math.min(input, this.duration) : 0; // Logging\n\n      this.debug.log(\"Seeking to \".concat(this.currentTime, \" seconds\"));\n    }\n    /**\n     * Get current time\n     */\n    ,\n    get: function get() {\n      return Number(this.media.currentTime);\n    }\n    /**\n     * Get buffered\n     */\n\n  }, {\n    key: \"buffered\",\n    get: function get() {\n      var buffered = this.media.buffered; // YouTube / Vimeo return a float between 0-1\n\n      if (is$1.number(buffered)) {\n        return buffered;\n      } // HTML5\n      // TODO: Handle buffered chunks of the media\n      // (i.e. seek to another section buffers only that section)\n\n\n      if (buffered && buffered.length && this.duration > 0) {\n        return buffered.end(0) / this.duration;\n      }\n\n      return 0;\n    }\n    /**\n     * Get seeking status\n     */\n\n  }, {\n    key: \"seeking\",\n    get: function get() {\n      return Boolean(this.media.seeking);\n    }\n    /**\n     * Get the duration of the current media\n     */\n\n  }, {\n    key: \"duration\",\n    get: function get() {\n      // Faux duration set via config\n      var fauxDuration = parseFloat(this.config.duration); // Media duration can be NaN or Infinity before the media has loaded\n\n      var realDuration = (this.media || {}).duration;\n      var duration = !is$1.number(realDuration) || realDuration === Infinity ? 0 : realDuration; // If config duration is funky, use regular duration\n\n      return fauxDuration || duration;\n    }\n    /**\n     * Set the player volume\n     * @param {Number} value - must be between 0 and 1. Defaults to the value from local storage and config.volume if not set in storage\n     */\n\n  }, {\n    key: \"volume\",\n    set: function set(value) {\n      var volume = value;\n      var max = 1;\n      var min = 0;\n\n      if (is$1.string(volume)) {\n        volume = Number(volume);\n      } // Load volume from storage if no value specified\n\n\n      if (!is$1.number(volume)) {\n        volume = this.storage.get('volume');\n      } // Use config if all else fails\n\n\n      if (!is$1.number(volume)) {\n        volume = this.config.volume;\n      } // Maximum is volumeMax\n\n\n      if (volume > max) {\n        volume = max;\n      } // Minimum is volumeMin\n\n\n      if (volume < min) {\n        volume = min;\n      } // Update config\n\n\n      this.config.volume = volume; // Set the player volume\n\n      this.media.volume = volume; // If muted, and we're increasing volume manually, reset muted state\n\n      if (!is$1.empty(value) && this.muted && volume > 0) {\n        this.muted = false;\n      }\n    }\n    /**\n     * Get the current player volume\n     */\n    ,\n    get: function get() {\n      return Number(this.media.volume);\n    }\n  }, {\n    key: \"muted\",\n    set: function set(mute) {\n      var toggle = mute; // Load muted state from storage\n\n      if (!is$1.boolean(toggle)) {\n        toggle = this.storage.get('muted');\n      } // Use config if all else fails\n\n\n      if (!is$1.boolean(toggle)) {\n        toggle = this.config.muted;\n      } // Update config\n\n\n      this.config.muted = toggle; // Set mute on the player\n\n      this.media.muted = toggle;\n    }\n    /**\n     * Get current muted state\n     */\n    ,\n    get: function get() {\n      return Boolean(this.media.muted);\n    }\n    /**\n     * Check if the media has audio\n     */\n\n  }, {\n    key: \"hasAudio\",\n    get: function get() {\n      // Assume yes for all non HTML5 (as we can't tell...)\n      if (!this.isHTML5) {\n        return true;\n      }\n\n      if (this.isAudio) {\n        return true;\n      } // Get audio tracks\n\n\n      return Boolean(this.media.mozHasAudio) || Boolean(this.media.webkitAudioDecodedByteCount) || Boolean(this.media.audioTracks && this.media.audioTracks.length);\n    }\n    /**\n     * Set playback speed\n     * @param {Number} speed - the speed of playback (0.5-2.0)\n     */\n\n  }, {\n    key: \"speed\",\n    set: function set(input) {\n      var _this4 = this;\n\n      var speed = null;\n\n      if (is$1.number(input)) {\n        speed = input;\n      }\n\n      if (!is$1.number(speed)) {\n        speed = this.storage.get('speed');\n      }\n\n      if (!is$1.number(speed)) {\n        speed = this.config.speed.selected;\n      } // Clamp to min/max\n\n\n      var min = this.minimumSpeed,\n          max = this.maximumSpeed;\n      speed = clamp(speed, min, max); // Update config\n\n      this.config.speed.selected = speed; // Set media speed\n\n      setTimeout(function () {\n        _this4.media.playbackRate = speed;\n      }, 0);\n    }\n    /**\n     * Get current playback speed\n     */\n    ,\n    get: function get() {\n      return Number(this.media.playbackRate);\n    }\n    /**\n     * Get the minimum allowed speed\n     */\n\n  }, {\n    key: \"minimumSpeed\",\n    get: function get() {\n      if (this.isYouTube) {\n        // https://developers.google.com/youtube/iframe_api_reference#setPlaybackRate\n        return Math.min.apply(Math, _toConsumableArray(this.options.speed));\n      }\n\n      if (this.isVimeo) {\n        // https://github.com/vimeo/player.js/#setplaybackrateplaybackrate-number-promisenumber-rangeerrorerror\n        return 0.5;\n      } // https://stackoverflow.com/a/32320020/1191319\n\n\n      return 0.0625;\n    }\n    /**\n     * Get the maximum allowed speed\n     */\n\n  }, {\n    key: \"maximumSpeed\",\n    get: function get() {\n      if (this.isYouTube) {\n        // https://developers.google.com/youtube/iframe_api_reference#setPlaybackRate\n        return Math.max.apply(Math, _toConsumableArray(this.options.speed));\n      }\n\n      if (this.isVimeo) {\n        // https://github.com/vimeo/player.js/#setplaybackrateplaybackrate-number-promisenumber-rangeerrorerror\n        return 2;\n      } // https://stackoverflow.com/a/32320020/1191319\n\n\n      return 16;\n    }\n    /**\n     * Set playback quality\n     * Currently HTML5 & YouTube only\n     * @param {Number} input - Quality level\n     */\n\n  }, {\n    key: \"quality\",\n    set: function set(input) {\n      var config = this.config.quality;\n      var options = this.options.quality;\n\n      if (!options.length) {\n        return;\n      }\n\n      var quality = [!is$1.empty(input) && Number(input), this.storage.get('quality'), config.selected, config.default].find(is$1.number);\n      var updateStorage = true;\n\n      if (!options.includes(quality)) {\n        var value = closest$1(options, quality);\n        this.debug.warn(\"Unsupported quality option: \".concat(quality, \", using \").concat(value, \" instead\"));\n        quality = value; // Don't update storage if quality is not supported\n\n        updateStorage = false;\n      } // Update config\n\n\n      config.selected = quality; // Set quality\n\n      this.media.quality = quality; // Save to storage\n\n      if (updateStorage) {\n        this.storage.set({\n          quality: quality\n        });\n      }\n    }\n    /**\n     * Get current quality level\n     */\n    ,\n    get: function get() {\n      return this.media.quality;\n    }\n    /**\n     * Toggle loop\n     * TODO: Finish fancy new logic. Set the indicator on load as user may pass loop as config\n     * @param {Boolean} input - Whether to loop or not\n     */\n\n  }, {\n    key: \"loop\",\n    set: function set(input) {\n      var toggle = is$1.boolean(input) ? input : this.config.loop.active;\n      this.config.loop.active = toggle;\n      this.media.loop = toggle; // Set default to be a true toggle\n\n      /* const type = ['start', 'end', 'all', 'none', 'toggle'].includes(input) ? input : 'toggle';\n           switch (type) {\n              case 'start':\n                  if (this.config.loop.end && this.config.loop.end <= this.currentTime) {\n                      this.config.loop.end = null;\n                  }\n                  this.config.loop.start = this.currentTime;\n                  // this.config.loop.indicator.start = this.elements.display.played.value;\n                  break;\n               case 'end':\n                  if (this.config.loop.start >= this.currentTime) {\n                      return this;\n                  }\n                  this.config.loop.end = this.currentTime;\n                  // this.config.loop.indicator.end = this.elements.display.played.value;\n                  break;\n               case 'all':\n                  this.config.loop.start = 0;\n                  this.config.loop.end = this.duration - 2;\n                  this.config.loop.indicator.start = 0;\n                  this.config.loop.indicator.end = 100;\n                  break;\n               case 'toggle':\n                  if (this.config.loop.active) {\n                      this.config.loop.start = 0;\n                      this.config.loop.end = null;\n                  } else {\n                      this.config.loop.start = 0;\n                      this.config.loop.end = this.duration - 2;\n                  }\n                  break;\n               default:\n                  this.config.loop.start = 0;\n                  this.config.loop.end = null;\n                  break;\n          } */\n    }\n    /**\n     * Get current loop state\n     */\n    ,\n    get: function get() {\n      return Boolean(this.media.loop);\n    }\n    /**\n     * Set new media source\n     * @param {Object} input - The new source object (see docs)\n     */\n\n  }, {\n    key: \"source\",\n    set: function set(input) {\n      source.change.call(this, input);\n    }\n    /**\n     * Get current source\n     */\n    ,\n    get: function get() {\n      return this.media.currentSrc;\n    }\n    /**\n     * Get a download URL (either source or custom)\n     */\n\n  }, {\n    key: \"download\",\n    get: function get() {\n      var download = this.config.urls.download;\n      return is$1.url(download) ? download : this.source;\n    }\n    /**\n     * Set the download URL\n     */\n    ,\n    set: function set(input) {\n      if (!is$1.url(input)) {\n        return;\n      }\n\n      this.config.urls.download = input;\n      controls.setDownloadUrl.call(this);\n    }\n    /**\n     * Set the poster image for a video\n     * @param {String} input - the URL for the new poster image\n     */\n\n  }, {\n    key: \"poster\",\n    set: function set(input) {\n      if (!this.isVideo) {\n        this.debug.warn('Poster can only be set for video');\n        return;\n      }\n\n      ui.setPoster.call(this, input, false).catch(function () {});\n    }\n    /**\n     * Get the current poster image\n     */\n    ,\n    get: function get() {\n      if (!this.isVideo) {\n        return null;\n      }\n\n      return this.media.getAttribute('poster') || this.media.getAttribute('data-poster');\n    }\n    /**\n     * Get the current aspect ratio in use\n     */\n\n  }, {\n    key: \"ratio\",\n    get: function get() {\n      if (!this.isVideo) {\n        return null;\n      }\n\n      var ratio = reduceAspectRatio(getAspectRatio.call(this));\n      return is$1.array(ratio) ? ratio.join(':') : ratio;\n    }\n    /**\n     * Set video aspect ratio\n     */\n    ,\n    set: function set(input) {\n      if (!this.isVideo) {\n        this.debug.warn('Aspect ratio can only be set for video');\n        return;\n      }\n\n      if (!is$1.string(input) || !validateRatio(input)) {\n        this.debug.error(\"Invalid aspect ratio specified (\".concat(input, \")\"));\n        return;\n      }\n\n      this.config.ratio = input;\n      setAspectRatio.call(this);\n    }\n    /**\n     * Set the autoplay state\n     * @param {Boolean} input - Whether to autoplay or not\n     */\n\n  }, {\n    key: \"autoplay\",\n    set: function set(input) {\n      var toggle = is$1.boolean(input) ? input : this.config.autoplay;\n      this.config.autoplay = toggle;\n    }\n    /**\n     * Get the current autoplay state\n     */\n    ,\n    get: function get() {\n      return Boolean(this.config.autoplay);\n    }\n  }, {\n    key: \"currentTrack\",\n    set: function set(input) {\n      captions.set.call(this, input, false);\n    }\n    /**\n     * Get the current caption track index (-1 if disabled)\n     */\n    ,\n    get: function get() {\n      var _this$captions = this.captions,\n          toggled = _this$captions.toggled,\n          currentTrack = _this$captions.currentTrack;\n      return toggled ? currentTrack : -1;\n    }\n    /**\n     * Set the wanted language for captions\n     * Since tracks can be added later it won't update the actual caption track until there is a matching track\n     * @param {String} - Two character ISO language code (e.g. EN, FR, PT, etc)\n     */\n\n  }, {\n    key: \"language\",\n    set: function set(input) {\n      captions.setLanguage.call(this, input, false);\n    }\n    /**\n     * Get the current track's language\n     */\n    ,\n    get: function get() {\n      return (captions.getCurrentTrack.call(this) || {}).language;\n    }\n    /**\n     * Toggle picture-in-picture playback on WebKit/MacOS\n     * TODO: update player with state, support, enabled\n     * TODO: detect outside changes\n     */\n\n  }, {\n    key: \"pip\",\n    set: function set(input) {\n      // Bail if no support\n      if (!support.pip) {\n        return;\n      } // Toggle based on current state if not passed\n\n\n      var toggle = is$1.boolean(input) ? input : !this.pip; // Toggle based on current state\n      // Safari\n\n      if (is$1.function(this.media.webkitSetPresentationMode)) {\n        this.media.webkitSetPresentationMode(toggle ? pip.active : pip.inactive);\n      } // Chrome\n\n\n      if (is$1.function(this.media.requestPictureInPicture)) {\n        if (!this.pip && toggle) {\n          this.media.requestPictureInPicture();\n        } else if (this.pip && !toggle) {\n          document.exitPictureInPicture();\n        }\n      }\n    }\n    /**\n     * Get the current picture-in-picture state\n     */\n    ,\n    get: function get() {\n      if (!support.pip) {\n        return null;\n      } // Safari\n\n\n      if (!is$1.empty(this.media.webkitPresentationMode)) {\n        return this.media.webkitPresentationMode === pip.active;\n      } // Chrome\n\n\n      return this.media === document.pictureInPictureElement;\n    }\n  }], [{\n    key: \"supported\",\n    value: function supported(type, provider, inline) {\n      return support.check(type, provider, inline);\n    }\n    /**\n     * Load an SVG sprite into the page\n     * @param {String} url - URL for the SVG sprite\n     * @param {String} [id] - Unique ID\n     */\n\n  }, {\n    key: \"loadSprite\",\n    value: function loadSprite$1(url, id) {\n      return loadSprite(url, id);\n    }\n    /**\n     * Setup multiple instances\n     * @param {*} selector\n     * @param {Object} options\n     */\n\n  }, {\n    key: \"setup\",\n    value: function setup(selector) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      var targets = null;\n\n      if (is$1.string(selector)) {\n        targets = Array.from(document.querySelectorAll(selector));\n      } else if (is$1.nodeList(selector)) {\n        targets = Array.from(selector);\n      } else if (is$1.array(selector)) {\n        targets = selector.filter(is$1.element);\n      }\n\n      if (is$1.empty(targets)) {\n        return null;\n      }\n\n      return targets.map(function (t) {\n        return new Plyr(t, options);\n      });\n    }\n  }]);\n\n  return Plyr;\n}();\n\nPlyr.defaults = cloneDeep(defaults$1);\n\n// ==========================================================================\n\nexport default Plyr;\n","import Plyr from \"plyr/dist/plyr.polyfilled\";\n\nfrappe.Plyr = Plyr;","frappe.provide('frappe.barcode');\n\nfrappe.barcode.scan_barcode = function() {\n\treturn new Promise((resolve, reject) => {\n\t\tif (\n\t\t\twindow.cordova &&\n\t\t\twindow.cordova.plugins &&\n\t\t\twindow.cordova.plugins.barcodeScanner\n\t\t) {\n\t\t\twindow.cordova.plugins.barcodeScanner.scan(result => {\n\t\t\t\tif (!result.cancelled) {\n\t\t\t\t\tresolve(result.text);\n\t\t\t\t}\n\t\t\t}, reject);\n\t\t} else {\n\t\t\tfrappe.require('/assets/js/barcode_scanner.min.js', () => {\n\t\t\t\tfrappe.barcode.get_barcode().then(barcode => {\n\t\t\t\t\tresolve(barcode);\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\t});\n};\n","frappe.provide(\"frappe.ui\");\n\nfrappe.ui.Scanner = class Scanner {\n\tconstructor(options) {\n\t\tthis.dialog = null;\n\t\tthis.handler = null;\n\t\tthis.options = options;\n\t\tthis.is_alive = false;\n\n\t\tif (!(\"multiple\" in this.options)) {\n\t\t\tthis.options.multiple = false;\n\t\t}\n\t\tif (options.container) {\n\t\t\tthis.$scan_area = $(options.container);\n\t\t\tthis.scan_area_id = frappe.dom.set_unique_id(this.$scan_area);\n\t\t}\n\t\tif (options.dialog) {\n\t\t\tthis.dialog = this.make_dialog();\n\t\t\tthis.dialog.show();\n\t\t}\n\t}\n\n\tscan() {\n\t\tthis.load_lib().then(() => this.start_scan());\n\t}\n\n\tstart_scan() {\n\t\tif (!this.handler) {\n\t\t\tthis.handler = new Html5Qrcode(this.scan_area_id); // eslint-disable-line\n\t\t}\n\t\tthis.handler\n\t\t\t.start(\n\t\t\t\t{ facingMode: \"environment\" },\n\t\t\t\t{ fps: 10, qrbox: 250 },\n\t\t\t\t(decodedText, decodedResult) => {\n\t\t\t\t\tif (this.options.on_scan) {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tthis.options.on_scan(decodedResult);\n\t\t\t\t\t\t} catch (error) {\n\t\t\t\t\t\t\tconsole.error(error); // eslint-disable-line\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (!this.options.multiple) {\n\t\t\t\t\t\tthis.stop_scan();\n\t\t\t\t\t\tthis.hide_dialog();\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\terrorMessage => { // eslint-disable-line\n\t\t\t\t\t// parse error, ignore it.\n\t\t\t\t}\n\t\t\t)\n\t\t\t.catch(err => {\n\t\t\t\tthis.is_alive = false;\n\t\t\t\tthis.hide_dialog();\n\t\t\t\tconsole.error(err); // eslint-disable-line\n\t\t\t});\n\t\tthis.is_alive = true;\n\t}\n\n\tstop_scan() {\n\t\tif (this.handler && this.is_alive) {\n\t\t\tthis.handler.stop().then(() => {\n\t\t\t\tthis.is_alive = false;\n\t\t\t\tthis.$scan_area.empty();\n\t\t\t\tthis.hide_dialog();\n\t\t\t});\n\t\t}\n\t}\n\n\tmake_dialog() {\n\t\tlet dialog = new frappe.ui.Dialog({\n\t\t\ttitle: __(\"Scan QRCode\"),\n\t\t\tfields: [\n\t\t\t\t{\n\t\t\t\t\tfieldtype: \"HTML\",\n\t\t\t\t\tfieldname: \"scan_area\"\n\t\t\t\t}\n\t\t\t],\n\t\t\ton_page_show: () => {\n\t\t\t\tthis.$scan_area = dialog.get_field(\"scan_area\").$wrapper;\n\t\t\t\tthis.$scan_area.addClass(\"barcode-scanner\");\n\t\t\t\tthis.scan_area_id = frappe.dom.set_unique_id(this.$scan_area);\n\t\t\t\tthis.scan();\n\t\t\t},\n\t\t\ton_hide: () => {\n\t\t\t\tthis.stop_scan();\n\t\t\t}\n\t\t});\n\t\treturn dialog;\n\t}\n\n\thide_dialog() {\n\t\tthis.dialog && this.dialog.hide();\n\t}\n\n\tload_lib() {\n\t\treturn frappe.require(\n\t\t\t\"/assets/frappe/node_modules/html5-qrcode/dist/html5-qrcode.min.js\"\n\t\t);\n\t}\n};\n"],"names":["window","frappe","provide","namespace","nsl","split","parent","i","length","n","NEWLINE","TAB","UP_ARROW","DOWN_ARROW","cur_frm","_","txt","replace","context","let","translated_text","key","_messages","$","format","__","get_languages","languages","each","boot","lang_dict","lang","value","push","label","sort","a","b","global","fnTest","test","Class","extend","props","_super","this","prototype","proto","Object","create","name","fn","tmp","ret","apply","arguments","newClass","init","hasOwnProperty","constructor","str","args","undefined","unkeyed_index","match","bind","String","includes","search","start","indexOf","Array","defineProperty","searchElement","fromIndex","TypeError","o","len","k","Math","max","abs","trimLeft","trimRight","assign","target","to","index","nextSource","nextKey","call","writable","configurable","require","items","callback","Promise","resolve","assets","execute","check","_version_number","localStorage","getItem","clear_local_storage","console","log","_last_load","not_updated_since","Date","init_local_storage","metadata_version","removeItem","executed_","to_fetch","l","exists","fetch","eval_assets","path","handler","extn","get","src","developer_mode","type","method","r","add","message","freeze","set","e","setItem","slice","js","dom","eval","css","set_style","include_style","file","base_url","is_rtl","jQuery","form","link_formatters","formatters","_right","options","inline","only_value","Data","df","Select","Float","docfield","doc","precision","cint","sysdefaults","float_precision","trim","Currency","always_show_decimals","is_null","temp","cstr","format_number","Int","Percent","const","flt","Rating","map","join","currency","meta","get_field_currency","currency_precision","parts","decimals","fraction","model","get_value","format_currency","Check","Link","doctype","_options","original_value","for_print","substring","link_onclick","repl","onclick","can_read","encodeURIComponent","router","slug","datetime","str_to_user","DateRange","isArray","Datetime","m","moment","convert_to_user_tz","time_zone","tz","date_format","toUpperCase","time_format","Text","tags","utils","replace_newlines","Time","Duration","duration_options","get_duration_options","get_formatted_duration","LikedBy","html","JSON","parse","v","avatar","Tag","Comment","Assign","SmallText","TextEditor","formatted_value","find","Code","text","WorkflowState","workflow_state","get_doc","style","toLowerCase","icon","Email","FileSize","TableMultiSelect","rows","link_field","get_meta","fields","fieldtype","row","fieldname","Color","Icon","get_formatter","formatted","formatter","remove_script_and_style","get_format_helper","helper","get_formatted","get_docfield","full_name","id_count","freeze_count","by_id","id","document","getElementById","get_unique_id","set_unique_id","ele","$ele","attr","el","createElement","appendChild","createTextNode","getElementsByTagName","evil_tags","RegExp","tag","div","innerHTML","found","forEach","elements","parentNode","removeChild","getAttribute","is_element_in_viewport","tolerance","rect","getBoundingClientRect","top","left","bottom","height","right","width","is_element_in_modal","element","Boolean","parents","se","styleSheet","cssText","newtag","className","cs","substr","c","s","activate","$parent","$child","common_class","active_class","removeClass","addClass","msg","css_class","on","cur_grid","toggle_view","appendTo","setTimeout","unfreeze","remove","save_selection","getSelection","sel","getRangeAt","rangeCount","ranges","selection","createRange","restore_selection","savedSel","removeAllRanges","addRange","select","is_touchscreen","handle_broken_images","container","currentTarget","scroll_to_bottom","$container","scrollTop","scrollHeight","file_to_base64","file_obj","reader","FileReader","onload","result","readAsDataURL","scroll_to_section","section_name","section","hasClass","click","ui","scroll","pixel_to_inches","pixels","body","inches","offsetWidth","ellipsis","run_serially","tasks","task","then","load_image","onerror","preprocess","tester","Image","timeout","seconds","scrub","spacer","unscrub","get_data_pill","target_id","remove_action","image","data_pill_wrapper","remove_btn","append","get_modal","title","content","is_online","navigator","onLine","show_alert","indicator","Layout","opts","views","pages","sections","fields_list","fields_dict","make","wrapper","get_doctype_fields","setup_tabbing","render","show_empty_form_message","show_message","get_new_name_field","doctype_layout","concat","get_fields_from_layout","sort_docfields","docfield_map","frm","reqd","hidden","get_status","field","is_new","autoname","f","copy_dict","color","message_color","empty","new_fields","me","column","with_dashboard","setup_dashboard_section","no_opening_section","make_section","make_page","make_column","make_field","unshift","replace_field","fieldobj","init_field","$wrapper","splice","perm","refresh_fields","colspan","make_control","render_input","layout","head","page","fold_btn","next","scroll_to","folded","unfold","trigger","Section","Column","refresh","attach_doc_and_docfields","refresh_dependency","refresh_sections","refresh_section_collapse","activeElement","tagName","is_numeric_field_active","closest","data","numeric_fieldtypes","fieldnames","set_input","add_fields","collapsible","collapse","collapsible_depends_on","evaluate_depends_on_value","has_missing_mandatory","docname","refresh_section_count","ev","which","current","handle_tab","shiftKey","shift","grid_row","prev","focused","get_open_grid_row","set_focus","primary_button","focus","focus_on_next_field","is_visible","idx","grid","grid_rows","start_idx","add_new_row","show_form","in_list","no_value_type","disp_status","is","editor","$input","has_dep","fkey","dependencies_clear","depends_on","mandatory_depends_on","read_only_depends_on","guardian_has_value","hidden_due_to_dependency","set_dependant_property","condition","property","form_obj","is_dialog","parentfield","setting_dependency","set_df_property","expression","out","get_values","istable","throw","script_manager","make_card","card_layout","make_head","description","cssClass","hide_border","toggleClass","hide","collapse_link","show","get_perm","permlevel","indicator_icon","is_collapsed","missing_mandatory","j","section_df","resize_all_columns","FieldGroup","dirty","values","set_values","def_value","get_today","no_submit_on_enter","catch_enter_as_submit","first_button","focus_on_first_input","no_focus","keypress","has_primary_action","preventDefault","get_primary_btn","get_input","input","get_field","ignore_errors","errors","strip_html","msgprint","set_value","val","has_field","dict","promises","all","clear","prop","cur_dialog","open_dialogs","Dialog","[object Object]","super","display","animate","size","static","modal","backdrop","keyboard","get_close_btn","modal_body","$body","$message","header","footer","standard_actions","custom_actions","set_indicator","action","primary","secondary","primary_action","onsubmit","set_primary_action","primary_action_label","secondary_action","set_secondary_action","secondary_action_label","set_secondary_action_label","minimizable","is_minimized","toggle_minimize","get_minimize_btn","hide_scrollbar","pop","onhide","on_hide","on_page_show","off","blur","clear_message","primary_action_fulfilled","get_secondary_btn","set_title","t","toggle","removeAttr","on_minimize_toggle","bool","action_button","hide_open_dialog","messages","waiting","get_waiting_message","Error","confirm","confirm_action","reject_action","d","confirm_dialog","warn","message_html","proceed_action","primary_label","is_minimizable","prompt","isPlainObject","as_list","list_rows","as_table","col","alert","msg_dialog","custom_onhide","msg_area","server_action","hide_on_success","hide_msgprint","client_action","obj","part","msg_exists","wide","classList","contains","instant","update_msgprint","verify_password","password","exc","show_progress","count","total","hide_on_completion","dialog","cur_progress","progress","progress_bar","margin-top","percent","hide_progress","actions","orange","yellow","blue","green","red","subtitle","keys","shortcut_groups","WeakMap","shortcut_group_list","get_shortcut_group","has","AltShortcutGroup","listener_added","$current_dropdown","get_shortcut_for_key","shortcuts","filter","shortcut_group","shortcuts_dict","shortcut","$target","cur_page","bind_shortcut_group_event","highlight_alt_shortcuts","unhighlight_alt_shortcuts","key_map","ctrlKey","metaKey","altKey","bind_events","$text_el","text_content","shortcut_letter","letter","is_valid_char","is_taken","underline_text","underline_el_found","text_html","is_in_global_shortcut","standard_shortcuts","some","setup","get_key","handlers","_out","close_grid_and_dialog","open_row","no_cancel_flag","cancel","add_shortcut","ref","ignore_inputs","prevent_default","existing_shortcut_index","findIndex","new_shortcut","show_keyboard_shortcut_dialog","is_dialog_shown","global_shortcuts","current_page_shortcuts","grid_shortcuts","global_shortcuts_html","generate_shortcuts_html","current_page_shortcuts_html","grid_shortcuts_html","heading","shortcut_label","to_title_case","is_mac","keycode","keyCode","fromCharCode","h","app","trigger_primary_action","eq","get_open_grid_form","open_next","open_prev","toolbar","clear_cache","8","9","13","16","17","91","18","27","37","39","38","40","32","112","113","114","115","116","191","188","190","ESCAPE","LEFT","RIGHT","UP","DOWN","ENTER","SPACE","BACKSPACE","color_name","shade","get_color_shade","color_map","get_color","color_names","get_color_map","shades","getComputedStyle","getPropertyValue","default","light","extra-light","dark","reduce","acc","curr","names","is_standard","startsWith","get_color_name","hex","get_contrast_color","validate_hex","brightness","lighten","parseInt","p","R","G","B","round","toString","hex_to_rgb","rgb","g","Sidebar","make_dom","$sidebar","item","h6","$section","$li_item","get_section","href","on_click","section_heading","LinkPreview","popovers_list","LINK_CLASSES","popover_timeout","setup_events","link_hovered","is_link","identify_doc","popover","setup_popover_control","handle_popover_hide","link_preview_doctypes","new_popover","data_timeout","create_popover","show_popover","get_preview_data","preview_data","clearTimeout","new_content","get_popover_html","init_preview_popover","default_timeout","clear_all_popovers","pageX","$el","xcall","popover_content","template","sanitizeFn","placement","tip","location","get_image_html","preview_title","get_id_html","get_content_html","id_html","get_avatar","preview_image","content_html","request","url","ajax_count","waiting_for_ajax","logs","params","reject","error","always","ajax","headers","quiet","no_spinner","freeze_message","module","cmd","docs","cordova","host","debounce","is_fresh","success","response_text","task_id","socketio","subscribe","queued","btn","error_handlers","async","silent","prepare","statusCode","200","xhr","success_callback","responseText","401","session_expired_dialog","redirect_to_login","handle_session_expired","404","flags","setting_original_route","403","session","user","logged_in_user","responseJSON","_error_message","_server_messages","508","play_sound","413","max_file_size","417","error_callback","501","500","report_error","504","502","exception_handlers","QueryTimeoutError","QueryDeadlockError","ajax_args","dataType","X-Frappe-CSRF-Token","csrf_token","Accept","X-Frappe-CMD","cache","last_request","done","textStatus","docinfo","sync","__messages","status_code_handler","status","trace","cleanup","fail","getResponseHeader","exception","at","exception_handler","threshold","past_request","timestamp","deep_equal","stringify","session_expired","global_handlers","exc_type","request_handler","_debug_messages","last_response","after_server_call","after_ajax","request_opts","error_report_email","cleanup_request_opts","error_dialog","error_report_message","versions","get_route_str","CommunicationComposer","subject","nowdate","recipients","code_block","traceback_info","snippet","copy_to_clipboard","strip","on_error","error_type","ajaxSend","ajaxComplete","open_tasks","open_docs","emit_queue","port","io","disable_async","socket","protocol","connect","get_host","secure","server","setup_listeners","setup_reconnect","doc_subscribe","doc_open","doc_close","form_typing","form_stopped_typing","addEventListener","origin","dev_server","socketio_port","emit","task_subscribe","task_unsubscribe","doc_unsubscribe","last_doc","process_response","locals","status_code","realtime","event","publish","keyList","hasProp","equal","arrA","arrB","dateA","dateB","getTime","regexpA","regexpB","listCacheClear","__data__","other","assocIndexOf","array","arrayProto","listCacheDelete","listCacheGet","listCacheHas","listCacheSet","ListCache","entries","entry","stackClear","stackDelete","stackGet","stackHas","freeGlobal","freeSelf","self","root","Function","Symbol","objectProto","nativeObjectToString","symToStringTag","toStringTag","getRawTag","isOwn","unmasked","objectToString","nullTag","undefinedTag","baseGetTag","isObject","asyncTag","funcTag","genTag","proxyTag","isFunction","coreJsData","maskSrcKey","uid","exec","IE_PROTO","isMasked","func","funcProto","funcToString","toSource","reRegExpChar","reIsHostCtor","reIsNative","baseIsNative","getValue","object","getNative","Map","nativeCreate","hashClear","hashDelete","HASH_UNDEFINED","hashGet","hashHas","hashSet","Hash","mapCacheClear","hash","string","isKeyable","getMapData","mapCacheDelete","mapCacheGet","mapCacheHas","mapCacheSet","MapCache","LARGE_ARRAY_SIZE","stackSet","pairs","Stack","arrayEach","iteratee","baseAssignValue","enumerable","assignValue","objValue","copyObject","source","customizer","isNew","newValue","baseTimes","isObjectLike","argsTag","baseIsArguments","propertyIsEnumerable","isArguments","stubFalse","freeExports","exports","nodeType","freeModule","Buffer","isBuffer","MAX_SAFE_INTEGER","reIsUint","isIndex","isLength","arrayTag","boolTag","dateTag","errorTag","mapTag","numberTag","objectTag","regexpTag","setTag","stringTag","weakMapTag","arrayBufferTag","dataViewTag","float32Tag","float64Tag","int8Tag","int16Tag","int32Tag","uint8Tag","uint8ClampedTag","uint16Tag","uint32Tag","typedArrayTags","baseIsTypedArray","baseUnary","freeProcess","process","nodeUtil","types","binding","nodeIsTypedArray","isTypedArray","arrayLikeKeys","inherited","isArr","isArg","isBuff","isType","skipIndexes","isPrototype","Ctor","overArg","transform","arg","nativeKeys","baseKeys","isArrayLike","baseAssign","nativeKeysIn","baseKeysIn","isProto","keysIn","baseAssignIn","allocUnsafe","buffer","isDeep","copy","copyArray","arrayFilter","predicate","resIndex","stubArray","nativeGetSymbols","getOwnPropertySymbols","getSymbols","symbol","copySymbols","arrayPush","offset","getPrototype","getPrototypeOf","getSymbolsIn","copySymbolsIn","baseGetAllKeys","keysFunc","symbolsFunc","getAllKeys","getAllKeysIn","DataView","Set","promiseTag","dataViewCtorString","mapCtorString","promiseCtorString","setCtorString","weakMapCtorString","getTag","ArrayBuffer","ctorString","initCloneArray","Uint8Array","cloneArrayBuffer","arrayBuffer","byteLength","cloneDataView","dataView","byteOffset","reFlags","cloneRegExp","regexp","lastIndex","symbolProto","symbolValueOf","valueOf","cloneSymbol","cloneTypedArray","typedArray","symbolTag","initCloneByTag","objectCreate","baseCreate","initCloneObject","baseIsMap","nodeIsMap","isMap","baseIsSet","nodeIsSet","isSet","CLONE_DEEP_FLAG","CLONE_FLAT_FLAG","CLONE_SYMBOLS_FLAG","cloneableTags","baseClone","bitmask","stack","isFlat","isFull","isFunc","cloneBuffer","stacked","subValue","cloneDeepWith","uniqBy","seen","from","default_value","plural","revert","word","pattern","reg","irregular","move","foot","goose","sex","child","man","tooth","person","(quiz)zes$","(matr)ices$","(vert|ind)ices$","^(ox)en$","(alias)es$","(octop|vir)i$","(cris|ax|test)es$","(shoe)s$","(o)es$","(bus)es$","([m|l])ice$","(x|ch|ss|sh)es$","(m)ovies$","(s)eries$","([^aeiouy]|qu)ies$","([lr])ves$","(tive)s$","(hive)s$","(li|wi|kni)ves$","(shea|loa|lea|thie)ves$","(^analy)ses$","((a)naly|(b)a|(d)iagno|(p)arenthe|(p)rogno|(s)ynop|(t)he)ses$","([ti])a$","(n)ews$","(h|bl)ouses$","(corpse)s$","(us)es$","s$","(quiz)$","^(ox)$","([m|l])ouse$","(matr|vert|ind)ix|ex$","(x|ch|ss|sh)$","([^aeiouy]|qu)y$","(hive)$","(?:([^f])fe|([lr])f)$","(shea|lea|loa|thie)f$","sis$","([ti])um$","(tomat|potat|ech|her|vet)o$","(bu)s$","(alias)$","(octop)us$","(ax|test)is$","(us)$","([^s]+)$","get_random","possible","charAt","floor","random","get_file_link","filename","is_url","is_html","platform","is_xs","is_sm","is_md","is_json","strip_whitespace","encode_tags","tagsToReplace","&","<",">","strip_original_content","newline","tt","escape_html","escape_html_mapping","\"","'","/","`","=","char","html2text","textContent","with_space","replace_with","toggle_blockquote","before","additional_offset","element_to_be_scrolled","scroll_top","get_scroll_position","header_offset","filter_dict","filters","comma_or","list","comma_sep","comma_and","sep","set_footnote","footnote_area","get_args_dict_from_url","decodeURIComponent","get_url_from_dict","validate_type","regExp","guess_style","default_style","_colour","colour","has_words","guess_colour","get_indicator_color","state","db","get_list","res","Success","Warning","Danger","Primary","compare_type","reverse","sort_fn","localeCompare","number","unique","arr","remove_nulls","new_list","lst","row_idx","new_row","key_idx","sum","previous_value","current_value","arrays_equal","arr1","arr2","intersection","ai","bi","resize_image","max_width","max_height","tempImg","tempW","tempH","canvas","getContext","drawImage","dataURL","toDataURL","csv_to_array","strData","strDelimiter","objPattern","arrData","arrMatches","strMatchedValue","strMatchedDelimiter","warn_page_name_change","notify","route","_original_title","_title_prefix","sub_path","get_sub_path","route_titles","set_title_prefix","prefix","is_image_file","mute_sounds","audio","volume","play","split_emails","email_list","email","supportsES6","err","throttle","wait","previous","later","leading","now","remaining","trailing","immediate","callNow","get_form_link","display_text","query_params_obj","make_query_string","get_route_label","route_str","report_column_total","disable_total","is_numeric_field","setup_search","el_class","text_class","data_attr","$search_input","$elements","text_filter","text_element","deep_clone","file_name_ellipsis","first_part_length","last_part_length","first_part","last_part","get_decoded_string","dataURI","encoded_data","decoded","atob","escaped","escape","show_success_alert","clipboard","isSecureContext","writeText","execCommand","bind_actions_with_object","code","variable_names","variables","get_browser","tem","ua","userAgent","M","version","appName","appVersion","duration","hide_days","hide_seconds","total_duration","seconds_to_duration","days","hours","minutes","ceil","duration_to_seconds","get_number_system","country","number_system_map","India","divisor","map_defaults","center","zoom","tiles","attribution","icon_name","icon_class","icon_style","svg_class","size_class","make_chart","custom_options","chart_args","colors","axisOptions","xIsSeries","shortenYAxisNumbers","xAxisMode","Chart","generate_route","link","doctype_slug","is_single","doc_view","is_tree","route_options","is_query_report","shorten_number","min_length","max_no_of_decimals","number_system","x","get_number_of_decimals","toFixed","build_summary_item","summary","datatype","print","print_format","letterhead","lang_code","open","urllib","get_full_url","get_clipboard_data","clipboard_paste_event","clipboardData","originalEvent","getData","parse_array","is_current_user","EventEmitterMixin","jq","evt","once","one","unbind","make_event_emitter","re_route","#login","route_flags","route_history","view_factory","view_factories","route_hooks","is_app_route","pathname","push_state","override","set_route","target_element","is_on_same_host","hostname","current_route","routes","factory_views","list_views","layout_mapped","doctype_layouts","document_type","current_sub_path","set_history","get_sub_path_string","decode_component","set_route_options_from_url","convert_to_standard_route","workspaces","set_doctype_route","doctype_route","get_standard_route_for_list","standard_route","render_page","pageview","factory","route_name","xss_sanitise","re_route_val","history","back","get_route_from_arguments","convert_from_standard_route","make_url","finally","view","new_route","slug_parts","replace_route","strip_prefix","query_params","get_query_params","URIError","get_route","get_prev_route","set_re_route","has_route_options","route_history_queue","routes_to_skip","save_routes","catch","is_route_useful","get_file_input","setAttribute","read","prettyDate","date","mini","diff","day_diff","isNaN","creation","now_datetime","defaults","get_user_default","is_a_user_permission_key","in_user_permission","get_user_defaults","get_global_default","sys_defaults","get_global_defaults","set_user_default_local","get_default","user_permission","get_user_permissions","_user_permissions","update_user_permissions","RoleEditor","disable","user_roles","roles","role","multicheck","select_all","columns","get_data","checked","on_change","set_roles_in_table","original_func","make_checkboxes","show_permissions","perm_dialog","make_perm_dialog","permissions","rights","reset","set_enable_disable","selected_options","refresh_input","checked_options","get_checked_options","role_doc","clear_doc","add_child","checked_roles","unchecked_roles","get_unchecked_options","ModuleEditor","__onload","all_modules","block_modules","compiled","debug","compile","fn_str","p1","p2","lineNumber","columnNumber","render_template","templates","render_grid","getColumns","getItems","print_settings","orientation","landscape","get_base_url","print_css","layout_direction","w","write","close","render_tree","print_format_css_path","bundled_asset","tree","render_pdf","formData","FormData","blob","Blob","XMLHttpRequest","setRequestHeader","responseType","response","objectUrl","URL","createObjectURL","hidden_a_tag","download","report_name","revokeObjectURL","send","make_app_page","Page","set_document_title","buttons","add_main_section","setup_scroll_handler","setup_sidebar_toggle","documentElement","get_empty_state","load_lib","required_libs","single_column","add_view","setup_page","$title_area","$sub_title_area","get_main_icon","main","sidebar","page_actions","btn_primary","btn_secondary","menu","menu_btn_group","actions_btn_group","page_form","prependTo","inner_toolbar","icon_group","menu_btn","tooltip","delay","action_btn","sidebar_toggle","sidebar_wrapper","disable_sidebar_toggle","setup_overlay_sidebar","update_sidebar_icon","overlay_sidebar","fadeIn","scroll_container","close_sidebar","fadeOut","sidebar_toggle_icon","is_sidebar_visible","clear_indicator","add_action_icon","tooltip_label","button","get_icon_label","set_action","clear_action_of","btn_disable_enable","working_label","text_span","clear_primary_action","clear_secondary_action","clear_actions","clear_custom_actions","clear_icons","add_menu_item","standard","add_dropdown_item","add_custom_menu_item","clear_menu","clear_btn_group","show_menu","hide_menu","show_icon_group","hide_icon_group","show_actions_menu","hide_actions_menu","add_action_item","add_actions_menu_item","show_parent","clear_actions_menu","$li","$link","is_in_group_button_dropdown","$icon","shortcut_obj","prepare_shortcut_obj","divider","insertBefore","selector","item_selector","existing_items","add_divider","get_or_add_inner_group_button","$group","get_inner_group_button","set_inner_btn_group_as_primary","add_inner_button","group","_action","remove_inner_button","change_inner_button_type","add_inner_message","prepend","clear_inner_toolbar","add_sidebar_item","insert_after","li","insertAfter","clear_user_actions","get_title_area","tab_title","title_wrapper","set_title_sub","add_help_button","add_button","btn_class","btn_size","add_custom_button_group","dropdown_label","custom_btn_group","add_dropdown_button","add_label","add_select","add_field","add_options","add_data","add_date","add_check","add_break","placeholder","input_class","only_input","make_input","clear_fields","hide_form","get_form_values","current_view","set_view","current_view_name","previous_view_name","Slide","slide","data-slide-id","data-slide-name","before_load","$content","$form","$primary_btn","slides_footer","$form_wrapper","image_src","help","reqd_fields","made","render_parent_dots","setup_done_state","setup_form","get_atomic_fields","add_more","bind_more_button","set_reqd_fields","mandatory_entry","validate","$more","max_count","unbind_primary_action","bind_fields_to_action_btn","reset_action_button_state","bind_primary_action","children","before_show","resetup_primary_button","first","Slides","slides","slide_class","unidirectional","done_state","on_update","page_name","slide_dict","made_slide_ids","$slide_progress","tabindex","$footer","render_progress_dots","make_prev_next_complete_buttons","show_slide","destroy","show_hide_prev_next","$dot","data-step-id","current_id","completed","bind_progress_dots","$prev_btn","$next_btn","current_slide","$complete_btn","before_show_slide","update_values","hide_slide","page_primary_action","IconBar","n_groups","get_group","$ul","add_btn","check_if_all_hidden","LinkSelector","with_doctype","searchfield","set_custom_query","is_grid","fieldinfo","get_query","link_search","results","set_in_grid","parse_validate_and_set_in_model","can_create","new_doc","more","updated","qty_fieldname","qty","dynamic_link_field","dynamic_link_reference","MultiSelectDialog","for_select","page_length","child_page_length","get_fields","primary_fields","get_primary_filters","result_fields","get_result_fields","data_fields","get_data_fields","child_selection_fields","get_child_selection_fields","get_results","allow_child_item_selection","child_fieldname","show_child_results","doctype_plural","filters_data","get_custom_filters","data_values","filtered_children","get_selected_child_names","selected_documents","get_checked_values","get_parent_name_of_selected_children","make_new_document","add_filters_group","make_filter_area","setup_results","set_route_options","setters","setter","results_area","$results","make_list_row","get_child_result","child_results","render_child_datatable","$child_wrapper","more_btn","child_datatable","rowmanager","checkMap","get_child_datatable_rows","setup_child_datatable","child_columns","editable","more_child_btn","header_columns","get_child_datatable_columns","child_selection_area","DataTable","inlineFilters","serialNoColumn","checkboxColumn","cellHeight","noDataMessage","disableReorderColumn","df_prop","seal","child_doctype","onchange","toggle_child_selection","filter_group","FilterGroup","get_filters","auto_scroll","$this","empty_list","datamanager","parent_names","parent_name","checked_names","child_row_name","checked_values","contents","$row","get_checked_items","render_result_list","filter_fields","get_filters_from_setters","custom_filters","query","as_dict","get_args_for_search","perform_search","parent_search_args","get_filtered_parents_for_child_search","add_parent_filters","add_custom_child_filters","limit_page_length","order_by","get_data_uri","videoWidth","videoHeight","$canvas","Capture","OPTIONS","set_options","facing_mode","images","build_dialog","is_mobile","show_for_mobile","show_for_desktop","stop_media_stream","$template","TEMPLATE","files","render_preview","render_stream","ERR_MESSAGE","constraints","video","facingMode","mediaDevices","getUserMedia","stream","setup_take_photo_action","setup_preview_action","setup_toggle_camera","srcObject","load","setup_capture_action","setup_submit_action","setup_remove_action","update_count","data_url","getElementsByClassName","add_custom_action","getTracks","track","stop","app_icon","get_html","small","emoji","_label","ThemeSwitcher","setup_dialog","themes","increment_by","current_index","theme","current_theme","new_theme","$html","fetch_themes","get_preview_html","preview","th","toggle_theme","toTitle","layout_fields","std_fields_list","core_doctypes_list","std_fields","std_fields_table","table_fields","new_names","events","user_settings","ListView","trigger_list_update","is_saving","modified","__needs_refresh","check_doctype_conflict","__unsaved","remove_from_locals","is_value_type","is_non_std_field","get_std_field","ignore","get_from_localstorage","set_in_localstorage","DocType","cached_timestamp","cached_doc","cached_docs","with_parent","init_doctype","updated_on","__list_js","__custom_list_js","__calendar_js","__map_js","__tree_js","__templates","with_doc","get_docinfo","set_docinfo","get_shared","shared","get_server_module_name","dt","module_app","keywords","can_select","can_write","can_get_report","can_delete","can_cancel","has_workflow","is_active","is_submittable","is_table","single_types","treeviews","__last_sync_on","can_import","import","can_export","export","can_print","can_email","can_share","share","can_set_user_permissions","set_user_permissions","has_value","dn","parenttype","docsdict","isEmptyObject","skip_dirty_trigger","to_update","__unedited","enqueue_events","return_value","get_children","clear_table","formview","opendocs","parent_doc","newlist","get_no_copy_list","no_copy_list","docfields","no_copy","delete_doc","title_field","bold","rt","rename_doc","merge_label","old","new","new_name","merge","round_floats_in","get_fieldnames","validate_missing","get_label","get_all_docs","get_full_column_name","limit","get_single_value","insert","distinct","get_link_options","sync_messages","__print_formats","__workflow_docs","docfield_list","make_docfield_copy_for","docfield_copy","every","get_docfield_copy","set_formatter","set_indicator_formatter","get_text","get_docfields","get_linked_fields","get_fields_to_check_permissions","ignore_user_permissions","get_table_fields","get_doctype_for_field","get_parentfield","parent_dt","child_dt","owner","modified_by","get_print_sizes","get_print_formats","print_format_list","default_print_format","enable_raw_printing","print_formats","doc_type","print_format_type","raw_printing","get_field_precision","number_format","get_number_format","get_number_format_info","update_in_locals","add_to_locals","localname","__islocal","get_new_name","y","local_doc","clear_keys","local_d","new_name_count","get_new_doc","with_mandatory_children","docstatus","set_default_values","create_mandatory_children","__run_link_triggers","name_field","make_new_doc_and_get_name","cnt","fid","no_default","get_default_value","user_default","user_permissions","allowed_records","default_doc","filter_allowed_docs_for_doctype","has_user_permissions","user_defaults","remember_last_selected_value","last_selected_values","default_val","user_fullname","boot_doc","get_default_from_boot_docs","is_allowed_default","now_time","__default_value","ref_fieldname","ref_value","ref_doc","sorted","copy_doc","from_amend","newdoc","lft","rgt","open_mapped_doc","source_name","selected_children","get_selected","run_link_triggers","create_routes","init_callback","make_quick_entry","FileUploader","folder","READ","WRITE","CREATE","DELETE","SUBMIT","CANCEL","AMEND","doctype_perm","has_perm","ptype","perms","get_role_permissions","if_owner","submit","get_match_rules","match_rules","rules","fields_to_check","user_permissions_for_doctype","get_allowed_docs_for_doctype","Owner","get_field_display_status","explain","disabled","allow_on_submit","state_fieldname","read_only","states","update_fields","set_only_once","with_default_doc","filtered_perms","applicable_for","allowed_docs","is_default","record","workflow","state_fields","workflows","wf","workflow_state_field","get_state_fieldname","get_default_state","doc_status","get_transitions","get_document_state","is_self_approval_enabled","allow_self_approval","is_read_only","allow_edit","get_update_fields","update_field","get_state","get_all_transitions","transitions","get_all_transition_actions","transition","save","old_user_settings","new_user_settings","update","get_user_settings","settings","charCodeAt","unescape","q","define","amd","md5","user_info","fullname","abbr","get_abbr","get_palette","set_user_background","background","has_role","rl","get_desktop_items","allowed_modules","module_name","modules","allow_modules","is_help","allowed_pages","_doctype","is_report_manager","get_formatted_email","quote","get_emails","session_alive","session_alive_timeout","image_url","remove_color","filterable","get_cookie","data_attributes","avatar_group","users","avatar_action_html","display_users","extra_users","u","action_icon","$avatar_group","align","overlap","palette","max_length","gravatars","get_gravatar","email_id","param","replace_all","t1","t2","chars","lstrip","rstrip","first_char","last_char","get_cookies","cookie","cookies","$1","$0","sanitised","HTML_ESCAPE_MAP","strategies","regex","sanitise_redirect","domain","base_domain","is_absolute","is_external","strip_url","sanitise_javascript","new_auto_repeat_prompt","frequency","start_date","end_date","reload_doc","get_page_view_count","get_arg","get_dict","open_url_post","PARAMS","new_window","opt","get_url_arg","get_url_dict","comment_when","refresh_when","setInterval","getDefaultOpts","simple","defaultOptions","omitExtraWLInCodeBlocks","defaultValue","describe","noHeaderId","prefixHeaderId","rawPrefixHeaderId","ghCompatibleHeaderId","rawHeaderId","headerLevelStart","parseImgDimensions","simplifiedAutoLink","excludeTrailingPunctuationFromURLs","literalMidWordUnderscores","literalMidWordAsterisks","strikethrough","tables","tablesHeaderId","ghCodeBlocks","tasklists","smoothLivePreview","smartIndentationFix","disableForced4SpacesIndentedSublists","simpleLineBreaks","requireSpaceBeforeHeadingText","ghMentions","ghMentionsLink","encodeEmails","openLinksInNewWindow","backslashEscapesHTMLTags","underline","completeHTMLDocument","metadata","splitAdjacentBlockquotes","showdown","parsers","extensions","globalOptions","setFlavor","flavor","github","original","ghost","vanilla","allOn","allOptionsOn","extension","errMsg","valid","baseMsg","ext","isString","isUndefined","listeners","ln","escapeCharactersCallback","wholeMatch","m1","setOption","getOption","getOptions","resetOptions","preset","option","getFlavor","getFlavorOptions","getDefaultOptions","subParser","stdExtName","validExtension","getAllExtensions","removeExtension","resetExtensions","validateExtension","escapeCharacters","charsToEscape","afterBackslash","regexString","unescapeHTMLEntities","rgxFindMatchPos","end","pos","matchRecursiveRegExp","matchPos","replaceRecursiveRegExp","replacement","repStr","finalStr","lng","bits","regexIndexOf","splitAtIndex","encodeEmailAddress","mail","encode","ch","padEnd","targetLength","padString","repeat","regexes","asteriskDashAndColon","emojis","+1","-1","100","1234","1st_place_medal","2nd_place_medal","3rd_place_medal","8ball","ab","abc","abcd","accept","aerial_tramway","airplane","alarm_clock","alembic","alien","ambulance","amphora","anchor","angel","anger","angry","anguished","ant","apple","aquarius","aries","arrow_backward","arrow_double_down","arrow_double_up","arrow_down","arrow_down_small","arrow_forward","arrow_heading_down","arrow_heading_up","arrow_left","arrow_lower_left","arrow_lower_right","arrow_right","arrow_right_hook","arrow_up","arrow_up_down","arrow_up_small","arrow_upper_left","arrow_upper_right","arrows_clockwise","arrows_counterclockwise","art","articulated_lorry","artificial_satellite","astonished","athletic_shoe","atm","atom_symbol","avocado","baby","baby_bottle","baby_chick","baby_symbol","bacon","badminton","baggage_claim","baguette_bread","balance_scale","balloon","ballot_box","ballot_box_with_check","bamboo","banana","bangbang","bank","bar_chart","barber","baseball","basketball","basketball_man","basketball_woman","bat","bath","bathtub","battery","beach_umbrella","bear","bed","bee","beer","beers","beetle","beginner","bell","bellhop_bell","bento","biking_man","bike","biking_woman","bikini","biohazard","bird","birthday","black_circle","black_flag","black_heart","black_joker","black_large_square","black_medium_small_square","black_medium_square","black_nib","black_small_square","black_square_button","blonde_man","blonde_woman","blossom","blowfish","blue_book","blue_car","blue_heart","blush","boar","boat","bomb","book","bookmark","bookmark_tabs","books","boom","bouquet","bowing_man","bow_and_arrow","bowing_woman","bowling","boxing_glove","boy","bread","bride_with_veil","bridge_at_night","briefcase","broken_heart","bug","building_construction","bulb","bullettrain_front","bullettrain_side","burrito","bus","business_suit_levitating","busstop","bust_in_silhouette","busts_in_silhouette","butterfly","cactus","cake","calendar","call_me_hand","calling","camel","camera","camera_flash","camping","cancer","candle","candy","canoe","capital_abcd","capricorn","car","card_file_box","card_index","card_index_dividers","carousel_horse","carrot","cat","cat2","cd","chains","champagne","chart","chart_with_downwards_trend","chart_with_upwards_trend","checkered_flag","cheese","cherries","cherry_blossom","chestnut","chicken","children_crossing","chipmunk","chocolate_bar","christmas_tree","church","cinema","circus_tent","city_sunrise","city_sunset","cityscape","cl","clamp","clap","clapper","classical_building","clinking_glasses","clock1","clock10","clock1030","clock11","clock1130","clock12","clock1230","clock130","clock2","clock230","clock3","clock330","clock4","clock430","clock5","clock530","clock6","clock630","clock7","clock730","clock8","clock830","clock9","clock930","closed_book","closed_lock_with_key","closed_umbrella","cloud","cloud_with_lightning","cloud_with_lightning_and_rain","cloud_with_rain","cloud_with_snow","clown_face","clubs","cocktail","coffee","coffin","cold_sweat","comet","computer","computer_mouse","confetti_ball","confounded","confused","congratulations","construction","construction_worker_man","construction_worker_woman","control_knobs","convenience_store","cool","policeman","copyright","corn","couch_and_lamp","couple","couple_with_heart_woman_man","couple_with_heart_man_man","couple_with_heart_woman_woman","couplekiss_man_man","couplekiss_man_woman","couplekiss_woman_woman","cow","cow2","cowboy_hat_face","crab","crayon","credit_card","crescent_moon","cricket","crocodile","croissant","crossed_fingers","crossed_flags","crossed_swords","crown","cry","crying_cat_face","crystal_ball","cucumber","cupid","curly_loop","currency_exchange","curry","custard","customs","cyclone","dagger","dancer","dancing_women","dancing_men","dango","dark_sunglasses","dart","dash","deciduous_tree","deer","department_store","derelict_house","desert","desert_island","desktop_computer","male_detective","diamond_shape_with_a_dot_inside","diamonds","disappointed","disappointed_relieved","dizzy","dizzy_face","do_not_litter","dog","dog2","dollar","dolls","dolphin","door","doughnut","dove","dragon","dragon_face","dress","dromedary_camel","drooling_face","droplet","drum","duck","dvd","e-mail","eagle","ear","ear_of_rice","earth_africa","earth_americas","earth_asia","egg","eggplant","eight_pointed_black_star","eight_spoked_asterisk","electric_plug","elephant","envelope_with_arrow","euro","european_castle","european_post_office","evergreen_tree","exclamation","expressionless","eye","eye_speech_bubble","eyeglasses","eyes","face_with_head_bandage","face_with_thermometer","fist_oncoming","fallen_leaf","family_man_woman_boy","family_man_boy","family_man_boy_boy","family_man_girl","family_man_girl_boy","family_man_girl_girl","family_man_man_boy","family_man_man_boy_boy","family_man_man_girl","family_man_man_girl_boy","family_man_man_girl_girl","family_man_woman_boy_boy","family_man_woman_girl","family_man_woman_girl_boy","family_man_woman_girl_girl","family_woman_boy","family_woman_boy_boy","family_woman_girl","family_woman_girl_boy","family_woman_girl_girl","family_woman_woman_boy","family_woman_woman_boy_boy","family_woman_woman_girl","family_woman_woman_girl_boy","family_woman_woman_girl_girl","fast_forward","fax","fearful","feet","female_detective","ferris_wheel","ferry","field_hockey","file_cabinet","file_folder","film_projector","film_strip","fire","fire_engine","fireworks","first_quarter_moon","first_quarter_moon_with_face","fish","fish_cake","fishing_pole_and_fish","fist_raised","fist_left","fist_right","flashlight","fleur_de_lis","flight_arrival","flight_departure","floppy_disk","flower_playing_cards","flushed","fog","foggy","football","footprints","fork_and_knife","fountain","fountain_pen","four_leaf_clover","fox_face","framed_picture","free","fried_egg","fried_shrimp","fries","frog","frowning","frowning_face","frowning_man","frowning_woman","middle_finger","fuelpump","full_moon","full_moon_with_face","funeral_urn","game_die","gear","gem","gemini","gift","gift_heart","girl","globe_with_meridians","goal_net","goat","golf","golfing_man","golfing_woman","gorilla","grapes","green_apple","green_book","green_heart","green_salad","grey_exclamation","grey_question","grimacing","grin","grinning","guardsman","guardswoman","guitar","gun","haircut_woman","haircut_man","hamburger","hammer","hammer_and_pick","hammer_and_wrench","hamster","hand","handbag","handshake","hankey","hatched_chick","hatching_chick","headphones","hear_no_evil","heart","heart_decoration","heart_eyes","heart_eyes_cat","heartbeat","heartpulse","hearts","heavy_check_mark","heavy_division_sign","heavy_dollar_sign","heavy_heart_exclamation","heavy_minus_sign","heavy_multiplication_x","heavy_plus_sign","helicopter","herb","hibiscus","high_brightness","high_heel","hocho","hole","honey_pot","horse","horse_racing","hospital","hot_pepper","hotdog","hotel","hotsprings","hourglass","hourglass_flowing_sand","house","house_with_garden","houses","hugs","hushed","ice_cream","ice_hockey","ice_skate","icecream","ideograph_advantage","imp","inbox_tray","incoming_envelope","tipping_hand_woman","information_source","innocent","interrobang","iphone","izakaya_lantern","jack_o_lantern","japan","japanese_castle","japanese_goblin","japanese_ogre","jeans","joy","joy_cat","joystick","kaaba","keycap_ten","kick_scooter","kimono","kiss","kissing","kissing_cat","kissing_closed_eyes","kissing_heart","kissing_smiling_eyes","kiwi_fruit","koala","koko","large_blue_circle","large_blue_diamond","large_orange_diamond","last_quarter_moon","last_quarter_moon_with_face","latin_cross","laughing","leaves","ledger","left_luggage","left_right_arrow","leftwards_arrow_with_hook","lemon","leo","leopard","level_slider","libra","light_rail","lion","lips","lipstick","lizard","lock","lock_with_ink_pen","lollipop","loop","loud_sound","loudspeaker","love_hotel","love_letter","low_brightness","lying_face","mag","mag_right","mahjong","mailbox","mailbox_closed","mailbox_with_mail","mailbox_with_no_mail","man_artist","man_astronaut","man_cartwheeling","man_cook","man_dancing","man_facepalming","man_factory_worker","man_farmer","man_firefighter","man_health_worker","man_in_tuxedo","man_judge","man_juggling","man_mechanic","man_office_worker","man_pilot","man_playing_handball","man_playing_water_polo","man_scientist","man_shrugging","man_singer","man_student","man_teacher","man_technologist","man_with_gua_pi_mao","man_with_turban","tangerine","mans_shoe","mantelpiece_clock","maple_leaf","martial_arts_uniform","mask","massage_woman","massage_man","meat_on_bone","medal_military","medal_sports","mega","melon","memo","men_wrestling","menorah","mens","metal","metro","microphone","microscope","milk_glass","milky_way","minibus","minidisc","mobile_phone_off","money_mouth_face","money_with_wings","moneybag","monkey","monkey_face","monorail","moon","mortar_board","mosque","motor_boat","motor_scooter","motorcycle","motorway","mount_fuji","mountain","mountain_biking_man","mountain_biking_woman","mountain_cableway","mountain_railway","mountain_snow","mouse","mouse2","movie_camera","moyai","mrs_claus","muscle","mushroom","musical_keyboard","musical_note","musical_score","mute","nail_care","name_badge","national_park","nauseated_face","necktie","negative_squared_cross_mark","nerd_face","neutral_face","new_moon","new_moon_with_face","newspaper","newspaper_roll","next_track_button","ng","no_good_man","no_good_woman","night_with_stars","no_bell","no_bicycles","no_entry","no_entry_sign","no_mobile_phones","no_mouth","no_pedestrians","no_smoking","non-potable_water","nose","notebook","notebook_with_decorative_cover","notes","nut_and_bolt","o2","ocean","octopus","oden","office","oil_drum","ok","ok_hand","ok_man","ok_woman","old_key","older_man","older_woman","om","oncoming_automobile","oncoming_bus","oncoming_police_car","oncoming_taxi","open_file_folder","open_hands","open_mouth","open_umbrella","ophiuchus","orange_book","orthodox_cross","outbox_tray","owl","ox","package","page_facing_up","page_with_curl","pager","paintbrush","palm_tree","pancakes","panda_face","paperclip","paperclips","parasol_on_ground","parking","part_alternation_mark","partly_sunny","passenger_ship","passport_control","pause_button","peace_symbol","peach","peanuts","pear","pen","pencil2","penguin","pensive","performing_arts","persevere","person_fencing","pouting_woman","phone","pick","pig","pig2","pig_nose","pill","pineapple","ping_pong","pisces","pizza","place_of_worship","plate_with_cutlery","play_or_pause_button","point_down","point_left","point_right","point_up","point_up_2","police_car","policewoman","poodle","popcorn","post_office","postal_horn","postbox","potable_water","potato","pouch","poultry_leg","pound","rage","pouting_cat","pouting_man","pray","prayer_beads","pregnant_woman","previous_track_button","prince","princess","printer","purple_heart","purse","pushpin","put_litter_in_its_place","question","rabbit","rabbit2","racehorse","racing_car","radio","radio_button","radioactive","railway_car","railway_track","rainbow","rainbow_flag","raised_back_of_hand","raised_hand_with_fingers_splayed","raised_hands","raising_hand_woman","raising_hand_man","ram","ramen","rat","record_button","recycle","red_circle","registered","relaxed","relieved","reminder_ribbon","repeat_one","rescue_worker_helmet","restroom","revolving_hearts","rewind","rhinoceros","ribbon","rice","rice_ball","rice_cracker","rice_scene","right_anger_bubble","ring","robot","rocket","rofl","roll_eyes","roller_coaster","rooster","rose","rosette","rotating_light","round_pushpin","rowing_man","rowing_woman","rugby_football","running_man","running_shirt_with_sash","running_woman","sa","sagittarius","sake","sandal","santa","satellite","saxophone","school","school_satchel","scissors","scorpion","scorpius","scream","scream_cat","seat","secret","see_no_evil","seedling","selfie","shallow_pan_of_food","shamrock","shark","shaved_ice","sheep","shell","shield","shinto_shrine","ship","shirt","shopping","shopping_cart","shower","shrimp","signal_strength","six_pointed_star","ski","skier","skull","skull_and_crossbones","sleeping","sleeping_bed","sleepy","slightly_frowning_face","slightly_smiling_face","slot_machine","small_airplane","small_blue_diamond","small_orange_diamond","small_red_triangle","small_red_triangle_down","smile","smile_cat","smiley","smiley_cat","smiling_imp","smirk","smirk_cat","smoking","snail","snake","sneezing_face","snowboarder","snowflake","snowman","snowman_with_snow","sob","soccer","soon","sos","sound","space_invader","spades","spaghetti","sparkle","sparkler","sparkles","sparkling_heart","speak_no_evil","speaker","speaking_head","speech_balloon","speedboat","spider","spider_web","spiral_calendar","spiral_notepad","spoon","squid","stadium","star","star2","star_and_crescent","star_of_david","stars","station","statue_of_liberty","steam_locomotive","stew","stop_button","stop_sign","stopwatch","straight_ruler","strawberry","stuck_out_tongue","stuck_out_tongue_closed_eyes","stuck_out_tongue_winking_eye","studio_microphone","stuffed_flatbread","sun_behind_large_cloud","sun_behind_rain_cloud","sun_behind_small_cloud","sun_with_face","sunflower","sunglasses","sunny","sunrise","sunrise_over_mountains","surfing_man","surfing_woman","sushi","suspension_railway","sweat","sweat_drops","sweat_smile","sweet_potato","swimming_man","swimming_woman","symbols","synagogue","syringe","taco","tada","tanabata_tree","taurus","taxi","tea","telephone_receiver","telescope","tennis","tent","thermometer","thinking","thought_balloon","ticket","tickets","tiger","tiger2","timer_clock","tipping_hand_man","tired_face","tm","toilet","tokyo_tower","tomato","tongue","tophat","tornado","trackball","tractor","traffic_light","train","train2","tram","triangular_flag_on_post","triangular_ruler","trident","triumph","trolleybus","trophy","tropical_drink","tropical_fish","truck","trumpet","tulip","tumbler_glass","turkey","turtle","tv","twisted_rightwards_arrows","two_hearts","two_men_holding_hands","two_women_holding_hands","u5272","u5408","u55b6","u6307","u6708","u6709","u6e80","u7121","u7533","u7981","u7a7a","umbrella","unamused","underage","unicorn","unlock","up","upside_down_face","vertical_traffic_light","vhs","vibration_mode","video_camera","video_game","violin","virgo","volcano","volleyball","vs","vulcan_salute","walking_man","walking_woman","waning_crescent_moon","waning_gibbous_moon","warning","wastebasket","watch","water_buffalo","watermelon","wave","wavy_dash","waxing_crescent_moon","wc","weary","wedding","weight_lifting_man","weight_lifting_woman","whale","whale2","wheel_of_dharma","wheelchair","white_check_mark","white_circle","white_flag","white_flower","white_large_square","white_medium_small_square","white_medium_square","white_small_square","white_square_button","wilted_flower","wind_chime","wind_face","wine_glass","wink","wolf","woman","woman_artist","woman_astronaut","woman_cartwheeling","woman_cook","woman_facepalming","woman_factory_worker","woman_farmer","woman_firefighter","woman_health_worker","woman_judge","woman_juggling","woman_mechanic","woman_office_worker","woman_pilot","woman_playing_handball","woman_playing_water_polo","woman_scientist","woman_shrugging","woman_singer","woman_student","woman_teacher","woman_technologist","woman_with_turban","womans_clothes","womans_hat","women_wrestling","womens","world_map","worried","wrench","writing_hand","yellow_heart","yen","yin_yang","yum","zap","zipper_mouth_face","zzz","octocat","Converter","converterOptions","langExtensions","outputModifiers","setConvFlavor","parsed","raw","_parseExtension","legacyExtensionLoading","validExt","listen","gOpt","_constructor","_dispatch","evtName","globals","ei","nText","makeHtml","gHtmlBlocks","gHtmlMdBlocks","gHtmlSpans","gUrls","gTitles","gDimensions","gListLevel","hashLinkCounts","converter","rsp","rgx","rTrimInputText","makeMarkdown","makeMd","HTMLParser","preList","pres","querySelectorAll","presPH","childElementCount","firstChild","language","classes","matches","outerHTML","substitutePreCodeTags","clean","node","childNodes","nodeValue","nodes","mdDoc","addExtension","useExtension","extensionName","output","getMetadata","getMetadataFormat","_setMetadataPair","_setMetadataFormat","_setMetadataRaw","writeAnchorTag","linkText","linkId","m5","m6","wm","st","mentions","username","lnk","simpleURLRegex","simpleURLRegex2","delimUrlRegex","simpleMailRegex","delimMailRegex","replaceLink","leadingMagicChars","m2","m3","trailingPunctuation","trailingMagicChars","lnkTxt","lmc","tmc","replaceMail","bq","pre","codeblock","nextChar","doctypeParsed","charset","leadingText","numSpaces","emojiCode","delim","blockText","blockTags","repFunc","inside","opTagPos","rgx1","patLeft","patRight","subTexts","newSubText1","hashHTMLSpan","repText","num","setextRegexH1","setextRegexH2","spanGamut","hID","headerId","hashBlock","matchFound","hLevel","atxStyle","customizedHeaderId","hText","span","writeImageTag","altText","gDims","parseInside","lead","processListItems","listStr","trimTrailing","isParagraphed","m4","taskbtn","bulletStyle","otp","wm2","styleStartNumber","listType","parseConsecutiveLists","olRgx","ulRgx","counterRxg","parseCL","parseMetadataContents","wholematch","grafs","grafsOut","grafsOutIt","codeFlag","$2","re","replaceFunc","blankLines","parseCells","cell","parseTable","rawTable","tableLines","sLine","rawHeaders","rawStyles","rawCells","styles","cells","tableHeaderId","ii","tb","tblLgn","buildTable","charCodeToReplace","hasChildNodes","childrenLength","innerTxt","headerLevel","headerMark","hasAttribute","listItems","listItemsLenght","listNum","listItemTxt","childrenLenght","spansOnly","tableArray","headings","headContent","allign","cols","cellContent","cellSpacesCount","strLen","parseFloat","strip_number_groups","_round","info","group_regex","group_sep","decimal_str","decimal_regex","get_currency_symbol","hide_currency_symbol","currency_symbols","number_format_info","is_negative","pow","roundNumber","remainder","numerator","denominator","multiplier","_remainder","round_based_on_smallest_currency_fraction","smallest_currency_fraction_value","remainder_val","fmt_money","tools","downloadify","has_common","csv_data","to_csv","blob_object","markdown","md2html","whitespace_len","first_line","txt1","defaultDateFormat","defaultTimeFormat","defaultDatetimeFormat","defaultFormat","date_obj","local","convert_to_system_tz","is_timezone_same","utcOffset","str_to_obj","_d","obj_to_str","locale","obj_to_user","get_user_date_fmt","get_diff","d1","d2","get_hour_diff","get_day_diff","add_days","add_months","months","week_start","startOf","week_end","endOf","month_start","month_end","quarter_start","quarter_end","year_start","year_end","get_user_time_fmt","get_user_fmt","only_time","user_time_fmt","user_date_fmt","get_datetime_as_string","user_to_str","user_fmt","system_fmt","user_to_obj","global_date_format","_f","now_date","as_obj","_date","moment_to_date_obj","date_array","toArray","setFullYear","setMonth","setDate","setHours","setMinutes","setSeconds","setMilliseconds","get_time","isValid","get_first_day_of_the_week_index","first_day_of_the_week","weekdays","defineProperties","dateutil","def","word_in","word_out","validate_email","validate_phone","validate_name","validate_url","nth","list1","list2","#,###.##","#.###,##","# ###.##","# ###,##","#'###.##","#, ###.##","#,##,###.##","#,###.###","#.###","#,###","group_position","integer","youtube_id","has_help","show_video","plyr","Plyr","hideControls","resetOnEnd","help_links","contacts","clear_address_and_contact","render_address_and_contact","get_last_doc","last_route","preview_email","with_container","only_html","file_manager","files_to_move","old_folder","new_folder","old_folder_","new_folder_","file_list","new_parent","old_parent","can_paste","radius","Number","stroke","normalizedRadius","PI","computed","strokeDashoffset","circumference","components","ProgressRing","mounted","is_image","fr","file_size","file_name","private_icon","is_private","private","uploaded","failed","TreeNode","icons","closed","leaf","by_search","is_leaf","children_start","children_loading","fetching","fetched","filtered","selected_node","search_text","toggle_node","methods","select_node","get_files_in_folder","has_more_children","has_more","load_more","is_folder","make_file_node","search_by_name","folder_node","file_url","GoogleDrivePicker","scope","pickerApiLoaded","enabled","appId","pickerCallback","developerKey","clientId","loadGapi","google_drive_token","gapi","onAuthApiLoad","onPickerApiLoad","auth","authorize","client_id","handleAuthResult","authResult","error_map","popup_closed_by_user","access_token","createPicker","google","picker","DocsView","ViewId","DOCS","setParent","setIncludeFolders","PickerBuilder","setAppId","setDeveloperKey","setOAuthToken","addView","setLocale","setCallback","build","setVisible","setupHide","Ob","Action","show_upload_button","disable_file_browser","allow_multiple","as_dataurl","on_success","make_attachments_public","restrictions","max_number_of_files","allowed_file_types","upload_notes","FilePreview","FileBrowser","WebLink","is_dragging","currently_uploading","show_file_browser","show_web_link","close_dialog","allow_take_photo","google_drive_settings","created","user_id","resp","newvalue","oldvalue","upload_complete","dragover","dragleave","dropfiles","add_files","dataTransfer","browse_files","$refs","file_input","on_file_input","remove_file","toggle_all_private","flag","private_values","file_array","check_restrictions","uploading","is_correct_type","valid_file_size","endsWith","upload_files","upload_via_file_browser","upload_via_web_link","return_as_dataurl","upload_file","selected_file","file_browser","web_link","decodeURI","dataurl","upload","lengthComputable","loaded","onreadystatechange","readyState","DONE","file_doc","form_data","capture_image","capture","data_urls","replaceAll","url_to_file","show_google_drive_picker","google_drive_callback","loadPicker","PICKED","attachments","new_attachment","mime_type","File","max_reached","make_dialog","$fileuploader","Vue","FileUploaderComponent","uploader","$children","$watch","all_private","deep","Tree","root_value","setup_treenode_class","with_skeleton","icon_set","setup_root_node","is_root","on_get_node","tree_method","expanded","parent_label","parent_node","make_node_element","on_render","root_node","expandable","expand_node","load_children","$tree_link","make_icon_and_label","$toolbar","get_toolbar","get_selected_node","get_all_nodes","data_list","render_children_of_all_nodes","set_selected_node","get_nodes","data_set","render_node_children","child_node","add_node","show_toolbar","select_link","cur_toolbar","icon_html","get_node_label","on_node_click","hover","btnClass","Container","_intro","pagewidth","pagemargin","has_sidebar","old_name","breadcrumbs","rename","add_page","change_to","keep_open","_route","disable_scroll_to_top","page_route","preferred","Dashboard","Dashboard Chart","Dashboard Chart Source","module_map","Core","Custom","Workflow","Printing","Setup","Event Streaming","Automation","set_doctype_module","get_doctype_module","current_page","set_custom_breadcrumbs","set_workspace_breadcrumb","set_list_breadcrumb","set_form_breadcrumb","set_dashboard_breadcrumb","$breadcrumbs","workspace","set_workspace","module_info","blocked","visible_modules","setup_modules","from_module","get_module","module_page_map","doctype_meta","issingle","last_view","form_route","last_crumb","last","stopImmediatePropagation","dashboard_route","allowed_workspaces","old_route_str","new_route_str","Factory","on_show","show_not_found","double_column","with_page","standard_pages","script","_dynamic_page","home_page","pagedoc","__script","trigger_page_event","eventname","show_message_page","img","show_not_permitted","home","AwesomeBar","global_results","awesomplete","Awesomplete","minChars","maxItems","autoFirst","term","get_item","last_space","lastIndexOf","set_specifics","add_defaults","build_options","deduplicate","get_recent_pages","get_frequent_links","add_help","autocomplete_open","setup_recent","fetch_tags","end_txt","make_global_search","make_search_in_current","make_calculator","make_random","get_creatables","get_search_in_list","get_doctypes","get_reports","get_pages","get_workspaces","get_dashboards","get_executables","get_tags","str_route","recent","set_global_results","searchdialog","init_search","list_view","cur_list","Notifications","tabs","notification_settings","dropdown","dropdown_list","header_items","header_actions","panel_events","panel_notifications","setup_headers","setup_dropdown_events","mark_all_as_read","categories","NotificationsView","EventsView","navitem","$tab","get_headers_html","switch_tab","category","make_tab_view","tab_name","tabView","notifications","get_notification_config","config","show_open_count_list","route_to_list_with_filters","BaseNotificationsView","notifications_icon","setup_notification_listeners","get_notifications_list","dropdown_items","render_notifications_dropdown","toggle_notification_icon","new_item","insert_into_dropdown","replaceWith","new_item_html","get_dropdown_item_html","change_activity_status","doc_link","get_item_link","read_class","from_user","user_avatar","item_html","mark_btn","mark_as_read","notification_doc","link_doctype","link_docname","document_name","update_dropdown","toggle_seen","today","event_list","render_events_html","time","all_day","start_time","starts_on","days_diff","ends_on","end_time","particpants","SearchDialog","search_dialog","set_header","modal_state","current_keyword","more_count","full_lists","nav_lists","init_search_objects","bind_input","searches","global_search","input_placeholder","empty_state_text","no_results_status","get_nav_results","get_global_results","keyword","get_tag_results","$r","status_text","$placeholder","put_placeholder","fetch_type","current_count","doctype_results","add_more_results","search_type","parse_results","result_sets","render_data","$search_results","sidebar_item_html","All Results","add_section_to_summary","render_full_list","clone","$results_list","render_result","more_html","data_path","image_html","avatar_html","get_link","link_html","title_html","$result","subtypes","handle_result_click","previous_hash","results_set","more_results","no_of_results","no_of_results_cue","slideDown","level","fuzzy_search","bolden_match_part","get_results_sets","results_sets","field_value","make_description","_item","frequently_visited_links","can_search","order","skip_list","label_without_type","all_reports","report","report_type","ref_doctype","page_info","dashboards","doc_name","result_current_length","field_text","colon_index","field_data","field_length","field_name","remaining_length","sort_uniques","lists","in_keyword","item_without_hyphen","item_length","query_length","length_ratio","skips","mismatches","outer","k_ch","subseq","rendered","regEx","str_orig","str_len","sub_ch","str_char","searchable_functions","make_function_searchable","_function","misc","about","about_dialog","show_versions","$wrap","branch","branch_version","Toolbar","navbar_settings","setup_awesomebar","setup_notifications","setup_help","search_modal","toggle_full_width","desk_settings","show_results","stopPropagation","$help_links","links","class","search_bar","get_menu","add_menu_divider","add_icon_link","class_name","parent_element","new_element","fullwidth","container_fullwidth","set_fullwidth_if_enabled","show_shortcuts","reload","show_about","route_to_user","view_website","website_tab","opener","setup_session_defaults","default_values","last_edited_communication","separator_element","send_action","toggle_more_options","save_as_draft","sender_email","content_set","set_content","send_me_a_copy","email_accounts","account","email_account","enable_outgoing","user_email_accounts","show_options","more_options","set_label","setup_multiselect_queries","setup_subject_and_recipients","setup_print_language","setup_print","setup_attach","setup_email","setup_email_template","setup_last_edited_communication","setup_add_signature_button","has_sender","set_data","forward","last_email","sender","cc","bcc","timeline","get_recipient","get_last_email","subject_field","identifier","email_field","email_template","template_name","_lang","reply","reply_added","content_field","prepend_reply","get_last_edited_communication","set_values_from_last_edited_communication","is_a_reply","default_email_template","last_edited","template_field","set_model_value","select_print_format","selected_format","get_print_format","default_print_language","language_sel","change","attach_document_print","attach","select_attachments","attachment","render_attachment_rows","attachment_uploaded","attachment_rows","get_attachment_row","get_files","form_values","selected_attachments","send_email","is_cc_checkbox","localforage","delete_saved_draft","print_html","sender_full_name","read_receipt","send_read_receipt","print_letterhead","is_print_letterhead_checked","with_letterhead","get_signature","reply_set","get_earlier_reply","signature","email_signature","add_signature","filtered_email","last_email_content","original_comment","communication_date","TranslationManager","update_translations","get_translations_data","source_text","in_list_view","translation_dict","translation_data","translation","Workspace","prepare_container","show_or_hide_sidebar","setup_dropdown","sidebar_items","sidebar_categories","setup_workspaces","make_sidebar","get_page_to_show","show_page","list_sidebar","default_page","current_workspace","build_sidebar_section","sidebar_section","make_sidebar_category_item","selected","current_page_name","$item","get_sidebar_item","$page","DesktopPage","allow_customization","customize","save_customization","reset_customization","toggle_side_bar","show_workspace_sidebar","desk_page","widgets_list","wid","set_actions","in_customize_mode","onboarding","make_onboarding","make_charts","make_shortcuts","make_cards","dashboard_utils","get_dashboard_settings","chart_config","charts","chart_settings","chart_name","get_widget_config","cards","onboarding_widget","widget","make_widget","steps","docs_url","user_can_dismiss","widget_type","allow_sorting","allow_create","allow_delete","allow_hiding","max_widget_count","WidgetGroup","widgets","WidgetDialog","editing","setup_dialog_events","get_title","process_data","$loading","stats_filter","filters_json","link_to","add_filters_to_filter_group","hide_field","show_field","ChartDialog","ShortcutDialog","hide_filters","setup_filter","show_filters","calendars","$select","backgroundColor","NumberCardDialog","set_aggregate_function_fields","aggregate_function_fields","new_or_existing","card","get_dialog_constructor","number_card","Widget","set_body","action_area","add_custom_button","delete","classname","hide_or_show","show_or_hide_button","edit","allow_resize","toggle_width","resize_button","shadow","subtitle_field","max_chars","base","btn_type","remove_widget","setup_new","on_delete","dialog_class","edit_dialog","get_config","ChartWidget","dashboard_chart","chart_doc","setup_heatmap_container","loading","chart_wrapper","$heatmap_legend","set_chart_title","$summary","after","get_settings","deleted","setup_container","prepare_chart_actions","timeseries","chart_type","render_time_series_filters","prepare_chart_object","setup_filter_button","fetch_and_update_chart","get_time_series_filters","render_chart_filters","heatmap_year","get_years_since_creation","selected_item","selected_heatmap_year","save_chart_config_for_user","time_interval","selected_time_interval","timespan","selected_timespan","render_date_range_field","selected_from_date","selected_to_date","date_field_wrapper","from_date","to_date","report_result","report_summary","get_report_chart_data","update_chart_object","date_range_field","selected_date_range","use_report_chart","y_fields","y_axis","y_field","chart_fields","x_field","report_utils","prepare_field_from_column","make_chart_options","reset_chart","set_chart_actions","is_document_type","filter_button","create_filter_group_and_add_filters","get_filters_for_chart_type","dashboard_config","setup_filter_dialog","query_report","QueryReport","query_reports","parent_doctype","parent_document_type","chart_actions","dataset","ignore_prepared_report","setup_dashboard_chart","get_chart_args","labels","get_source_doctype","set_summary","render_heatmap_legend","get_chart_colors","max_slices","Line","Bar","Percentage","Pie","Donut","Heatmap","maxSlices","number_of_groups","value_based_on","tooltipOptions","formatTooltipY","legend_colors","set_legend_color","last_synced_on","last_synced_text","update_last_synced","get_year","set_chart_filters","user_saved_filters","chart_saved_filters","get_all_filters","update_default_date_filters","report_filters","chart_filters","chart_sources","ShortcutWidget","restrict_to_domain","get_doctype_filter","set_count","count_filter","LinksWidget","is_link_disabled","dependencies","incomplete_dependencies","link_list","link_type","onboard","open_count","link_label","mouseover","mouseout","yt_id","youtubeid","OnboardingWidget","steps_wrapper","step_preview","step_body","step_footer","step","add_step","show_step","is_skipped","is_complete","$step","skip_html","skip_step","active_step","Watch Video","Create Entry","show_full_form","create_entry","show_quick_entry","Show Form Tour","show_form_tour","Update Settings","update_settings","View Report","open_report","Go to Page","go_to_page","toggle_content","intro_video_url","toggle_video","action_label","pause","mark_complete","callback_message","callback_title","reference_report","report_reference_doctype","report_description","reference_document","after_load","show_tour","scroll_to_field","after_save","value_to_validate","after_submit","success_dialog","video_url","update_step_status","show_success","success_message","success_state_image","documentation","is_dismissed","make_body","dismissed","last_hidden","dismiss","NewWidget","new_widget_class","custom_dialog","open_dialog","on_create","NumberCardWidget","card_doc","render_card","create_number_card","set_events","set_doc_args","function","aggregate_function_based_on","get_number","get_number_for_custom_card","Report","get_number_for_report_card","Document Type","get_number_for_doctype_card","prepare_actions","set_loading_state","render_number","render_stats","set_formatted_number","formatted_number","based_on_df","report_field","vals","get_result_of_fn","report_function","default_country","number_parts","caret_html","color_class","get_percentage_stats","percentage_stat","stats_qualifier","Daily","Weekly","Monthly","Yearly","stats_time_interval","stat","NaN","set_card_actions","card_actions","widget_factory","BaseWidget","widget_class","widgets_dict","widget_order","make_container","title_area","make_widgets","widget_area","control_area","innerText","add_widget","widget_object","widget_obj","setup_new_widget","setup_sortable","POSITIVE_INFINITY","new_widget","update_widget_order","widgetName","sortable","Sortable","animation","handle","onEnd","prepared_dict","get_query_string","query_string","query_list","pair","iterator","setPrototypeOf","__proto__","ReferenceError","Reflect","construct","sham","Proxy","getOwnPropertyDescriptor","return","querySelector","scrollLeft","offsetParent","innerHeight","clientHeight","innerWidth","clientWidth","SortSelector","prepare_args","sort_order","sort_by","setup_from_doctype","sort_by_label","get_meta_sort_field","meta_sort_field","meta_sort_order","mandatory","sort_field","get_sql_string","start_app","Application","ready","startup","setup_frappe_vue","load_bootinfo","load_user_permissions","make_nav_bar","set_favicon","setup_analytics","add_browser_class","setup_energy_point_listeners","setup_copy_doc_listener","theme_switcher","make_page_container","show_change_log","show_update_available","console_security_message","show_notes","startup_setup_dialog","setup_complete","pre_show","setup_build_error_listener","email_user_password","set_password","link_preview","email_password_prompt","checking","passed","check_metadata_cache_status","set_globals","sync_pages","setup_moment","set_as_guest","user_email","py_date_format","temp_container","frappe_toolbar","logout","logged_out","logged_in","set_message","usr","pwd","opacity","background-color","save_action","change_log","Cypress","disable_change_log_notification","change_log_dialog","disable_system_update_notification","mixpanel","identify","people","$first_name","first_name","$last_name","last_name","$created","$email","note","notify_on_every_login","pasted_data","__newname","updateLocale","week","dow","user_utc_offset","timezone_info","default_module","_setup","energy_points","get_points","points","format_form_log","get_form_log_message","reason","format_history_log","reference_doctype","reference_name","get_history_log_message","owner_name","revert_of","rule","button_class","filter_class","options_html","chart_filter_html","$chart_filter","get_report_filters","create_dashboard_settings","creation_year","years_list","year","date_str","remove_common_static_filter_values","static_filters","dynamic_filters","static_filter","dynamic_filter","get_fields_for_dynamic_filter_dialog","dynamic_filters_json","get_dashboard_link_field","get_add_to_dashboard_dialog","set_standard","dashboard_route_html","insertAt","margins","paddings","baseHeight","titleHeight","legendHeight","titleFontSize","A","D","bar","line","pie","percentage","heatmap","donut","L","titleName","titleValue","listValues","titleValueFirst","makeTooltip","fill","calcPosition","hideTip","dataPointList","offsetHeight","valueFirst","T","C","P","N","sin","cos","E","isFinite","O","S","F","z","H","log10","W","sqrt","angle","atan2","I","createElementNS","x1","x2","y1","y2","Y","stop-opacity","V","U","stroke-width","X","J","K","Q","rx","Z","dx","dy","font-size","text-anchor","fontSize","textAnchor","et","nt","lineType","shortenNumbers","stroke-opacity","it","nodeName","cloneNode","dot","heat_square","attributes","specified","pink","grey","purple","teal","cyan","light-pink","light-blue","light-green","light-grey","light-red","light-yellow","light-purple","light-teal","light-cyan","light-orange","ot","lt","ct","ease","linear","easein","easeout","easeinout","ut","attributeName","begin","dur","keySplines","keyTimes","calcMode","ht","webkitTransform","msTransform","mozTransform","oTransform","replaceChild","pt","ft","HTMLElement","rawChartArgs","realData","prepareData","prepareFirstData","validateColors","showTooltip","showLegend","isNavigable","truncateLegends","measures","setMeasures","argHeight","initTimeout","overlays","configure","boundDrawFn","draw","ResizeObserver","resizeObserver","observe","disconnect","removeEventListener","makeContainer","updateWidth","independentWidth","bindTooltip","calc","makeChartArea","setupComponents","drawArea","renderLegend","setupNavigation","baseWidth","paddingLeft","paddingRight","svg","svgDefs","titleEL","legendArea","updateTipOffset","updateNav","makeOverlay","bindUnits","legendRowHeight","makeLegend","bindOverlay","keyActions","onEnterKey","onLeftArrow","onUpArrow","onRightArrow","onDownArrow","vt","maxLegendPoints","sliceTotals","datasets","grandTotal","legendTotals","gt","mt","yt","getMinutes","getTimezoneOffset","bt","getDate","getMonth","getFullYear","xt","kt","Lt","wt","At","Dt","getDay","Mt","Tt","layerClass","layerTransform","constants","makeElements","animateElements","store","layer","oldData","Ct","donutSlices","sliceStrings","strokeWidth","pieSlices","percentageBars","xPositions","widths","barHeight","yAxis","positions","mode","xAxis","calcLabels","yMarkers","labelPos","position","yRegions","stroke-dasharray","startPos","endPos","heatDomain","colWidth","rowHeight","squareSize","xTranslate","serializedSubDomains","data-date","yyyyMmDd","data-value","dataValue","data-day","barGraph","unitType","units","yPositions","zeroLine","minHeight","data-point-index","barWidth","offsets","barsWidth","lineGraph","paths","hideLine","spline","heatline","regionFill","region","showDots","cx","cy","valuesOverPoints","Pt","Nt","barOptions","formattedLabels","setValues","showTip","Et","mouseMove","mouseLeave","hoverRadio","startAngle","sliceName","arcFunc","shapeFunc","clockWise","getRadius","slicesProperties","startPosition","endPosition","endAngle","calTranslateByAngle","pageY","formatted_labels","resetHover","curActiveSliceIndex","curActiveSlice","hoverSlice","Ot","mantissa","exponent","St","Ft","zt","min","Ht","Rt","Wt","jt","scaleMultiplier","It","countLabel","startSubDomain","startSubDomainIndex","discreteDomains","noOfWeeks","dataPoints","firstWeekStart","distribution","domainConfigs","getDomains","getDomainConfig","getCol","getSubDomainConfig","Bt","chartType","Yt","Vt","lineOptions","yAxisMode","formatTooltipX","calcXPositions","calcYAxisParameters","getAllYValues","makeDataByIndex","datasetLength","unitWidth","xOffset","calcDatasetPoints","calcYExtremes","calcYRegions","cumulativeYs","cumulativeYPos","yExtremes","spaceRatio","dotSize","dataUnitComponents","dataByIndex","yPos","formattedLabel","xPos","yExtreme","mapTooltipXPosition","overlayGuides","overlay","currentIndex","updateOverlay","setCurrentDataPoint","createEvent","initEvent","dispatchEvent","getDataPoint","Ut","qt","dragEl","parentEl","ghostEl","cloneEl","rootEl","nextEl","lastDownEl","scrollEl","scrollParentEl","scrollCustomFn","oldIndex","newIndex","activeGroup","putSortable","pointerElemChangedInterval","lastPointerElemX","lastPointerElemY","tapEvt","touchEvt","moved","lastTarget","lastDirection","lastMode","targetMoveDistance","realDragElRect","autoScrolls","scrolling","awaitingDragStarted","ignoreNextClick","sortables","pastFirstInvertThresh","isCircumstantialInvert","R_SPACE","expando","win","Zepto","Polymer","captureMode","passive","IE11OrLess","Edge","CSSFloatProperty","supportDraggable","supportCssPointerEvents","pointerEvents","_silent","_alignedSilent","savedInputChecked","_detectDirection","elCSS","_css","elWidth","child1","_getChild","child2","firstChildCSS","secondChildCSS","firstChildWidth","marginLeft","marginRight","_getRect","secondChildWidth","flexDirection","float","touchingSideChild2","_getParentAutoScrollElement","includeSelf","elem","gotSelf","scrollWidth","elemCSS","overflowX","overflowY","_autoScroll","_throttle","isFallback","_this","sens","scrollSensitivity","speed","scrollSpeed","clientX","clientY","scrollThisInstance","_clearAutoScrolls","scrollFn","layersOut","currentParent","vx","vy","canScrollX","canScrollY","scrollPosX","scrollPosY","clearInterval","pid","active","_emulateDragOver","scrollOffsetY","scrollOffsetX","scrollTo","pageXOffset","pageYOffset","bubbleScroll","autoScroll","_prepareGroup","toFn","pull","sameGroup","otherGroup","originalGroup","checkPull","checkPut","put","revertClone","_checkAlignment","_computeIsAligned","_isTrueParentSortable","trueParent","_artificalBubble","originalEvt","nextParent","_extend","artificialBubble","_hideGhostForTarget","_unhideGhostForTarget","_throttleTimeout","nearestEmptyInsertDetectEvent","touches","nearest","emptyInsertThreshold","insideHorizontally","insideVertically","_detectNearestEmptySortable","_onDragOver","draggable","swapThreshold","invertSwap","invertedSwapThreshold","removeCloneOnHide","direction","ghostClass","chosenClass","dragClass","preventOnFilter","easing","setData","dropBubble","dragoverBubble","dataIdAttr","touchStartThreshold","devicePixelRatio","forceFallback","fallbackClass","fallbackOnBody","fallbackTolerance","fallbackOffset","supportPointer","nativeDraggable","_on","_onTapStart","_closest","ctx","includeCTX","_matches","_getParentOrHost","_off","_toggleClass","defaultView","currentStyle","_matrix","appliedTransforms","DOMMatrix","WebKitCSSMatrix","CSSMatrix","_find","_dispatchEvent","targetEl","toEl","fromEl","startIndex","onName","CustomEvent","bubbles","cancelable","_onMove","dragRect","targetRect","willInsertAfter","retVal","onMoveFn","onMove","dragged","draggedRect","related","relatedRect","_disableDraggable","_unsilent","childNum","currentChild","_lastChild","lastElementChild","previousElementSibling","_generateId","_index","msMatchesSelector","webkitMatchesSelector","ms","dst","_clone","_nextTick","_cancelNextTick","adjustForTransform","elRect","containerRect","matrix","scaleX","scaleY","elementFromPoint","axis","targetS1Opp","targetS2Opp","mouseOnOppAxis","sortableMouseAligned","_getDirection","touch","originalTarget","shadowRoot","composedPath","inputs","_saveInputCheckedState","isContentEditable","criteria","_prepareDragStart","_handleAutoScroll","fallback","ogElemScroller","newElem","dragStartFn","ownerDocument","nextSibling","_lastX","_lastY","_disableDelayedDrag","_triggerDragStart","_onDrop","_delayedDragTouchMoveHandler","_dragStartTimer","pointerType","_onTouchMove","_onDragStart","_dragStarted","_appendGhost","_nulling","bypassLastTouchCheck","translate3d","_hideClone","_cloneId","_loopId","effectAllowed","_dragStartId","activeSortable","isOwner","canSort","animated","lastPutMode","mouseOnAxis","targetS2","_ghostIsLast","_showClone","changed","_animate","targetBeforeFirstSwap","aligned","differentLevel","scrolledPastTop","side","elSide","parentSide","_isScrolledPast","el1","el2","el1Rect","el2Rect","el1S1Opp","el1S2Opp","el1OppLength","el2S1Opp","el2S2Opp","el2OppLength","_isElInRowColumn","isLastTarget","targetS1","invert","_getSwapDirection","dragElIndex","targetIndex","_getInsertDirection","nextElementSibling","moveVector","prevRect","currentRect","_offUpEvents","handleEvent","dropEffect","_globalDragOver","removeAttribute","cloneHidden","nextTick","cancelNextTick","detectDirection","getChild","ex","require$$0","expr","con","delegate","delegatedTarget","properties","attrs","styleMap","getStyle","removeStyle","styleProps","inViewport","pTop","pLeft","pBottom","pRight","requestAnimationFrame","scrollbarSize","scrollBarSizeValue","scrollDiv","overflow","scrollbarWidth","getScrollBarSize","hasVerticalOverflow","hasHorizontalOverflow","measureTextWidth","visibility","whiteSpace","isObject_1","commonjsGlobal","commonjsRequire","_freeGlobal","_root","now_1","_Symbol","_getRawTag","nativeObjectToString$1","_objectToString","symToStringTag$1","_baseGetTag","isObjectLike_1","isSymbol_1","NAN","reTrim","reIsBadHex","reIsBinary","reIsOctal","freeParseInt","toNumber_1","isBinary","FUNC_ERROR_TEXT","nativeMax","nativeMin","debounce_1","lastArgs","lastThis","maxWait","timerId","lastCallTime","lastInvokeTime","maxing","invokeFunc","thisArg","shouldInvoke","timeSinceLastCall","timerExpired","trailingEdge","timeWaiting","remainingWait","debounced","isInvoking","leadingEdge","flush","FUNC_ERROR_TEXT$1","throttle_1","isFunction_1","_coreJsData","_isMasked","_toSource","funcProto$1","objectProto$2","funcToString$1","hasOwnProperty$1","_baseIsNative","_getValue","_getNative","_nativeCreate","_hashClear","_hashDelete","hasOwnProperty$2","_hashGet","hasOwnProperty$3","_hashHas","HASH_UNDEFINED$1","_hashSet","_Hash","_listCacheClear","eq_1","_assocIndexOf","_listCacheDelete","_listCacheGet","_listCacheHas","_listCacheSet","_ListCache","_Map","_mapCacheClear","_isKeyable","_getMapData","_mapCacheDelete","_mapCacheGet","_mapCacheHas","_mapCacheSet","_MapCache","HASH_UNDEFINED$2","_setCacheAdd","_setCacheHas","SetCache","_SetCache","_baseFindIndex","fromRight","_baseIsNaN","_strictIndexOf","_baseIndexOf","_arrayIncludes","_arrayIncludesWith","comparator","_cacheHas","_Set","noop_1","_setToArray","_createSet","_baseUniq","isCommon","seenIndex","uniq_1","camelCaseToDash","makeDataAttributeString","_key","copyTextToClipboard","textArea","padding","border","outline","boxShadow","throttle$1","debounce$1","linkProperties","isNumber","uniq$1","numberSortAsc","DataError","chevronDown","chevronRight","hyperlist","createCommonjsModule","1","_dereq_","_createClass","descriptor","Constructor","protoProps","staticProps","defaultConfig","HyperList","userProvidedConfig","instance","_classCallCheck","_config","_lastRepaint","_maxElementHeight","getMaxBrowserHeight","_getScrollPosition","lastRepaint","_renderAnimationFrame","_averageHeight","_renderChunk","afterRender","fixture","mergeStyle","maxElementHeight","cancelAnimationFrame","_this2","_element","scroller","_scroller","scrollerTagName","useFragment","generate","itemHeight","_itemHeights","isValueNumber","isValuePercent","numberValue","_containerHeight","elementStyle","scrollerHeight","scrollerStyle","_scrollHeight","_computeScrollHeight","_itemPositions","_computePositions","oldClass","rowClassName","overrideScrollPosition","force","_getReverseFrom","_getFrom","_screenItemsLen","_lastFrom","_cachedItemsLen","fragment","createDocumentFragment","_getRow","applyPatch","_this3","sortedItemHeights","middle","averageHeight","containerHeight","__esModule","KEYCODES","67","70","86","en","Sort Ascending","Sort Descending","Reset sorting","Remove column","No Data","{count} cells copied","{count} rows selected","de","translations","sourceText","getPluralizedTranslation","filterRows","filteredRowIndices","rowIndex","colIndex","compareString","guessFilter","filterMethod","stringCompareValue","numberCompareValue","getCompareValues","compareValue","compareValues","hay","needle","greaterThan","keywordValue","lessThan","equals","notEquals","range","rangeValues","values1","values2","containsNumber","hayNumber","hayString","getFilterMethod","defaultComponents","sortRows","switchColumn","removeColumn","rowCount","prepareColumns","prepareRows","prepareTreeRows","prepareRowView","prepareNumericColumns","currentSort","sortOrder","validateColumns","prepareDefaultColumns","prepareHeader","hasColumnById","getCheckboxHTML","resizable","focusable","baseCell","isHeader","prepareCell","row0","getRow","cellValue","validateData","_getNextRowCount","indent","prepareRow","nextRow","isLeaf","isTreeNodeClose","rowViewOrder","baseRowCell","_sortRows","reverseArray","aIndex","bIndex","aContent","getCell","bContent","srNoColIndex","getColumnIndexById","viewIndex","temporary","index1","index2","newCell1","newCell2","_row","newVal","keyValPairs","getColumn","getAllRowIndices","rowsToShow","_filteredRows","skipStandardColumns","getStandardColumnCount","parentRowIndex","parentIndent","childIndent","bindEvents","bindFocusCell","bindEditCell","bindKeyboardSelection","bindCopyCellContents","bindMouseEvents","bindTreeEvents","bindKeyboardNav","$editingCell","bodyScrollable","activateEditing","$focusedCell","deactivateEditing","focusCellInDirection","$cell","getLeftMostCell$","getRightMostCell$","getTopMostCell$","getBottomMostCell$","focusCell","focusLastCell","columnmanager","toggleFilter","activateFilter","unfocusCell","selectArea","$selectionCursor","getSelectionCursor","getLeftCell$","getRightCell$","getAboveCell$","getBelowCell$","getNextSelectionCursor","noOfCellsCopied","copyCellContents","translate","showToastMessage","pasteFromClipboard","pasteTarget","pasteContentInCell","mouseDown","$toggle","openSingleNode","closeSingleNode","skipScrollToCell","scrollToCell","skipClearSelection","clearSelection","skipDOMFocus","highlightRowColumnHeader","lastHeaders","colHeaderSelector","rowHeaderSelector","colHeader","rowHeader","getCell$","fCell","_selectArea","$cell1","$cell2","getCellsInRange","_selectedCells","colIndex1","rowIndex1","colIndex2","rowIndex2","cell1","cell2","isStandardCell","rowIndices","_rowIndex","_colIndex","$editCell","getEditor","currentCellEditor","initValue","submitValue","submitEditing","getDefaultEditor","setValue","promise","valuePromise","oldValue","updateCell","focusedCell","focusFilter","isFilterShown","refreshCell","getCellContent","getFirstColumnIndex","$prevFocusedCell","$aboveRow","parentElement","$belowRow","getLastColumnIndex","getFirstRowIndex","getLastRowIndex","scrollToRow","getViewportHeight","getRowHeight","dataAttr","isFilter","isTotalRow","isBodyCell","contentHTML","editCellHTML","getEditCellHTML","sortIndicator","resizeColumn","getDropdownHTML","customFormatter","treeView","addToggle","refreshHeader","getHeaderHTML","$filterRow","$columnMap","bindMoveColumn","getRowHTML","bindDropdown","bindResizeColumn","bindPerfectColumnWidth","bindFilter","dropdownClass","dropdownContainer","getDropdownListHTML","$dropdownList","firstElementChild","openDropdown","deactivateDropdownOnBodyClick","deactivateDropdown","_dropdownActiveColIndex","dropdownItems","headerDropdown","hideDropdown","_dropdownWidth","$resizingCell","startWidth","startX","isDragging","$handle","onMouseup","setColumnWidth","setBodyStyle","onMouseMove","delta","finalWidth","minimumColumnWidth","updateColumn","setColumnHeaderWidth","longestCell","bodyRenderer","visibleRows","$longestCellHTML","cellmanager","getCellHTML","$div","cellText","$draggedCell","nextSortOrder","refreshRows","fireEvent","removedCol","showFilter","applyFilter","getAppliedFilters","showRows","columnsToSort","sortColumn","columnWidth","setStyle","$column","minWidth","getColumnCount","bindCheckbox","$checkbox","checkAll","checkRow","renderBody","setDimensions","updateRow","getCheckedRows","highlightRow","showCheckStatus","getTotalRows","highlightAll","checkedRowStatus","clearToastMessage","getRow$","_highlightedRows","renderRows","getImmediateChildren","childrenToShow","getChildrenToShowForNode","visibleRowIndices","rowsToHide","getChildren","getChildrenToHideForNode","getRows","flat","depth","rowsToOpen","rowsToClose","getRowCount","_lastScrollTo","rowsInView","rowIdentifier","getFilterInput","computedStyle","rowHTML","restoreState","renderFooter","getNoDataHTML","getRowsForView","showTotalRow","totalRow","getTotalRow","hooks","columnTotal","columnValues","prevRow","prevCell","highlightCheckedRows","selectAreaOnClusterChanged","focusCellOnClusterChanged","hideAfter","toastMessage","getToastMessageHTML","scopeClass","instances","datatableWrapper","styleEl","bindResizeWindow","bindScrollHeader","stylesheet","sheet","onWindowResize","_settingHeaderPosition","distributeRemainingWidth","refreshColumnWidth","styleObject","_styleRulesMap","prefixedSelector","_getPrefixedSelector","ruleString","_getRuleString","insertRule","cssRules","selectorText","deleteRule","dashed","setCellHeight","setupMinWidth","setupNaturalColumnWidth","setupColumnWidth","setColumnStyle","$headerCell","naturalWidth","totalWidth","getColumnById","onePart","ratioWidth","getRowIndexColumnWidth","wrapperWidth","firstRow","firstRowWidth","headerRow","resizableColumns","deltaWidth","getColumnHeaderElement","text-align","bodyWidth","rowWidth","bodyHeight","Infinity","preventBubbling","listener","initializeTranslations","setDefaultOptions","buildOptions","initializeComponents","applyDefaultSortOrder","translationManager","addTranslations","DEFAULT_OPTIONS","dropdownButton","onRemoveColumn","onSwitchColumn","column1","column2","onSortColumn","onCheckRow","onDestroy","asc","desc","none","overrideComponents","freezeMessage","clusterize","dynamicRowHeight","prepareDom","Style$$1","Keyboard$$1","DataManager$$1","RowManager$$1","ColumnManager$$1","CellManager$$1","BodyRenderer$$1","freezeContainer","appendRows","refreshRow","renderHeader","viewportHeight","eventName","_internalEventHandlers","packageJson","__version__","datatable","get_translations","core","__g","__e","inspectSource","KEY","QObject","findChild","_k","for","keyFor","useSetter","useSimple","getOwnPropertyNames","contentWindow","_t","_i","Arguments","CSSRuleList","CSSStyleDeclaration","CSSValueList","ClientRectList","DOMRectList","DOMStringList","DOMTokenList","DataTransferItemList","FileList","HTMLAllCollection","HTMLCollection","HTMLFormElement","HTMLSelectElement","MediaList","MimeTypeArray","NamedNodeMap","NodeList","PaintRequestList","Plugin","PluginArray","SVGLengthList","SVGNumberList","SVGPathSegList","SVGPointList","SVGStringList","SVGTransformList","SourceBufferList","StyleSheetList","TextTrackCueList","TextTrackList","TouchList","isExtensible","preventExtensions","NEED","fastKey","getWeak","onFreeze","callee","highlightedElement","lastHighlightedElement","hideTimer","removeNode","isSame","onHighlightStarted","onDeselected","getCalculatedPosition","canHighlight","onHighlighted","attachNode","onReset","showPopover","showStage","stage","animationTimeout","offsetTop","offsetLeft","isInView","scrollIntoView","scrollIntoViewOptions","behavior","block","scrollManually","hidePopover","hideStage","removeHighlightClasses","bringInView","addHighlightClasses","canMakeRelative","fixStackingContext","getStyleProperty","isFirst","isLast","totalCount","showButtons","closeBtnText","doneBtnText","startBtnText","nextBtnText","prevBtnText","tipNode","titleNode","descriptionNode","footerNode","nextBtnNode","prevBtnNode","closeBtnNode","setInitialState","positionOnLeft","positionOnLeftCenter","positionOnLeftBottom","positionOnRight","positionOnRightCenter","positionOnRightBottom","positionOnTop","positionOnTopCenter","positionOnTopRight","positionOnBottom","positionOnBottomCenter","positionOnBottomRight","positionOnMidCenter","autoPosition","getSize","getFullPageSize","setInitialStyle","stageBackground","allowClose","keyboardControl","overlayClickNext","onNext","onPrevious","isActivated","currentStep","currentMovePrevented","onResize","onKeyUp","onClick","moveNext","movePrevious","preventMove","hasHighlightedElement","getHighlightedElement","handleNext","handlePrevious","highlight","getLastHighlightedElement","prepareElementFromStep","Driver","ce","defaultPrevented","origPrevent","initCustomEvent","detail","Event","globalThis","global_1","fails","descriptors","nativePropertyIsEnumerable","NASHORN_BUG","objectPropertyIsEnumerable","createPropertyDescriptor","bitmap","classofRaw","indexedObject","requireObjectCoercible","toIndexedObject","toPrimitive","PREFERRED_STRING","document$1","EXISTS","documentCreateElement","ie8DomDefine","nativeGetOwnPropertyDescriptor","f$1","objectGetOwnPropertyDescriptor","anObject","nativeDefineProperty","f$2","Attributes","objectDefineProperty","createNonEnumerableProperty","setGlobal","SHARED","sharedStore","functionToString","WeakMap$1","nativeWeakMap","postfix","sharedKey","hiddenKeys","WeakMap$2","has$1","enforce","getterFor","TYPE","store$1","wmget","wmhas","wmset","STATE","internalState","redefine","getInternalState","enforceInternalState","unsafe","noTargetGet","aFunction","variable","getBuiltIn","toInteger","argument","toLength","min$1","toAbsoluteIndex","createMethod","IS_INCLUDES","arrayIncludes","objectKeysInternal","enumBugKeys","hiddenKeys$1","f$3","objectGetOwnPropertyNames","f$4","objectGetOwnPropertySymbols","ownKeys","copyConstructorProperties","isForced","feature","detection","normalize","POLYFILL","NATIVE","isForced_1","getOwnPropertyDescriptor$1","_export","targetProperty","sourceProperty","TARGET","GLOBAL","STATIC","forced","nativeSymbol","useSymbolAsUid","toObject","objectKeys","objectDefineProperties","Properties","GT","LT","PROTOTYPE","SCRIPT","EmptyConstructor","scriptTag","NullProtoObjectViaActiveX","activeXDocument","parentWindow","NullProtoObjectViaIFrame","iframeDocument","iframe","JS","NullProtoObject","ActiveXObject","nativeGetOwnPropertyNames","toString$1","windowNames","getWindowNames","f$5","objectGetOwnPropertyNamesExternal","WellKnownSymbolsStore","Symbol$1","createWellKnownSymbol","withoutSetter","wellKnownSymbol","f$6","wellKnownSymbolWrapped","defineWellKnownSymbol","NAME","defineProperty$1","TO_STRING_TAG","setToStringTag","TAG","aFunction$1","functionBindContext","that","SPECIES","arraySpeciesCreate","originalArray","createMethod$1","IS_MAP","IS_FILTER","IS_SOME","IS_EVERY","IS_FIND_INDEX","NO_HOLES","callbackfn","specificCreate","boundFunction","arrayIteration","$forEach","HIDDEN","SYMBOL","PROTOTYPE$1","TO_PRIMITIVE","setInternalState","ObjectPrototype","$Symbol","$stringify","nativeGetOwnPropertyDescriptor$1","nativeDefineProperty$1","nativeGetOwnPropertyNames$1","nativePropertyIsEnumerable$1","AllSymbols","ObjectPrototypeSymbols","StringToSymbolRegistry","SymbolToStringRegistry","WellKnownSymbolsStore$1","USE_SETTER","setSymbolDescriptor","ObjectPrototypeDescriptor","wrap","isSymbol","$defineProperty","$defineProperties","$getOwnPropertySymbols","$propertyIsEnumerable","$create","$getOwnPropertyDescriptor","$getOwnPropertyNames","IS_OBJECT_PROTOTYPE","sym","FORCED_JSON_STRINGIFY","replacer","space","$replacer","defineProperty$2","NativeSymbol","EmptyStringDescriptionStore","SymbolWrapper","symbolPrototype","symbolToString","native","arrayMethodIsStrict","METHOD_NAME","defineProperty$3","thrower","arrayMethodUsesToLength","ACCESSORS","argument0","argument1","$forEach$1","STRICT_METHOD","USES_TO_LENGTH","arrayForEach","$indexOf","nativeIndexOf","NEGATIVE_ZERO","STRICT_METHOD$1","USES_TO_LENGTH$1","UNSCOPABLES","ArrayPrototype","addToUnscopables","iterators","correctPrototypeGetter","IE_PROTO$1","ObjectPrototype$1","objectGetPrototypeOf","ITERATOR","BUGGY_SAFARI_ITERATORS","returnThis","IteratorPrototype","PrototypeOfArrayIteratorPrototype","arrayIterator","iteratorsCore","IteratorPrototype$1","returnThis$1","createIteratorConstructor","IteratorConstructor","aPossiblePrototype","objectSetPrototypeOf","CORRECT_SETTER","IteratorPrototype$2","BUGGY_SAFARI_ITERATORS$1","ITERATOR$1","KEYS","VALUES","ENTRIES","returnThis$2","defineIterator","Iterable","DEFAULT","IS_SET","FORCED","CurrentIteratorPrototype","getIterationMethod","KIND","defaultIterator","IterablePrototype","INCORRECT_VALUES_NAME","nativeIterator","anyNativeIterator","ARRAY_ITERATOR","setInternalState$1","getInternalState$1","es_array_iterator","iterated","kind","nativeJoin","ES3_STRINGS","STRICT_METHOD$2","separator","createProperty","propertyKey","engineUserAgent","v8","engineV8Version","SPECIES$1","arrayMethodHasSpeciesSupport","foo","HAS_SPECIES_SUPPORT","USES_TO_LENGTH$2","0","SPECIES$2","nativeSlice","max$1","fin","TO_STRING_TAG$1","toStringTagSupport","TO_STRING_TAG$2","CORRECT_ARGUMENTS","tryGet","classof","regexpFlags","ignoreCase","multiline","dotAll","unicode","sticky","RE","UNSUPPORTED_Y","BROKEN_CARET","regexpStickyHelpers","nativeExec","nativeReplace","patchedExec","UPDATES_LAST_INDEX_WRONG","re1","re2","UNSUPPORTED_Y$1","NPCG_INCLUDED","PATCH","reCopy","charsAdded","strCopy","regexpExec","TO_STRING","RegExpPrototype","nativeToString","NOT_GENERIC","INCORRECT_NAME","rf","createMethod$2","CONVERT_TO_STRING","second","stringMultibyte","codeAt","STRING_ITERATOR","setInternalState$2","getInternalState$2","point","SPECIES$3","REPLACE_SUPPORTS_NAMED_GROUPS","groups","REPLACE_KEEPS_$0","REPLACE","REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE","SPLIT_WORKS_WITH_OVERWRITTEN_EXEC","originalExec","fixRegexpWellKnownSymbolLogic","DELEGATES_TO_SYMBOL","DELEGATES_TO_EXEC","execCalled","nativeRegExpMethod","nativeMethod","arg2","forceStringMethod","stringMethod","regexMethod","charAt$1","advanceStringIndex","regexpExecAbstract","max$2","min$2","floor$1","SUBSTITUTION_SYMBOLS","SUBSTITUTION_SYMBOLS_NO_NAMED","maybeToString","maybeCallNative","UNSAFE_SUBSTITUTE","searchValue","replaceValue","functionalReplace","fullUnicode","accumulatedResult","nextSourcePosition","matched","captures","namedCaptures","replacerArgs","getSubstitution","tailPos","sameValue","SEARCH","nativeSearch","searcher","previousLastIndex","MATCH","isRegexp","isRegExp","SPECIES$4","speciesConstructor","defaultConstructor","min$3","MAX_UINT32","SUPPORTS_Y","SPLIT","nativeSplit","internalSplit","lim","lastLength","lastLastIndex","separatorCopy","splitter","unicodeMatching","domIterables","COLLECTION_NAME","Collection","CollectionPrototype","ITERATOR$2","TO_STRING_TAG$3","ArrayValues","COLLECTION_NAME$1","Collection$1","CollectionPrototype$1","ITERATOR$3","nativeUrl","searchParams","URLSearchParams","anInstance","nativeAssign","defineProperty$4","objectAssign","chr","argumentsLength","callWithSafeIterationClosing","returnMethod","ITERATOR$4","ArrayPrototype$1","isArrayIteratorMethod","ITERATOR$5","getIteratorMethod","arrayFrom","arrayLike","mapfn","mapping","iteratorMethod","maxInt","tMin","tMax","skew","damp","initialBias","initialN","delimiter","regexNonASCII","regexSeparators","OVERFLOW_ERROR","baseMinusTMin","floor$2","stringFromCharCode","ucs2decode","counter","extra","digitToBasic","digit","adapt","numPoints","firstTime","currentValue","inputLength","bias","basicLength","handledCPCount","handledCPCountPlusOne","RangeError","qMinusT","baseMinusT","stringPunycodeToAscii","encoded","redefineAll","getIterator","$fetch","Headers","ITERATOR$6","URL_SEARCH_PARAMS","URL_SEARCH_PARAMS_ITERATOR","setInternalState$3","getInternalParamsState","getInternalIteratorState","plus","sequences","percentSequence","bytes","percentDecode","sequence","deserialize","!","(",")","~","%20","serialize","parseSearchParams","attribute","updateSearchParams","validateArgumentsLength","required","URLSearchParamsIterator","URLSearchParamsConstructor","entryIterator","entryNext","updateURL","URLSearchParamsPrototype","getAll","entriesIndex","sliceIndex","web_urlSearchParams","getState","NativeURL","URLSearchParams$1","getInternalSearchParamsState","setInternalState$4","getInternalURLState","floor$3","INVALID_AUTHORITY","INVALID_SCHEME","INVALID_HOST","INVALID_PORT","ALPHA","ALPHANUMERIC","DIGIT","HEX_START","OCT","DEC","HEX","FORBIDDEN_HOST_CODE_POINT","FORBIDDEN_HOST_CODE_POINT_EXCLUDING_PERCENT","LEADING_AND_TRAILING_C0_CONTROL_OR_SPACE","TAB_AND_NEW_LINE","EOF","parseHost","codePoints","parseIPv6","isSpecial","parseIPv4","percentEncode","C0ControlPercentEncodeSet","partsLength","numbers","radix","ipv4","numbersSeen","ipv4Piece","swaps","swap","address","pieceIndex","compress","pointer","findLongestZeroSequence","ipv6","maxIndex","maxLength","currStart","currLength","serializeHost","ignore0","fragmentPercentEncodeSet"," ","pathPercentEncodeSet","#","?","{","}","userinfoPercentEncodeSet",":",";","@","[","\\","]","^","|","specialSchemes","ftp","http","https","ws","wss","scheme","includesCredentials","cannotHaveUsernamePasswordPort","cannotBeABaseURL","isWindowsDriveLetter","normalized","startsWithWindowsDriveLetter","third","shortenURLsPath","pathSize","isSingleDot","segment","isDoubleDot","SCHEME_START","SCHEME","NO_SCHEME","SPECIAL_RELATIVE_OR_AUTHORITY","PATH_OR_AUTHORITY","RELATIVE","RELATIVE_SLASH","SPECIAL_AUTHORITY_SLASHES","SPECIAL_AUTHORITY_IGNORE_SLASHES","AUTHORITY","HOST","HOSTNAME","PORT","FILE","FILE_SLASH","FILE_HOST","PATH_START","PATH","CANNOT_BE_A_BASE_URL_PATH","QUERY","FRAGMENT","parseURL","stateOverride","bufferCodePoints","failure","seenAt","seenBracket","seenPasswordToken","codePoint","encodedCodePoints","URLConstructor","baseState","urlString","searchParamsState","serializeURL","getOrigin","getProtocol","getUsername","getPassword","getHost","getHostname","getPort","getPathname","getSearch","getSearchParams","getHash","URLPrototype","accessorDescriptor","getter","nativeCreateObjectURL","nativeRevokeObjectURL","_typeof","_defineProperties","_defineProperty","ownKeys$1","enumerableOnly","_objectSpread2","getOwnPropertyDescriptors","_objectWithoutPropertiesLoose","excluded","sourceKeys","_objectWithoutProperties","sourceSymbolKeys","_slicedToArray","_arrayWithHoles","_iterableToArrayLimit","_unsupportedIterableToArray","_nonIterableRest","_toConsumableArray","_arrayWithoutHoles","_iterableToArray","_nonIterableSpread","_arrayLikeToArray","iter","_arr","_n","_e","_s","minLen","iteratorSupported","checkIfIteratorIsSupported","createIterator","serializeParam","deserializeParam","checkIfURLSearchParamsSupported","searchString","typeofSearchString","_fromString","_entries","searchArray","polyfillURLSearchParams","_URL","checkIfURLIsSupported","baseElement","implementation","createHTMLDocument","anchorElement","enableSearchUpdate","enableSearchParamsUpdate","methodName","_anchorElement","linkURLWithAnchorAttribute","_updateSearchParams","expectedPort","http:","https:","ftp:","addPortToOrigin","IS_CONCAT_SPREADABLE","MAXIMUM_ALLOWED_INDEX_EXCEEDED","IS_CONCAT_SPREADABLE_SUPPORT","SPECIES_SUPPORT","isConcatSpreadable","spreadable","$filter","HAS_SPECIES_SUPPORT$1","USES_TO_LENGTH$3","$find","FIND","SKIPS_HOLES","USES_TO_LENGTH$4","ITERATOR$7","SAFE_CLOSING","called","iteratorWithReturn","checkCorrectnessOfIteration","SKIP_CLOSING","ITERATION_SUPPORT","INCORRECT_ITERATION","iterable","$includes","USES_TO_LENGTH$5","$map","HAS_SPECIES_SUPPORT$2","USES_TO_LENGTH$6","inheritIfRequired","dummy","Wrapper","NewTarget","NewTargetPrototype","whitespaces","whitespace","ltrim","rtrim","createMethod$3","stringTrim","getOwnPropertyDescriptor$2","defineProperty$5","NUMBER","NativeNumber","NumberPrototype","BROKEN_CLASSOF","toNumber","maxCode","digits","NumberWrapper","keys$1","FAILS_ON_PRIMITIVES","notARegexp","MATCH$1","correctIsRegexpLogic","freezing","internalMetadata","METADATA","setMetadata","objectID","weakData","REQUIRED","getWeakData","internalMetadata_1","internalMetadata_2","internalMetadata_3","internalMetadata_4","iterate_1","Result","stopped","AS_ENTRIES","IS_ITERATOR","iterFn","collection","CONSTRUCTOR_NAME","common","IS_WEAK","ADDER","NativeConstructor","NativePrototype","exported","fixMethod","getConstructor","HASNT_CHAINING","THROWS_ON_PRIMITIVES","ACCEPT_ITERABLES","BUGGY_ZERO","$instance","setStrong","setInternalState$5","internalStateGetterFor","find$1","id$1","uncaughtFrozenStore","frozen","UncaughtFrozenStore","findUncaughtFrozen","collectionWeak","es_weakMap","InternalWeakMap","enforceIternalState","IS_IE11","$WeakMap","WeakMapPrototype","nativeDelete","nativeHas","nativeGet","nativeSet","$every","STRICT_METHOD$3","USES_TO_LENGTH$7","non","stringTrimForced","$trim","$some","STRICT_METHOD$4","USES_TO_LENGTH$8","thisNumberValue","stringRepeat","nativeToFixed","floor$4","pow$1","FORCED$1","fractionDigits","fractDigits","sign","multiply","c2","divide","dataToString","createMethod$4","TO_ENTRIES","objectToArray","$entries","$values","nativeGetOwnPropertyDescriptor$2","FAILS_ON_PRIMITIVES$1","FORCED$2","_classCallCheck$1","_defineProperties$1","_createClass$1","_defineProperty$1","ownKeys$2","_objectSpread2$1","nativeMatch","matcher","matchStr","addCSS","thumbWidth","instanceOf","isNullOrUndefined","isObject$1","isBoolean","isArray$1","isNodeList","isElement","Element","isEvent","isEmpty","nullOrUndefined","boolean","nodeList","getDecimalPlaces","RangeTouch","rangeTouch","userSelect","webKitUserSelect","touchAction","changedTouches","MutationObserver","addedNodes","childList","subtree","nativePromiseConstructor","SPECIES$5","setSpecies","engineIsIos","set$1","setImmediate","clearImmediate","process$1","MessageChannel","Dispatch","queue","ONREADYSTATECHANGE","defer","channel","run","runner","post","postMessage","port2","port1","onmessage","importScripts","getOwnPropertyDescriptor$3","macrotask","MutationObserver$1","WebKitMutationObserver","process$2","Promise$1","IS_NODE","queueMicrotaskDescriptor","queueMicrotask","exit","enter","characterData","microtask","PromiseCapability","$$resolve","$$reject","f$7","newPromiseCapability","promiseResolve","promiseCapability","hostReportErrors","perform","task$1","SPECIES$6","PROMISE","getInternalState$3","setInternalState$6","getInternalPromiseState","PromiseConstructor","TypeError$1","document$2","process$3","$fetch$1","newPromiseCapability$1","newGenericPromiseCapability","IS_NODE$1","DISPATCH_EVENT","UNHANDLED_REJECTION","REJECTION_HANDLED","PENDING","FULFILLED","REJECTED","HANDLED","UNHANDLED","Internal","OwnPromiseCapability","PromiseWrapper","nativeThen","FORCED$3","PromiseRejectionEvent","FakePromise","INCORRECT_ITERATION$1","isThenable","notify$1","isReject","notified","chain","reactions","exited","reaction","rejection","onHandleUnhandled","onUnhandled","isUnhandled","unwrap","internalReject","internalResolve","executor","onFulfilled","onRejected","capability","$promiseResolve","alreadyCalled","race","getOwnPropertyDescriptor$4","nativeStartsWith","min$4","CORRECT_IS_REGEXP_LOGIC","MDN_POLYFILL_BUG","getConstructor$1","instanceOf$1","isNullOrUndefined$1","isObject$2","isNumber$1","isString$1","isBoolean$1","isFunction$1","isArray$2","isWeakMap","isNodeList$1","isElement$1","isTextNode","isEvent$1","isKeyboardEvent","KeyboardEvent","isCue","TextTrackCue","VTTCue","isTrack","TextTrack","isPromise","isEmpty$1","isUrl","is$1","weakMap","textNode","keyboardEvent","cue","transitionEndEvent","WebkitTransition","MozTransition","OTransition","repaint","browser","isIE","documentMode","isEdge","isWebkit","isIPhone","isIos","createMethod$5","IS_RIGHT","arrayReduce","$reduce","STRICT_METHOD$5","USES_TO_LENGTH$9","cloneDeep","getDeep","_len","sources","wrap$1","targets","sibling","setAttributes","_ref","_ref3","_ref4","insertElement","removeElement","emptyElement","lastChild","replaceElement","newChild","oldChild","getAttributesFromSelector","existingAttributes","existing","toggleHidden","matches$1","mozMatchesSelector","getElements","getElement","setFocus","tabFocus","preventScroll","classNames","defaultCodecs","audio/ogg","audio/wav","video/webm","video/mp4","video/ogg","support","provider","playsinline","canPlayInline","api","rangeInput","pip","webkitSetPresentationMode","pictureInPictureEnabled","disablePictureInPicture","airplay","WebKitPlaybackTargetAvailabilityEvent","mime","mediaType","isHTML5","media","canPlayType","textTracks","reducedMotion","matchMedia","supportsPassiveListeners","supported","toggleListener","eventListeners","onceCallback","triggerEvent","unbindListeners","silencePromise","validateRatio","reduceAspectRatio","ratio","_ratio","getDivider","getAspectRatio","embed","_this$media","setAspectRatio","isVideo","_ref2","paddingBottom","isVimeo","vimeo","premium","videoFixedRatio","html5","getSources","getQualityOptions","quality","player","onChange","_player$media","currentTime","paused","preload","playbackRate","cancelRequests","blankVideo","dedupe","closest$1","defineProperty$6","getOwnPropertyNames$1","setInternalState$7","MATCH$2","NativeRegExp","RegExpPrototype$1","CORRECT_NEW","UNSUPPORTED_Y$2","FORCED$4","RegExpWrapper","thisIsRegExp","patternIsRegExp","flagsAreUndefined","proxy","keys$2","generateId","getPercentage","toTitleCase","toPascalCase","toCamelCase","stripHTML","getHTML","resources","youtube","i18n","{seektime}","seekTime","{title}","Storage","storage","json","loadSprite","hasId","insertAdjacentElement","useStorage","cached","ceil$1","floor$5","trunc","getHours","getSeconds","formatTime","displayHours","inverted","mins","secs","controls","getIconUrl","cors","iconUrl","svg4everybody","findElements","selectors","restart","fastForward","captions","fullscreen","seek","seekTooltip","toggleNativeControls","createIcon","iconPath","iconPrefix","aria-hidden","use","setAttributeNS","createLabel","createBadge","badge","createButton","buttonType","labelPressed","iconPressed","control","autocomplete","aria-label","aria-valuemin","aria-valuemax","aria-valuenow","updateRangeFill","createProgress","suffixKey","played","suffix","createTime","bindMenuItemShortcuts","menuItem","isRadioButton","showMenuPanel","focusFirstMenuItem","createMenuItem","_ref$badge","_ref$checked","aria-checked","flex","currentTrack","updateTimeDisplay","updateVolume","setRange","muted","pressed","updateProgress","_this4","setProgress","buffered","setProperty","updateSeekTooltip","_this5","tooltips","visible","clientRect","timeUpdate","invertTime","seeking","durationUpdate","hasDuration","displayDuration","toggleMenuButton","setting","updateSetting","pane","panels","getLabel","setQualityMenu","_this6","checkMenu","getBadge","sorting","setCaptionsMenu","_this7","tracks","toggled","setSpeedMenu","_this8","minimumSpeed","maximumSpeed","popup","firstItem","toggleMenu","isMenuItem","getMenuSize","tab","_this9","restore","propertyName","setDownloadUrl","_this10","defaultAttributes","progressContainer","aria-haspopup","aria-controls","aria-expanded","inner","backButton","_attributes","urls","isEmbed","inject","_this11","seektime","addProperty","controlPressed","_this$config","parseUrl","parser","buildUrlParams","isYouTube","userLanguage","trackEvents","_this$captions","currentTrackNode","languageExists","updateCues","setLanguage","activeClass","findTrack","enableTextTrack","sortIsDefault","getCurrentTrack","cues","activeCues","getCueAsHTML","cueText","caption","defaults$1","autoplay","autopause","toggleInvert","clickToPlay","disableContextMenu","iosNative","seekLabel","unmute","enableCaptions","disableCaptions","enterFullscreen","exitFullscreen","frameTitle","menuBack","normal","advertisement","qualityBadge","2160","1440","1080","720","576","480","sdk","googleIMA","embedContainer","poster","posterEnabled","ads","playing","isTouch","uiSupported","noTransition","previewThumbnails","thumbContainer","thumbContainerShown","imageContainer","timeContainer","scrubbingContainer","scrubbingContainerShown","publisherId","tagUrl","byline","portrait","transparent","referrerPolicy","noCookie","rel","showinfo","iv_load_policy","modestbranding","inactive","providers","getProviderByUrl","noop","Console","Fullscreen","scrollPosition","trapFocus","scrollX","scrollY","viewport","hasProperty","cleanupViewport","webkitEnterFullscreen","toggleFallback","requestFullscreen","navigationUI","webkitExitFullscreen","cancelFullScreen","fullscreenElement","getRootNode","fullscreenEnabled","webkitFullscreenEnabled","mozFullScreenEnabled","msFullscreenEnabled","mathSign","loadImage","addStyleHook","checkPlaying","setTitle","setPoster","togglePoster","enable","backgroundImage","backgroundSize","toggleControls","checkLoading","timers","controlsElement","recentTouchSeek","lastSeekTime","migrateStyles","removeProperty","Listeners","lastKey","focusTimer","lastKeyDown","handleKey","setTabFocus","firstTouch","togglePlay","increaseVolume","decreaseVolume","toggleCaptions","usingNative","timeStamp","wasKeyDown","setPlayerSize","measure","resized","_player$fullscreen","isEnter","_setPlayerSize","_getAspectRatio$call2","videoX","videoY","maxWidth","margin","setGutter","isAudio","ended","proxyEvents","_event$detail","defaultHandler","customHandlerKey","customHandler","returned","hasCustomHandler","inputEvent","seekTo","startMove","endMove","startScrubbing","endScrubbing","webkitDirectionInvertedFromDevice","_map2","deltaX","deltaY","HAS_SPECIES_SUPPORT$3","USES_TO_LENGTH$a","max$3","min$5","MAX_SAFE_INTEGER$1","MAXIMUM_ALLOWED_LENGTH_EXCEEDED","deleteCount","insertCount","actualDeleteCount","actualStart","loadjs_umd","devnull","bundleIdCache","bundleResultCache","bundleCallbackQueue","bundleId","pathsNotFound","executeCallbacks","depsNotFound","loadFile","callbackFn","numTries","isLegacyIECss","maxTries","numRetries","beforeCallbackFn","pathStripped","relList","as","onbeforeload","loadjs","arg1","loadFn","numWaiting","loadFiles","returnPromise","deps","bundleIds","isDefined","loadScript","parseId","assurePlaybackState","hasPlayed","Vimeo","frameParams","sidedock","gesture","data-poster","thumbnail_large","Player","disableTextTrack","restorePause","setVolume","setCurrentTime","setPlaybackRate","currentSrc","setLoop","getVideoUrl","getVideoWidth","getVideoHeight","dimensions","_dimensions","setAutopause","getVideoTitle","getCurrentTime","getDuration","getTextTracks","_ref$cues","strippedCues","getPaused","parseId$1","assurePlaybackState$1","getHost$1","YT","onYouTubeIframeAPIReady","getTitle","videoId","currentId","posterSrc","playerVars","hl","disablekb","cc_load_policy","cc_lang_pref","widget_referrer","onError","2","5","101","150","onPlaybackRateChange","getPlaybackRate","onReady","playVideo","pauseVideo","stopVideo","speeds","getAvailablePlaybackRates","buffering","getVideoLoadedFraction","lastBuffered","onStateChange","unMute","manager","displayContainer","Ads","initialized","loader","cuePoints","safetyTimer","countdownTimer","managerPromise","ima","startSafetyTimer","clearSafetyTimer","setupIMA","setVpaidMode","ImaSdkSettings","VpaidMode","ENABLED","setDisableCustomPlaybackForIOS10Plus","AdDisplayContainer","AdsLoader","AdsManagerLoadedEvent","Type","ADS_MANAGER_LOADED","onAdsManagerLoaded","AdErrorEvent","AD_ERROR","onAdError","requestAds","AdsRequest","adTagUrl","linearAdSlotWidth","linearAdSlotHeight","nonLinearAdSlotWidth","nonLinearAdSlotHeight","forceNonLinearFullSlot","setAdWillPlayMuted","getRemainingTime","AdsRenderingSettings","restoreCustomPlaybackStateOnAdBreakComplete","enablePreloading","getAdsManager","getCuePoints","AdEvent","onAdEvent","cuePoint","seekElement","cuePercentage","ad","getAd","adData","getAdData","LOADED","pollCountdown","isLinear","STARTED","ALL_ADS_COMPLETED","loadAds","contentComplete","CONTENT_PAUSE_REQUESTED","pauseContent","CONTENT_RESUME_REQUESTED","resumeContent","LOG","adError","getMessage","addCuePoints","seekedTime","discardAdBreak","resize","ViewMode","NORMAL","initialize","zIndex","_this12","_this13","AV_PUBLISHERID","AV_CHANNELID","AV_URL","cb","AV_WIDTH","AV_HEIGHT","AV_CDIM2","$findIndex","FIND_INDEX","SKIPS_HOLES$1","USES_TO_LENGTH$b","min$6","nativeLastIndexOf","NEGATIVE_ZERO$1","STRICT_METHOD$6","USES_TO_LENGTH$c","FORCED$5","arrayLastIndexOf","parseVtt","vttDataString","processedList","frame","startTime","lineSplit","_lineSplit","_lineSplit$1$split2","matchTimes","endTime","fitRatio","PreviewThumbnails","thumbnails","lastMouseMoveTime","loadedImages","thumb","scrubbing","getThumbnails","determineContainerAutoSizing","sortAndResolve","getThumbnail","thumbnail","frames","urlPrefix","tempImage","naturalHeight","mousePosX","showImageAtCurrentTime","toggleThumbContainer","toggleScrubbingContainer","lastTime","setScrubbingContainerSize","setThumbContainerSizeAndPos","thumbNum","hasThumb","qualityIndex","showingThumb","thumbFilename","thumbUrl","currentImageElement","showImage","removeOldImages","loadingImage","usingSprites","previewImage","showingThumbFilename","newImage","setImageSizeAndOffset","currentImageContainer","preloadNearby","getHigherQuality","currentImage","removeDelay","deleting","oldThumbFilename","thumbnailsClone","foundOne","newThumbFilename","thumbURL","currentQualityIndex","previewImageHeight","thumbContainerHeight","clearShowing","sizeSpecifiedInCSS","_thumbWidth","thumbAspectRatio","thumbHeight","setThumbContainerPos","seekbarRect","plyrRect","minVal","maxVal","previewPos","_fitRatio","currentScrubbingImageElement","currentThumbnailImageElement","insertElements","_sources$","_sources$$provider","crossorigin","truthy","webkitShowPlaybackTargetPicker","isHidden","hiding","soft","unload","inputIsValid","fauxDuration","realDuration","mozHasAudio","webkitAudioDecodedByteCount","audioTracks","updateStorage","requestPictureInPicture","exitPictureInPicture","webkitPresentationMode","pictureInPictureElement","barcode","scan_barcode","plugins","barcodeScanner","scan","cancelled","get_barcode","Scanner","is_alive","multiple","$scan_area","scan_area_id","start_scan","Html5Qrcode","fps","qrbox","decodedText","decodedResult","on_scan","stop_scan","hide_dialog","errorMessage"],"mappings":"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"}